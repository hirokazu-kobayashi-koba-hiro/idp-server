"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[77738],{14917:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"content_11_learning/java/java-03-generics","title":"Java \u30b8\u30a7\u30cd\u30ea\u30af\u30b9","description":"\u578b\u5b89\u5168\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u305f\u3081\u306e\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3092\u5b66\u3073\u307e\u3059\u3002","source":"@site/docs/content_11_learning/25-java/java-03-generics.md","sourceDirName":"content_11_learning/25-java","slug":"/content_11_learning/java/java-03-generics","permalink":"/idp-server/docs/content_11_learning/java/java-03-generics","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/25-java/java-03-generics.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Java \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411","permalink":"/idp-server/docs/content_11_learning/java/java-02-oop"},"next":{"title":"Java \u30b3\u30ec\u30af\u30b7\u30e7\u30f3","permalink":"/idp-server/docs/content_11_learning/java/java-04-collections"}}');var i=r(74848),t=r(28453);const l={},a="Java \u30b8\u30a7\u30cd\u30ea\u30af\u30b9",d={},c=[{value:"\u306a\u305c\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u304c\u5fc5\u8981\u304b",id:"\u306a\u305c\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u304c\u5fc5\u8981\u304b",level:2},{value:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u306a\u3057\u306e\u554f\u984c",id:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u306a\u3057\u306e\u554f\u984c",level:3},{value:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3042\u308a\u306e\u89e3\u6c7a",id:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3042\u308a\u306e\u89e3\u6c7a",level:3},{value:"\u57fa\u672c\u69cb\u6587",id:"\u57fa\u672c\u69cb\u6587",level:2},{value:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30af\u30e9\u30b9",id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30af\u30e9\u30b9",level:3},{value:"\u8907\u6570\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf",id:"\u8907\u6570\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf",level:3},{value:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30e1\u30bd\u30c3\u30c9",id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30e1\u30bd\u30c3\u30c9",level:3},{value:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9",id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9",level:3},{value:"\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u547d\u540d\u898f\u5247",id:"\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u547d\u540d\u898f\u5247",level:2},{value:"\u5883\u754c\uff08Bounds\uff09",id:"\u5883\u754cbounds",level:2},{value:"\u4e0a\u9650\u5883\u754c\uff08extends\uff09",id:"\u4e0a\u9650\u5883\u754cextends",level:3},{value:"\u30e1\u30bd\u30c3\u30c9\u3067\u306e\u5883\u754c",id:"\u30e1\u30bd\u30c3\u30c9\u3067\u306e\u5883\u754c",level:3},{value:"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9",id:"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9",level:2},{value:"\u975e\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\uff08?\uff09",id:"\u975e\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9",level:3},{value:"\u4e0a\u9650\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\uff08? extends T\uff09",id:"\u4e0a\u9650\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9-extends-t",level:3},{value:"\u4e0b\u9650\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\uff08? super T\uff09",id:"\u4e0b\u9650\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9-super-t",level:3},{value:"PECS\u539f\u5247",id:"pecs\u539f\u5247",level:3},{value:"\u578b\u6d88\u53bb\uff08Type Erasure\uff09",id:"\u578b\u6d88\u53bbtype-erasure",level:2},{value:"\u578b\u6d88\u53bb\u3068\u306f",id:"\u578b\u6d88\u53bb\u3068\u306f",level:3},{value:"\u578b\u6d88\u53bb\u306e\u5f71\u97ff",id:"\u578b\u6d88\u53bb\u306e\u5f71\u97ff",level:3},{value:"\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3067\u306e\u578b\u60c5\u5831\u53d6\u5f97",id:"\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3067\u306e\u578b\u60c5\u5831\u53d6\u5f97",level:3},{value:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3",id:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30d5\u30a1\u30af\u30c8\u30ea",id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30d5\u30a1\u30af\u30c8\u30ea",level:3},{value:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306aResult\u578b",id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306aresult\u578b",level:3},{value:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306aBuilder",id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306abuilder",level:3},{value:"\u578b\u30c8\u30fc\u30af\u30f3",id:"\u578b\u30c8\u30fc\u30af\u30f3",level:3},{value:"\u3088\u304f\u3042\u308b\u9593\u9055\u3044",id:"\u3088\u304f\u3042\u308b\u9593\u9055\u3044",level:2},{value:"\u9593\u9055\u30441: raw\u578b\u306e\u4f7f\u7528",id:"\u9593\u9055\u30441-raw\u578b\u306e\u4f7f\u7528",level:3},{value:"\u9593\u9055\u30442: Object \u3068\u306e\u6df7\u540c",id:"\u9593\u9055\u30442-object-\u3068\u306e\u6df7\u540c",level:3},{value:"\u9593\u9055\u30443: \u7d99\u627f\u95a2\u4fc2\u306e\u8aa4\u89e3",id:"\u9593\u9055\u30443-\u7d99\u627f\u95a2\u4fc2\u306e\u8aa4\u89e3",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"java-\u30b8\u30a7\u30cd\u30ea\u30af\u30b9",children:"Java \u30b8\u30a7\u30cd\u30ea\u30af\u30b9"})}),"\n",(0,i.jsx)(n.p,{children:"\u578b\u5b89\u5168\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u305f\u3081\u306e\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3092\u5b66\u3073\u307e\u3059\u3002"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u306a\u305c\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u304c\u5fc5\u8981\u304b",children:"\u306a\u305c\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u304c\u5fc5\u8981\u304b"}),"\n",(0,i.jsx)(n.h3,{id:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u306a\u3057\u306e\u554f\u984c",children:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u306a\u3057\u306e\u554f\u984c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// \u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3092\u4f7f\u308f\u306a\u3044\u5834\u5408\nList list = new ArrayList();\nlist.add("hello");\nlist.add(123);  // \u7570\u306a\u308b\u578b\u3082\u5165\u308c\u3089\u308c\u3066\u3057\u307e\u3046\n\n// \u53d6\u308a\u51fa\u3059\u3068\u304d\u306b\u30ad\u30e3\u30b9\u30c8\u304c\u5fc5\u8981\nString s = (String) list.get(0);  // OK\nString s2 = (String) list.get(1); // ClassCastException! \uff08\u5b9f\u884c\u6642\u30a8\u30e9\u30fc\uff09\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3042\u308a\u306e\u89e3\u6c7a",children:"\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3042\u308a\u306e\u89e3\u6c7a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// \u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3092\u4f7f\u3046\u5834\u5408\nList<String> list = new ArrayList<>();\nlist.add("hello");\n// list.add(123);  // \u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\uff01\uff08\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u691c\u51fa\uff09\n\n// \u30ad\u30e3\u30b9\u30c8\u4e0d\u8981\nString s = list.get(0);  // \u578b\u5b89\u5168\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u57fa\u672c\u69cb\u6587",children:"\u57fa\u672c\u69cb\u6587"}),"\n",(0,i.jsx)(n.h3,{id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30af\u30e9\u30b9",children:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30af\u30e9\u30b9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// \u578b\u30d1\u30e9\u30e1\u30fc\u30bf T \u3092\u6301\u3064\u30af\u30e9\u30b9\npublic class Box<T> {\n    private T content;\n\n    public void set(T content) {\n        this.content = content;\n    }\n\n    public T get() {\n        return content;\n    }\n}\n\n// \u4f7f\u7528\nBox<String> stringBox = new Box<>();\nstringBox.set("Hello");\nString value = stringBox.get();\n\nBox<Integer> intBox = new Box<>();\nintBox.set(42);\nInteger number = intBox.get();\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u8907\u6570\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf",children:"\u8907\u6570\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public class Pair<K, V> {\n    private final K key;\n    private final V value;\n\n    public Pair(K key, V value) {\n        this.key = key;\n        this.value = value;\n    }\n\n    public K getKey() { return key; }\n    public V getValue() { return value; }\n}\n\n// \u4f7f\u7528\nPair<String, Integer> pair = new Pair<>("age", 25);\nString key = pair.getKey();     // "age"\nInteger value = pair.getValue(); // 25\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30e1\u30bd\u30c3\u30c9",children:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30e1\u30bd\u30c3\u30c9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public class Utils {\n    // \u30e1\u30bd\u30c3\u30c9\u30ec\u30d9\u30eb\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\n    public static <T> T firstOrNull(List<T> list) {\n        return list.isEmpty() ? null : list.get(0);\n    }\n\n    // \u8907\u6570\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\n    public static <K, V> Map<K, V> singletonMap(K key, V value) {\n        Map<K, V> map = new HashMap<>();\n        map.put(key, value);\n        return map;\n    }\n}\n\n// \u4f7f\u7528\uff08\u578b\u306f\u63a8\u8ad6\u3055\u308c\u308b\uff09\nString first = Utils.firstOrNull(List.of("a", "b", "c"));\nMap<String, Integer> map = Utils.singletonMap("count", 10);\n\n// \u660e\u793a\u7684\u306b\u578b\u3092\u6307\u5b9a\nString first2 = Utils.<String>firstOrNull(List.of("a", "b"));\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9",children:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public interface Repository<T, ID> {\n    T findById(ID id);\n    List<T> findAll();\n    T save(T entity);\n    void delete(T entity);\n}\n\n// \u5b9f\u88c5\npublic class UserRepository implements Repository<User, String> {\n    @Override\n    public User findById(String id) {\n        // ...\n    }\n\n    @Override\n    public List<User> findAll() {\n        // ...\n    }\n\n    @Override\n    public User save(User entity) {\n        // ...\n    }\n\n    @Override\n    public void delete(User entity) {\n        // ...\n    }\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u547d\u540d\u898f\u5247",children:"\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u547d\u540d\u898f\u5247"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u540d\u524d"}),(0,i.jsx)(n.th,{children:"\u610f\u5473"}),(0,i.jsx)(n.th,{children:"\u4f8b"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"T"}),(0,i.jsx)(n.td,{children:"Type\uff08\u4e00\u822c\u7684\u306a\u578b\uff09"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Box<T>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"E"}),(0,i.jsx)(n.td,{children:"Element\uff08\u8981\u7d20\uff09"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"List<E>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"K"}),(0,i.jsx)(n.td,{children:"Key\uff08\u30ad\u30fc\uff09"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Map<K, V>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"V"}),(0,i.jsx)(n.td,{children:"Value\uff08\u5024\uff09"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Map<K, V>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"N"}),(0,i.jsx)(n.td,{children:"Number\uff08\u6570\u5024\uff09"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Calculator<N>"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"R"}),(0,i.jsx)(n.td,{children:"Result\uff08\u7d50\u679c\uff09"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Function<T, R>"})})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u5883\u754cbounds",children:"\u5883\u754c\uff08Bounds\uff09"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e0a\u9650\u5883\u754cextends",children:"\u4e0a\u9650\u5883\u754c\uff08extends\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// T \u306f Number \u307e\u305f\u306f\u305d\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u306e\u307f\npublic class NumberBox<T extends Number> {\n    private T value;\n\n    public double doubleValue() {\n        return value.doubleValue();  // Number\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u4f7f\u3048\u308b\n    }\n}\n\n// \u4f7f\u7528\nNumberBox<Integer> intBox = new NumberBox<>();\nNumberBox<Double> doubleBox = new NumberBox<>();\n// NumberBox<String> stringBox = new NumberBox<>();  // \u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\n\n// \u8907\u6570\u306e\u5883\u754c\npublic class Example<T extends Comparable<T> & Serializable> {\n    // T\u306fComparable\u304b\u3064Serializable\u3092\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u30e1\u30bd\u30c3\u30c9\u3067\u306e\u5883\u754c",children:"\u30e1\u30bd\u30c3\u30c9\u3067\u306e\u5883\u754c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Number\u4ee5\u4e0b\u306e\u578b\u306e\u30ea\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u308b\npublic static <T extends Number> double sum(List<T> numbers) {\n    double total = 0;\n    for (T number : numbers) {\n        total += number.doubleValue();\n    }\n    return total;\n}\n\n// \u4f7f\u7528\nsum(List.of(1, 2, 3));           // Integer\nsum(List.of(1.5, 2.5, 3.5));     // Double\nsum(List.of(1L, 2L, 3L));        // Long\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9",children:"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9"}),"\n",(0,i.jsx)(n.h3,{id:"\u975e\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9",children:"\u975e\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\uff08?\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// \u4efb\u610f\u306e\u578b\u306eList\u3092\u53d7\u3051\u53d6\u308b\uff08\u8aad\u307f\u53d6\u308a\u5c02\u7528\uff09\npublic static void printList(List<?> list) {\n    for (Object item : list) {\n        System.out.println(item);\n    }\n}\n\n// \u4f7f\u7528\nprintList(List.of("a", "b", "c"));\nprintList(List.of(1, 2, 3));\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u4e0a\u9650\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9-extends-t",children:"\u4e0a\u9650\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\uff08? extends T\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Number\u307e\u305f\u306f\u305d\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u306e\u30ea\u30b9\u30c8\uff08\u8aad\u307f\u53d6\u308a\u5c02\u7528\uff09\npublic static double sum(List<? extends Number> numbers) {\n    double total = 0;\n    for (Number n : numbers) {\n        total += n.doubleValue();\n    }\n    return total;\n}\n\n// \u4f7f\u7528\nsum(List.of(1, 2, 3));           // List<Integer>\nsum(List.of(1.5, 2.5));          // List<Double>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u4e0b\u9650\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9-super-t",children:"\u4e0b\u9650\u5883\u754c\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\uff08? super T\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Integer\u307e\u305f\u306f\u305d\u306e\u89aa\u30af\u30e9\u30b9\u306e\u30ea\u30b9\u30c8\uff08\u66f8\u304d\u8fbc\u307f\u53ef\u80fd\uff09\npublic static void addNumbers(List<? super Integer> list) {\n    list.add(1);\n    list.add(2);\n    list.add(3);\n}\n\n// \u4f7f\u7528\nList<Integer> intList = new ArrayList<>();\nList<Number> numList = new ArrayList<>();\nList<Object> objList = new ArrayList<>();\n\naddNumbers(intList);  // OK\naddNumbers(numList);  // OK\naddNumbers(objList);  // OK\n"})}),"\n",(0,i.jsx)(n.h3,{id:"pecs\u539f\u5247",children:"PECS\u539f\u5247"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Producer Extends, Consumer Super"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Producer\uff08\u5024\u3092\u751f\u7523\u3059\u308b\uff09\u2192 extends\npublic static <T> void copy(\n    List<? extends T> source,  // source\u304b\u3089\u8aad\u307f\u53d6\u308b\uff08Producer\uff09\n    List<? super T> dest       // dest\u306b\u66f8\u304d\u8fbc\u3080\uff08Consumer\uff09\n) {\n    for (T item : source) {\n        dest.add(item);\n    }\n}\n\n// \u4f7f\u7528\nList<Integer> integers = List.of(1, 2, 3);\nList<Number> numbers = new ArrayList<>();\ncopy(integers, numbers);  // Integer \u2192 Number\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u578b\u6d88\u53bbtype-erasure",children:"\u578b\u6d88\u53bb\uff08Type Erasure\uff09"}),"\n",(0,i.jsx)(n.h3,{id:"\u578b\u6d88\u53bb\u3068\u306f",children:"\u578b\u6d88\u53bb\u3068\u306f"}),"\n",(0,i.jsx)(n.p,{children:"\u30b3\u30f3\u30d1\u30a4\u30eb\u5f8c\u3001\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u306e\u578b\u60c5\u5831\u306f\u6d88\u3048\u308b\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// \u30b3\u30f3\u30d1\u30a4\u30eb\u524d\npublic class Box<T> {\n    private T value;\n    public T get() { return value; }\n}\n\n// \u30b3\u30f3\u30d1\u30a4\u30eb\u5f8c\uff08\u30a4\u30e1\u30fc\u30b8\uff09\npublic class Box {\n    private Object value;\n    public Object get() { return value; }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u578b\u6d88\u53bb\u306e\u5f71\u97ff",children:"\u578b\u6d88\u53bb\u306e\u5f71\u97ff"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// \u5b9f\u884c\u6642\u306b\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u5206\u304b\u3089\u306a\u3044\nList<String> strings = new ArrayList<>();\nList<Integer> integers = new ArrayList<>();\n\n// \u4e21\u65b9\u3068\u3082\u540c\u3058\u30af\u30e9\u30b9\nstrings.getClass() == integers.getClass()  // true\n\n// instanceof \u3067\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u4f7f\u3048\u306a\u3044\n// if (list instanceof List<String>) { }  // \u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\n\n// \u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u914d\u5217\u306f\u4f5c\u308c\u306a\u3044\n// T[] array = new T[10];  // \u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3067\u306e\u578b\u60c5\u5831\u53d6\u5f97",children:"\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3067\u306e\u578b\u60c5\u5831\u53d6\u5f97"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// \u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u60c5\u5831\u306f\u4fdd\u6301\u3055\u308c\u308b\npublic class Example {\n    private List<String> strings;\n}\n\n// \u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3067\u53d6\u5f97\u53ef\u80fd\nField field = Example.class.getDeclaredField("strings");\nParameterizedType type = (ParameterizedType) field.getGenericType();\nType[] typeArgs = type.getActualTypeArguments();\n// typeArgs[0] \u306f String.class\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3",children:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,i.jsx)(n.h3,{id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30d5\u30a1\u30af\u30c8\u30ea",children:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u30d5\u30a1\u30af\u30c8\u30ea"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public interface Factory<T> {\n    T create();\n}\n\npublic class UserFactory implements Factory<User> {\n    @Override\n    public User create() {\n        return new User();\n    }\n}\n\n// \u4f7f\u7528\nFactory<User> factory = new UserFactory();\nUser user = factory.create();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306aresult\u578b",children:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306aResult\u578b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public sealed interface Result<T> {\n    record Success<T>(T value) implements Result<T> {}\n    record Failure<T>(String error) implements Result<T> {}\n\n    default T getOrThrow() {\n        return switch (this) {\n            case Success<T> s -> s.value();\n            case Failure<T> f -> throw new RuntimeException(f.error());\n        };\n    }\n\n    default T getOrElse(T defaultValue) {\n        return switch (this) {\n            case Success<T> s -> s.value();\n            case Failure<T> f -> defaultValue;\n        };\n    }\n\n    static <T> Result<T> success(T value) {\n        return new Success<>(value);\n    }\n\n    static <T> Result<T> failure(String error) {\n        return new Failure<>(error);\n    }\n}\n\n// \u4f7f\u7528\nResult<User> result = userService.findById(id);\nUser user = result.getOrThrow();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306abuilder",children:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306aBuilder"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public abstract class Builder<T, B extends Builder<T, B>> {\n    @SuppressWarnings("unchecked")\n    protected B self() {\n        return (B) this;\n    }\n\n    public abstract T build();\n}\n\npublic class UserBuilder extends Builder<User, UserBuilder> {\n    private String name;\n    private int age;\n\n    public UserBuilder name(String name) {\n        this.name = name;\n        return self();\n    }\n\n    public UserBuilder age(int age) {\n        this.age = age;\n        return self();\n    }\n\n    @Override\n    public User build() {\n        return new User(name, age);\n    }\n}\n\n// \u4f7f\u7528\nUser user = new UserBuilder()\n    .name("Alice")\n    .age(25)\n    .build();\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u578b\u30c8\u30fc\u30af\u30f3",children:"\u578b\u30c8\u30fc\u30af\u30f3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// \u578b\u60c5\u5831\u3092\u4fdd\u6301\u3059\u308b\u305f\u3081\u306e\u30d1\u30bf\u30fc\u30f3\npublic class TypeReference<T> {\n    private final Type type;\n\n    protected TypeReference() {\n        Type superClass = getClass().getGenericSuperclass();\n        this.type = ((ParameterizedType) superClass).getActualTypeArguments()[0];\n    }\n\n    public Type getType() {\n        return type;\n    }\n}\n\n// \u4f7f\u7528\uff08\u533f\u540d\u30af\u30e9\u30b9\u3067\u5177\u4f53\u7684\u306a\u578b\u3092\u6e21\u3059\uff09\nTypeReference<List<String>> ref = new TypeReference<>() {};\nType type = ref.getType();  // List<String> \u306e\u578b\u60c5\u5831\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u3088\u304f\u3042\u308b\u9593\u9055\u3044",children:"\u3088\u304f\u3042\u308b\u9593\u9055\u3044"}),"\n",(0,i.jsx)(n.h3,{id:"\u9593\u9055\u30441-raw\u578b\u306e\u4f7f\u7528",children:"\u9593\u9055\u30441: raw\u578b\u306e\u4f7f\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// NG: raw\u578b\uff08\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u3092\u4f7f\u308f\u306a\u3044\uff09\nList list = new ArrayList();  // \u8b66\u544a\u304c\u51fa\u308b\n\n// OK: \u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\nList<String> list = new ArrayList<>();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u9593\u9055\u30442-object-\u3068\u306e\u6df7\u540c",children:"\u9593\u9055\u30442: Object \u3068\u306e\u6df7\u540c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// List<Object> \u3068 List<?> \u306f\u7570\u306a\u308b\nList<Object> objectList = new ArrayList<>();\nobjectList.add("string");  // OK\nobjectList.add(123);       // OK\n\nList<?> wildcardList = new ArrayList<String>();\n// wildcardList.add("string");  // \u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\uff08null\u306e\u307f\u8ffd\u52a0\u53ef\u80fd\uff09\nObject item = wildcardList.get(0);  // \u8aad\u307f\u53d6\u308a\u306fOK\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u9593\u9055\u30443-\u7d99\u627f\u95a2\u4fc2\u306e\u8aa4\u89e3",children:"\u9593\u9055\u30443: \u7d99\u627f\u95a2\u4fc2\u306e\u8aa4\u89e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Integer \u306f Number \u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3060\u304c\n// List<Integer> \u306f List<Number> \u306e\u30b5\u30d6\u30bf\u30a4\u30d7\u3067\u306f\u306a\u3044\n\nList<Number> numbers = new ArrayList<>();\n// List<Number> numbers = new ArrayList<Integer>();  // \u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\n\n// \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3092\u4f7f\u3046\nList<? extends Number> numbers2 = new ArrayList<Integer>();  // OK\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u6982\u5ff5"}),(0,i.jsx)(n.th,{children:"\u69cb\u6587"}),(0,i.jsx)(n.th,{children:"\u7528\u9014"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30af\u30e9\u30b9"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"class Box<T>"})}),(0,i.jsx)(n.td,{children:"\u578b\u5b89\u5168\u306a\u30b3\u30f3\u30c6\u30ca"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30e1\u30bd\u30c3\u30c9"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<T> T method(T arg)"})}),(0,i.jsx)(n.td,{children:"\u578b\u306b\u4f9d\u5b58\u3057\u306a\u3044\u51e6\u7406"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u4e0a\u9650\u5883\u754c"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<T extends Number>"})}),(0,i.jsx)(n.td,{children:"\u7279\u5b9a\u306e\u578b\u4ee5\u4e0b\u306b\u5236\u9650"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u4e0b\u9650\u5883\u754c"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<? super Integer>"})}),(0,i.jsx)(n.td,{children:"\u7279\u5b9a\u306e\u578b\u4ee5\u4e0a\u3092\u53d7\u3051\u5165\u308c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<?>"})}),(0,i.jsx)(n.td,{children:"\u4efb\u610f\u306e\u578b"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PECS"}),(0,i.jsx)(n.td,{children:"extends=\u8aad\u307f\u53d6\u308a\u3001super=\u66f8\u304d\u8fbc\u307f"}),(0,i.jsx)(n.td,{children:"\u67d4\u8edf\u306aAPI\u8a2d\u8a08"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/idp-server/docs/content_11_learning/java/java-04-collections",children:"\u30b3\u30ec\u30af\u30b7\u30e7\u30f3"})," - List\u3001Set\u3001Map"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>a});var s=r(96540);const i={},t=s.createContext(i);function l(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);