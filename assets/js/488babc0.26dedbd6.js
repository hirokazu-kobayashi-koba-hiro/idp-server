"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[65517],{22921:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>x,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"content_06_developer-guide/control-plane/organization-level-api","title":"\u7d44\u7e54\u30ec\u30d9\u30ebAPI\u5b9f\u88c5\u30ac\u30a4\u30c9","description":"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684","source":"@site/docs/content_06_developer-guide/02-control-plane/04-organization-level-api.md","sourceDirName":"content_06_developer-guide/02-control-plane","slug":"/content_06_developer-guide/control-plane/organization-level-api","permalink":"/idp-server/docs/content_06_developer-guide/control-plane/organization-level-api","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_06_developer-guide/02-control-plane/04-organization-level-api.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"docs","previous":{"title":"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30ebAPI\u5b9f\u88c5\u30ac\u30a4\u30c9","permalink":"/idp-server/docs/content_06_developer-guide/control-plane/system-level-api"},"next":{"title":"Application Plane - OAuth/OIDC\u8a8d\u8a3c\u30d5\u30ed\u30fc\u6982\u8981","permalink":"/idp-server/docs/content_06_developer-guide/application-plane/overview"}}');var s=i(74848),l=i(28453);const t={},a="\u7d44\u7e54\u30ec\u30d9\u30ebAPI\u5b9f\u88c5\u30ac\u30a4\u30c9",d={},c=[{value:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",level:2},{value:"\u6240\u8981\u6642\u9593",id:"\u6240\u8981\u6642\u9593",level:3},{value:"\u524d\u63d0\u77e5\u8b58",id:"\u524d\u63d0\u77e5\u8b58",level:3},{value:"\u7d44\u7e54\u30ec\u30d9\u30ebAPI\u3068\u306f",id:"\u7d44\u7e54\u30ec\u30d9\u30ebapi\u3068\u306f",level:2},{value:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u9055\u3044",id:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u9055\u3044",level:3},{value:"\u7d44\u7e54\u30ec\u30d9\u30ebAPI\u306e4\u30b9\u30c6\u30c3\u30d7\u30a2\u30af\u30bb\u30b9\u5236\u5fa1",id:"\u7d44\u7e54\u30ec\u30d9\u30ebapi\u306e4\u30b9\u30c6\u30c3\u30d7\u30a2\u30af\u30bb\u30b9\u5236\u5fa1",level:2},{value:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u5dee\u5206",id:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u5dee\u5206",level:2},{value:"\u518d\u5229\u7528\u3055\u308c\u308b\u90e8\u5206\uff08\u4e8c\u91cd\u958b\u767a\u4e0d\u8981\uff09",id:"\u518d\u5229\u7528\u3055\u308c\u308b\u90e8\u5206\u4e8c\u91cd\u958b\u767a\u4e0d\u8981",level:3},{value:"\u7d44\u7e54\u30ec\u30d9\u30eb\u56fa\u6709\u306e\u5b9f\u88c5\uff08\u65b0\u898f\u4f5c\u6210\u304c\u5fc5\u8981\uff09",id:"\u7d44\u7e54\u30ec\u30d9\u30eb\u56fa\u6709\u306e\u5b9f\u88c5\u65b0\u898f\u4f5c\u6210\u304c\u5fc5\u8981",level:3},{value:"1. OrgXxxManagementHandler\uff08\u6700\u91cd\u8981\uff09",id:"1-orgxxxmanagementhandler\u6700\u91cd\u8981",level:4},{value:"2. OrgXxxManagementApi",id:"2-orgxxxmanagementapi",level:4},{value:"3. OrgXxxManagementEntryService",id:"3-orgxxxmanagemententryservice",level:4},{value:"\u5b9f\u88c5\u624b\u9806\uff08\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u5dee\u5206\u306e\u307f\uff09",id:"\u5b9f\u88c5\u624b\u9806\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u5dee\u5206\u306e\u307f",level:2},{value:"Step 1: OrgXxxManagementHandler\u4f5c\u6210",id:"step-1-orgxxxmanagementhandler\u4f5c\u6210",level:3},{value:"Step 2: OrgXxxManagementApi\u4f5c\u6210",id:"step-2-orgxxxmanagementapi\u4f5c\u6210",level:3},{value:"Step 3: OrgXxxManagementEntryService\u4f5c\u6210",id:"step-3-orgxxxmanagemententryservice\u4f5c\u6210",level:3},{value:"Step 4: Controller\u4f5c\u6210",id:"step-4-controller\u4f5c\u6210",level:3},{value:"Step 5: E2E\u30c6\u30b9\u30c8\u4f5c\u6210",id:"step-5-e2e\u30c6\u30b9\u30c8\u4f5c\u6210",level:3},{value:"\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8",id:"\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8",level:2},{value:"\u2705 \u3084\u308b\u3053\u3068\uff08\u6700\u5c0f\u9650\uff09",id:"-\u3084\u308b\u3053\u3068\u6700\u5c0f\u9650",level:3},{value:"\u274c \u3084\u3089\u306a\u3044\u3053\u3068",id:"-\u3084\u3089\u306a\u3044\u3053\u3068",level:3},{value:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",id:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",level:2},{value:"API\u5951\u7d04\u5b9a\u7fa9\uff08Control Plane\u5c64\uff09",id:"api\u5951\u7d04\u5b9a\u7fa9control-plane\u5c64",level:3},{value:"EntryService\u5b9f\u88c5\uff08UseCase\u5c64\uff09",id:"entryservice\u5b9f\u88c5usecase\u5c64",level:3},{value:"IdpServerApplication\u767b\u9332",id:"idpserverapplication\u767b\u9332",level:3},{value:"Controller\u5b9f\u88c5\uff08Controller\u5c64\uff09",id:"controller\u5b9f\u88c5controller\u5c64",level:3},{value:"E2E\u30c6\u30b9\u30c8",id:"e2e\u30c6\u30b9\u30c8",level:3},{value:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc",id:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc",level:2},{value:"\u30a8\u30e9\u30fc1: OrganizationAccessVerifier\u672a\u4f7f\u7528",id:"\u30a8\u30e9\u30fc1-organizationaccessverifier\u672a\u4f7f\u7528",level:3},{value:"\u30a8\u30e9\u30fc2: AdminPermissions\u4f7f\u7528",id:"\u30a8\u30e9\u30fc2-adminpermissions\u4f7f\u7528",level:3},{value:"\u30a8\u30e9\u30fc3: Audit Log \u306b\u7d44\u7e54\u60c5\u5831\u306a\u3057",id:"\u30a8\u30e9\u30fc3-audit-log-\u306b\u7d44\u7e54\u60c5\u5831\u306a\u3057",level:3},{value:"\u30a8\u30e9\u30fc4: Proxy\u9078\u629e\u30df\u30b9",id:"\u30a8\u30e9\u30fc4-proxy\u9078\u629e\u30df\u30b9",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2},{value:"\ud83d\udcd6 \u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",id:"-\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",level:3},{value:"\ud83d\udd17 \u8a73\u7d30\u60c5\u5831",id:"-\u8a73\u7d30\u60c5\u5831",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u7d44\u7e54\u30ec\u30d9\u30ebapi\u5b9f\u88c5\u30ac\u30a4\u30c9",children:"\u7d44\u7e54\u30ec\u30d9\u30ebAPI\u5b9f\u88c5\u30ac\u30a4\u30c9"})}),"\n",(0,s.jsx)(n.h2,{id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u7d44\u7e54\u30ec\u30d9\u30eb\u7ba1\u7406API"}),"\u3092\u3001\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30ebAPI\u3068\u306e\u9055\u3044\u3092\u7406\u89e3\u3057\u306a\u304c\u3089\u5b9f\u88c5\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3053\u3068\u304c\u76ee\u6a19\u3067\u3059\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u6240\u8981\u6642\u9593",children:"\u6240\u8981\u6642\u9593"}),"\n",(0,s.jsxs)(n.p,{children:["\u23f1\ufe0f ",(0,s.jsx)(n.strong,{children:"\u7d0460\u5206"}),"\uff08\u5b9f\u88c5 + \u30c6\u30b9\u30c8\uff09"]}),"\n",(0,s.jsx)(n.h3,{id:"\u524d\u63d0\u77e5\u8b58",children:"\u524d\u63d0\u77e5\u8b58"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/control-plane/system-level-api",children:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30ebAPI\u5b9f\u88c5\u30ac\u30a4\u30c9"})," - ",(0,s.jsx)(n.strong,{children:"\u5fc5\u8aad"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u7d44\u7e54\u30ec\u30d9\u30ebapi\u3068\u306f",children:"\u7d44\u7e54\u30ec\u30d9\u30ebAPI\u3068\u306f"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u7d44\u7e54\u5358\u4f4d"}),"\u3067\u7ba1\u7406\u3059\u308bAPI\u3002\u7d44\u7e54\u7ba1\u7406\u8005\u304c\u4f7f\u7528\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"GET /v1/management/organizations/{orgId}/tenants/{tenantId}/roles\nPOST /v1/management/organizations/{orgId}/tenants/{tenantId}/roles\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u9055\u3044",children:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u9055\u3044"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u9805\u76ee"}),(0,s.jsx)(n.th,{children:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb"}),(0,s.jsx)(n.th,{children:"\u7d44\u7e54\u30ec\u30d9\u30eb"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\u30b9\u30b3\u30fc\u30d7"})}),(0,s.jsx)(n.td,{children:"\u30c6\u30ca\u30f3\u30c8\u5358\u4f4d"}),(0,s.jsx)(n.td,{children:"\u7d44\u7e54\u5358\u4f4d"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"URL"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/v1/management/tenants/{tenantId}/..."})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/v1/management/organizations/{orgId}/tenants/{tenantId}/..."})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\u6a29\u9650"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"client:read"}),", ",(0,s.jsx)(n.code,{children:"client:write"}),"\u7b49"]}),(0,s.jsx)(n.td,{children:"\u7d44\u7e54\u5c02\u7528\u6a29\u9650"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\u30a2\u30af\u30bb\u30b9\u5236\u5fa1"})}),(0,s.jsx)(n.td,{children:"\u30c6\u30ca\u30f3\u30c8\u30a2\u30af\u30bb\u30b9\u306e\u307f"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"4\u30b9\u30c6\u30c3\u30d7\u30a2\u30af\u30bb\u30b9\u5236\u5fa1"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\u8907\u96d1\u5ea6"})}),(0,s.jsx)(n.td,{children:"\u4f4e"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\u9ad8\uff08\u7d44\u7e54\u95a2\u4fc2\u691c\u8a3c\u304c\u8ffd\u52a0\uff09"})})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u7d44\u7e54\u30ec\u30d9\u30ebapi\u306e4\u30b9\u30c6\u30c3\u30d7\u30a2\u30af\u30bb\u30b9\u5236\u5fa1",children:"\u7d44\u7e54\u30ec\u30d9\u30ebAPI\u306e4\u30b9\u30c6\u30c3\u30d7\u30a2\u30af\u30bb\u30b9\u5236\u5fa1"}),"\n",(0,s.jsxs)(n.p,{children:["\u7d44\u7e54\u30ec\u30d9\u30ebAPI\u306f\u3001",(0,s.jsx)(n.strong,{children:"\u3088\u308a\u53b3\u683c\u306a\u30a2\u30af\u30bb\u30b9\u5236\u5fa1"}),"\u304c\u5fc5\u8981\u3067\u3059\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"1. \u7d44\u7e54\u30e1\u30f3\u30d0\u30fc\u30b7\u30c3\u30d7\u691c\u8a3c\n   \u2193\n2. \u30c6\u30ca\u30f3\u30c8\u30a2\u30af\u30bb\u30b9\u691c\u8a3c\n   \u2193\n3. \u7d44\u7e54-\u30c6\u30ca\u30f3\u30c8\u95a2\u4fc2\u691c\u8a3c\n   \u2193\n4. \u6a29\u9650\u691c\u8a3c\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5\u8005\u3078\u306e\u6ce8\u610f"}),": \u3053\u306e4\u30b9\u30c6\u30c3\u30d7\u3092\u5fc5\u305a\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3002\u7701\u7565\u3059\u308b\u3068",(0,s.jsx)(n.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8106\u5f31\u6027"}),"\u306b\u306a\u308a\u307e\u3059\u3002"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u5dee\u5206",children:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u5dee\u5206"}),"\n",(0,s.jsx)(n.h3,{id:"\u518d\u5229\u7528\u3055\u308c\u308b\u90e8\u5206\u4e8c\u91cd\u958b\u767a\u4e0d\u8981",children:"\u518d\u5229\u7528\u3055\u308c\u308b\u90e8\u5206\uff08\u4e8c\u91cd\u958b\u767a\u4e0d\u8981\uff09"}),"\n",(0,s.jsxs)(n.p,{children:["\u4ee5\u4e0b\u306f\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30ebAPI\u3068",(0,s.jsx)(n.strong,{children:"\u5b8c\u5168\u306b\u5171\u901a"}),"\u3067\u3059\uff1a"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Service"}),": ClientCreationService\u3001ClientUpdateService\u7b49"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Context/ContextBuilder"}),": ClientManagementContext\u3001ClientManagementContextBuilder"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Request/Response DTO"}),": \u3059\u3079\u3066\u5171\u901a"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Validator"}),": \u3059\u3079\u3066\u5171\u901a"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Repository"}),": \u3059\u3079\u3066\u5171\u901a"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u91cd\u8981"}),": \u3053\u308c\u3089\u306f\u4e00\u5ea6\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3067\u5b9f\u88c5\u3059\u308c\u3070\u3001\u7d44\u7e54\u30ec\u30d9\u30eb\u3067",(0,s.jsx)(n.strong,{children:"\u305d\u306e\u307e\u307e\u518d\u5229\u7528"}),"\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u7d44\u7e54\u30ec\u30d9\u30eb\u56fa\u6709\u306e\u5b9f\u88c5\u65b0\u898f\u4f5c\u6210\u304c\u5fc5\u8981",children:"\u7d44\u7e54\u30ec\u30d9\u30eb\u56fa\u6709\u306e\u5b9f\u88c5\uff08\u65b0\u898f\u4f5c\u6210\u304c\u5fc5\u8981\uff09"}),"\n",(0,s.jsx)(n.h4,{id:"1-orgxxxmanagementhandler\u6700\u91cd\u8981",children:"1. OrgXxxManagementHandler\uff08\u6700\u91cd\u8981\uff09"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u9055\u3044"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"XxxManagementHandler"})," \u2192 ",(0,s.jsx)(n.code,{children:"OrgXxxManagementHandler"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OrganizationAccessVerifier\u8ffd\u52a0"})," \u2190 4\u30b9\u30c6\u30c3\u30d7\u30a2\u30af\u30bb\u30b9\u5236\u5fa1"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5\u4f8b"}),": ",(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(63618).A+"",children:"OrgClientManagementHandler.java"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5dee\u5206"}),"\uff08\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u306eHandler\u3068\u306e\u9055\u3044\uff09:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// System-level\npublic ClientManagementResult handle(\n    AdminAuthenticationContext authenticationContext,\n    TenantIdentifier tenantIdentifier, ...) {\n\n  // Tenant\u53d6\u5f97\n  Tenant tenant = tenantQueryRepository.get(tenantIdentifier);\n\n  // \u6a29\u9650\u30c1\u30a7\u30c3\u30af\n  apiPermissionVerifier.verify(operator, requiredPermissions);\n\n  // Service\u306b\u59d4\u8b72\n  ...\n}\n\n// Organization-level\uff08\u8ffd\u52a0\u90e8\u5206\u306e\u307f\uff09\npublic ClientManagementResult handle(\n    OrganizationAuthenticationContext authenticationContext, // \u2190 \u5f15\u6570\u5909\u66f4\n    TenantIdentifier tenantIdentifier, ...) {\n\n  // Organization\u53d6\u5f97\uff08\u8ffd\u52a0\uff09\n  Organization organization = authenticationContext.organization();\n\n  // Tenant\u53d6\u5f97\n  Tenant tenant = tenantQueryRepository.get(tenantIdentifier);\n\n  // 4\u30b9\u30c6\u30c3\u30d7\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff08\u8ffd\u52a0\uff09 \u2190 \u3053\u308c\u304c\u6700\u91cd\u8981\n  OrganizationAccessControlResult accessControl =\n      organizationAccessVerifier.verify(organization, tenant, operator, requiredPermissions);\n\n  if (!accessControl.isAuthorized()) {\n    // \u30a2\u30af\u30bb\u30b9\u62d2\u5426\n  }\n\n  // Service\u306b\u59d4\u8b72\uff08\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u540c\u3058Service\u3092\u518d\u5229\u7528\uff09\n  ...\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u30dd\u30a4\u30f3\u30c8"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Service\u306f\u518d\u5229\u7528"}),": System-level\u3068\u540c\u3058Service\u3092\u305d\u306e\u307e\u307e\u4f7f\u3046"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"\u8ffd\u52a0\u51e6\u7406\u306f4\u30b9\u30c6\u30c3\u30d7\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u307f"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"2-orgxxxmanagementapi",children:"2. OrgXxxManagementApi"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u9055\u3044"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u7b2c\u4e00\u5f15\u6570\u306b",(0,s.jsx)(n.code,{children:"OrganizationIdentifier"}),"\u3092\u8ffd\u52a0"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// System-level\nRoleManagementResponse create(\n    TenantIdentifier tenantIdentifier, ...);\n\n// Organization-level\nRoleManagementResponse create(\n    OrganizationIdentifier organizationIdentifier, // \u2190 \u8ffd\u52a0\n    TenantIdentifier tenantIdentifier, ...);\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"3-orgxxxmanagemententryservice",children:"3. OrgXxxManagementEntryService"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u9055\u3044"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OrgXxxManagementHandler"}),"\u3092\u4f7f\u7528"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ManagementTypeEntryServiceProxy"}),"\u3092\u4f7f\u7528\uff08Proxy\u9078\u629e\u306e\u307f\uff09"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5\u30d1\u30bf\u30fc\u30f3"}),"\uff08\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u307b\u307c\u540c\u3058\uff09:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Transaction\npublic class OrgXxxManagementEntryService implements OrgXxxManagementApi {\n\n  private final OrgXxxManagementHandler handler; // \u2190 Org\u7528Handler\u4f7f\u7528\n\n  public OrgXxxManagementEntryService(...) {\n    // Service\u30de\u30c3\u30d7\u767b\u9332\uff08\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u540c\u3058Service\u3092\u518d\u5229\u7528\uff09\n    Map<String, XxxManagementService<?>> services = new HashMap<>();\n    services.put("create", new XxxCreationService(...)); // \u2190 \u518d\u5229\u7528\n    services.put("update", new XxxUpdateService(...));   // \u2190 \u518d\u5229\u7528\n\n    // Org\u7528Handler\uff08OrganizationAccessVerifier\u8ffd\u52a0\uff09\n    this.handler = new OrgXxxManagementHandler(\n        services, this, tenantQueryRepository, new OrganizationAccessVerifier());\n  }\n\n  // \u30e1\u30bd\u30c3\u30c9\u306f\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u540c\u30583\u30b9\u30c6\u30c3\u30d7\u30d1\u30bf\u30fc\u30f3\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u5b9f\u88c5\u624b\u9806\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u5dee\u5206\u306e\u307f",children:"\u5b9f\u88c5\u624b\u9806\uff08\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u306e\u5dee\u5206\u306e\u307f\uff09"}),"\n",(0,s.jsx)(n.h3,{id:"step-1-orgxxxmanagementhandler\u4f5c\u6210",children:"Step 1: OrgXxxManagementHandler\u4f5c\u6210"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u65b0\u898f\u4f5c\u6210\u3059\u308b\u30d5\u30a1\u30a4\u30eb"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/management/{domain}/handler/\n\u2514\u2500\u2500 Org{Domain}ManagementHandler.java  \u2190 \u3053\u308c\u3060\u3051\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5\u5185\u5bb9"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u306eHandler\u3092\u30b3\u30d4\u30fc"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OrganizationAccessVerifier"}),"\u306e\u547c\u3073\u51fa\u3057\u3092\u8ffd\u52a0"]}),"\n",(0,s.jsx)(n.li,{children:"Organization\u53d6\u5f97\u51e6\u7406\u3092\u8ffd\u52a0"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5\u306e\u53c2\u8003"}),": ",(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(63618).A+"",children:"OrgClientManagementHandler.java"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"step-2-orgxxxmanagementapi\u4f5c\u6210",children:"Step 2: OrgXxxManagementApi\u4f5c\u6210"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u65b0\u898f\u4f5c\u6210\u3059\u308b\u30d5\u30a1\u30a4\u30eb"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/management/{domain}/\n\u2514\u2500\u2500 Org{Domain}ManagementApi.java\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5\u5185\u5bb9"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u306eAPI\u3092\u30b3\u30d4\u30fc"}),"\n",(0,s.jsxs)(n.li,{children:["\u5404\u30e1\u30bd\u30c3\u30c9\u306e\u7b2c\u4e00\u5f15\u6570\u306b",(0,s.jsx)(n.code,{children:"OrganizationIdentifier"}),"\u3092\u8ffd\u52a0"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"step-3-orgxxxmanagemententryservice\u4f5c\u6210",children:"Step 3: OrgXxxManagementEntryService\u4f5c\u6210"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u65b0\u898f\u4f5c\u6210\u3059\u308b\u30d5\u30a1\u30a4\u30eb"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"libs/idp-server-use-cases/src/main/java/org/idp/server/usecases/control_plane/organization_manager/\n\u2514\u2500\u2500 Org{Domain}ManagementEntryService.java\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5\u5185\u5bb9"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u306eEntryService\u3092\u30b3\u30d4\u30fc"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OrgXxxManagementHandler"}),"\u3092\u4f7f\u7528"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ManagementTypeEntryServiceProxy"}),"\u3092\u4f7f\u7528\uff08Proxy\u9078\u629e\u306e\u307f\u5909\u66f4\uff09"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5\u306e\u53c2\u8003"}),": ",(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(44294).A+"",children:"OrgClientManagementEntryService.java"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"step-4-controller\u4f5c\u6210",children:"Step 4: Controller\u4f5c\u6210"}),"\n",(0,s.jsxs)(n.p,{children:["\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u540c\u69d8\u3002URL path\u306b",(0,s.jsx)(n.code,{children:"organizations/{orgId}"}),"\u304c\u8ffd\u52a0\u3055\u308c\u308b\u3060\u3051\u3002"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"step-5-e2e\u30c6\u30b9\u30c8\u4f5c\u6210",children:"Step 5: E2E\u30c6\u30b9\u30c8\u4f5c\u6210"}),"\n",(0,s.jsx)(n.p,{children:"\u7d44\u7e54\u4f5c\u6210 \u2192 \u30c6\u30ca\u30f3\u30c8\u4f5c\u6210 \u2192 \u30ea\u30bd\u30fc\u30b9\u4f5c\u6210\u306e\u30d5\u30ed\u30fc\u3067\u30c6\u30b9\u30c8\u3002"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8",children:"\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8"}),"\n",(0,s.jsx)(n.h3,{id:"-\u3084\u308b\u3053\u3068\u6700\u5c0f\u9650",children:"\u2705 \u3084\u308b\u3053\u3068\uff08\u6700\u5c0f\u9650\uff09"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OrgXxxManagementHandler\u4f5c\u6210"})," - 4\u30b9\u30c6\u30c3\u30d7\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u8ffd\u52a0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OrgXxxManagementApi\u4f5c\u6210"})," - organizationId\u5f15\u6570\u8ffd\u52a0"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OrgXxxManagementEntryService\u4f5c\u6210"})," - Org\u7528Handler\u4f7f\u7528"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-\u3084\u3089\u306a\u3044\u3053\u3068",children:"\u274c \u3084\u3089\u306a\u3044\u3053\u3068"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Service\u518d\u5b9f\u88c5 - \u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u306eService\u3092\u518d\u5229\u7528"}),"\n",(0,s.jsx)(n.li,{children:"Context\u518d\u5b9f\u88c5 - \u540c\u3058ContextBuilder\u3092\u518d\u5229\u7528"}),"\n",(0,s.jsx)(n.li,{children:"Request/Response DTO\u518d\u5b9f\u88c5 - \u3059\u3079\u3066\u518d\u5229\u7528"}),"\n",(0,s.jsx)(n.li,{children:"Validator\u518d\u5b9f\u88c5 - \u3059\u3079\u3066\u518d\u5229\u7528"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5\u91cf"}),": \u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u306e**\u7d0420%**\u306e\u307f\uff08Handler\u3068\u30e9\u30c3\u30d1\u30fc\u306e\u307f\uff09"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",children:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8"}),"\n",(0,s.jsx)(n.p,{children:"\u7d44\u7e54\u30ec\u30d9\u30ebAPI\u5b9f\u88c5\u524d\u306b\u4ee5\u4e0b\u3092\u78ba\u8a8d\uff1a"}),"\n",(0,s.jsx)(n.h3,{id:"api\u5951\u7d04\u5b9a\u7fa9control-plane\u5c64",children:"API\u5951\u7d04\u5b9a\u7fa9\uff08Control Plane\u5c64\uff09"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u5b9a\u7fa9\uff08",(0,s.jsx)(n.code,{children:"Org{Domain}ManagementApi"}),"\uff09"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u7b2c\u4e00\u5f15\u6570: ",(0,s.jsx)(n.code,{children:"OrganizationIdentifier"}),"\u3001\u7b2c\u4e8c\u5f15\u6570: ",(0,s.jsx)(n.code,{children:"TenantIdentifier"})]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,s.jsx)(n.code,{children:"default\u30e1\u30bd\u30c3\u30c9"}),"\u3067\u6a29\u9650\u5b9a\u7fa9\uff08",(0,s.jsx)(n.code,{children:"OrganizationAdminPermissions"}),"\u4f7f\u7528\uff09"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Request/Response DTO\u4f5c\u6210\uff08\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u540c\u3058\u3082\u306e\u3092\u518d\u5229\u7528\u53ef\u80fd\uff09"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Context Creator\u4f5c\u6210\uff08\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u540c\u3058\u3082\u306e\u3092\u518d\u5229\u7528\u53ef\u80fd\uff09"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"entryservice\u5b9f\u88c5usecase\u5c64",children:"EntryService\u5b9f\u88c5\uff08UseCase\u5c64\uff09"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,s.jsx)(n.code,{children:"@Transaction"}),"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u4ed8\u4e0e"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"OrganizationAccessVerifier.verify()"}),"\u5b9f\u88c5"]}),"\uff08\u6700\u91cd\u8981\uff09"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u30a2\u30af\u30bb\u30b9\u62d2\u5426\u6642\u306e\u9069\u5207\u306a\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Audit Log\u8a18\u9332\uff08\u7d44\u7e54\u60c5\u5831\u542b\u3080\uff09"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Context Creator\u4f7f\u7528"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Dry Run\u5bfe\u5fdc"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"idpserverapplication\u767b\u9332",children:"IdpServerApplication\u767b\u9332"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u30d5\u30a3\u30fc\u30eb\u30c9\u8ffd\u52a0"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"ManagementTypeEntryServiceProxy"}),"\u4f7f\u7528"]}),"\uff08Organization-level Control Plane\uff09"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Getter\u30e1\u30bd\u30c3\u30c9\u8ffd\u52a0"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"controller\u5b9f\u88c5controller\u5c64",children:"Controller\u5b9f\u88c5\uff08Controller\u5c64\uff09"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","URL: ",(0,s.jsx)(n.code,{children:"/organizations/{orgId}/tenants/{tenantId}/..."})]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,s.jsx)(n.code,{children:"@PathVariable"}),": ",(0,s.jsx)(n.code,{children:"orgId"}),"\u3068",(0,s.jsx)(n.code,{children:"tenantId"}),"\u306e\u4e21\u65b9"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u578b\u5909\u63db\u306e\u307f\uff08\u30ed\u30b8\u30c3\u30af\u7981\u6b62\uff09"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"e2e\u30c6\u30b9\u30c8",children:"E2E\u30c6\u30b9\u30c8"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u6b63\u5e38\u7cfb\u30c6\u30b9\u30c8\uff08CREATE/READ/UPDATE/DELETE\uff09"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,s.jsx)(n.strong,{children:"\u7d44\u7e54\u95a2\u4fc2\u691c\u8a3c\u30c6\u30b9\u30c8"}),"\uff08\u5225\u7d44\u7e54\u306e\u30c6\u30ca\u30f3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u8a66\u884c\uff09"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u6a29\u9650\u30a8\u30e9\u30fc\u30c6\u30b9\u30c8\uff08403\uff09"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc",children:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc"}),"\n",(0,s.jsx)(n.h3,{id:"\u30a8\u30e9\u30fc1-organizationaccessverifier\u672a\u4f7f\u7528",children:"\u30a8\u30e9\u30fc1: OrganizationAccessVerifier\u672a\u4f7f\u7528"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u274c \u9593\u9055\u3044: \u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u3068\u540c\u3058\u6a29\u9650\u30c1\u30a7\u30c3\u30af\u306e\u307f\nif (!permissions.includesAll(operator.permissionsAsSet())) {\n    throw new ForbiddenException("Permission denied");\n}\n// \u7d44\u7e54\u95a2\u4fc2\u306e\u691c\u8a3c\u304c\u629c\u3051\u3066\u3044\u308b\uff01\n\n// \u2705 \u6b63\u3057\u3044: OrganizationAccessVerifier\u4f7f\u7528\nOrganizationAccessControlResult accessControl =\n    organizationAccessVerifier.verify(organization, tenant, operator, permissions);\nif (!accessControl.isAuthorized()) {\n    return new RoleManagementResponse("FORBIDDEN", errorResponse);\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u30a8\u30e9\u30fc2-adminpermissions\u4f7f\u7528",children:"\u30a8\u30e9\u30fc2: AdminPermissions\u4f7f\u7528"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u274c \u9593\u9055\u3044: \u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb\u306e\u6a29\u9650\u578b\nAdminPermissions permissions = getRequiredPermissions("create");\n\n// \u2705 \u6b63\u3057\u3044: \u7d44\u7e54\u30ec\u30d9\u30eb\u306e\u6a29\u9650\u578b\nOrganizationAdminPermissions permissions = getRequiredPermissions("create");\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u30a8\u30e9\u30fc3-audit-log-\u306b\u7d44\u7e54\u60c5\u5831\u306a\u3057",children:"\u30a8\u30e9\u30fc3: Audit Log \u306b\u7d44\u7e54\u60c5\u5831\u306a\u3057"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u274c \u9593\u9055\u3044: \u7d44\u7e54\u60c5\u5831\u306a\u3057\nAuditLog auditLog = AuditLogCreator.create(\n    "OrgRoleManagementApi.create",\n    tenant,\n    operator,\n    oAuthToken,\n    context,\n    requestAttributes);\n\n// \u2705 \u6b63\u3057\u3044: \u7d44\u7e54\u60c5\u5831\u542b\u3080\nAuditLog auditLog = AuditLogCreator.create(\n    "OrgRoleManagementApi.create",\n    organization,  // \u2705 \u7d44\u7e54\u8ffd\u52a0\n    tenant,\n    operator,\n    oAuthToken,\n    context,\n    requestAttributes);\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u30a8\u30e9\u30fc4-proxy\u9078\u629e\u30df\u30b9",children:"\u30a8\u30e9\u30fc4: Proxy\u9078\u629e\u30df\u30b9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u274c \u9593\u9055\u3044: Organization-level Control Plane\u306bTenantAwareEntryServiceProxy\nthis.orgRoleManagementApi =\n    TenantAwareEntryServiceProxy.createProxy(  // \u9593\u9055\u3044\n        new OrgRoleManagementEntryService(...),\n        OrgRoleManagementApi.class,\n        databaseTypeProvider);\n\n// \u2705 \u6b63\u3057\u3044: Organization-level Control Plane\u306fManagementTypeEntryServiceProxy\nthis.orgRoleManagementApi =\n    ManagementTypeEntryServiceProxy.createProxy(  // \u6b63\u3057\u3044\n        new OrgRoleManagementEntryService(...),\n        OrgRoleManagementApi.class,\n        databaseTypeProvider);\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5224\u65ad\u57fa\u6e96"}),": \u30ec\u30a4\u30e4\u30fc\u3067\u6c7a\u307e\u308b"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Application Plane / System-level Control Plane \u2192 ",(0,s.jsx)(n.code,{children:"TenantAwareEntryServiceProxy"})]}),"\n",(0,s.jsxs)(n.li,{children:["Organization-level Control Plane \u2192 ",(0,s.jsx)(n.code,{children:"ManagementTypeEntryServiceProxy"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,s.jsx)(n.p,{children:"\u2705 \u7d44\u7e54\u30ec\u30d9\u30ebAPI\u5b9f\u88c5\u3092\u30de\u30b9\u30bf\u30fc\u3057\u305f\uff01"}),"\n",(0,s.jsx)(n.h3,{id:"-\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",children:"\ud83d\udcd6 \u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"../04-implementation-guides/impl-10-repository-implementation.md",children:"Repository\u5b9f\u88c5\u30ac\u30a4\u30c9"})," - \u30c7\u30fc\u30bf\u30a2\u30af\u30bb\u30b9\u5c64\u306e\u5b9f\u88c5"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"../04-implementation-guides/impl-12-plugin-implementation.md",children:"Plugin\u5b9f\u88c5\u30ac\u30a4\u30c9"})," - \u62e1\u5f35\u6a5f\u80fd\u306e\u5b9f\u88c5"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-\u8a73\u7d30\u60c5\u5831",children:"\ud83d\udd17 \u8a73\u7d30\u60c5\u5831"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/idp-server/docs/content_10_ai_developer/ai-13-control-plane#%E7%B5%84%E7%B9%94%E3%83%AC%E3%83%99%E3%83%ABapi",children:"AI\u958b\u767a\u8005\u5411\u3051: Control Plane\u8a73\u7d30"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../../libs/idp-server-use-cases/src/main/java/org/idp/server/usecases/control_plane/organization_manager/OrgRoleManagementEntryService.java",children:"OrgRoleManagementEntryService.java"}),"\n",(0,s.jsx)(n.strong,{children:"\u6700\u7d42\u66f4\u65b0"}),": 2025-10-12"]})]})}function x(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},63618:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/files/OrgClientManagementHandler-3b12a241c42ef47ed49e1341c99af919.java"},44294:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/files/OrgClientManagementEntryService-5b67d27e6bc9885656a0b54ed59e1066.java"},28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var r=i(96540);const s={},l=r.createContext(s);function t(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);