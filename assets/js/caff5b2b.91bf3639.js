"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[57146],{44190:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>t,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"content_11_learning/ai-fundamentals/rag-architecture","title":"RAG\uff08Retrieval-Augmented Generation\uff09\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3","description":"---","source":"@site/docs/content_11_learning/25-ai-fundamentals/04-rag-architecture.md","sourceDirName":"content_11_learning/25-ai-fundamentals","slug":"/content_11_learning/ai-fundamentals/rag-architecture","permalink":"/idp-server/docs/content_11_learning/ai-fundamentals/rag-architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/25-ai-fundamentals/04-rag-architecture.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docs","previous":{"title":"\u30d7\u30ed\u30f3\u30d7\u30c8\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u5165\u9580","permalink":"/idp-server/docs/content_11_learning/ai-fundamentals/prompt-engineering"},"next":{"title":"AI Agent\uff08\u81ea\u5f8b\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\uff09\u958b\u767a\u5165\u9580","permalink":"/idp-server/docs/content_11_learning/ai-fundamentals/ai-agents"}}');var d=r(74848),i=r(28453);const t={sidebar_position:4},l="RAG\uff08Retrieval-Augmented Generation\uff09\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",c={},h=[{value:"\u6982\u8981",id:"\u6982\u8981",level:2},{value:"RAG\u304c\u89e3\u6c7a\u3059\u308b\u554f\u984c",id:"rag\u304c\u89e3\u6c7a\u3059\u308b\u554f\u984c",level:2},{value:"LLM\u306e\u9650\u754c",id:"llm\u306e\u9650\u754c",level:3},{value:"RAG\u306b\u3088\u308b\u89e3\u6c7a",id:"rag\u306b\u3088\u308b\u89e3\u6c7a",level:3},{value:"RAG\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u5168\u4f53\u50cf",id:"rag\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u5168\u4f53\u50cf",level:2},{value:"\u57fa\u672c\u69cb\u6210",id:"\u57fa\u672c\u69cb\u6210",level:3},{value:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u69cb\u7bc9",id:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u69cb\u7bc9",level:2},{value:"1. \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53ce\u96c6",id:"1-\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53ce\u96c6",level:3},{value:"2. \u30c1\u30e3\u30f3\u30ad\u30f3\u30b0\uff08\u5206\u5272\uff09",id:"2-\u30c1\u30e3\u30f3\u30ad\u30f3\u30b0\u5206\u5272",level:3},{value:"3. \u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\u751f\u6210",id:"3-\u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\u751f\u6210",level:3},{value:"4. \u30d9\u30af\u30c8\u30ebDB\u4fdd\u5b58",id:"4-\u30d9\u30af\u30c8\u30ebdb\u4fdd\u5b58",level:3},{value:"\u691c\u7d22\u30d5\u30a7\u30fc\u30ba",id:"\u691c\u7d22\u30d5\u30a7\u30fc\u30ba",level:2},{value:"1. \u30af\u30a8\u30ea\u306e\u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\u5316",id:"1-\u30af\u30a8\u30ea\u306e\u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\u5316",level:3},{value:"2. \u985e\u4f3c\u5ea6\u8a08\u7b97",id:"2-\u985e\u4f3c\u5ea6\u8a08\u7b97",level:3},{value:"3. \u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22",id:"3-\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22",level:3},{value:"\u751f\u6210\u30d5\u30a7\u30fc\u30ba",id:"\u751f\u6210\u30d5\u30a7\u30fc\u30ba",level:2},{value:"1. \u30d7\u30ed\u30f3\u30d7\u30c8\u69cb\u7bc9",id:"1-\u30d7\u30ed\u30f3\u30d7\u30c8\u69cb\u7bc9",level:3},{value:"2. LLM\u751f\u6210",id:"2-llm\u751f\u6210",level:3},{value:"\u9ad8\u5ea6\u306aRAG\u30c6\u30af\u30cb\u30c3\u30af",id:"\u9ad8\u5ea6\u306arag\u30c6\u30af\u30cb\u30c3\u30af",level:2},{value:"1. \u518d\u30e9\u30f3\u30ad\u30f3\u30b0\uff08Re-ranking\uff09",id:"1-\u518d\u30e9\u30f3\u30ad\u30f3\u30b0re-ranking",level:3},{value:"2. \u81ea\u5df1\u554f\u3044\u5408\u308f\u305b\uff08Self-Querying\uff09",id:"2-\u81ea\u5df1\u554f\u3044\u5408\u308f\u305bself-querying",level:3},{value:"3. \u89aa\u5b50\u30c1\u30e3\u30f3\u30ad\u30f3\u30b0",id:"3-\u89aa\u5b50\u30c1\u30e3\u30f3\u30ad\u30f3\u30b0",level:3},{value:"4. \u53cd\u5fa9\u7684\u691c\u7d22\uff08Iterative Retrieval\uff09",id:"4-\u53cd\u5fa9\u7684\u691c\u7d22iterative-retrieval",level:3},{value:"RAG\u306e\u8a55\u4fa1\u6307\u6a19",id:"rag\u306e\u8a55\u4fa1\u6307\u6a19",level:2},{value:"1. \u691c\u7d22\u54c1\u8cea\uff08Retrieval Quality\uff09",id:"1-\u691c\u7d22\u54c1\u8cearetrieval-quality",level:3},{value:"2. \u751f\u6210\u54c1\u8cea\uff08Generation Quality\uff09",id:"2-\u751f\u6210\u54c1\u8ceageneration-quality",level:3},{value:"\u5b9f\u88c5\u4f8b: \u6700\u5c0f\u9650\u306eRAG\u30b7\u30b9\u30c6\u30e0",id:"\u5b9f\u88c5\u4f8b-\u6700\u5c0f\u9650\u306erag\u30b7\u30b9\u30c6\u30e0",level:2},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"RAG\u306e\u5229\u70b9",id:"rag\u306e\u5229\u70b9",level:3},{value:"\u8ab2\u984c\u3068\u5bfe\u7b56",id:"\u8ab2\u984c\u3068\u5bfe\u7b56",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2},{value:"\u53c2\u8003\u30ea\u30f3\u30af",id:"\u53c2\u8003\u30ea\u30f3\u30af",level:2}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"ragretrieval-augmented-generation\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",children:"RAG\uff08Retrieval-Augmented Generation\uff09\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u6982\u8981",children:"\u6982\u8981"}),"\n",(0,d.jsx)(e.p,{children:"RAG\uff08Retrieval-Augmented Generation\uff09\u306f\u3001LLM\u306e\u77e5\u8b58\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u62e1\u5f35\u3059\u308b\u6280\u8853\u3067\u3059\u3002\u5916\u90e8\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u304b\u3089\u95a2\u9023\u60c5\u5831\u3092\u691c\u7d22\u3057\u3001\u305d\u308c\u3092\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u542b\u3081\u308b\u3053\u3068\u3067\u3001\u30cf\u30eb\u30b7\u30cd\u30fc\u30b7\u30e7\u30f3\u3092\u6e1b\u3089\u3057\u3001\u6700\u65b0\u60c5\u5831\u3084\u5c02\u9580\u77e5\u8b58\u306b\u57fa\u3065\u3044\u305f\u56de\u7b54\u3092\u751f\u6210\u3057\u307e\u3059\u3002"}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"rag\u304c\u89e3\u6c7a\u3059\u308b\u554f\u984c",children:"RAG\u304c\u89e3\u6c7a\u3059\u308b\u554f\u984c"}),"\n",(0,d.jsx)(e.h3,{id:"llm\u306e\u9650\u754c",children:"LLM\u306e\u9650\u754c"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u6a19\u6e96\u7684\u306aLLM\u306e\u5236\u7d04                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u274c \u5b66\u7fd2\u30c7\u30fc\u30bf\u306e\u6642\u9593\u5236\u9650                 \u2502\n\u2502     \u2192 2024\u5e741\u6708\u4ee5\u964d\u306e\u60c5\u5831\u306f\u77e5\u3089\u306a\u3044      \u2502\n\u2502                                         \u2502\n\u2502  \u274c \u975e\u516c\u958b\u60c5\u5831\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306a\u3057           \u2502\n\u2502     \u2192 \u793e\u5185\u6587\u66f8\u3001\u5951\u7d04\u66f8\u3001\u8b70\u4e8b\u9332\u306a\u3069       \u2502\n\u2502                                         \u2502\n\u2502  \u274c \u30cf\u30eb\u30b7\u30cd\u30fc\u30b7\u30e7\u30f3\uff08\u5e7b\u899a\uff09             \u2502\n\u2502     \u2192 \u77e5\u3089\u306a\u3044\u3053\u3068\u3067\u3082\u63a8\u6e2c\u3067\u56de\u7b54         \u2502\n\u2502                                         \u2502\n\u2502  \u274c \u30bd\u30fc\u30b9\u306e\u660e\u793a\u4e0d\u53ef                     \u2502\n\u2502     \u2192 \u56de\u7b54\u6839\u62e0\u304c\u4e0d\u660e\u78ba                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h3,{id:"rag\u306b\u3088\u308b\u89e3\u6c7a",children:"RAG\u306b\u3088\u308b\u89e3\u6c7a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         RAG\u306e\u4ed5\u7d44\u307f                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u30e6\u30fc\u30b6\u30fc\u8cea\u554f: "2024\u5e74Q4\u306e\u58f2\u4e0a\u306f?"      \u2502\n\u2502         \u2193                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502 \u30d9\u30af\u30c8\u30eb\u691c\u7d22                  \u2502     \u2502\n\u2502  \u2502 \u2192 \u95a2\u9023\u6587\u66f8\u3092\u53d6\u5f97              \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502         \u2193                               \u2502\n\u2502  \u53d6\u5f97\u6587\u66f8:                              \u2502\n\u2502  "2024\u5e74Q4\u58f2\u4e0a: 1.2\u5104\u5186\uff08\u524d\u5e74\u6bd4+15%\uff09"  \u2502\n\u2502         \u2193                               \u2502\n\u2502  \u30d7\u30ed\u30f3\u30d7\u30c8\u69cb\u7bc9:                        \u2502\n\u2502  \u300c\u4ee5\u4e0b\u306e\u6587\u66f8\u3092\u53c2\u7167\u3057\u3066\u56de\u7b54\u3057\u3066\u304f\u3060\u3055\u3044  \u2502\n\u2502   [\u53d6\u5f97\u6587\u66f8]                            \u2502\n\u2502   \u8cea\u554f: 2024\u5e74Q4\u306e\u58f2\u4e0a\u306f?\u300d             \u2502\n\u2502         \u2193                               \u2502\n\u2502  LLM\u56de\u7b54:                               \u2502\n\u2502  "2024\u5e74Q4\u306e\u58f2\u4e0a\u306f1.2\u5104\u5186\u3067\u3059\u3002         \u2502\n\u2502   \uff08\u51fa\u5178: \u8ca1\u52d9\u5831\u544a\u66f8 2024-Q4\uff09"         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"rag\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u5168\u4f53\u50cf",children:"RAG\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u5168\u4f53\u50cf"}),"\n",(0,d.jsx)(e.h3,{id:"\u57fa\u672c\u69cb\u6210",children:"\u57fa\u672c\u69cb\u6210"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  RAG\u30b7\u30b9\u30c6\u30e0                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                     \u2502\n\u2502  1\ufe0f\u20e3 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u69cb\u7bc9\u30d5\u30a7\u30fc\u30ba\uff08\u30aa\u30d5\u30e9\u30a4\u30f3\uff09            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u2192 \u30c1\u30e3\u30f3\u30af\u5206\u5272 \u2192 \u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0  \u2502 \u2502\n\u2502  \u2502     \u2193              \u2193              \u2193          \u2502 \u2502\n\u2502  \u2502  PDF/MD         \u30c6\u30ad\u30b9\u30c8       \u30d9\u30af\u30c8\u30eb       \u2502 \u2502\n\u2502  \u2502                                  \u2193            \u2502 \u2502\n\u2502  \u2502                          \u30d9\u30af\u30c8\u30ebDB\u4fdd\u5b58       \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                     \u2502\n\u2502  2\ufe0f\u20e3 \u691c\u7d22\u30fb\u751f\u6210\u30d5\u30a7\u30fc\u30ba\uff08\u30aa\u30f3\u30e9\u30a4\u30f3\uff09                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u30e6\u30fc\u30b6\u30fc\u8cea\u554f                                  \u2502 \u2502\n\u2502  \u2502     \u2193                                        \u2502 \u2502\n\u2502  \u2502 \u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\u5316                             \u2502 \u2502\n\u2502  \u2502     \u2193                                        \u2502 \u2502\n\u2502  \u2502 \u30d9\u30af\u30c8\u30eb\u691c\u7d22\uff08\u985e\u4f3c\u5ea6\u8a08\u7b97\uff09                   \u2502 \u2502\n\u2502  \u2502     \u2193                                        \u2502 \u2502\n\u2502  \u2502 Top-K\u6587\u66f8\u53d6\u5f97                                \u2502 \u2502\n\u2502  \u2502     \u2193                                        \u2502 \u2502\n\u2502  \u2502 \u30d7\u30ed\u30f3\u30d7\u30c8\u69cb\u7bc9\uff08\u8cea\u554f+\u6587\u66f8\uff09                  \u2502 \u2502\n\u2502  \u2502     \u2193                                        \u2502 \u2502\n\u2502  \u2502 LLM\u751f\u6210                                      \u2502 \u2502\n\u2502  \u2502     \u2193                                        \u2502 \u2502\n\u2502  \u2502 \u56de\u7b54\uff08\u30bd\u30fc\u30b9\u5f15\u7528\u4ed8\u304d\uff09                       \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u69cb\u7bc9",children:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u69cb\u7bc9"}),"\n",(0,d.jsx)(e.h3,{id:"1-\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53ce\u96c6",children:"1. \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53ce\u96c6"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u5bfe\u8c61\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      RAG\u3067\u6d3b\u7528\u3067\u304d\u308b\u30c7\u30fc\u30bf               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \ud83d\udcc4 \u69cb\u9020\u5316\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8                   \u2502\n\u2502     - PDF, DOCX, Markdown               \u2502\n\u2502     - HTML, Notion, Confluence          \u2502\n\u2502                                         \u2502\n\u2502  \ud83d\udcbe \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9                         \u2502\n\u2502     - PostgreSQL, MySQL                 \u2502\n\u2502     - MongoDB, Elasticsearch            \u2502\n\u2502                                         \u2502\n\u2502  \ud83d\udcca \u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8                     \u2502\n\u2502     - CSV, Excel                        \u2502\n\u2502                                         \u2502\n\u2502  \ud83c\udf10 Web\u30da\u30fc\u30b8                            \u2502\n\u2502     - \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30b5\u30a4\u30c8                 \u2502\n\u2502     - \u30ca\u30ec\u30c3\u30b8\u30d9\u30fc\u30b9                     \u2502\n\u2502                                         \u2502\n\u2502  \ud83d\udcac \u30c1\u30e3\u30c3\u30c8\u5c65\u6b74                         \u2502\n\u2502     - Slack, Discord                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h3,{id:"2-\u30c1\u30e3\u30f3\u30ad\u30f3\u30b0\u5206\u5272",children:"2. \u30c1\u30e3\u30f3\u30ad\u30f3\u30b0\uff08\u5206\u5272\uff09"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u306a\u305c\u5206\u5272\u304c\u5fc5\u8981\u304b"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u5927\u304d\u306a\u6587\u66f8\uff0810,000\u30c8\u30fc\u30af\u30f3\uff09\n      \u2193\n\u691c\u7d22\u6642\u306b\u5168\u4f53\u304c\u30d2\u30c3\u30c8\n      \u2193\n\u30d7\u30ed\u30f3\u30d7\u30c8\u306b10,000\u30c8\u30fc\u30af\u30f3\u8ffd\u52a0\n      \u2193\n\u274c \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u5727\u8feb\n\u274c \u30b3\u30b9\u30c8\u5897\u5927\n\u274c \u7121\u95a2\u4fc2\u60c5\u5831\u306e\u6df7\u5165\n"})}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30c1\u30e3\u30f3\u30ad\u30f3\u30b0\u6226\u7565"}),":"]}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u6226\u7565"}),(0,d.jsx)(e.th,{children:"\u30b5\u30a4\u30ba"}),(0,d.jsx)(e.th,{children:"\u7528\u9014"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u56fa\u5b9a\u9577"})}),(0,d.jsx)(e.td,{children:"512\u30c8\u30fc\u30af\u30f3"}),(0,d.jsx)(e.td,{children:"\u6c4e\u7528"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u6bb5\u843d\u5358\u4f4d"})}),(0,d.jsx)(e.td,{children:"\u53ef\u5909"}),(0,d.jsx)(e.td,{children:"\u6587\u7ae0"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u30bb\u30de\u30f3\u30c6\u30a3\u30c3\u30af"})}),(0,d.jsx)(e.td,{children:"\u610f\u5473\u306e\u5207\u308c\u76ee"}),(0,d.jsx)(e.td,{children:"\u9ad8\u7cbe\u5ea6"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af"})}),(0,d.jsx)(e.td,{children:"\u95a2\u6570/\u30af\u30e9\u30b9"}),(0,d.jsx)(e.td,{children:"\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9"})]})]})]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u56fa\u5b9a\u9577\u30c1\u30e3\u30f3\u30ad\u30f3\u30b0\u4f8b"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'def chunk_text(text, chunk_size=512, overlap=50):\n    """\n    \u30c6\u30ad\u30b9\u30c8\u3092\u91cd\u8907\u3042\u308a\u3067\u5206\u5272\n\n    Args:\n        text: \u5165\u529b\u30c6\u30ad\u30b9\u30c8\n        chunk_size: 1\u30c1\u30e3\u30f3\u30af\u306e\u30c8\u30fc\u30af\u30f3\u6570\n        overlap: \u524d\u5f8c\u30c1\u30e3\u30f3\u30af\u3068\u306e\u91cd\u8907\u30c8\u30fc\u30af\u30f3\u6570\n    """\n    chunks = []\n    start = 0\n\n    while start < len(text):\n        end = start + chunk_size\n        chunk = text[start:end]\n        chunks.append(chunk)\n        start += chunk_size - overlap  # \u91cd\u8907\u3092\u6301\u305f\u305b\u308b\n\n    return chunks\n\n# \u4f8b\ndocument = "\u9577\u3044\u6587\u66f8..." # 2000\u30c8\u30fc\u30af\u30f3\nchunks = chunk_text(document, chunk_size=512, overlap=50)\n# \u2192 4\u30c1\u30e3\u30f3\u30af\uff08\u91cd\u8907\u3042\u308a\uff09\n'})}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u91cd\u8907\uff08Overlap\uff09\u306e\u91cd\u8981\u6027"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'\u30c1\u30e3\u30f3\u30af1: "...OAuth 2.0\u306f\u8a8d\u53ef\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3059\u3002"\n\u30c1\u30e3\u30f3\u30af2: "OAuth 2.0\u306f\u8a8d\u53ef\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3059\u3002\u4e3b\u306a\u5f79\u5272\u306f..."\n           \u2191 \u91cd\u8907\u306b\u3088\u308a\u6587\u8108\u304c\u4fdd\u305f\u308c\u308b\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h3,{id:"3-\u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\u751f\u6210",children:"3. \u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\u751f\u6210"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30d7\u30ed\u30bb\u30b9"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'from openai import OpenAI\n\nclient = OpenAI()\n\ndef create_embedding(text):\n    """\u30c6\u30ad\u30b9\u30c8\u3092\u30d9\u30af\u30c8\u30eb\u5316"""\n    response = client.embeddings.create(\n        model="text-embedding-3-small",  # 1536\u6b21\u5143\n        input=text\n    )\n    return response.data[0].embedding\n\n# \u4f8b\nchunk = "OAuth 2.0\u306f\u8a8d\u53ef\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059"\nvector = create_embedding(chunk)\n# \u2192 [0.023, -0.145, 0.087, ..., 0.234]  (1536\u6b21\u5143)\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\u30e2\u30c7\u30eb\u306e\u9078\u629e"}),":"]}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u30e2\u30c7\u30eb"}),(0,d.jsx)(e.th,{children:"\u6b21\u5143\u6570"}),(0,d.jsx)(e.th,{children:"\u30b3\u30b9\u30c8"}),(0,d.jsx)(e.th,{children:"\u7528\u9014"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"text-embedding-3-small"}),(0,d.jsx)(e.td,{children:"1536"}),(0,d.jsx)(e.td,{children:"$0.02/1M"}),(0,d.jsx)(e.td,{children:"\u6c4e\u7528\u30fb\u9ad8\u901f"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"text-embedding-3-large"}),(0,d.jsx)(e.td,{children:"3072"}),(0,d.jsx)(e.td,{children:"$0.13/1M"}),(0,d.jsx)(e.td,{children:"\u9ad8\u7cbe\u5ea6"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"voyage-code-2"}),(0,d.jsx)(e.td,{children:"1536"}),(0,d.jsx)(e.td,{children:"$0.12/1M"}),(0,d.jsx)(e.td,{children:"\u30b3\u30fc\u30c9\u691c\u7d22"})]})]})]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h3,{id:"4-\u30d9\u30af\u30c8\u30ebdb\u4fdd\u5b58",children:"4. \u30d9\u30af\u30c8\u30ebDB\u4fdd\u5b58"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u4e3b\u8981\u30d9\u30af\u30c8\u30eb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u30d9\u30af\u30c8\u30ebDB\u6bd4\u8f03                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Pinecone                               \u2502\n\u2502  - \u30de\u30cd\u30fc\u30b8\u30c9\u30b5\u30fc\u30d3\u30b9                    \u2502\n\u2502  - \u9ad8\u901f                                 \u2502\n\u2502  - \u30b9\u30b1\u30fc\u30e9\u30d6\u30eb                          \u2502\n\u2502                                         \u2502\n\u2502  Weaviate                               \u2502\n\u2502  - \u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9                        \u2502\n\u2502  - \u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22                      \u2502\n\u2502  - GraphQL API                          \u2502\n\u2502                                         \u2502\n\u2502  Chroma                                 \u2502\n\u2502  - \u8efd\u91cf                                 \u2502\n\u2502  - \u30ed\u30fc\u30ab\u30eb\u5b9f\u884c                          \u2502\n\u2502  - \u958b\u767a\u7528\u9014                              \u2502\n\u2502                                         \u2502\n\u2502  pgvector (PostgreSQL\u62e1\u5f35)             \u2502\n\u2502  - \u65e2\u5b58DB\u306b\u7d71\u5408                          \u2502\n\u2502  - \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u5bfe\u5fdc                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"pgvector\u306e\u4f8b"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-sql",children:"-- \u62e1\u5f35\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nCREATE EXTENSION vector;\n\n-- \u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\nCREATE TABLE documents (\n  id SERIAL PRIMARY KEY,\n  content TEXT,\n  embedding VECTOR(1536),  -- 1536\u6b21\u5143\u30d9\u30af\u30c8\u30eb\n  metadata JSONB\n);\n\n-- \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210\uff08\u9ad8\u901f\u691c\u7d22\u7528\uff09\nCREATE INDEX ON documents\nUSING ivfflat (embedding vector_cosine_ops)\nWITH (lists = 100);\n\n-- \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u633f\u5165\nINSERT INTO documents (content, embedding, metadata)\nVALUES (\n  'OAuth 2.0\u306f\u8a8d\u53ef\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059',\n  '[0.023, -0.145, ...]',  -- 1536\u6b21\u5143\u30d9\u30af\u30c8\u30eb\n  '{\"source\": \"oauth-spec.md\", \"page\": 1}'\n);\n"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u691c\u7d22\u30d5\u30a7\u30fc\u30ba",children:"\u691c\u7d22\u30d5\u30a7\u30fc\u30ba"}),"\n",(0,d.jsx)(e.h3,{id:"1-\u30af\u30a8\u30ea\u306e\u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\u5316",children:"1. \u30af\u30a8\u30ea\u306e\u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\u5316"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'def search(query, top_k=3):\n    # 1. \u30af\u30a8\u30ea\u3092\u30d9\u30af\u30c8\u30eb\u5316\n    query_vector = create_embedding(query)\n\n    # 2. \u30d9\u30af\u30c8\u30ebDB\u691c\u7d22\n    results = vector_db.search(\n        vector=query_vector,\n        top_k=top_k,\n        metric="cosine"  # \u30b3\u30b5\u30a4\u30f3\u985e\u4f3c\u5ea6\n    )\n\n    return results\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h3,{id:"2-\u985e\u4f3c\u5ea6\u8a08\u7b97",children:"2. \u985e\u4f3c\u5ea6\u8a08\u7b97"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30b3\u30b5\u30a4\u30f3\u985e\u4f3c\u5ea6"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"cos_similarity(A, B) = (A \xb7 B) / (||A|| \xd7 ||B||)\n\n\u7bc4\u56f2: -1 \uff5e 1\n  1.0  : \u5b8c\u5168\u4e00\u81f4\n  0.0  : \u7121\u95a2\u4fc2\n -1.0  : \u6b63\u53cd\u5bfe\n"})}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u5b9f\u4f8b"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'query = "OAuth\u8a8d\u53ef\u30d5\u30ed\u30fc\u306e\u8aac\u660e"\nquery_vector = [0.1, 0.5, 0.3, ...]\n\n\u6587\u66f81: "OAuth 2.0\u306e\u8a8d\u53ef\u30d5\u30ed\u30fc"\n       [0.12, 0.48, 0.31, ...]\n       \u985e\u4f3c\u5ea6: 0.92  \u2190 Top 1\n\n\u6587\u66f82: "JWT\u30c8\u30fc\u30af\u30f3\u306e\u69cb\u9020"\n       [0.05, 0.15, 0.82, ...]\n       \u985e\u4f3c\u5ea6: 0.34  \u2190 \u9664\u5916\n\n\u6587\u66f83: "OAuth 2.0\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3"\n       [0.11, 0.47, 0.29, ...]\n       \u985e\u4f3c\u5ea6: 0.88  \u2190 Top 2\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h3,{id:"3-\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22",children:"3. \u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u306e\u5f31\u70b9"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'\u30af\u30a8\u30ea: "RFC 6749"\n\n\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u7d50\u679c:\n- "OAuth 2.0\u4ed5\u69d8\u66f8" \uff08\u2705 \u6b63\u3057\u3044\uff09\n- "RFC 8252"        \uff08\u274c \u5225\u306eRFC\uff09\n\n\u2192 \u56fa\u6709\u540d\u8a5e\u306b\u5f31\u3044\n'})}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u89e3\u6c7a\u7b56: BM25 + \u30d9\u30af\u30c8\u30eb\u691c\u7d22"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u30af\u30a8\u30ea: "RFC 6749\u306e\u8a8d\u53ef\u30d5\u30ed\u30fc"         \u2502\n\u2502                                         \u2502\n\u2502  BM25\uff08\u30ad\u30fc\u30ef\u30fc\u30c9\u691c\u7d22\uff09                 \u2502\n\u2502  \u251c\u2500 "RFC 6749" \u5b8c\u5168\u4e00\u81f4: \u30b9\u30b3\u30a2 10.0    \u2502\n\u2502  \u2514\u2500 "\u8a8d\u53ef\u30d5\u30ed\u30fc" \u90e8\u5206\u4e00\u81f4: \u30b9\u30b3\u30a2 3.5   \u2502\n\u2502                                         \u2502\n\u2502  \u30d9\u30af\u30c8\u30eb\u691c\u7d22\uff08\u610f\u5473\u691c\u7d22\uff09               \u2502\n\u2502  \u251c\u2500 "OAuth 2.0\u4ed5\u69d8": \u30b9\u30b3\u30a2 0.92        \u2502\n\u2502  \u2514\u2500 "\u8a8d\u53ef\u30b3\u30fc\u30c9\u30d5\u30ed\u30fc": \u30b9\u30b3\u30a2 0.85     \u2502\n\u2502                                         \u2502\n\u2502  \u30b9\u30b3\u30a2\u7d71\u5408\uff08\u91cd\u307f\u4ed8\u3051\u52a0\u7b97\uff09             \u2502\n\u2502  \u6700\u7d42\u30b9\u30b3\u30a2 = 0.7\xd7BM25 + 0.3\xd7Vector     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u5b9f\u88c5\u4f8b"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:"def hybrid_search(query, alpha=0.7):\n    # BM25\u691c\u7d22\n    bm25_results = bm25_index.search(query, top_k=10)\n\n    # \u30d9\u30af\u30c8\u30eb\u691c\u7d22\n    vector_results = vector_db.search(\n        create_embedding(query),\n        top_k=10\n    )\n\n    # \u30b9\u30b3\u30a2\u7d71\u5408\n    combined = {}\n    for doc in bm25_results:\n        combined[doc.id] = alpha * doc.score\n\n    for doc in vector_results:\n        combined[doc.id] = combined.get(doc.id, 0) + (1-alpha) * doc.score\n\n    # Top-K\u53d6\u5f97\n    return sorted(combined.items(), key=lambda x: x[1], reverse=True)[:3]\n"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u751f\u6210\u30d5\u30a7\u30fc\u30ba",children:"\u751f\u6210\u30d5\u30a7\u30fc\u30ba"}),"\n",(0,d.jsx)(e.h3,{id:"1-\u30d7\u30ed\u30f3\u30d7\u30c8\u69cb\u7bc9",children:"1. \u30d7\u30ed\u30f3\u30d7\u30c8\u69cb\u7bc9"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u57fa\u672c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'def build_prompt(query, retrieved_docs):\n    context = "\\n\\n".join([\n        f"\u6587\u66f8{i+1}: {doc.content}\\n\u51fa\u5178: {doc.metadata[\'source\']}"\n        for i, doc in enumerate(retrieved_docs)\n    ])\n\n    prompt = f"""\n\u4ee5\u4e0b\u306e\u6587\u66f8\u3092\u53c2\u7167\u3057\u3066\u3001\u8cea\u554f\u306b\u56de\u7b54\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u6587\u66f8\u306b\u8a18\u8f09\u304c\u306a\u3044\u5834\u5408\u306f\u300c\u60c5\u5831\u304c\u3042\u308a\u307e\u305b\u3093\u300d\u3068\u7b54\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3010\u53c2\u7167\u6587\u66f8\u3011\n{context}\n\n\u3010\u8cea\u554f\u3011\n{query}\n\n\u3010\u56de\u7b54\u3011\n\u56de\u7b54:\n\u51fa\u5178:\n"""\n    return prompt\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u51fa\u529b\u4f8b"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u4ee5\u4e0b\u306e\u6587\u66f8\u3092\u53c2\u7167\u3057\u3066\u3001\u8cea\u554f\u306b\u56de\u7b54\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3010\u53c2\u7167\u6587\u66f8\u3011\n\u6587\u66f81: OAuth 2.0\u306f\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\n\u30e6\u30fc\u30b6\u30fc\u306e\u30ea\u30bd\u30fc\u30b9\u3078\u306e\u9650\u5b9a\u7684\u306a\u30a2\u30af\u30bb\u30b9\u3092\u53d6\u5f97\u3067\u304d\u308b\n\u3088\u3046\u306b\u3059\u308b\u8a8d\u53ef\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002\n\u51fa\u5178: oauth-overview.md\n\n\u6587\u66f82: \u8a8d\u53ef\u30b3\u30fc\u30c9\u30d5\u30ed\u30fc\u306f\u3001OAuth 2.0\u3067\u6700\u3082\u5b89\u5168\u306a\n\u30d5\u30ed\u30fc\u3067\u3042\u308a\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u3092\u4fdd\u8b77\u3067\u304d\u308b\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n\u51fa\u5178: oauth-flows.md\n\n\u3010\u8cea\u554f\u3011\nOAuth 2.0\u306e\u6700\u3082\u5b89\u5168\u306a\u30d5\u30ed\u30fc\u306f\u4f55\u3067\u3059\u304b?\n\n\u3010\u56de\u7b54\u3011\n\u56de\u7b54: OAuth 2.0\u306e\u6700\u3082\u5b89\u5168\u306a\u30d5\u30ed\u30fc\u306f\u8a8d\u53ef\u30b3\u30fc\u30c9\u30d5\u30ed\u30fc\u3067\u3059\u3002\n\u3053\u308c\u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u3092\u4fdd\u8b77\u3067\u304d\u308b\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n\n\u51fa\u5178: oauth-flows.md\n"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h3,{id:"2-llm\u751f\u6210",children:"2. LLM\u751f\u6210"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'from openai import OpenAI\n\ndef generate_answer(prompt):\n    client = OpenAI()\n\n    response = client.chat.completions.create(\n        model="gpt-4-turbo",\n        messages=[\n            {\n                "role": "system",\n                "content": "\u3042\u306a\u305f\u306f\u6280\u8853\u6587\u66f8\u306b\u57fa\u3065\u3044\u3066\u6b63\u78ba\u306b\u56de\u7b54\u3059\u308b\u30a2\u30b7\u30b9\u30bf\u30f3\u30c8\u3067\u3059\u3002"\n            },\n            {\n                "role": "user",\n                "content": prompt\n            }\n        ],\n        temperature=0.1  # \u4f4e\u6e29\u5ea6\u3067\u4e8b\u5b9f\u91cd\u8996\n    )\n\n    return response.choices[0].message.content\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u9ad8\u5ea6\u306arag\u30c6\u30af\u30cb\u30c3\u30af",children:"\u9ad8\u5ea6\u306aRAG\u30c6\u30af\u30cb\u30c3\u30af"}),"\n",(0,d.jsx)(e.h3,{id:"1-\u518d\u30e9\u30f3\u30ad\u30f3\u30b0re-ranking",children:"1. \u518d\u30e9\u30f3\u30ad\u30f3\u30b0\uff08Re-ranking\uff09"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u554f\u984c"}),": \u521d\u671f\u691c\u7d22\u3067\u95a2\u9023\u5ea6\u306e\u4f4e\u3044\u6587\u66f8\u304c\u6df7\u5165"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u518d\u30e9\u30f3\u30ad\u30f3\u30b0\u306e\u6d41\u308c                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u30d9\u30af\u30c8\u30eb\u691c\u7d22\uff08\u9ad8\u901f\u30fb\u4f4e\u7cbe\u5ea6\uff09            \u2502\n\u2502  \u2192 Top 20\u6587\u66f8\u53d6\u5f97                       \u2502\n\u2502       \u2193                                 \u2502\n\u2502  \u518d\u30e9\u30f3\u30ad\u30f3\u30b0\u30e2\u30c7\u30eb\uff08\u4f4e\u901f\u30fb\u9ad8\u7cbe\u5ea6\uff09      \u2502\n\u2502  \u2192 Top 3\u6587\u66f8\u306b\u7d5e\u308a\u8fbc\u307f                  \u2502\n\u2502       \u2193                                 \u2502\n\u2502  LLM\u306b\u6e21\u3059                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u5b9f\u88c5\u4f8b"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:"from sentence_transformers import CrossEncoder\n\n# \u518d\u30e9\u30f3\u30ad\u30f3\u30b0\u30e2\u30c7\u30eb\nreranker = CrossEncoder('cross-encoder/ms-marco-MiniLM-L-6-v2')\n\ndef rerank(query, candidates):\n    # \u30af\u30a8\u30ea\u3068\u5404\u5019\u88dc\u306e\u30da\u30a2\u3067\u30b9\u30b3\u30a2\u8a08\u7b97\n    pairs = [[query, doc.content] for doc in candidates]\n    scores = reranker.predict(pairs)\n\n    # \u30b9\u30b3\u30a2\u3067\u30bd\u30fc\u30c8\n    ranked = sorted(\n        zip(candidates, scores),\n        key=lambda x: x[1],\n        reverse=True\n    )\n\n    return [doc for doc, score in ranked[:3]]\n"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h3,{id:"2-\u81ea\u5df1\u554f\u3044\u5408\u308f\u305bself-querying",children:"2. \u81ea\u5df1\u554f\u3044\u5408\u308f\u305b\uff08Self-Querying\uff09"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u6982\u5ff5"}),": \u30e6\u30fc\u30b6\u30fc\u8cea\u554f\u3092\u30e1\u30bf\u30c7\u30fc\u30bf\u30d5\u30a3\u30eb\u30bf\u30fc\u306b\u5909\u63db"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'\u30e6\u30fc\u30b6\u30fc\u8cea\u554f: "2024\u5e74\u4ee5\u964d\u306eOAuth\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3"\n      \u2193\nLLM\u3067\u30d1\u30fc\u30b9\n      \u2193\n{\n  "semantic_query": "OAuth\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3",\n  "filters": {\n    "date": {"gte": "2024-01-01"},\n    "category": "security"\n  }\n}\n      \u2193\n\u30d9\u30af\u30c8\u30eb\u691c\u7d22 + \u30e1\u30bf\u30c7\u30fc\u30bf\u30d5\u30a3\u30eb\u30bf\u30fc\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h3,{id:"3-\u89aa\u5b50\u30c1\u30e3\u30f3\u30ad\u30f3\u30b0",children:"3. \u89aa\u5b50\u30c1\u30e3\u30f3\u30ad\u30f3\u30b0"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u6226\u7565"}),": \u691c\u7d22\u306f\u5c0f\u30c1\u30e3\u30f3\u30af\u3001\u751f\u6210\u306b\u306f\u5927\u30c1\u30e3\u30f3\u30af"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      \u89aa\u5b50\u30c1\u30e3\u30f3\u30ad\u30f3\u30b0                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\uff08\u5168\u4f53\uff09                    \u2502\n\u2502  \u251c\u2500 \u30bb\u30af\u30b7\u30e7\u30f31\uff08\u89aa\uff09                   \u2502\n\u2502  \u2502  \u251c\u2500 \u30d1\u30e9\u30b0\u30e9\u30d51-1\uff08\u5b50\uff09\u2190 \u691c\u7d22\u5bfe\u8c61   \u2502\n\u2502  \u2502  \u251c\u2500 \u30d1\u30e9\u30b0\u30e9\u30d51-2\uff08\u5b50\uff09             \u2502\n\u2502  \u2502  \u2514\u2500 \u30d1\u30e9\u30b0\u30e9\u30d51-3\uff08\u5b50\uff09             \u2502\n\u2502  \u251c\u2500 \u30bb\u30af\u30b7\u30e7\u30f32\uff08\u89aa\uff09                   \u2502\n\u2502  \u2502  \u251c\u2500 \u30d1\u30e9\u30b0\u30e9\u30d52-1\uff08\u5b50\uff09             \u2502\n\u2502  \u2502  \u2514\u2500 \u30d1\u30e9\u30b0\u30e9\u30d52-2\uff08\u5b50\uff09             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u691c\u7d22: \u30d1\u30e9\u30b0\u30e9\u30d51-2 \u304c\u30d2\u30c3\u30c8\n      \u2193\n\u751f\u6210: \u30bb\u30af\u30b7\u30e7\u30f31\uff08\u89aa\uff09\u5168\u4f53\u3092\u4f7f\u7528\n      \u2192 \u6587\u8108\u304c\u8c4a\u5bcc\n"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h3,{id:"4-\u53cd\u5fa9\u7684\u691c\u7d22iterative-retrieval",children:"4. \u53cd\u5fa9\u7684\u691c\u7d22\uff08Iterative Retrieval\uff09"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u8907\u96d1\u306a\u8cea\u554f\u3078\u306e\u5bfe\u5fdc"}),":"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'\u8cea\u554f: "OAuth 2.0\u3068OpenID Connect\u306e\u9055\u3044\u306f\u4f55\u3067\u3059\u304b?"\n\n\u30b9\u30c6\u30c3\u30d71: "OAuth 2.0\u3068\u306f" \u3067\u691c\u7d22\n  \u2192 OAuth 2.0\u306e\u57fa\u672c\u60c5\u5831\u3092\u53d6\u5f97\n\n\u30b9\u30c6\u30c3\u30d72: \u53d6\u5f97\u3057\u305f\u60c5\u5831\u3092\u57fa\u306b "OpenID Connect" \u3067\u691c\u7d22\n  \u2192 OpenID Connect\u306e\u60c5\u5831\u3092\u53d6\u5f97\n\n\u30b9\u30c6\u30c3\u30d73: \u4e21\u65b9\u306e\u60c5\u5831\u3092\u7d71\u5408\u3057\u3066\u56de\u7b54\u751f\u6210\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"rag\u306e\u8a55\u4fa1\u6307\u6a19",children:"RAG\u306e\u8a55\u4fa1\u6307\u6a19"}),"\n",(0,d.jsx)(e.h3,{id:"1-\u691c\u7d22\u54c1\u8cearetrieval-quality",children:"1. \u691c\u7d22\u54c1\u8cea\uff08Retrieval Quality\uff09"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"Precision@K"}),": \u53d6\u5f97\u3057\u305f\u4e0a\u4f4dK\u4ef6\u4e2d\u306e\u6b63\u89e3\u7387"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"Top 3\u3067\u53d6\u5f97:\n1. \u2705 \u95a2\u9023\u6587\u66f8\n2. \u2705 \u95a2\u9023\u6587\u66f8\n3. \u274c \u7121\u95a2\u4fc2\u6587\u66f8\n\nPrecision@3 = 2/3 = 0.67\n"})}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"Recall@K"}),": \u5168\u6b63\u89e3\u6587\u66f8\u306e\u3046\u3061\u53d6\u5f97\u3067\u304d\u305f\u5272\u5408"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u6b63\u89e3\u6587\u66f8: 5\u500b\nTop 3\u3067\u53d6\u5f97: 2\u500b\n\nRecall@3 = 2/5 = 0.40\n"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h3,{id:"2-\u751f\u6210\u54c1\u8ceageneration-quality",children:"2. \u751f\u6210\u54c1\u8cea\uff08Generation Quality\uff09"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"Answer Relevance"}),": \u56de\u7b54\u306e\u95a2\u9023\u6027"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'\u8cea\u554f: "OAuth 2.0\u306e\u30d5\u30ed\u30fc\u306f?"\n\u56de\u7b54: "\u8a8d\u53ef\u30b3\u30fc\u30c9\u30d5\u30ed\u30fc\u3001\u30a4\u30f3\u30d7\u30ea\u30b7\u30c3\u30c8\u30d5\u30ed\u30fc..."\n\n\u2192 \u9ad8\u30b9\u30b3\u30a2\uff08\u76f4\u63a5\u7684\u56de\u7b54\uff09\n'})}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"Faithfulness"}),": \u6587\u66f8\u3078\u306e\u5fe0\u5b9f\u6027"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'\u6587\u66f8: "OAuth 2.0\u306f\u8a8d\u53ef\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059"\n\u56de\u7b54: "OAuth 2.0\u306f\u8a8d\u8a3c\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059"\n\n\u2192 \u4f4e\u30b9\u30b3\u30a2\uff08\u4e8b\u5b9f\u6539\u5909\uff09\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u8a55\u4fa1\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af: RAGAS"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'from ragas import evaluate\nfrom ragas.metrics import (\n    faithfulness,\n    answer_relevancy,\n    context_precision,\n    context_recall\n)\n\n# \u8a55\u4fa1\u30c7\u30fc\u30bf\ndata = {\n    "question": ["OAuth 2.0\u3068\u306f?"],\n    "answer": ["OAuth 2.0\u306f\u8a8d\u53ef\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059"],\n    "contexts": [["OAuth 2.0\u306f..."]],\n    "ground_truth": ["\u8a8d\u53ef\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af"]\n}\n\n# \u8a55\u4fa1\u5b9f\u884c\nresult = evaluate(\n    data,\n    metrics=[faithfulness, answer_relevancy]\n)\n\nprint(result)\n# \u2192 faithfulness: 0.95, answer_relevancy: 0.88\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u5b9f\u88c5\u4f8b-\u6700\u5c0f\u9650\u306erag\u30b7\u30b9\u30c6\u30e0",children:"\u5b9f\u88c5\u4f8b: \u6700\u5c0f\u9650\u306eRAG\u30b7\u30b9\u30c6\u30e0"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'from openai import OpenAI\nimport numpy as np\nfrom sklearn.metrics.pairwise import cosine_similarity\n\nclass SimpleRAG:\n    def __init__(self):\n        self.client = OpenAI()\n        self.documents = []\n        self.embeddings = []\n\n    def add_documents(self, docs):\n        """\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u8ffd\u52a0"""\n        for doc in docs:\n            # \u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\u751f\u6210\n            embedding = self.client.embeddings.create(\n                model="text-embedding-3-small",\n                input=doc\n            ).data[0].embedding\n\n            self.documents.append(doc)\n            self.embeddings.append(embedding)\n\n    def search(self, query, top_k=3):\n        """\u985e\u4f3c\u6587\u66f8\u3092\u691c\u7d22"""\n        # \u30af\u30a8\u30ea\u306e\u30a8\u30f3\u30d9\u30c7\u30a3\u30f3\u30b0\n        query_embedding = self.client.embeddings.create(\n            model="text-embedding-3-small",\n            input=query\n        ).data[0].embedding\n\n        # \u30b3\u30b5\u30a4\u30f3\u985e\u4f3c\u5ea6\u8a08\u7b97\n        similarities = cosine_similarity(\n            [query_embedding],\n            self.embeddings\n        )[0]\n\n        # Top-K\u53d6\u5f97\n        top_indices = np.argsort(similarities)[-top_k:][::-1]\n        return [self.documents[i] for i in top_indices]\n\n    def answer(self, query):\n        """RAG\u3067\u56de\u7b54\u751f\u6210"""\n        # \u95a2\u9023\u6587\u66f8\u691c\u7d22\n        docs = self.search(query, top_k=3)\n\n        # \u30d7\u30ed\u30f3\u30d7\u30c8\u69cb\u7bc9\n        context = "\\n\\n".join([f"\u6587\u66f8{i+1}: {doc}"\n                               for i, doc in enumerate(docs)])\n\n        prompt = f"""\n\u4ee5\u4e0b\u306e\u6587\u66f8\u3092\u53c2\u7167\u3057\u3066\u8cea\u554f\u306b\u56de\u7b54\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n{context}\n\n\u8cea\u554f: {query}\n\n\u56de\u7b54:\n"""\n\n        # LLM\u751f\u6210\n        response = self.client.chat.completions.create(\n            model="gpt-4-turbo",\n            messages=[\n                {"role": "system", "content": "\u6b63\u78ba\u306a\u56de\u7b54\u3092\u5fc3\u304c\u3051\u3066\u304f\u3060\u3055\u3044"},\n                {"role": "user", "content": prompt}\n            ],\n            temperature=0.1\n        )\n\n        return response.choices[0].message.content\n\n# \u4f7f\u7528\u4f8b\nrag = SimpleRAG()\n\n# \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u8ffd\u52a0\nrag.add_documents([\n    "OAuth 2.0\u306f\u8a8d\u53ef\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002",\n    "OpenID Connect\u306fOAuth 2.0\u4e0a\u306b\u69cb\u7bc9\u3055\u308c\u305f\u8a8d\u8a3c\u30ec\u30a4\u30e4\u30fc\u3067\u3059\u3002",\n    "JWT\u306fJSON Web Token\u306e\u7565\u3067\u3059\u3002"\n])\n\n# \u8cea\u554f\nanswer = rag.answer("OAuth 2.0\u3068\u306f\u4f55\u3067\u3059\u304b?")\nprint(answer)\n# \u2192 "OAuth 2.0\u306f\u8a8d\u53ef\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059..."\n'})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,d.jsx)(e.h3,{id:"rag\u306e\u5229\u70b9",children:"RAG\u306e\u5229\u70b9"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         RAG\u304c\u3082\u305f\u3089\u3059\u4fa1\u5024                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u2705 \u6700\u65b0\u60c5\u5831\u306e\u6d3b\u7528                       \u2502\n\u2502     \u2192 \u5b66\u7fd2\u30c7\u30fc\u30bf\u306e\u6642\u9593\u5236\u7d04\u3092\u8d85\u3048\u308b       \u2502\n\u2502                                         \u2502\n\u2502  \u2705 \u5c02\u9580\u77e5\u8b58\u306e\u7d71\u5408                       \u2502\n\u2502     \u2192 \u793e\u5185\u6587\u66f8\u3001\u6280\u8853\u4ed5\u69d8\u66f8\u306a\u3069           \u2502\n\u2502                                         \u2502\n\u2502  \u2705 \u30cf\u30eb\u30b7\u30cd\u30fc\u30b7\u30e7\u30f3\u524a\u6e1b                 \u2502\n\u2502     \u2192 \u6587\u66f8\u306b\u57fa\u3065\u304f\u56de\u7b54                   \u2502\n\u2502                                         \u2502\n\u2502  \u2705 \u900f\u660e\u6027                               \u2502\n\u2502     \u2192 \u30bd\u30fc\u30b9\u5f15\u7528\u3067\u691c\u8a3c\u53ef\u80fd               \u2502\n\u2502                                         \u2502\n\u2502  \u2705 \u30b3\u30b9\u30c8\u52b9\u7387                           \u2502\n\u2502     \u2192 \u30d5\u30a1\u30a4\u30f3\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u4e0d\u8981           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsx)(e.h3,{id:"\u8ab2\u984c\u3068\u5bfe\u7b56",children:"\u8ab2\u984c\u3068\u5bfe\u7b56"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u8ab2\u984c"}),(0,d.jsx)(e.th,{children:"\u5bfe\u7b56"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u30c1\u30e3\u30f3\u30af\u5883\u754c\u3067\u60c5\u5831\u5206\u65ad"}),(0,d.jsx)(e.td,{children:"\u91cd\u8907\uff08Overlap\uff09\u3001\u89aa\u5b50\u30c1\u30e3\u30f3\u30ad\u30f3\u30b0"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u7121\u95a2\u4fc2\u6587\u66f8\u306e\u6df7\u5165"}),(0,d.jsx)(e.td,{children:"\u518d\u30e9\u30f3\u30ad\u30f3\u30b0\u3001\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u691c\u7d22"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u8907\u96d1\u306a\u8cea\u554f\u3078\u306e\u5bfe\u5fdc"}),(0,d.jsx)(e.td,{children:"\u53cd\u5fa9\u7684\u691c\u7d22\u3001\u81ea\u5df1\u554f\u3044\u5408\u308f\u305b"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u9577\u5236\u9650"}),(0,d.jsx)(e.td,{children:"\u8981\u7d04\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0"})]})]})]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/ai-fundamentals/ai-agents",children:"05-ai-agents.md"})," - RAG\u3092\u6d3b\u7528\u3057\u305fAI Agent"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/ai-fundamentals/modern-ai-tools",children:"06-modern-ai-tools.md"})," - RAG\u5b9f\u88c5\u30c4\u30fc\u30eb\u6bd4\u8f03"]}),"\n"]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u53c2\u8003\u30ea\u30f3\u30af",children:"\u53c2\u8003\u30ea\u30f3\u30af"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://python.langchain.com/docs/use_cases/question_answering/",children:"LangChain RAG Tutorial"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://docs.llamaindex.ai/",children:"LlamaIndex Documentation"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://github.com/pgvector/pgvector",children:"pgvector GitHub"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://github.com/explodinggradients/ragas",children:"RAGAS Framework"})}),"\n"]})]})}function o(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(a,{...n})}):a(n)}},28453:(n,e,r)=>{r.d(e,{R:()=>t,x:()=>l});var s=r(96540);const d={},i=s.createContext(d);function t(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:t(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);