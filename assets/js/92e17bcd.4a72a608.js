"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[21034],{80096:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>l,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"content_06_developer-guide/refactoring/refactor-02-fido2-webauthn-improvements","title":"FIDO2/WebAuthn \u5b9f\u88c5\u6539\u5584\u30d0\u30c3\u30af\u30ed\u30b0","description":"\u6982\u8981","source":"@site/docs/content_06_developer-guide/99-refactoring/refactor-02-fido2-webauthn-improvements.md","sourceDirName":"content_06_developer-guide/99-refactoring","slug":"/content_06_developer-guide/refactoring/refactor-02-fido2-webauthn-improvements","permalink":"/idp-server/docs/content_06_developer-guide/refactoring/refactor-02-fido2-webauthn-improvements","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_06_developer-guide/99-refactoring/refactor-02-fido2-webauthn-improvements.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"JWT\u8a8d\u8a3c\u30ed\u30b8\u30c3\u30af\u306e\u5171\u901a\u5316\u691c\u8a0e","permalink":"/idp-server/docs/content_06_developer-guide/refactoring/refactor-01-jwt-authentication-unification"},"next":{"title":"\u521d\u7d1a\u30e9\u30fc\u30cb\u30f3\u30b0\u30d1\u30b9\uff081-2\u9031\u9593\uff09","permalink":"/idp-server/docs/content_06_developer-guide/learning-paths/beginner"}}');var i=r(74848),d=r(28453);const l={},t="FIDO2/WebAuthn \u5b9f\u88c5\u6539\u5584\u30d0\u30c3\u30af\u30ed\u30b0",c={},h=[{value:"\u6982\u8981",id:"\u6982\u8981",level:2},{value:"\u73fe\u5728\u306e\u5b9f\u88c5\u72b6\u6cc1",id:"\u73fe\u5728\u306e\u5b9f\u88c5\u72b6\u6cc1",level:2},{value:"\u5b8c\u6210\u6e08\u307f\u6a5f\u80fd",id:"\u5b8c\u6210\u6e08\u307f\u6a5f\u80fd",level:3},{value:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",level:3},{value:"\u6b8b\u8ab2\u984c\u4e00\u89a7",id:"\u6b8b\u8ab2\u984c\u4e00\u89a7",level:2},{value:"Phase 1: \u9ad8\u512a\u5148\u5ea6",id:"phase-1-\u9ad8\u512a\u5148\u5ea6",level:3},{value:"1.1 \u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u6539\u5584 \u2705",id:"11-\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u6539\u5584-",level:4},{value:"1.2 allowCredentials\u691c\u8a3c\u306e\u8ffd\u52a0\uff08CVE-2025-26788\u5bfe\u7b56\uff09 \u2705",id:"12-allowcredentials\u691c\u8a3c\u306e\u8ffd\u52a0cve-2025-26788\u5bfe\u7b56-",level:4},{value:"1.4 \u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u4e00\u89a7API",id:"14-\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u4e00\u89a7api",level:4},{value:"1.5 \u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u524a\u9664API",id:"15-\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u524a\u9664api",level:4},{value:"Phase 2: \u4e2d\u512a\u5148\u5ea6",id:"phase-2-\u4e2d\u512a\u5148\u5ea6",level:3},{value:"2.1 \u30c7\u30d0\u30a4\u30b9\u540d\u30d5\u30a3\u30fc\u30eb\u30c9\u8ffd\u52a0",id:"21-\u30c7\u30d0\u30a4\u30b9\u540d\u30d5\u30a3\u30fc\u30eb\u30c9\u8ffd\u52a0",level:4},{value:"2.2 \u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u540d\u5909\u66f4API",id:"22-\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u540d\u5909\u66f4api",level:4},{value:"2.3 \u30d1\u30b9\u30ad\u30fc\u7ba1\u7406UI\uff08sample-web\uff09",id:"23-\u30d1\u30b9\u30ad\u30fc\u7ba1\u7406uisample-web",level:4},{value:"Phase 3: \u4f4e\u512a\u5148\u5ea6",id:"phase-3-\u4f4e\u512a\u5148\u5ea6",level:3},{value:"3.1 WebAuthn Level 3 Backup Flags\u5bfe\u5fdc \u2705",id:"31-webauthn-level-3-backup-flags\u5bfe\u5fdc-",level:4},{value:"3.2 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u9023\u643a \u2705",id:"32-\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u9023\u643a-",level:4},{value:"3.3 \u30ec\u30fc\u30c8\u5236\u9650",id:"33-\u30ec\u30fc\u30c8\u5236\u9650",level:4},{value:"3.4 \u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u30e1\u30bf\u30c7\u30fc\u30bf\u62e1\u5f35",id:"34-\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u30e1\u30bf\u30c7\u30fc\u30bf\u62e1\u5f35",level:4},{value:"\u95a2\u9023\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7",id:"\u95a2\u9023\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7",level:2},{value:"\u30b3\u30a2\u5b9f\u88c5",id:"\u30b3\u30a2\u5b9f\u88c5",level:3},{value:"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9",id:"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9",level:3},{value:"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\uff08app-view\uff09",id:"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9app-view",level:3},{value:"\u53c2\u8003\u60c5\u5831",id:"\u53c2\u8003\u60c5\u5831",level:2},{value:"WebAuthn\u4ed5\u69d8",id:"webauthn\u4ed5\u69d8",level:3},{value:"\u95a2\u9023Issue/PR",id:"\u95a2\u9023issuepr",level:3},{value:"\u66f4\u65b0\u5c65\u6b74",id:"\u66f4\u65b0\u5c65\u6b74",level:2}];function j(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"fido2webauthn-\u5b9f\u88c5\u6539\u5584\u30d0\u30c3\u30af\u30ed\u30b0",children:"FIDO2/WebAuthn \u5b9f\u88c5\u6539\u5584\u30d0\u30c3\u30af\u30ed\u30b0"})}),"\n",(0,i.jsx)(n.h2,{id:"\u6982\u8981",children:"\u6982\u8981"}),"\n",(0,i.jsx)(n.p,{children:"FIDO2/WebAuthn\u5b9f\u88c5\u306e\u73fe\u72b6\u5206\u6790\u3068\u6b8b\u8ab2\u984c\u3092\u307e\u3068\u3081\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3002\n\u73fe\u5728\u306e\u5b9f\u88c5\u306f\u57fa\u672c\u6a5f\u80fd\u304c\u5b8c\u6210\u3057\u3066\u304a\u308a\u3001\u672c\u756a\u904b\u7528\u53ef\u80fd\u306a\u72b6\u614b\u3060\u304c\u3001\u3044\u304f\u3064\u304b\u306e\u6539\u5584\u70b9\u304c\u5b58\u5728\u3059\u308b\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u73fe\u5728\u306e\u5b9f\u88c5\u72b6\u6cc1",children:"\u73fe\u5728\u306e\u5b9f\u88c5\u72b6\u6cc1"}),"\n",(0,i.jsx)(n.h3,{id:"\u5b8c\u6210\u6e08\u307f\u6a5f\u80fd",children:"\u5b8c\u6210\u6e08\u307f\u6a5f\u80fd"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u6a5f\u80fd"}),(0,i.jsx)(n.th,{children:"\u72b6\u614b"}),(0,i.jsx)(n.th,{children:"\u5099\u8003"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u767b\u9332\u30c1\u30e3\u30ec\u30f3\u30b8\u751f\u6210"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jRegistrationChallengeExecutor"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u767b\u9332\u691c\u8a3c\u30fb\u4fdd\u5b58"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jRegistrationExecutor"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u30c1\u30e3\u30ec\u30f3\u30b8\u751f\u6210"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jAuthenticationChallengeExecutor"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u691c\u8a3c"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jAuthenticationExecutor"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u30de\u30eb\u30c1\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u5bfe\u5fdc"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"1\u30e6\u30fc\u30b6\u30fc\u3067\u8907\u6570\u30d1\u30b9\u30ad\u30fc\u767b\u9332\u53ef\u80fd"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u5bfe\u5fdc"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsxs)(n.td,{children:["\u5168\u30af\u30a8\u30ea\u3067 ",(0,i.jsx)(n.code,{children:"tenant_id"})," \u4f7f\u7528"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PostgreSQL\u5bfe\u5fdc"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PostgresqlExecutor"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"MySQL\u5bfe\u5fdc"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MysqlExecutor"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"signCount\u691c\u8a3c\uff08\u30af\u30ed\u30fc\u30f3\u691c\u51fa\uff09"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u6642\u306b\u30ab\u30a6\u30f3\u30bf\u691c\u8a3c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"transports\u4fdd\u5b58"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"UX\u6700\u9069\u5316\u7528"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"credProtect\u4fdd\u5b58"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"\u4fdd\u8b77\u30ec\u30d9\u30eb"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Resident Key (Discoverable Credential)"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"rk"})," \u30d5\u30e9\u30b0\u4fdd\u5b58"]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",children:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Application Plane API                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Fido2RegistrationChallengeInteractor                          \u2502\n\u2502  Fido2RegistrationInteractor                                    \u2502\n\u2502  Fido2AuthenticationChallengeInteractor                        \u2502\n\u2502  Fido2AuthenticationInteractor                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                    WebAuthn4j Adapter                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  WebAuthn4jRegistrationChallengeExecutor                       \u2502\n\u2502  WebAuthn4jRegistrationExecutor                                 \u2502\n\u2502  WebAuthn4jAuthenticationChallengeExecutor                     \u2502\n\u2502  WebAuthn4jAuthenticationExecutor                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  WebAuthn4jCredentialRepository (Interface)                    \u2502\n\u2502    \u2514\u2500\u2500 WebAuthn4jCredentialDataSource (Implementation)         \u2502\n\u2502          \u251c\u2500\u2500 PostgresqlExecutor                                \u2502\n\u2502          \u2514\u2500\u2500 MysqlExecutor                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u6b8b\u8ab2\u984c\u4e00\u89a7",children:"\u6b8b\u8ab2\u984c\u4e00\u89a7"}),"\n",(0,i.jsx)(n.h3,{id:"phase-1-\u9ad8\u512a\u5148\u5ea6",children:"Phase 1: \u9ad8\u512a\u5148\u5ea6"}),"\n",(0,i.jsx)(n.h4,{id:"11-\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u6539\u5584-",children:"1.1 \u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u6539\u5584 \u2705"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ab2\u984c"}),": \u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u691c\u7d22\u5931\u6557\u6642\u306e\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u304c\u4e0d\u9069\u5207"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u73fe\u72b6"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"WebAuthn4jCredentialDataSource.get()"})," \u304c ",(0,i.jsx)(n.code,{children:"NotFoundException"})," \u3092\u30b9\u30ed\u30fc"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"WebAuthn4jAuthenticationExecutor"})," \u3067 generic ",(0,i.jsx)(n.code,{children:"Exception"})," \u3068\u3057\u3066\u30ad\u30e3\u30c3\u30c1"]}),"\n",(0,i.jsx)(n.li,{children:"\u7d50\u679c: 500 Internal Server Error \u3068\u3057\u3066\u8fd4\u5374"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"libs/idp-server-webauthn4j-adapter/src/main/java/org/idp/server/authenticators/webauthn4j/WebAuthn4jAuthenticationExecutor.java:87"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"libs/idp-server-webauthn4j-adapter/src/main/java/org/idp/server/authenticators/webauthn4j/datasource/credential/WebAuthn4jCredentialDataSource.java:75"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u6539\u5584\u6848"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// WebAuthn4jAuthenticationExecutor.java\ntry {\n    WebAuthn4jCredential credential = credentialRepository.get(tenant, id);\n    // ...\n} catch (NotFoundException e) {\n    log.warn("Credential not found: id={}, tenant={}", id, tenant.identifier());\n    return AuthenticationResult.clientError("credential_not_found", "Credential not found for this user");\n} catch (WebAuthn4jBadRequestException e) {\n    // existing handling\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u671f\u5f85\u3055\u308c\u308b\u52d5\u4f5c"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"404 Not Found \u30ec\u30b9\u30dd\u30f3\u30b9"}),"\n",(0,i.jsxs)(n.li,{children:["\u660e\u78ba\u306a\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8: ",(0,i.jsx)(n.code,{children:"credential_not_found"})]}),"\n",(0,i.jsx)(n.li,{children:"\u30ed\u30b0\u51fa\u529b\uff08\u8b66\u544a\u30ec\u30d9\u30eb\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"12-allowcredentials\u691c\u8a3c\u306e\u8ffd\u52a0cve-2025-26788\u5bfe\u7b56-",children:"1.2 allowCredentials\u691c\u8a3c\u306e\u8ffd\u52a0\uff08CVE-2025-26788\u5bfe\u7b56\uff09 \u2705"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ab2\u984c"}),": Non-Discoverable Credential\u8a8d\u8a3c\u6642\u306ballowCredentials\u30ea\u30b9\u30c8\u306e\u691c\u8a3c\u304c\u30b9\u30ad\u30c3\u30d7\u3055\u308c\u3066\u3044\u308b"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u80cc\u666f"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CVE-2025-26788: StrongKey FIDO Server\u3067\u767a\u898b\u3055\u308c\u305f\u8106\u5f31\u6027"}),"\n",(0,i.jsx)(n.li,{children:"\u653b\u6483\u8005\u304cCredential ID\u3092\u6539\u3056\u3093\u3057\u3001\u5225\u30e6\u30fc\u30b6\u30fc\u306b\u306a\u308a\u3059\u307e\u3059\u653b\u6483"}),"\n",(0,i.jsxs)(n.li,{children:["\u53c2\u8003: ",(0,i.jsx)(n.a,{href:"https://blog.flatt.tech/entry/passkey_security_2",children:"https://blog.flatt.tech/entry/passkey_security_2"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"idp-server\u306e\u73fe\u72b6"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u8106\u5f31\u3067\u306f\u306a\u3044"}),": \u30e6\u30fc\u30b6\u30fc\u8b58\u5225\u304cCredential ID\u304b\u3089\u9006\u5f15\u304d\u3055\u308c\u308b\u305f\u3081\u3001\u653b\u6483\u8005\u306f\u81ea\u5206\u81ea\u8eab\u3068\u3057\u3066\u3057\u304b\u8a8d\u8a3c\u3067\u304d\u306a\u3044"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u305f\u3060\u3057"}),": ",(0,i.jsx)(n.code,{children:"allowCredentials"}),"\u691c\u8a3c\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u304a\u308a\u3001Defense in Depth\u306e\u89b3\u70b9\u3067\u6539\u5584\u304c\u5fc5\u8981"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u73fe\u72b6\u30b3\u30fc\u30c9"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// WebAuthn4jAuthenticationManager.java:86\nList<byte[]> allowCredentials = null;  // \u5e38\u306bnull\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"libs/idp-server-webauthn4j-adapter/src/main/java/org/idp/server/authenticators/webauthn4j/WebAuthn4jAuthenticationManager.java:86"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"libs/idp-server-webauthn4j-adapter/src/main/java/org/idp/server/authenticators/webauthn4j/WebAuthn4jChallenge.java"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u6539\u5584\u6848"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// WebAuthn4jChallenge.java\npublic class WebAuthn4jChallenge implements Challenge {\n    // \u65e2\u5b58\u30d5\u30a3\u30fc\u30eb\u30c9\n    private List<byte[]> allowCredentials;  // \u8ffd\u52a0\n\n    public List<byte[]> getAllowCredentials() {\n        return allowCredentials;\n    }\n}\n\n// WebAuthn4jAuthenticationManager.java\nprivate AuthenticationParameters toAuthenticationParameters(\n    CredentialRecordImpl credentialRecord) {\n    // ...\n    List<byte[]> allowCredentials = challenge.getAllowCredentials();  // null\u3067\u306f\u306a\u304f\u30c1\u30e3\u30ec\u30f3\u30b8\u304b\u3089\u53d6\u5f97\n    // ...\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u671f\u5f85\u3055\u308c\u308b\u52d5\u4f5c"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Non-Discoverable Credential\u30d5\u30ed\u30fc\u3067\u3001\u8a31\u53ef\u3055\u308c\u3066\u3044\u306a\u3044Credential ID\u3092\u62d2\u5426"}),"\n",(0,i.jsx)(n.li,{children:"Discoverable Credential\u30d5\u30ed\u30fc\u3067\u306f\u5f15\u304d\u7d9a\u304dnull\uff08\u4ed5\u69d8\u901a\u308a\uff09"}),"\n",(0,i.jsxs)(n.li,{children:["\u30a8\u30e9\u30fc\u6642: ",(0,i.jsx)(n.code,{children:"credential_not_allowed"})," \u30a8\u30e9\u30fc\u3092\u8fd4\u5374"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u512a\u5148\u5ea6"}),": \u9ad8\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5f37\u5316\uff09"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"14-\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u4e00\u89a7api",children:"1.4 \u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u4e00\u89a7API"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ab2\u984c"}),": \u767b\u9332\u6e08\u307f\u30d1\u30b9\u30ad\u30fc\u306e\u4e00\u89a7\u53d6\u5f97API\u304c\u672a\u5b9f\u88c5"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u5b9f\u88c5"}),": \u2705 \u5b8c\u4e86"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jCredentialRepository.findAll(Tenant, String userId)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jCredentialRepository.findByUsername(Tenant, String username)"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5fc5\u8981\u306a\u4f5c\u696d"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Control Plane API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"GET /v1/users/{userId}/credentials"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"GET /v1/credentials?username={username}"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"OpenAPI\u5b9a\u7fa9\u8ffd\u52a0"}),"\n",(0,i.jsx)(n.li,{children:"\u30ec\u30b9\u30dd\u30f3\u30b9\u5f62\u5f0f\u5b9a\u7fa9"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u30ec\u30b9\u30dd\u30f3\u30b9\u4f8b"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "credentials": [\n    {\n      "id": "abc123...",\n      "created_at": "2024-01-15T10:30:00Z",\n      "last_used_at": "2024-01-20T08:00:00Z",\n      "device_name": "iPhone 15 Pro",\n      "transports": ["internal"],\n      "backup_eligible": true,\n      "backup_state": true\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"15-\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u524a\u9664api",children:"1.5 \u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u524a\u9664API"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ab2\u984c"}),": \u30d1\u30b9\u30ad\u30fc\u524a\u9664API\u304c\u672a\u5b9f\u88c5"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u5b9f\u88c5"}),": \u2705 \u5b8c\u4e86"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jCredentialRepository.delete(Tenant, String credentialId)"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5fc5\u8981\u306a\u4f5c\u696d"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Control Plane API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"DELETE /v1/credentials/{credentialId}"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u524a\u9664\u524d\u306e\u691c\u8a3c\u30ed\u30b8\u30c3\u30af","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6700\u5f8c\u306e1\u3064\u3092\u524a\u9664\u3059\u308b\u5834\u5408\u306e\u8b66\u544a/\u62d2\u5426"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u51fa\u529b"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"phase-2-\u4e2d\u512a\u5148\u5ea6",children:"Phase 2: \u4e2d\u512a\u5148\u5ea6"}),"\n",(0,i.jsx)(n.h4,{id:"21-\u30c7\u30d0\u30a4\u30b9\u540d\u30d5\u30a3\u30fc\u30eb\u30c9\u8ffd\u52a0",children:"2.1 \u30c7\u30d0\u30a4\u30b9\u540d\u30d5\u30a3\u30fc\u30eb\u30c9\u8ffd\u52a0"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ab2\u984c"}),": \u30d1\u30b9\u30ad\u30fc\u306b\u4eba\u9593\u304c\u8aad\u3081\u308b\u540d\u524d\u3092\u4ed8\u3051\u3089\u308c\u306a\u3044"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5fc5\u8981\u306a\u4f5c\u696d"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["DB\u30b9\u30ad\u30fc\u30de\u5909\u66f4","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"ALTER TABLE webauthn_credentials ADD COLUMN device_name VARCHAR(128);\n"})}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Flyway \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u8ffd\u52a0"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"WebAuthn4jCredential"})," \u30e2\u30c7\u30eb\u66f4\u65b0"]}),"\n",(0,i.jsx)(n.li,{children:"\u767b\u9332\u6642\u306e\u30c7\u30d0\u30a4\u30b9\u540d\u81ea\u52d5\u691c\u51fa\uff08User-Agent\u89e3\u6790\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"22-\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u540d\u5909\u66f4api",children:"2.2 \u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u540d\u5909\u66f4API"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ab2\u984c"}),": \u767b\u9332\u5f8c\u306b\u30d1\u30b9\u30ad\u30fc\u306e\u8868\u793a\u540d\u3092\u5909\u66f4\u3067\u304d\u306a\u3044"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5fc5\u8981\u306a\u4f5c\u696d"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Control Plane API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u8ffd\u52a0","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"PUT /v1/credentials/{credentialId}"})}),"\n",(0,i.jsxs)(n.li,{children:["Request body: ",(0,i.jsx)(n.code,{children:'{ "device_name": "My MacBook" }'})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Repository \u30e1\u30bd\u30c3\u30c9\u8ffd\u52a0","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"updateDeviceName(Tenant, String credentialId, String deviceName)"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"23-\u30d1\u30b9\u30ad\u30fc\u7ba1\u7406uisample-web",children:"2.3 \u30d1\u30b9\u30ad\u30fc\u7ba1\u7406UI\uff08sample-web\uff09"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ab2\u984c"}),": \u30e6\u30fc\u30b6\u30fc\u304c\u30d1\u30b9\u30ad\u30fc\u3092\u7ba1\u7406\u3059\u308bUI\u304c\u306a\u3044"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5fc5\u8981\u306a\u4f5c\u696d"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u30d1\u30b9\u30ad\u30fc\u4e00\u89a7\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"}),"\n",(0,i.jsx)(n.li,{children:"\u524a\u9664\u78ba\u8a8d\u30c0\u30a4\u30a2\u30ed\u30b0"}),"\n",(0,i.jsx)(n.li,{children:"\u540d\u524d\u5909\u66f4\u6a5f\u80fd"}),"\n",(0,i.jsx)(n.li,{children:"\u6700\u7d42\u4f7f\u7528\u65e5\u6642\u8868\u793a"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"phase-3-\u4f4e\u512a\u5148\u5ea6",children:"Phase 3: \u4f4e\u512a\u5148\u5ea6"}),"\n",(0,i.jsx)(n.h4,{id:"31-webauthn-level-3-backup-flags\u5bfe\u5fdc-",children:"3.1 WebAuthn Level 3 Backup Flags\u5bfe\u5fdc \u2705"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ab2\u984c"}),": \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u95a2\u9023\u30d5\u30e9\u30b0\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u306a\u3044"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5bfe\u5fdc\u5185\u5bb9"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Core + JSONB \u30d1\u30bf\u30fc\u30f3\u3067DDL\u518d\u8a2d\u8a08"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"backup_eligible"})," (BE)\u3001",(0,i.jsx)(n.code,{children:"backup_state"})," (BS) \u3092Core Column\u3068\u3057\u3066\u8ffd\u52a0"]}),"\n",(0,i.jsx)(n.li,{children:"\u767b\u9332\u6642\u306bAuthenticator Data\u304b\u3089\u30d5\u30e9\u30b0\u3092\u62bd\u51fa"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"WebAuthn4jCredentialConverter"})," \u3067\u30d5\u30e9\u30b0\u3092\u4f7f\u7528"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"32-\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u9023\u643a-",children:"3.2 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u9023\u643a \u2705"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ab2\u984c"}),": FIDO2\u95a2\u9023\u30a4\u30d9\u30f3\u30c8\u304c\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u306a\u3044"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5bfe\u5fdc\u5185\u5bb9"}),": \u5168Interactor\u3067 ",(0,i.jsx)(n.code,{children:"DefaultSecurityEventType"})," \u3092\u4f7f\u7528\u6e08\u307f"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Interactor"}),(0,i.jsx)(n.th,{children:"\u30a4\u30d9\u30f3\u30c8"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Fido2RegistrationChallengeInteractor"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fido2_registration_challenge_success/failure"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Fido2RegistrationInteractor"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fido2_registration_success/failure"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Fido2AuthenticationChallengeInteractor"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fido2_authentication_challenge_success/failure"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Fido2AuthenticationInteractor"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fido2_authentication_success/failure"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Fido2DeregistrationInteractor"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fido2_deregistration_success/failure"})})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"33-\u30ec\u30fc\u30c8\u5236\u9650",children:"3.3 \u30ec\u30fc\u30c8\u5236\u9650"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ab2\u984c"}),": \u8a8d\u8a3c\u30c1\u30e3\u30ec\u30f3\u30b8\u751f\u6210\u306e\u30ec\u30fc\u30c8\u5236\u9650\u304c\u306a\u3044"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u30ea\u30b9\u30af"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"DoS\u653b\u6483\u306b\u3088\u308b\u30ea\u30bd\u30fc\u30b9\u67af\u6e07"}),"\n",(0,i.jsx)(n.li,{children:"\u30c1\u30e3\u30ec\u30f3\u30b8\u7dcf\u5f53\u305f\u308a\u653b\u6483\uff08\u7406\u8ad6\u4e0a\uff09"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5bfe\u5fdc\u6848"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"IP\u30d9\u30fc\u30b9\u306e\u30ec\u30fc\u30c8\u5236\u9650"}),"\n",(0,i.jsx)(n.li,{children:"\u30e6\u30fc\u30b6\u30fc\u30d9\u30fc\u30b9\u306e\u30ec\u30fc\u30c8\u5236\u9650"}),"\n",(0,i.jsx)(n.li,{children:"Exponential backoff"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"34-\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u30e1\u30bf\u30c7\u30fc\u30bf\u62e1\u5f35",children:"3.4 \u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u30e1\u30bf\u30c7\u30fc\u30bf\u62e1\u5f35"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ab2\u984c"}),": \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u76e3\u67fb\u7528\u306e\u60c5\u5831\u304c\u4e0d\u8db3"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u8ffd\u52a0\u3059\u3079\u304d\u30d5\u30a3\u30fc\u30eb\u30c9"}),":"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u30d5\u30a3\u30fc\u30eb\u30c9"}),(0,i.jsx)(n.th,{children:"\u7528\u9014"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"registered_ip"})}),(0,i.jsx)(n.td,{children:"\u767b\u9332\u6642IP\u30a2\u30c9\u30ec\u30b9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"registered_user_agent"})}),(0,i.jsx)(n.td,{children:"\u767b\u9332\u6642User-Agent"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"last_used_ip"})}),(0,i.jsx)(n.td,{children:"\u6700\u7d42\u4f7f\u7528\u6642IP"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"last_used_user_agent"})}),(0,i.jsx)(n.td,{children:"\u6700\u7d42\u4f7f\u7528\u6642User-Agent"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u95a2\u9023\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7",children:"\u95a2\u9023\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7"}),"\n",(0,i.jsx)(n.h3,{id:"\u30b3\u30a2\u5b9f\u88c5",children:"\u30b3\u30a2\u5b9f\u88c5"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u30d5\u30a1\u30a4\u30eb"}),(0,i.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jCredential.java"})}),(0,i.jsx)(n.td,{children:"\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u30e2\u30c7\u30eb"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jCredentialRepository.java"})}),(0,i.jsx)(n.td,{children:"\u30ea\u30dd\u30b8\u30c8\u30ea\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jCredentialDataSource.java"})}),(0,i.jsx)(n.td,{children:"\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9f\u88c5"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jRegistrationChallengeExecutor.java"})}),(0,i.jsx)(n.td,{children:"\u767b\u9332\u30c1\u30e3\u30ec\u30f3\u30b8\u751f\u6210"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jRegistrationExecutor.java"})}),(0,i.jsx)(n.td,{children:"\u767b\u9332\u691c\u8a3c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jAuthenticationChallengeExecutor.java"})}),(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u30c1\u30e3\u30ec\u30f3\u30b8\u751f\u6210"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jAuthenticationExecutor.java"})}),(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u691c\u8a3c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WebAuthn4jConfiguration.java"})}),(0,i.jsx)(n.td,{children:"\u8a2d\u5b9a\u30af\u30e9\u30b9"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9",children:"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u30d5\u30a1\u30a4\u30eb"}),(0,i.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"V0_9_27_2__webauthn4j.sql"})}),(0,i.jsx)(n.td,{children:"PostgreSQL\u30b9\u30ad\u30fc\u30de"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"V0_9_27_2__webauthn.mysql.sql"})}),(0,i.jsx)(n.td,{children:"MySQL\u30b9\u30ad\u30fc\u30de"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PostgresqlExecutor.java"})}),(0,i.jsx)(n.td,{children:"PostgreSQL\u5b9f\u88c5"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MysqlExecutor.java"})}),(0,i.jsx)(n.td,{children:"MySQL\u5b9f\u88c5"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9app-view",children:"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\uff08app-view\uff09"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u30d5\u30a1\u30a4\u30eb"}),(0,i.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"src/pages/signup/fido2/index.tsx"})}),(0,i.jsx)(n.td,{children:"\u30d1\u30b9\u30ad\u30fc\u767b\u9332\u753b\u9762"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"src/pages/signin/fido2/index.tsx"})}),(0,i.jsx)(n.td,{children:"\u30d1\u30b9\u30ad\u30fc\u8a8d\u8a3c\u753b\u9762"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"src/pages/add-passkey/index.tsx"})}),(0,i.jsx)(n.td,{children:"\u30d1\u30b9\u30ad\u30fc\u8ffd\u52a0\uff08\u30e1\u30fc\u30eb\u5165\u529b\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"src/pages/add-passkey/verify/index.tsx"})}),(0,i.jsx)(n.td,{children:"\u30d1\u30b9\u30ad\u30fc\u8ffd\u52a0\uff08\u30b3\u30fc\u30c9\u691c\u8a3c\uff09"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u53c2\u8003\u60c5\u5831",children:"\u53c2\u8003\u60c5\u5831"}),"\n",(0,i.jsx)(n.h3,{id:"webauthn\u4ed5\u69d8",children:"WebAuthn\u4ed5\u69d8"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.w3.org/TR/webauthn-2/",children:"W3C Web Authentication Level 2"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.w3.org/TR/webauthn-3/",children:"W3C Web Authentication Level 3"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://fidoalliance.org/specifications/",children:"FIDO Alliance Specifications"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u95a2\u9023issuepr",children:"\u95a2\u9023Issue/PR"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"TBD: GitHub Issue\u4f5c\u6210\u6642\u306b\u30ea\u30f3\u30af\u8ffd\u52a0"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u66f4\u65b0\u5c65\u6b74",children:"\u66f4\u65b0\u5c65\u6b74"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u65e5\u4ed8"}),(0,i.jsx)(n.th,{children:"\u5185\u5bb9"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"2026-01-20"}),(0,i.jsx)(n.td,{children:"\u521d\u7248\u4f5c\u6210"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"2026-01-21"}),(0,i.jsx)(n.td,{children:"1.2 allowCredentials\u691c\u8a3c\u8ffd\u52a0\uff08CVE-2025-26788\u5bfe\u7b56\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"2026-01-21"}),(0,i.jsx)(n.td,{children:"1.1, 1.2 \u5b9f\u88c5\u5b8c\u4e86"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"2026-01-22"}),(0,i.jsx)(n.td,{children:"3.1 WebAuthn Level 3 Backup Flags\u5bfe\u5fdc\uff08Core + JSONB DDL\u518d\u8a2d\u8a08\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"2026-01-22"}),(0,i.jsx)(n.td,{children:"3.2 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30ed\u30b0\u9023\u643a\uff08\u5b9f\u88c5\u6e08\u307f\u78ba\u8a8d\uff09"})]})]})]})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(j,{...e})}):j(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>t});var s=r(96540);const i={},d=s.createContext(i);function l(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);