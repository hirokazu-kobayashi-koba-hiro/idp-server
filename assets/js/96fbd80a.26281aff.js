"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6343],{31324:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"content_11_learning/linux/logging","title":"\u30ed\u30b0\u7ba1\u7406","description":"Linux\u306e\u30ed\u30b0\u30b7\u30b9\u30c6\u30e0\u3001syslog\u3001journald\u3001\u30ed\u30b0\u306e\u5206\u6790\u65b9\u6cd5\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002","source":"@site/docs/content_11_learning/14-linux/logging.md","sourceDirName":"content_11_learning/14-linux","slug":"/content_11_learning/linux/logging","permalink":"/idp-server/docs/content_11_learning/linux/logging","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/14-linux/logging.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"systemd","permalink":"/idp-server/docs/content_11_learning/linux/systemd"},"next":{"title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76e3\u8996","permalink":"/idp-server/docs/content_11_learning/linux/performance"}}');var s=l(74848),d=l(28453);const i={},a="\u30ed\u30b0\u7ba1\u7406",c={},o=[{value:"\u76ee\u6b21",id:"\u76ee\u6b21",level:2},{value:"Linux\u306e\u30ed\u30b0\u30b7\u30b9\u30c6\u30e0",id:"linux\u306e\u30ed\u30b0\u30b7\u30b9\u30c6\u30e0",level:2},{value:"\u30ed\u30b0\u30b7\u30b9\u30c6\u30e0\u306e\u69cb\u9020",id:"\u30ed\u30b0\u30b7\u30b9\u30c6\u30e0\u306e\u69cb\u9020",level:3},{value:"\u30ed\u30b0\u306e\u512a\u5148\u5ea6\uff08Priority\uff09",id:"\u30ed\u30b0\u306e\u512a\u5148\u5ea6priority",level:3},{value:"\u30d5\u30a1\u30b7\u30ea\u30c6\u30a3\uff08Facility\uff09",id:"\u30d5\u30a1\u30b7\u30ea\u30c6\u30a3facility",level:3},{value:"\u91cd\u8981\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb",id:"\u91cd\u8981\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb",level:2},{value:"\u4e3b\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb",id:"\u4e3b\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb",level:3},{value:"\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d",id:"\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d",level:3},{value:"syslog\u3068rsyslog",id:"syslog\u3068rsyslog",level:2},{value:"rsyslog\u306e\u8a2d\u5b9a",id:"rsyslog\u306e\u8a2d\u5b9a",level:3},{value:"\u30ab\u30b9\u30bf\u30e0\u8a2d\u5b9a\u306e\u8ffd\u52a0",id:"\u30ab\u30b9\u30bf\u30e0\u8a2d\u5b9a\u306e\u8ffd\u52a0",level:3},{value:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u306e\u9001\u4fe1",id:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u306e\u9001\u4fe1",level:3},{value:"\u30ea\u30e2\u30fc\u30c8\u30ed\u30b0\u9001\u4fe1",id:"\u30ea\u30e2\u30fc\u30c8\u30ed\u30b0\u9001\u4fe1",level:3},{value:"journald",id:"journald",level:2},{value:"journalctl\u306e\u57fa\u672c",id:"journalctl\u306e\u57fa\u672c",level:3},{value:"\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0",id:"\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0",level:3},{value:"\u51fa\u529b\u5f62\u5f0f",id:"\u51fa\u529b\u5f62\u5f0f",level:3},{value:"\u30ab\u30fc\u30cd\u30eb\u30ed\u30b0",id:"\u30ab\u30fc\u30cd\u30eb\u30ed\u30b0",level:3},{value:"journald\u8a2d\u5b9a",id:"journald\u8a2d\u5b9a",level:3},{value:"\u30ed\u30b0\u306e\u691c\u7d22\u3068\u5206\u6790",id:"\u30ed\u30b0\u306e\u691c\u7d22\u3068\u5206\u6790",level:2},{value:"grep\u3067\u306e\u691c\u7d22",id:"grep\u3067\u306e\u691c\u7d22",level:3},{value:"awk\u3067\u306e\u5206\u6790",id:"awk\u3067\u306e\u5206\u6790",level:3},{value:"less\u3067\u306e\u95b2\u89a7",id:"less\u3067\u306e\u95b2\u89a7",level:3},{value:"\u8907\u5408\u7684\u306a\u5206\u6790",id:"\u8907\u5408\u7684\u306a\u5206\u6790",level:3},{value:"\u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3",id:"\u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3",level:2},{value:"logrotate\u306e\u8a2d\u5b9a",id:"logrotate\u306e\u8a2d\u5b9a",level:3},{value:"\u8a2d\u5b9a\u4f8b",id:"\u8a2d\u5b9a\u4f8b",level:3},{value:"\u624b\u52d5\u5b9f\u884c",id:"\u624b\u52d5\u5b9f\u884c",level:3},{value:"\u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0",id:"\u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0",level:2},{value:"Docker\u306e\u30ed\u30b0",id:"docker\u306e\u30ed\u30b0",level:3},{value:"Docker\u306e\u30ed\u30b0\u30c9\u30e9\u30a4\u30d0",id:"docker\u306e\u30ed\u30b0\u30c9\u30e9\u30a4\u30d0",level:3},{value:"Kubernetes\u306e\u30ed\u30b0",id:"kubernetes\u306e\u30ed\u30b0",level:3},{value:"\u96c6\u4e2d\u30ed\u30b0\u7ba1\u7406",id:"\u96c6\u4e2d\u30ed\u30b0\u7ba1\u7406",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u4e3b\u8981\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb",id:"\u4e3b\u8981\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb",level:3},{value:"\u4e3b\u8981\u306a\u30b3\u30de\u30f3\u30c9",id:"\u4e3b\u8981\u306a\u30b3\u30de\u30f3\u30c9",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:3},{value:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9",id:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9",level:2}];function t(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u30ed\u30b0\u7ba1\u7406",children:"\u30ed\u30b0\u7ba1\u7406"})}),"\n",(0,s.jsx)(e.p,{children:"Linux\u306e\u30ed\u30b0\u30b7\u30b9\u30c6\u30e0\u3001syslog\u3001journald\u3001\u30ed\u30b0\u306e\u5206\u6790\u65b9\u6cd5\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002"}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u76ee\u6b21",children:"\u76ee\u6b21"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#linux%E3%81%AE%E3%83%AD%E3%82%B0%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0",children:"Linux\u306e\u30ed\u30b0\u30b7\u30b9\u30c6\u30e0"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#%E9%87%8D%E8%A6%81%E3%81%AA%E3%83%AD%E3%82%B0%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB",children:"\u91cd\u8981\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#syslog%E3%81%A8rsyslog",children:"syslog\u3068rsyslog"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#journald",children:"journald"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#%E3%83%AD%E3%82%B0%E3%81%AE%E6%A4%9C%E7%B4%A2%E3%81%A8%E5%88%86%E6%9E%90",children:"\u30ed\u30b0\u306e\u691c\u7d22\u3068\u5206\u6790"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#%E3%83%AD%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%86%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3",children:"\u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%81%AE%E3%83%AD%E3%82%B0",children:"\u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0"})}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"linux\u306e\u30ed\u30b0\u30b7\u30b9\u30c6\u30e0",children:"Linux\u306e\u30ed\u30b0\u30b7\u30b9\u30c6\u30e0"}),"\n",(0,s.jsx)(e.h3,{id:"\u30ed\u30b0\u30b7\u30b9\u30c6\u30e0\u306e\u69cb\u9020",children:"\u30ed\u30b0\u30b7\u30b9\u30c6\u30e0\u306e\u69cb\u9020"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   \u30ed\u30b0\u30b7\u30b9\u30c6\u30e0\u306e\u69cb\u6210                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3                                            \u2502\n\u2502      \u2502                                                      \u2502\n\u2502      \u251c\u2500\u2500 \u6a19\u6e96\u51fa\u529b/\u6a19\u6e96\u30a8\u30e9\u30fc \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502      \u2502                                       \u2502              \u2502\n\u2502      \u251c\u2500\u2500 syslog() \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb \u2500\u2500\u2510          \u2502              \u2502\n\u2502      \u2502                            \u2502          \u2502              \u2502\n\u2502      \u2514\u2500\u2500 \u76f4\u63a5\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u8fbc\u307f      \u2502          \u2502              \u2502\n\u2502          (nginx, apache)          \u2502          \u2502              \u2502\n\u2502                                   \u2502          \u2502              \u2502\n\u2502                                   \u25bc          \u25bc              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502    rsyslogd     \u2502      \u2502    journald     \u2502              \u2502\n\u2502  \u2502                 \u2502\u25c4\u2500\u2500\u2500\u2500\u25ba\u2502                 \u2502              \u2502\n\u2502  \u2502  /var/log/*     \u2502      \u2502  Binary Journal \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2502                                                              \u2502\n\u2502  \u591a\u304f\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u4e21\u65b9\u304c\u9023\u643a                   \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u30ed\u30b0\u306e\u512a\u5148\u5ea6priority",children:"\u30ed\u30b0\u306e\u512a\u5148\u5ea6\uff08Priority\uff09"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u30ec\u30d9\u30eb"}),(0,s.jsx)(e.th,{children:"\u540d\u524d"}),(0,s.jsx)(e.th,{children:"\u8aac\u660e"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"0"}),(0,s.jsx)(e.td,{children:"emerg"}),(0,s.jsx)(e.td,{children:"\u30b7\u30b9\u30c6\u30e0\u4f7f\u7528\u4e0d\u53ef"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"1"}),(0,s.jsx)(e.td,{children:"alert"}),(0,s.jsx)(e.td,{children:"\u5373\u6642\u5bfe\u5fdc\u304c\u5fc5\u8981"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"2"}),(0,s.jsx)(e.td,{children:"crit"}),(0,s.jsx)(e.td,{children:"\u5371\u6a5f\u7684\u72b6\u6cc1"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"3"}),(0,s.jsx)(e.td,{children:"err"}),(0,s.jsx)(e.td,{children:"\u30a8\u30e9\u30fc"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"4"}),(0,s.jsx)(e.td,{children:"warning"}),(0,s.jsx)(e.td,{children:"\u8b66\u544a"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"5"}),(0,s.jsx)(e.td,{children:"notice"}),(0,s.jsx)(e.td,{children:"\u6b63\u5e38\u3060\u304c\u6ce8\u610f"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"6"}),(0,s.jsx)(e.td,{children:"info"}),(0,s.jsx)(e.td,{children:"\u60c5\u5831"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"7"}),(0,s.jsx)(e.td,{children:"debug"}),(0,s.jsx)(e.td,{children:"\u30c7\u30d0\u30c3\u30b0\u60c5\u5831"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"\u30d5\u30a1\u30b7\u30ea\u30c6\u30a3facility",children:"\u30d5\u30a1\u30b7\u30ea\u30c6\u30a3\uff08Facility\uff09"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u540d\u524d"}),(0,s.jsx)(e.th,{children:"\u8aac\u660e"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"kern"}),(0,s.jsx)(e.td,{children:"\u30ab\u30fc\u30cd\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"user"}),(0,s.jsx)(e.td,{children:"\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30b0\u30e9\u30e0"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"mail"}),(0,s.jsx)(e.td,{children:"\u30e1\u30fc\u30eb\u30b7\u30b9\u30c6\u30e0"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"daemon"}),(0,s.jsx)(e.td,{children:"\u30b7\u30b9\u30c6\u30e0\u30c7\u30fc\u30e2\u30f3"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"auth"}),(0,s.jsx)(e.td,{children:"\u8a8d\u8a3c\u30fb\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"syslog"}),(0,s.jsx)(e.td,{children:"syslogd\u81ea\u8eab"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"local0-7"}),(0,s.jsx)(e.td,{children:"\u30ed\u30fc\u30ab\u30eb\u7528\u9014"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u91cd\u8981\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb",children:"\u91cd\u8981\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb"}),"\n",(0,s.jsx)(e.h3,{id:"\u4e3b\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb",children:"\u4e3b\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u30b7\u30b9\u30c6\u30e0\u30ed\u30b0\n/var/log/syslog        # Debian/Ubuntu: \u5168\u822c\u7684\u306a\u30b7\u30b9\u30c6\u30e0\u30ed\u30b0\n/var/log/messages      # RHEL/CentOS: \u5168\u822c\u7684\u306a\u30b7\u30b9\u30c6\u30e0\u30ed\u30b0\n\n# \u8a8d\u8a3c\u30ed\u30b0\n/var/log/auth.log      # Debian/Ubuntu: \u8a8d\u8a3c\u95a2\u9023\n/var/log/secure        # RHEL/CentOS: \u8a8d\u8a3c\u95a2\u9023\n\n# \u30ab\u30fc\u30cd\u30eb\u30ed\u30b0\n/var/log/kern.log      # \u30ab\u30fc\u30cd\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\n/var/log/dmesg         # \u30d6\u30fc\u30c8\u6642\u306e\u30ab\u30fc\u30cd\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\n\n# \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ed\u30b0\n/var/log/nginx/        # Nginx\n/var/log/apache2/      # Apache (Debian)\n/var/log/httpd/        # Apache (RHEL)\n/var/log/mysql/        # MySQL\n/var/log/postgresql/   # PostgreSQL\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d",children:"\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u76e3\u8996\ntail -f /var/log/syslog\ntail -f /var/log/auth.log\n\n# \u8907\u6570\u30d5\u30a1\u30a4\u30eb\u3092\u540c\u6642\u76e3\u8996\ntail -f /var/log/syslog /var/log/auth.log\n\n# \u6700\u65b0100\u884c\ntail -n 100 /var/log/syslog\n\n# \u7279\u5b9a\u30d1\u30bf\u30fc\u30f3\u3092\u691c\u7d22\ngrep "error" /var/log/syslog\ngrep -i "failed" /var/log/auth.log\n\n# \u6642\u9593\u7bc4\u56f2\u3067\u30d5\u30a3\u30eb\u30bf\uff08awk\u3092\u4f7f\u7528\uff09\nawk \'/Dec 23 10:00/,/Dec 23 11:00/\' /var/log/syslog\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"syslog\u3068rsyslog",children:"syslog\u3068rsyslog"}),"\n",(0,s.jsx)(e.h3,{id:"rsyslog\u306e\u8a2d\u5b9a",children:"rsyslog\u306e\u8a2d\u5b9a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n/etc/rsyslog.conf\n/etc/rsyslog.d/*.conf\n\n# \u8a2d\u5b9a\u4f8b\ncat /etc/rsyslog.conf\n\n# \u30eb\u30fc\u30eb\u306e\u5f62\u5f0f: facility.priority  action\n# auth,authpriv.*     /var/log/auth.log\n# *.*                 /var/log/syslog\n# kern.*              /var/log/kern.log\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u30ab\u30b9\u30bf\u30e0\u8a2d\u5b9a\u306e\u8ffd\u52a0",children:"\u30ab\u30b9\u30bf\u30e0\u8a2d\u5b9a\u306e\u8ffd\u52a0"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# /etc/rsyslog.d/50-myapp.conf\n# local0\u306e\u30ed\u30b0\u3092\u5c02\u7528\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\nlocal0.*  /var/log/myapp.log\n\n# \u8a2d\u5b9a\u53cd\u6620\nsudo systemctl restart rsyslog\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u306e\u9001\u4fe1",children:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u306e\u9001\u4fe1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# logger\u30b3\u30de\u30f3\u30c9\u3067syslog\u306b\u9001\u4fe1\nlogger "This is a test message"\nlogger -p local0.info "Application started"\nlogger -t myapp "Custom tag message"\n\n# \u78ba\u8a8d\ntail /var/log/syslog\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u30ea\u30e2\u30fc\u30c8\u30ed\u30b0\u9001\u4fe1",children:"\u30ea\u30e2\u30fc\u30c8\u30ed\u30b0\u9001\u4fe1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# /etc/rsyslog.conf\n\n# UDP\u9001\u4fe1\n*.* @logserver.example.com:514\n\n# TCP\u9001\u4fe1\uff08\u4fe1\u983c\u6027\u304c\u9ad8\u3044\uff09\n*.* @@logserver.example.com:514\n\n# \u30ea\u30e2\u30fc\u30c8\u30ed\u30b0\u53d7\u4fe1\u5074\u306e\u8a2d\u5b9a\n# module(load="imudp")\n# input(type="imudp" port="514")\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"journald",children:"journald"}),"\n",(0,s.jsx)(e.h3,{id:"journalctl\u306e\u57fa\u672c",children:"journalctl\u306e\u57fa\u672c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u3059\u3079\u3066\u306e\u30ed\u30b0\njournalctl\n\n# \u30da\u30fc\u30b8\u30e3\u30fc\u306a\u3057\u3067\u51fa\u529b\njournalctl --no-pager\n\n# \u6700\u65b0\u304b\u3089\u8868\u793a\njournalctl -r\n\n# \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30d5\u30a9\u30ed\u30fc\njournalctl -f\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0",children:"\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# \u30b5\u30fc\u30d3\u30b9\u5225\njournalctl -u nginx\njournalctl -u nginx -u postgresql\n\n# \u512a\u5148\u5ea6\u5225\njournalctl -p err                    # error\u4ee5\u4e0a\njournalctl -p warning..err           # warning\u301cerror\n\n# \u6642\u9593\u5225\njournalctl --since "2024-01-15"\njournalctl --since "1 hour ago"\njournalctl --since "10:00" --until "12:00"\njournalctl --since today\njournalctl --since yesterday\n\n# \u30d6\u30fc\u30c8\u5225\njournalctl -b                        # \u4eca\u56de\u306e\u30d6\u30fc\u30c8\njournalctl -b -1                     # \u524d\u56de\u306e\u30d6\u30fc\u30c8\njournalctl --list-boots              # \u30d6\u30fc\u30c8\u4e00\u89a7\n\n# \u30e6\u30fc\u30b6\u30fc/\u30d7\u30ed\u30bb\u30b9\u5225\njournalctl _UID=1000\njournalctl _PID=1234\njournalctl _COMM=nginx\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u51fa\u529b\u5f62\u5f0f",children:"\u51fa\u529b\u5f62\u5f0f"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# JSON\u5f62\u5f0f\njournalctl -o json\njournalctl -o json-pretty\n\n# \u8a73\u7d30\u8868\u793a\njournalctl -o verbose\n\n# \u77ed\u3044\u5f62\u5f0f\uff08\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306a\u3057\uff09\njournalctl -o short\n\n# \u884c\u6570\u6307\u5b9a\njournalctl -n 50\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u30ab\u30fc\u30cd\u30eb\u30ed\u30b0",children:"\u30ab\u30fc\u30cd\u30eb\u30ed\u30b0"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u30ab\u30fc\u30cd\u30eb\u30e1\u30c3\u30bb\u30fc\u30b8\njournalctl -k\njournalctl --dmesg\n\n# dmesg\u30b3\u30de\u30f3\u30c9\u3082\u5229\u7528\u53ef\u80fd\ndmesg\ndmesg | tail -20\ndmesg -T                # \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u8aad\u307f\u3084\u3059\u304f\n"})}),"\n",(0,s.jsx)(e.h3,{id:"journald\u8a2d\u5b9a",children:"journald\u8a2d\u5b9a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\ncat /etc/systemd/journald.conf\n\n# \u4e3b\u306a\u8a2d\u5b9a\u9805\u76ee\n# Storage=persistent    # \u6c38\u7d9a\u4fdd\u5b58\n# Compress=yes          # \u5727\u7e2e\n# SystemMaxUse=500M     # \u6700\u5927\u30b5\u30a4\u30ba\n# MaxRetentionSec=1month # \u4fdd\u5b58\u671f\u9593\n\n# \u30c7\u30a3\u30b9\u30af\u4f7f\u7528\u91cf\u78ba\u8a8d\njournalctl --disk-usage\n\n# \u53e4\u3044\u30ed\u30b0\u3092\u524a\u9664\nsudo journalctl --vacuum-time=7d    # 7\u65e5\u3088\u308a\u53e4\u3044\u30ed\u30b0\nsudo journalctl --vacuum-size=500M  # 500MB\u4ee5\u4e0b\u306b\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30ed\u30b0\u306e\u691c\u7d22\u3068\u5206\u6790",children:"\u30ed\u30b0\u306e\u691c\u7d22\u3068\u5206\u6790"}),"\n",(0,s.jsx)(e.h3,{id:"grep\u3067\u306e\u691c\u7d22",children:"grep\u3067\u306e\u691c\u7d22"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# \u57fa\u672c\u691c\u7d22\ngrep "error" /var/log/syslog\n\n# \u5927\u6587\u5b57\u5c0f\u6587\u5b57\u3092\u7121\u8996\ngrep -i "error" /var/log/syslog\n\n# \u884c\u756a\u53f7\u4ed8\u304d\ngrep -n "error" /var/log/syslog\n\n# \u524d\u5f8c\u306e\u884c\u3082\u8868\u793a\ngrep -A 3 -B 3 "error" /var/log/syslog\n\n# \u8907\u6570\u30d1\u30bf\u30fc\u30f3\ngrep -E "error|warning|fail" /var/log/syslog\n\n# \u5426\u5b9a\u30de\u30c3\u30c1\ngrep -v "debug" /var/log/syslog\n\n# \u518d\u5e30\u7684\u691c\u7d22\ngrep -r "error" /var/log/\n'})}),"\n",(0,s.jsx)(e.h3,{id:"awk\u3067\u306e\u5206\u6790",children:"awk\u3067\u306e\u5206\u6790"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u7279\u5b9a\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u62bd\u51fa\nawk '{print $1, $2, $3, $5}' /var/log/syslog\n\n# \u30a8\u30e9\u30fc\u306e\u30ab\u30a6\u30f3\u30c8\nawk '/error/ {count++} END {print count}' /var/log/syslog\n\n# IP\u30a2\u30c9\u30ec\u30b9\u3054\u3068\u306e\u30a2\u30af\u30bb\u30b9\u6570\uff08Nginx\uff09\nawk '{print $1}' /var/log/nginx/access.log | sort | uniq -c | sort -rn | head -10\n\n# HTTP\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u96c6\u8a08\nawk '{print $9}' /var/log/nginx/access.log | sort | uniq -c | sort -rn\n"})}),"\n",(0,s.jsx)(e.h3,{id:"less\u3067\u306e\u95b2\u89a7",children:"less\u3067\u306e\u95b2\u89a7"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u30da\u30fc\u30b8\u30f3\u30b0\u8868\u793a\nless /var/log/syslog\n\n# \u64cd\u4f5c\n# /pattern  \u524d\u65b9\u691c\u7d22\n# ?pattern  \u5f8c\u65b9\u691c\u7d22\n# n         \u6b21\u306e\u30de\u30c3\u30c1\n# N         \u524d\u306e\u30de\u30c3\u30c1\n# G         \u30d5\u30a1\u30a4\u30eb\u672b\u5c3e\n# g         \u30d5\u30a1\u30a4\u30eb\u5148\u982d\n# q         \u7d42\u4e86\n\n# \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30d5\u30a9\u30ed\u30fc\nless +F /var/log/syslog\n# Ctrl+C \u3067\u901a\u5e38\u30e2\u30fc\u30c9\u306b\u623b\u308b\n# F \u3067\u30d5\u30a9\u30ed\u30fc\u30e2\u30fc\u30c9\u306b\u623b\u308b\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u8907\u5408\u7684\u306a\u5206\u6790",children:"\u8907\u5408\u7684\u306a\u5206\u6790"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u76f4\u8fd11\u6642\u9593\u306e\u30a8\u30e9\u30fc\u6570\njournalctl --since \"1 hour ago\" -p err | wc -l\n\n# SSH\u30ed\u30b0\u30a4\u30f3\u5931\u6557\u306eIP\u30a2\u30c9\u30ec\u30b9\ngrep \"Failed password\" /var/log/auth.log | awk '{print $(NF-3)}' | sort | uniq -c | sort -rn\n\n# \u6642\u9593\u5e2f\u5225\u306e\u30a2\u30af\u30bb\u30b9\u6570\nawk '{print $4}' /var/log/nginx/access.log | cut -d: -f2 | sort | uniq -c\n\n# \u30a8\u30e9\u30fc\u306e\u7a2e\u985e\u5225\u30ab\u30a6\u30f3\u30c8\njournalctl -p err --no-pager | awk '{print $5}' | sort | uniq -c | sort -rn\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3",children:"\u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3"}),"\n",(0,s.jsx)(e.h3,{id:"logrotate\u306e\u8a2d\u5b9a",children:"logrotate\u306e\u8a2d\u5b9a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u30e1\u30a4\u30f3\u8a2d\u5b9a\ncat /etc/logrotate.conf\n\n# \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5225\u8a2d\u5b9a\nls /etc/logrotate.d/\ncat /etc/logrotate.d/nginx\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u8a2d\u5b9a\u4f8b",children:"\u8a2d\u5b9a\u4f8b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# /etc/logrotate.d/myapp\n/var/log/myapp/*.log {\n    daily               # \u6bce\u65e5\u30ed\u30fc\u30c6\u30fc\u30c8\n    rotate 7            # 7\u4e16\u4ee3\u4fdd\u6301\n    compress            # \u5727\u7e2e\n    delaycompress       # \u6b21\u56de\u304b\u3089\u5727\u7e2e\n    missingok           # \u30d5\u30a1\u30a4\u30eb\u304c\u306a\u304f\u3066\u3082\u30a8\u30e9\u30fc\u306b\u3057\u306a\u3044\n    notifempty          # \u7a7a\u30d5\u30a1\u30a4\u30eb\u306f\u30ed\u30fc\u30c6\u30fc\u30c8\u3057\u306a\u3044\n    create 0640 root adm  # \u65b0\u30d5\u30a1\u30a4\u30eb\u306e\u6a29\u9650\n    sharedscripts       # \u30b9\u30af\u30ea\u30d7\u30c8\u30921\u56de\u3060\u3051\u5b9f\u884c\n    postrotate          # \u30ed\u30fc\u30c6\u30fc\u30c8\u5f8c\u306b\u5b9f\u884c\n        systemctl reload myapp > /dev/null 2>&1 || true\n    endscript\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u624b\u52d5\u5b9f\u884c",children:"\u624b\u52d5\u5b9f\u884c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u30c9\u30e9\u30a4\u30e9\u30f3\uff08\u5b9f\u969b\u306b\u306f\u5b9f\u884c\u3057\u306a\u3044\uff09\nsudo logrotate -d /etc/logrotate.conf\n\n# \u5f37\u5236\u5b9f\u884c\nsudo logrotate -f /etc/logrotate.conf\n\n# \u7279\u5b9a\u306e\u8a2d\u5b9a\u306e\u307f\nsudo logrotate -f /etc/logrotate.d/nginx\n\n# \u72b6\u614b\u30d5\u30a1\u30a4\u30eb\ncat /var/lib/logrotate/status\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0",children:"\u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0"}),"\n",(0,s.jsx)(e.h3,{id:"docker\u306e\u30ed\u30b0",children:"Docker\u306e\u30ed\u30b0"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# \u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0\u8868\u793a\ndocker logs container-name\n\n# \u30d5\u30a9\u30ed\u30fc\ndocker logs -f container-name\n\n# \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u4ed8\u304d\ndocker logs -t container-name\n\n# \u6700\u65b0100\u884c\ndocker logs --tail 100 container-name\n\n# \u6642\u9593\u6307\u5b9a\ndocker logs --since "2024-01-15T10:00:00" container-name\ndocker logs --since 1h container-name\n'})}),"\n",(0,s.jsx)(e.h3,{id:"docker\u306e\u30ed\u30b0\u30c9\u30e9\u30a4\u30d0",children:"Docker\u306e\u30ed\u30b0\u30c9\u30e9\u30a4\u30d0"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# \u73fe\u5728\u306e\u30ed\u30b0\u30c9\u30e9\u30a4\u30d0\u78ba\u8a8d\ndocker info | grep "Logging Driver"\n\n# \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u6642\u306b\u6307\u5b9a\ndocker run --log-driver json-file --log-opt max-size=10m --log-opt max-file=3 nginx\n\n# daemon.json\u3067\u5168\u4f53\u8a2d\u5b9a\ncat /etc/docker/daemon.json\n# {\n#   "log-driver": "json-file",\n#   "log-opts": {\n#     "max-size": "10m",\n#     "max-file": "3"\n#   }\n# }\n\n# \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240\n/var/lib/docker/containers/<container-id>/<container-id>-json.log\n'})}),"\n",(0,s.jsx)(e.h3,{id:"kubernetes\u306e\u30ed\u30b0",children:"Kubernetes\u306e\u30ed\u30b0"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# Pod\u306e\u30ed\u30b0\nkubectl logs pod-name\nkubectl logs pod-name -c container-name  # \u7279\u5b9a\u30b3\u30f3\u30c6\u30ca\n\n# \u30d5\u30a9\u30ed\u30fc\nkubectl logs -f pod-name\n\n# \u524d\u56de\u306e\u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0\nkubectl logs pod-name --previous\n\n# \u30e9\u30d9\u30eb\u3067\u8907\u6570Pod\nkubectl logs -l app=nginx\n\n# \u3059\u3079\u3066\u306e\u30b3\u30f3\u30c6\u30ca\nkubectl logs pod-name --all-containers\n\n# \u6642\u9593\u6307\u5b9a\nkubectl logs pod-name --since=1h\nkubectl logs pod-name --since-time="2024-01-15T10:00:00Z"\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u96c6\u4e2d\u30ed\u30b0\u7ba1\u7406",children:"\u96c6\u4e2d\u30ed\u30b0\u7ba1\u7406"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502               \u96c6\u4e2d\u30ed\u30b0\u7ba1\u7406\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  \u30b3\u30f3\u30c6\u30ca/Pod                                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2510                                   \u2502\n\u2502  \u2502App 1\u2502 \u2502App 2\u2502 \u2502App 3\u2502                                   \u2502\n\u2502  \u2514\u2500\u2500\u252c\u2500\u2500\u2518 \u2514\u2500\u2500\u252c\u2500\u2500\u2518 \u2514\u2500\u2500\u252c\u2500\u2500\u2518                                   \u2502\n\u2502     \u2502       \u2502       \u2502                                       \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                       \u2502\n\u2502             \u2502                                               \u2502\n\u2502             \u25bc                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  \u30ed\u30b0\u30b3\u30ec\u30af\u30bf\u30fc (Fluentd/Fluent Bit/Vector)          \u2502   \u2502\n\u2502  \u2502  - DaemonSet \u3068\u3057\u3066\u5404\u30ce\u30fc\u30c9\u3067\u5b9f\u884c                    \u2502   \u2502\n\u2502  \u2502  - /var/log/containers/*.log \u3092\u53ce\u96c6                 \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502             \u2502                                               \u2502\n\u2502             \u25bc                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  \u30ed\u30b0\u30b9\u30c8\u30ec\u30fc\u30b8                                      \u2502   \u2502\n\u2502  \u2502  - Elasticsearch                                    \u2502   \u2502\n\u2502  \u2502  - Loki                                             \u2502   \u2502\n\u2502  \u2502  - CloudWatch Logs                                  \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502             \u2502                                               \u2502\n\u2502             \u25bc                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  \u53ef\u8996\u5316                                              \u2502   \u2502\n\u2502  \u2502  - Kibana                                           \u2502   \u2502\n\u2502  \u2502  - Grafana                                          \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,s.jsx)(e.h3,{id:"\u4e3b\u8981\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb",children:"\u4e3b\u8981\u306a\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u30d5\u30a1\u30a4\u30eb"}),(0,s.jsx)(e.th,{children:"\u5185\u5bb9"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"/var/log/syslog"}),(0,s.jsx)(e.td,{children:"\u4e00\u822c\u7684\u306a\u30b7\u30b9\u30c6\u30e0\u30ed\u30b0"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"/var/log/auth.log"}),(0,s.jsx)(e.td,{children:"\u8a8d\u8a3c\u30ed\u30b0"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"/var/log/kern.log"}),(0,s.jsx)(e.td,{children:"\u30ab\u30fc\u30cd\u30eb\u30ed\u30b0"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"/var/log/nginx/"}),(0,s.jsx)(e.td,{children:"Nginx\u30ed\u30b0"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"\u4e3b\u8981\u306a\u30b3\u30de\u30f3\u30c9",children:"\u4e3b\u8981\u306a\u30b3\u30de\u30f3\u30c9"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u30b3\u30de\u30f3\u30c9"}),(0,s.jsx)(e.th,{children:"\u7528\u9014"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"journalctl"}),(0,s.jsx)(e.td,{children:"systemd\u30ed\u30b0\u306e\u95b2\u89a7"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"tail -f"}),(0,s.jsx)(e.td,{children:"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u76e3\u8996"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"grep"}),(0,s.jsx)(e.td,{children:"\u30d1\u30bf\u30fc\u30f3\u691c\u7d22"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"awk"}),(0,s.jsx)(e.td,{children:"\u30c6\u30ad\u30b9\u30c8\u51e6\u7406\u30fb\u96c6\u8a08"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"logrotate"}),(0,s.jsx)(e.td,{children:"\u30ed\u30b0\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/linux/performance",children:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9"})," - \u30b7\u30b9\u30c6\u30e0\u76e3\u8996"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/linux/systemd",children:"systemd"})," - journalctl\u306e\u8a73\u7d30"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9",children:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.rsyslog.com/doc/",children:"rsyslog Documentation"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.freedesktop.org/software/systemd/man/systemd-journald.service.html",children:"systemd-journald"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://kubernetes.io/docs/concepts/cluster-administration/logging/",children:"Kubernetes Logging"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(t,{...n})}):t(n)}},28453:(n,e,l)=>{l.d(e,{R:()=>i,x:()=>a});var r=l(96540);const s={},d=r.createContext(s);function i(n){const e=r.useContext(d);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),r.createElement(d.Provider,{value:e},n.children)}}}]);