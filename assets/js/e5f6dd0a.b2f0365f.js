"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[81700],{16974:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"content_11_learning/networking/network-troubleshooting","title":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","description":"\u6240\u8981\u6642\u9593","source":"@site/docs/content_11_learning/15-networking/06-network-troubleshooting.md","sourceDirName":"content_11_learning/15-networking","slug":"/content_11_learning/networking/network-troubleshooting","permalink":"/idp-server/docs/content_11_learning/networking/network-troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/15-networking/06-network-troubleshooting.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{},"sidebar":"docs","previous":{"title":"\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u3068API Gateway","permalink":"/idp-server/docs/content_11_learning/networking/api-gateway-networking"},"next":{"title":"\u30b3\u30e9\u30e0: \u5149\u306f\u9045\u3044","permalink":"/idp-server/docs/content_11_learning/networking/column-speed-of-light"}}');var t=l(74848),i=l(28453);const c={},o="\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",r={},a=[{value:"\u6240\u8981\u6642\u9593",id:"\u6240\u8981\u6642\u9593",level:2},{value:"\u5b66\u3079\u308b\u3053\u3068",id:"\u5b66\u3079\u308b\u3053\u3068",level:2},{value:"\u524d\u63d0\u77e5\u8b58",id:"\u524d\u63d0\u77e5\u8b58",level:2},{value:"1. \u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u57fa\u672c\u539f\u5247",id:"1-\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u57fa\u672c\u539f\u5247",level:2},{value:"1.1 \u8a3a\u65ad\u30d5\u30ed\u30fc",id:"11-\u8a3a\u65ad\u30d5\u30ed\u30fc",level:3},{value:"1.2 5W1H\u5206\u6790",id:"12-5w1h\u5206\u6790",level:3},{value:"2. DNS\u8a3a\u65ad",id:"2-dns\u8a3a\u65ad",level:2},{value:"2.1 DNS\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30d5\u30ed\u30fc",id:"21-dns\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30d5\u30ed\u30fc",level:3},{value:"2.2 \u3088\u304f\u3042\u308bDNS\u554f\u984c",id:"22-\u3088\u304f\u3042\u308bdns\u554f\u984c",level:3},{value:"\u554f\u984c1: NXDOMAIN\uff08\u30c9\u30e1\u30a4\u30f3\u304c\u5b58\u5728\u3057\u306a\u3044\uff09",id:"\u554f\u984c1-nxdomain\u30c9\u30e1\u30a4\u30f3\u304c\u5b58\u5728\u3057\u306a\u3044",level:4},{value:"\u554f\u984c2: DNS\u4f1d\u64ad\u9045\u5ef6",id:"\u554f\u984c2-dns\u4f1d\u64ad\u9045\u5ef6",level:4},{value:"\u554f\u984c3: CNAME\u30eb\u30fc\u30d7",id:"\u554f\u984c3-cname\u30eb\u30fc\u30d7",level:4},{value:"3. \u63a5\u7d9a\u6027\u8a3a\u65ad",id:"3-\u63a5\u7d9a\u6027\u8a3a\u65ad",level:2},{value:"3.1 \u63a5\u7d9a\u6027\u8a3a\u65ad\u30d5\u30ed\u30fc",id:"31-\u63a5\u7d9a\u6027\u8a3a\u65ad\u30d5\u30ed\u30fc",level:3},{value:"3.2 \u3088\u304f\u3042\u308b\u63a5\u7d9a\u554f\u984c",id:"32-\u3088\u304f\u3042\u308b\u63a5\u7d9a\u554f\u984c",level:3},{value:"\u554f\u984c1: &quot;Connection refused&quot;",id:"\u554f\u984c1-connection-refused",level:4},{value:"\u554f\u984c2: &quot;Connection timeout&quot;",id:"\u554f\u984c2-connection-timeout",level:4},{value:"\u554f\u984c3: &quot;No route to host&quot;",id:"\u554f\u984c3-no-route-to-host",level:4},{value:"4. SSL/TLS\u8a3a\u65ad",id:"4-ssltls\u8a3a\u65ad",level:2},{value:"4.1 SSL/TLS\u8a3a\u65ad\u30b9\u30af\u30ea\u30d7\u30c8",id:"41-ssltls\u8a3a\u65ad\u30b9\u30af\u30ea\u30d7\u30c8",level:3},{value:"4.2 \u3088\u304f\u3042\u308bSSL/TLS\u554f\u984c",id:"42-\u3088\u304f\u3042\u308bssltls\u554f\u984c",level:3},{value:"\u554f\u984c1: &quot;Certificate verify failed&quot;",id:"\u554f\u984c1-certificate-verify-failed",level:4},{value:"\u554f\u984c2: &quot;Hostname mismatch&quot;",id:"\u554f\u984c2-hostname-mismatch",level:4},{value:"\u554f\u984c3: &quot;Protocol error&quot;",id:"\u554f\u984c3-protocol-error",level:4},{value:"5. \u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u8a3a\u65ad",id:"5-\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u8a3a\u65ad",level:2},{value:"5.1 \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u5931\u6557\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",id:"51-\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u5931\u6557\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",level:3},{value:"\u554f\u984c1: \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304c\u300cUnhealthy\u300d\u72b6\u614b",id:"\u554f\u984c1-\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304cunhealthy\u72b6\u614b",level:4},{value:"\u554f\u984c2: 504 Gateway Timeout",id:"\u554f\u984c2-504-gateway-timeout",level:4},{value:"5.2 Nginx\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u5206\u6790",id:"52-nginx\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u5206\u6790",level:3},{value:"6. \u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3",id:"6-\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3",level:2},{value:"6.1 tcpdump\u306b\u3088\u308b\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3",id:"61-tcpdump\u306b\u3088\u308b\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3",level:3},{value:"7. \u7dcf\u5408\u8a3a\u65ad\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",id:"7-\u7dcf\u5408\u8a3a\u65ad\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",level:2},{value:"7.1 \u63a5\u7d9a\u3067\u304d\u306a\u3044\u5834\u5408",id:"71-\u63a5\u7d9a\u3067\u304d\u306a\u3044\u5834\u5408",level:3},{value:"7.2 \u9045\u3044\u5834\u5408",id:"72-\u9045\u3044\u5834\u5408",level:3},{value:"7.3 \u9593\u6b20\u7684\u306b\u5931\u6557\u3059\u308b\u5834\u5408",id:"73-\u9593\u6b20\u7684\u306b\u5931\u6557\u3059\u308b\u5834\u5408",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u5b66\u3093\u3060\u3053\u3068",id:"\u5b66\u3093\u3060\u3053\u3068",level:3},{value:"\u91cd\u8981\u306a\u8a3a\u65ad\u30c4\u30fc\u30eb",id:"\u91cd\u8981\u306a\u8a3a\u65ad\u30c4\u30fc\u30eb",level:3},{value:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:3},{value:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",id:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",level:3},{value:"\u53c2\u8003\u30ea\u30f3\u30af",id:"\u53c2\u8003\u30ea\u30f3\u30af",level:3}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",children:"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"})}),"\n",(0,t.jsx)(e.h2,{id:"\u6240\u8981\u6642\u9593",children:"\u6240\u8981\u6642\u9593"}),"\n",(0,t.jsx)(e.p,{children:"\u7d0440\u5206"}),"\n",(0,t.jsx)(e.h2,{id:"\u5b66\u3079\u308b\u3053\u3068",children:"\u5b66\u3079\u308b\u3053\u3068"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f53\u7cfb\u7684\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a3a\u65ad\u30d5\u30ed\u30fc"}),"\n",(0,t.jsx)(e.li,{children:"DNS\u3001\u63a5\u7d9a\u6027\u3001SSL/TLS\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"}),"\n",(0,t.jsx)(e.li,{children:"\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u3068\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u306e\u554f\u984c\u8a3a\u65ad"}),"\n",(0,t.jsx)(e.li,{children:"\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3\u3068\u30ed\u30b0\u5206\u6790"}),"\n",(0,t.jsx)(e.li,{children:"\u5b9f\u8df5\u7684\u306a\u8a3a\u65ad\u30c4\u30fc\u30eb\u306e\u4f7f\u3044\u65b9"}),"\n",(0,t.jsx)(e.li,{children:"\u3088\u304f\u3042\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u554f\u984c\u3068\u89e3\u6c7a\u7b56"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u524d\u63d0\u77e5\u8b58",children:"\u524d\u63d0\u77e5\u8b58"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/networking/dns-fundamentals",children:"01-dns-fundamentals.md"})," - DNS\u57fa\u790e"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/networking/load-balancing",children:"03-load-balancing.md"})," - \u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/networking/ssl-tls-certificates",children:"04-ssl-tls-certificates.md"})," - SSL/TLS\u8a3c\u660e\u66f8"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/networking/api-gateway-networking",children:"05-api-gateway-networking.md"})," - \u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7"]}),"\n",(0,t.jsx)(e.li,{children:"Linux\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u306e\u57fa\u672c\u64cd\u4f5c"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"1-\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u57fa\u672c\u539f\u5247",children:"1. \u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u57fa\u672c\u539f\u5247"}),"\n",(0,t.jsx)(e.h3,{id:"11-\u8a3a\u65ad\u30d5\u30ed\u30fc",children:"1.1 \u8a3a\u65ad\u30d5\u30ed\u30fc"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a3a\u65ad\u306e\u57fa\u672c\u30d5\u30ed\u30fc                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  1. \u554f\u984c\u306e\u5207\u308a\u5206\u3051                                           \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502     \u2502 \u30fb\u3044\u3064\u304b\u3089\u767a\u751f\u3057\u3066\u3044\u308b\u304b?                         \u2502   \u2502\n\u2502     \u2502 \u30fb\u8ab0\u306b\u5f71\u97ff\u304c\u3042\u308b\u304b? (\u5168\u54e1 / \u7279\u5b9a\u30e6\u30fc\u30b6\u30fc)        \u2502   \u2502\n\u2502     \u2502 \u30fb\u4f55\u304c\u52d5\u4f5c\u3057\u306a\u3044\u304b? (\u63a5\u7d9a / \u9045\u5ef6 / \u30a8\u30e9\u30fc)        \u2502   \u2502\n\u2502     \u2502 \u30fb\u6700\u8fd1\u306e\u5909\u66f4\u306f? (\u30c7\u30d7\u30ed\u30a4\u3001DNS\u5909\u66f4\u3001\u8a3c\u660e\u66f8\u66f4\u65b0)   \u2502   \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                              \u2502\n\u2502  2. \u30ec\u30a4\u30e4\u30fc\u3054\u3068\u306b\u8a3a\u65ad\uff08\u4e0b\u304b\u3089\u4e0a\u3078\uff09                         \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502     \u2502 L7: \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 (HTTP/HTTPS)                 \u2502   \u2502\n\u2502     \u2502 L4: \u30c8\u30e9\u30f3\u30b9\u30dd\u30fc\u30c8 (TCP/UDP)                      \u2502   \u2502\n\u2502     \u2502 L3: \u30cd\u30c3\u30c8\u30ef\u30fc\u30af (IP\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0)               \u2502   \u2502\n\u2502     \u2502 L2: \u30c7\u30fc\u30bf\u30ea\u30f3\u30af (Ethernet\u3001ARP)                  \u2502   \u2502\n\u2502     \u2502 L1: \u7269\u7406 (\u30b1\u30fc\u30d6\u30eb\u3001NIC)                          \u2502   \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                              \u2502\n\u2502  3. \u4e21\u7aef\u304b\u3089\u8a3a\u65ad                                             \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502     \u2502 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074: DNS\u3001\u63a5\u7d9a\u3001\u8a3c\u660e\u66f8                 \u2502   \u2502\n\u2502     \u2502 \u30b5\u30fc\u30d0\u30fc\u5074: \u30ea\u30b9\u30cb\u30f3\u30b0\u3001\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3001\u30ed\u30b0    \u2502   \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                              \u2502\n\u2502  4. \u5909\u66f4\u30921\u3064\u305a\u3064\u5b9f\u65bd                                        \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502     \u2502 \u30fb\u8907\u6570\u306e\u5909\u66f4\u3092\u540c\u6642\u306b\u884c\u308f\u306a\u3044                      \u2502   \u2502\n\u2502     \u2502 \u30fb\u5909\u66f4\u524d\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7/\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8           \u2502   \u2502\n\u2502     \u2502 \u30fb\u5909\u66f4\u5f8c\u306b\u691c\u8a3c                                    \u2502   \u2502\n\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(e.h3,{id:"12-5w1h\u5206\u6790",children:"1.2 5W1H\u5206\u6790"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u554f\u984c\u5206\u6790\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af:\n\nWhat (\u4f55\u304c)?\n  \u2192 \u30b5\u30fc\u30d3\u30b9\u304c\u63a5\u7d9a\u3067\u304d\u306a\u3044\u3001\u9045\u3044\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u308b\n\nWhen (\u3044\u3064)?\n  \u2192 \u5e38\u306b\u3001\u7279\u5b9a\u6642\u9593\u5e2f\u306e\u307f\u3001\u65ad\u7d9a\u7684\u306b\n\nWhere (\u3069\u3053\u3067)?\n  \u2192 \u7279\u5b9a\u30ea\u30fc\u30b8\u30e7\u30f3\u3001\u7279\u5b9a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3001\u5168\u74b0\u5883\n\nWho (\u8ab0\u304c)?\n  \u2192 \u5168\u30e6\u30fc\u30b6\u30fc\u3001\u7279\u5b9a\u30e6\u30fc\u30b6\u30fc\u3001\u7279\u5b9aIP\u30ec\u30f3\u30b8\n\nWhy (\u306a\u305c)?\n  \u2192 \u539f\u56e0\u3092\u8a3a\u65ad\u3067\u7279\u5b9a\n\nHow (\u3069\u306e\u3088\u3046\u306b)?\n  \u2192 \u89e3\u6c7a\u7b56\u3092\u5b9f\u65bd\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"2-dns\u8a3a\u65ad",children:"2. DNS\u8a3a\u65ad"}),"\n",(0,t.jsx)(e.h3,{id:"21-dns\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30d5\u30ed\u30fc",children:"2.1 DNS\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30d5\u30ed\u30fc"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# dns-diagnose.sh - DNS\u8a3a\u65ad\u30b9\u30af\u30ea\u30d7\u30c8\n\nDOMAIN=$1\n\necho "=== DNS\u8a3a\u65ad: $DOMAIN ==="\n\n# 1. \u30ed\u30fc\u30ab\u30eb\u30ea\u30be\u30eb\u30d0\u3067\u306e\u540d\u524d\u89e3\u6c7a\necho -e "\\n[1] \u30ed\u30fc\u30ab\u30eb\u30ea\u30be\u30eb\u30d0\uff08/etc/resolv.conf\u4f7f\u7528\uff09"\ndig $DOMAIN +short\nif [ $? -ne 0 ]; then\n    echo "\u274c \u30ed\u30fc\u30ab\u30eb\u30ea\u30be\u30eb\u30d0\u3067\u306e\u89e3\u6c7a\u5931\u6557"\nelse\n    echo "\u2705 \u30ed\u30fc\u30ab\u30eb\u30ea\u30be\u30eb\u30d0\u6b63\u5e38"\nfi\n\n# 2. \u30d1\u30d6\u30ea\u30c3\u30afDNS\u3067\u306e\u540d\u524d\u89e3\u6c7a\necho -e "\\n[2] \u30d1\u30d6\u30ea\u30c3\u30afDNS (8.8.8.8)"\ndig @8.8.8.8 $DOMAIN +short\nif [ $? -ne 0 ]; then\n    echo "\u274c \u30d1\u30d6\u30ea\u30c3\u30afDNS\u3067\u306e\u89e3\u6c7a\u5931\u6557"\nelse\n    echo "\u2705 \u30d1\u30d6\u30ea\u30c3\u30afDNS\u6b63\u5e38"\nfi\n\n# 3. \u6a29\u5a01DNS\u30b5\u30fc\u30d0\u30fc\u3092\u7279\u5b9a\necho -e "\\n[3] \u6a29\u5a01DNS\u30b5\u30fc\u30d0\u30fc"\ndig $DOMAIN NS +short\n\n# 4. DNS\u4f1d\u64ad\u78ba\u8a8d\uff08\u8907\u6570\u306eDNS\u30b5\u30fc\u30d0\u30fc\uff09\necho -e "\\n[4] DNS\u4f1d\u64ad\u78ba\u8a8d"\nfor ns in 8.8.8.8 1.1.1.1 208.67.222.222; do\n    echo "DNS: $ns"\n    dig @$ns $DOMAIN A +short\ndone\n\n# 5. TTL\u78ba\u8a8d\necho -e "\\n[5] TTL\u78ba\u8a8d"\ndig $DOMAIN | grep -A1 "ANSWER SECTION"\n\n# 6. DNSSEC\u30b9\u30c6\u30fc\u30bf\u30b9\necho -e "\\n[6] DNSSEC\u691c\u8a3c"\ndig $DOMAIN +dnssec +short | grep -q RRSIG\nif [ $? -eq 0 ]; then\n    echo "\u2705 DNSSEC\u6709\u52b9"\nelse\n    echo "\u26a0\ufe0f  DNSSEC\u7121\u52b9"\nfi\n\n# 7. traceroute\uff08\u540d\u524d\u89e3\u6c7a\u306e\u7d4c\u8def\uff09\necho -e "\\n[7] DNS\u4f1d\u64ad\u30c8\u30ec\u30fc\u30b9"\ndig $DOMAIN +trace | tail -20\n'})}),"\n",(0,t.jsx)(e.h3,{id:"22-\u3088\u304f\u3042\u308bdns\u554f\u984c",children:"2.2 \u3088\u304f\u3042\u308bDNS\u554f\u984c"}),"\n",(0,t.jsx)(e.h4,{id:"\u554f\u984c1-nxdomain\u30c9\u30e1\u30a4\u30f3\u304c\u5b58\u5728\u3057\u306a\u3044",children:"\u554f\u984c1: NXDOMAIN\uff08\u30c9\u30e1\u30a4\u30f3\u304c\u5b58\u5728\u3057\u306a\u3044\uff09"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u75c7\u72b6\ndig example.com\n\n# ;; ->>HEADER<<- opcode: QUERY, status: NXDOMAIN\n# ;; Got answer:\n# ;; ->>HEADER<<- opcode: QUERY, status: NXDOMAIN, id: 12345\n\n# \u539f\u56e0\n# 1. \u30c9\u30e1\u30a4\u30f3\u540d\u306e\u30b9\u30da\u30eb\u30df\u30b9\n# 2. DNS\u30ec\u30b3\u30fc\u30c9\u672a\u8a2d\u5b9a\n# 3. \u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\u30a8\u30e9\u30fc\n\n# \u8a3a\u65ad\n# 1. \u30b9\u30da\u30eb\u78ba\u8a8d\n# 2. whois\u78ba\u8a8d\nwhois example.com\n\n# 3. \u6a29\u5a01DNS\u30b5\u30fc\u30d0\u30fc\u306b\u76f4\u63a5\u554f\u3044\u5408\u308f\u305b\ndig @ns1.example.com example.com\n\n# 4. \u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u78ba\u8a8d\uff08\u6a29\u5a01DNS\u30b5\u30fc\u30d0\u30fc\uff09\n# \u6a29\u5a01DNS\u30b5\u30fc\u30d0\u30fc\u306b\u76f4\u63a5\u554f\u3044\u5408\u308f\u305b\ndig @ns1.example.com example.com\n\n# \u89e3\u6c7a\n# - DNS\u30ec\u30b3\u30fc\u30c9\u3092\u4f5c\u6210\n# - \u30c9\u30e1\u30a4\u30f3\u540d\u3092\u4fee\u6b63\n"})}),"\n",(0,t.jsx)(e.h4,{id:"\u554f\u984c2-dns\u4f1d\u64ad\u9045\u5ef6",children:"\u554f\u984c2: DNS\u4f1d\u64ad\u9045\u5ef6"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# \u75c7\u72b6\n# DNS\u30ec\u30b3\u30fc\u30c9\u3092\u5909\u66f4\u3057\u305f\u304c\u3001\u53e4\u3044IP\u304c\u8fd4\u3055\u308c\u308b\n\n# \u8a3a\u65ad\n# 1. TTL\u78ba\u8a8d\ndig example.com | grep -A1 "ANSWER SECTION"\n# example.com.  3600  IN  A  93.184.216.34\n#               \u2191 TTL: 3600\u79d2\uff081\u6642\u9593\uff09\u6b8b\u3063\u3066\u3044\u308b\n\n# 2. \u8907\u6570\u306eDNS\u30b5\u30fc\u30d0\u30fc\u3067\u78ba\u8a8d\ndig @8.8.8.8 example.com +short     # Google\ndig @1.1.1.1 example.com +short     # Cloudflare\ndig @208.67.222.222 example.com +short  # OpenDNS\n\n# 3. \u6a29\u5a01DNS\u30b5\u30fc\u30d0\u30fc\u3067\u78ba\u8a8d\uff08\u5e38\u306b\u6700\u65b0\uff09\ndig @ns1.example.com example.com +short\n\n# \u89e3\u6c7a\n# - TTL\u671f\u9650\u307e\u3067\u5f85\u3064\n# - \u4e8b\u524d\u306bTTL\u3092\u77ed\u7e2e\uff08\u5909\u66f4\u306e24-48\u6642\u9593\u524d\uff09\n# - \u30ad\u30e3\u30c3\u30b7\u30e5\u30af\u30ea\u30a2\uff08\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\uff09\nsudo systemd-resolve --flush-caches\n'})}),"\n",(0,t.jsx)(e.h4,{id:"\u554f\u984c3-cname\u30eb\u30fc\u30d7",children:"\u554f\u984c3: CNAME\u30eb\u30fc\u30d7"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u75c7\u72b6\ndig www.example.com\n# ;; ->>HEADER<<- opcode: QUERY, status: SERVFAIL\n\n# \u539f\u56e0: CNAME\u304c\u5faa\u74b0\u53c2\u7167\u3057\u3066\u3044\u308b\n# www.example.com  CNAME  alias.example.com\n# alias.example.com CNAME  www.example.com  \u2190 \u30eb\u30fc\u30d7\n\n# \u8a3a\u65ad\ndig www.example.com +trace\n\n# \u89e3\u6c7a\n# CNAME\u30c1\u30a7\u30fc\u30f3\u3092\u4fee\u6b63\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"3-\u63a5\u7d9a\u6027\u8a3a\u65ad",children:"3. \u63a5\u7d9a\u6027\u8a3a\u65ad"}),"\n",(0,t.jsx)(e.h3,{id:"31-\u63a5\u7d9a\u6027\u8a3a\u65ad\u30d5\u30ed\u30fc",children:"3.1 \u63a5\u7d9a\u6027\u8a3a\u65ad\u30d5\u30ed\u30fc"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# connectivity-diagnose.sh - \u63a5\u7d9a\u6027\u8a3a\u65ad\u30b9\u30af\u30ea\u30d7\u30c8\n\nHOST=$1\nPORT=${2:-443}\n\necho "=== \u63a5\u7d9a\u6027\u8a3a\u65ad: $HOST:$PORT ==="\n\n# 1. DNS\u89e3\u6c7a\necho -e "\\n[1] DNS\u89e3\u6c7a"\nIP=$(dig +short $HOST | head -n1)\nif [ -z "$IP" ]; then\n    echo "\u274c DNS\u89e3\u6c7a\u5931\u6557"\n    exit 1\nelse\n    echo "\u2705 DNS\u89e3\u6c7a\u6210\u529f: $IP"\nfi\n\n# 2. ICMP\u306b\u3088\u308b\u758e\u901a\u78ba\u8a8d\necho -e "\\n[2] ICMP (ping)"\nping -c 3 $HOST &> /dev/null\nif [ $? -eq 0 ]; then\n    echo "\u2705 ICMP\u5fdc\u7b54\u3042\u308a"\nelse\n    echo "\u26a0\ufe0f  ICMP\u5fdc\u7b54\u306a\u3057\uff08\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3067\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u3044\u308b\u53ef\u80fd\u6027\uff09"\nfi\n\n# 3. TCP\u30dd\u30fc\u30c8\u758e\u901a\u78ba\u8a8d\necho -e "\\n[3] TCP\u63a5\u7d9a (port $PORT)"\ntimeout 5 bash -c "cat < /dev/null > /dev/tcp/$HOST/$PORT" &> /dev/null\nif [ $? -eq 0 ]; then\n    echo "\u2705 TCP\u63a5\u7d9a\u6210\u529f"\nelse\n    echo "\u274c TCP\u63a5\u7d9a\u5931\u6557"\nfi\n\n# 4. traceroute\uff08\u7d4c\u8def\u78ba\u8a8d\uff09\necho -e "\\n[4] \u7d4c\u8def\u78ba\u8a8d (traceroute)"\ntraceroute -m 15 $HOST 2>&1 | head -20\n\n# 5. telnet\u3067\u8a73\u7d30\u78ba\u8a8d\necho -e "\\n[5] telnet\u63a5\u7d9a\u30c6\u30b9\u30c8"\ntimeout 5 telnet $HOST $PORT 2>&1 | head -5\n\n# 6. nc (netcat)\necho -e "\\n[6] nc (netcat) \u63a5\u7d9a\u30c6\u30b9\u30c8"\nnc -zv $HOST $PORT 2>&1\n\n# 7. curl\u3067HTTP/HTTPS\u78ba\u8a8d\uff08\u30dd\u30fc\u30c8443/80\u306e\u5834\u5408\uff09\nif [ $PORT -eq 443 ] || [ $PORT -eq 80 ]; then\n    echo -e "\\n[7] HTTP/HTTPS\u78ba\u8a8d"\n    PROTOCOL="http"\n    [ $PORT -eq 443 ] && PROTOCOL="https"\n\n    curl -I -m 5 $PROTOCOL://$HOST 2>&1 | head -10\nfi\n'})}),"\n",(0,t.jsx)(e.h3,{id:"32-\u3088\u304f\u3042\u308b\u63a5\u7d9a\u554f\u984c",children:"3.2 \u3088\u304f\u3042\u308b\u63a5\u7d9a\u554f\u984c"}),"\n",(0,t.jsx)(e.h4,{id:"\u554f\u984c1-connection-refused",children:'\u554f\u984c1: "Connection refused"'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u75c7\u72b6\ncurl https://example.com\n# curl: (7) Failed to connect to example.com port 443: Connection refused\n\n# \u539f\u56e0\n# 1. \u30b5\u30fc\u30d0\u30fc\u304c\u30dd\u30fc\u30c8\u3092\u30ea\u30b9\u30cb\u30f3\u30b0\u3057\u3066\u3044\u306a\u3044\n# 2. \u30b5\u30fc\u30d3\u30b9\u304c\u505c\u6b62\u3057\u3066\u3044\u308b\n# 3. \u9593\u9055\u3063\u305f\u30dd\u30fc\u30c8\u756a\u53f7\n\n# \u8a3a\u65ad\uff08\u30b5\u30fc\u30d0\u30fc\u5074\uff09\n# 1. \u30ea\u30b9\u30cb\u30f3\u30b0\u30dd\u30fc\u30c8\u78ba\u8a8d\nsudo ss -tuln | grep :443\n\n# 2. \u30d7\u30ed\u30bb\u30b9\u78ba\u8a8d\nsudo ss -tulnp | grep :443\n\n# 3. \u30b5\u30fc\u30d3\u30b9\u72b6\u614b\u78ba\u8a8d\nsudo systemctl status nginx\nsudo systemctl status apache2\n\n# \u89e3\u6c7a\n# \u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\nsudo systemctl start nginx\n\n# \u30dd\u30fc\u30c8\u8a2d\u5b9a\u3092\u4fee\u6b63\n# /etc/nginx/sites-available/default\n# listen 443 ssl;\n"})}),"\n",(0,t.jsx)(e.h4,{id:"\u554f\u984c2-connection-timeout",children:'\u554f\u984c2: "Connection timeout"'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u75c7\u72b6\ncurl -m 10 https://example.com\n# curl: (28) Connection timed out after 10001 milliseconds\n\n# \u539f\u56e0\n# 1. \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3001NACL\u3067\u901a\u4fe1\u304c\u30d6\u30ed\u30c3\u30af\uff09\n# 2. \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u554f\u984c\n# 3. \u30b5\u30fc\u30d0\u30fc\u30c0\u30a6\u30f3\n\n# \u8a3a\u65ad\n# 1. \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u78ba\u8a8d\nsudo iptables -L -n -v\n\n# \u307e\u305f\u306f firewalld \u306e\u5834\u5408\nsudo firewall-cmd --list-all\n\n# 2. \u30dd\u30fc\u30c8\u304c\u958b\u3044\u3066\u3044\u308b\u304b\u78ba\u8a8d\nsudo ss -tuln | grep :443\n\n# 3. traceroute\u3067\u7d4c\u8def\u78ba\u8a8d\ntraceroute example.com\n\n# 4. \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u30ed\u30b0\u78ba\u8a8d\nsudo tail -f /var/log/syslog | grep -i firewall\n\n# \u89e3\u6c7a\n# iptables\u3067HTTPS\u8a31\u53ef\nsudo iptables -A INPUT -p tcp --dport 443 -j ACCEPT\n\n# \u307e\u305f\u306f firewalld \u306e\u5834\u5408\nsudo firewall-cmd --permanent --add-service=https\nsudo firewall-cmd --reload\n"})}),"\n",(0,t.jsx)(e.h4,{id:"\u554f\u984c3-no-route-to-host",children:'\u554f\u984c3: "No route to host"'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u75c7\u72b6\nping 10.0.1.10\n# From 10.0.1.1 icmp_seq=1 Destination Host Unreachable\n\n# \u539f\u56e0\n# 1. \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8a2d\u5b9a\u30a8\u30e9\u30fc\n# 2. \u30b5\u30d6\u30cd\u30c3\u30c8\u8a2d\u5b9a\u30df\u30b9\n# 3. \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u969c\u5bb3\n\n# \u8a3a\u65ad\n# 1. \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u78ba\u8a8d\nip route show\n\n# 2. \u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u78ba\u8a8d\nip route | grep default\n\n# 3. ARP\u30c6\u30fc\u30d6\u30eb\u78ba\u8a8d\nip neigh show\n\n# \u89e3\u6c7a\n# \u30eb\u30fc\u30c8\u8ffd\u52a0\nsudo ip route add 10.0.1.0/24 via 10.0.0.1 dev eth0\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"4-ssltls\u8a3a\u65ad",children:"4. SSL/TLS\u8a3a\u65ad"}),"\n",(0,t.jsx)(e.h3,{id:"41-ssltls\u8a3a\u65ad\u30b9\u30af\u30ea\u30d7\u30c8",children:"4.1 SSL/TLS\u8a3a\u65ad\u30b9\u30af\u30ea\u30d7\u30c8"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# ssl-diagnose.sh - SSL/TLS\u8a3a\u65ad\u30b9\u30af\u30ea\u30d7\u30c8\n\nHOST=$1\nPORT=${2:-443}\n\necho "=== SSL/TLS\u8a3a\u65ad: $HOST:$PORT ==="\n\n# 1. \u8a3c\u660e\u66f8\u60c5\u5831\u53d6\u5f97\necho -e "\\n[1] \u8a3c\u660e\u66f8\u60c5\u5831"\necho | openssl s_client -servername $HOST -connect $HOST:$PORT 2>/dev/null | \\\n  openssl x509 -noout -text | grep -A2 "Subject:\\|Issuer:\\|Validity"\n\n# 2. \u8a3c\u660e\u66f8\u30c1\u30a7\u30fc\u30f3\u78ba\u8a8d\necho -e "\\n[2] \u8a3c\u660e\u66f8\u30c1\u30a7\u30fc\u30f3"\necho | openssl s_client -showcerts -servername $HOST -connect $HOST:$PORT 2>/dev/null | \\\n  grep -E "s:|i:" | head -10\n\n# 3. \u6709\u52b9\u671f\u9650\u78ba\u8a8d\necho -e "\\n[3] \u6709\u52b9\u671f\u9650"\necho | openssl s_client -servername $HOST -connect $HOST:$PORT 2>/dev/null | \\\n  openssl x509 -noout -dates\n\n# 4. SAN\u30ea\u30b9\u30c8\u78ba\u8a8d\necho -e "\\n[4] Subject Alternative Names (SAN)"\necho | openssl s_client -servername $HOST -connect $HOST:$PORT 2>/dev/null | \\\n  openssl x509 -noout -text | grep -A1 "Subject Alternative Name"\n\n# 5. TLS\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\necho -e "\\n[5] \u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308bTLS\u30d0\u30fc\u30b8\u30e7\u30f3"\nfor version in ssl3 tls1 tls1_1 tls1_2 tls1_3; do\n    echo -n "$version: "\n    timeout 2 openssl s_client -$version -connect $HOST:$PORT </dev/null &>/dev/null\n    if [ $? -eq 0 ]; then\n        echo "\u2705 \u30b5\u30dd\u30fc\u30c8"\n    else\n        echo "\u274c \u975e\u30b5\u30dd\u30fc\u30c8"\n    fi\ndone\n\n# 6. \u6697\u53f7\u30b9\u30a4\u30fc\u30c8\u78ba\u8a8d\necho -e "\\n[6] \u6697\u53f7\u30b9\u30a4\u30fc\u30c8"\necho | openssl s_client -servername $HOST -connect $HOST:$PORT 2>/dev/null | \\\n  grep "Cipher"\n\n# 7. SSL Labs\u8a55\u4fa1\uff08\u5916\u90e8\u30c4\u30fc\u30eb\uff09\necho -e "\\n[7] SSL Labs\u8a55\u4fa1"\necho "https://www.ssllabs.com/ssltest/analyze.html?d=$HOST"\n'})}),"\n",(0,t.jsx)(e.h3,{id:"42-\u3088\u304f\u3042\u308bssltls\u554f\u984c",children:"4.2 \u3088\u304f\u3042\u308bSSL/TLS\u554f\u984c"}),"\n",(0,t.jsx)(e.h4,{id:"\u554f\u984c1-certificate-verify-failed",children:'\u554f\u984c1: "Certificate verify failed"'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# \u75c7\u72b6\ncurl https://example.com\n# curl: (60) SSL certificate problem: certificate has expired\n\n# \u307e\u305f\u306f\n# curl: (60) SSL certificate problem: unable to get local issuer certificate\n\n# \u8a3a\u65ad\n# 1. \u8a3c\u660e\u66f8\u306e\u6709\u52b9\u671f\u9650\u78ba\u8a8d\necho | openssl s_client -servername example.com -connect example.com:443 2>/dev/null | \\\n  openssl x509 -noout -dates\n\n# Not Before: Jan  1 00:00:00 2025 GMT\n# Not After : Jan  1 23:59:59 2024 GMT  \u2190 \u671f\u9650\u5207\u308c\uff01\n\n# 2. \u8a3c\u660e\u66f8\u30c1\u30a7\u30fc\u30f3\u78ba\u8a8d\necho | openssl s_client -showcerts -servername example.com -connect example.com:443 2>/dev/null\n\n# 3. \u4e2d\u9593\u8a3c\u660e\u66f8\u306e\u6709\u7121\u78ba\u8a8d\nopenssl s_client -showcerts -servername example.com -connect example.com:443 </dev/null 2>/dev/null | \\\n  grep -c "BEGIN CERTIFICATE"\n# 1 \u2192 \u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u306e\u307f\uff08\u4e2d\u9593\u8a3c\u660e\u66f8\u306a\u3057 \u274c\uff09\n# 2\u4ee5\u4e0a \u2192 \u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8 + \u4e2d\u9593\u8a3c\u660e\u66f8 \u2705\n\n# \u89e3\u6c7a\n# 1. \u8a3c\u660e\u66f8\u3092\u66f4\u65b0\uff08Let\'s Encrypt\uff09\nsudo certbot renew\n\n# 2. \u4e2d\u9593\u8a3c\u660e\u66f8\u3092\u542b\u3081\u308b\uff08Nginx\uff09\n# /etc/nginx/sites-available/default\nssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;  # fullchain\u4f7f\u7528\nssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n'})}),"\n",(0,t.jsx)(e.h4,{id:"\u554f\u984c2-hostname-mismatch",children:'\u554f\u984c2: "Hostname mismatch"'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u75c7\u72b6\ncurl https://api.example.com\n# curl: (60) SSL: no alternative certificate subject name matches target host name 'api.example.com'\n\n# \u8a3a\u65ad\n# \u8a3c\u660e\u66f8\u306eCN/SAN\u78ba\u8a8d\necho | openssl s_client -servername api.example.com -connect api.example.com:443 2>/dev/null | \\\n  openssl x509 -noout -text | grep -A1 \"Subject Alternative Name\"\n\n# X509v3 Subject Alternative Name:\n#     DNS:example.com, DNS:www.example.com\n# \u2192 api.example.com \u304cSAN\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\n\n# \u89e3\u6c7a\n# 1. \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\uff08*.example.com\uff09\nsudo certbot certonly --manual --preferred-challenges dns -d *.example.com -d example.com\n\n# 2. SAN\u306bapi.example.com\u3092\u8ffd\u52a0\u3057\u305f\u8a3c\u660e\u66f8\u3092\u518d\u767a\u884c\n# \u8a3c\u660e\u66f8\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306e\u7ba1\u7406\u753b\u9762\u3067\u65b0\u3057\u3044\u8a3c\u660e\u66f8\u3092\u30ea\u30af\u30a8\u30b9\u30c8\n# \u307e\u305f\u306fCertbot\u3067\u518d\u53d6\u5f97:\nsudo certbot certonly --manual -d example.com -d www.example.com -d api.example.com\n"})}),"\n",(0,t.jsx)(e.h4,{id:"\u554f\u984c3-protocol-error",children:'\u554f\u984c3: "Protocol error"'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u75c7\u72b6\ncurl https://example.com\n# curl: (35) error:1408F10B:SSL routines:ssl3_get_record:wrong version number\n\n# \u539f\u56e0\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u30b5\u30fc\u30d0\u30fc\u306eTLS\u30d0\u30fc\u30b8\u30e7\u30f3\u4e0d\u4e00\u81f4\n\n# \u8a3a\u65ad\n# \u30b5\u30fc\u30d0\u30fc\u304c\u30b5\u30dd\u30fc\u30c8\u3059\u308bTLS\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\nopenssl s_client -tls1_2 -connect example.com:443 </dev/null\nopenssl s_client -tls1_3 -connect example.com:443 </dev/null\n\n# \u89e3\u6c7a\uff08Nginx\uff09\n# /etc/nginx/sites-available/default\nssl_protocols TLSv1.2 TLSv1.3;  # TLSv1.0/1.1\u3092\u7121\u52b9\u5316\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"5-\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u8a3a\u65ad",children:"5. \u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u8a3a\u65ad"}),"\n",(0,t.jsx)(e.h3,{id:"51-\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u5931\u6557\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",children:"5.1 \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u5931\u6557\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"}),"\n",(0,t.jsx)(e.h4,{id:"\u554f\u984c1-\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304cunhealthy\u72b6\u614b",children:"\u554f\u984c1: \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304c\u300cUnhealthy\u300d\u72b6\u614b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u75c7\u72b6\n# \u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u304c\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b5\u30fc\u30d0\u30fc\u3092\u300c\u4e0d\u5065\u5168\u300d\u3068\u5224\u5b9a\n\n# \u8a3a\u65ad\n# 1. \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b5\u30fc\u30d0\u30fc\u306b\u30ed\u30b0\u30a4\u30f3\nssh backend-server\n\n# 2. \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u78ba\u8a8d\ncurl http://localhost:8080/health\n# 503 Service Unavailable \u2190 \u554f\u984c\u767a\u898b\n\n# 3. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ed\u30b0\u78ba\u8a8d\nsudo tail -f /var/log/app.log\n\n# 4. \u30b5\u30fc\u30d3\u30b9\u7a3c\u50cd\u72b6\u6cc1\u78ba\u8a8d\nsudo systemctl status myapp\n\n# 5. \u30dd\u30fc\u30c8\u30ea\u30b9\u30cb\u30f3\u30b0\u78ba\u8a8d\nsudo ss -tuln | grep :8080\n\n# \u89e3\u6c7a\n# 1. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4fee\u6b63\uff08/health \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c200\u3092\u8fd4\u3059\u3088\u3046\u306b\uff09\n# 2. \u30b5\u30fc\u30d3\u30b9\u518d\u8d77\u52d5\nsudo systemctl restart myapp\n\n# 3. \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u78ba\u8a8d\uff08\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\uff09\nsudo iptables -L -n | grep 8080\n"})}),"\n",(0,t.jsx)(e.h4,{id:"\u554f\u984c2-504-gateway-timeout",children:"\u554f\u984c2: 504 Gateway Timeout"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# \u75c7\u72b6\n# \u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u7d4c\u7531\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3067504\u30a8\u30e9\u30fc\n\n# \u539f\u56e0\n# 1. \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u5fdc\u7b54\u304c\u9045\u3044\n# 2. \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304c\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u5185\u306b\u5fdc\u7b54\u3057\u306a\u3044\n\n# \u8a3a\u65ad\n# 1. Nginx\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u78ba\u8a8d\nsudo tail -f /var/log/nginx/access.log\n\n# \u30ed\u30b0\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u4f8b:\n# $remote_addr - [$time_local] "$request" $status $request_time $upstream_response_time\n\n# 2. \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u5fdc\u7b54\u6642\u9593\u8a08\u6e2c\ntime curl http://backend-instance:8080/api/slow-endpoint\n\n# 3. \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30ea\u30bd\u30fc\u30b9\u78ba\u8a8d\n# CPU\u4f7f\u7528\u7387\ntop\n\n# \u30e1\u30e2\u30ea\u4f7f\u7528\u7387\nfree -m\n\n# \u30c7\u30a3\u30b9\u30afI/O\niostat -x 1\n\n# \u89e3\u6c7a\n# 1. Nginx\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u5ef6\u9577\n# /etc/nginx/nginx.conf\nproxy_connect_timeout 120s;\nproxy_send_timeout 120s;\nproxy_read_timeout 120s;\n\n# 2. \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6700\u9069\u5316\n# - \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30a8\u30ea\u6700\u9069\u5316\n# - \u30ad\u30e3\u30c3\u30b7\u30e5\u5c0e\u5165\n# - \u975e\u540c\u671f\u51e6\u7406\u5316\n'})}),"\n",(0,t.jsx)(e.h3,{id:"52-nginx\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u5206\u6790",children:"5.2 Nginx\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u5206\u6790"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# nginx-log-analysis.sh - Nginx\u30ed\u30b0\u5206\u6790\u30b9\u30af\u30ea\u30d7\u30c8\n\nLOG_FILE=$1\n\necho "=== Nginx \u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u5206\u6790 ==="\n\n# 1. \u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u5206\u5e03\necho -e "\\n[1] HTTP\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u5206\u5e03"\nawk \'{print $9}\' $LOG_FILE | sort | uniq -c | sort -rn\n\n# 2. \u9045\u3044\u30ea\u30af\u30a8\u30b9\u30c8TOP 10\necho -e "\\n[2] \u9045\u3044\u30ea\u30af\u30a8\u30b9\u30c8TOP 10\uff08\u30ec\u30b9\u30dd\u30f3\u30b9\u6642\u9593\uff09"\nawk \'{print $10, $7}\' $LOG_FILE | sort -k1 -rn | head -10\n\n# 3. \u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u8a73\u7d30\necho -e "\\n[3] 5xx \u30a8\u30e9\u30fc"\nawk \'$9 >= 500 {print $9, $7, $10}\' $LOG_FILE\n\n# 4. \u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\u6642\u9593\u304c\u9577\u3044\u30ea\u30af\u30a8\u30b9\u30c8\necho -e "\\n[4] \u51e6\u7406\u6642\u9593 > 1\u79d2"\nawk \'$10 > 1.0 {print $10, $7}\' $LOG_FILE | head -20\n\n# 5. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8IP\u30a2\u30c9\u30ec\u30b9TOP 10\necho -e "\\n[5] \u30a2\u30af\u30bb\u30b9\u5143IP TOP 10"\nawk \'{print $1}\' $LOG_FILE | sort | uniq -c | sort -rn | head -10\n\n# 6. \u30a2\u30af\u30bb\u30b9\u6570\u306e\u591a\u3044\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8TOP 10\necho -e "\\n[6] \u30a2\u30af\u30bb\u30b9\u6570TOP 10"\nawk \'{print $7}\' $LOG_FILE | sort | uniq -c | sort -rn | head -10\n'})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"6-\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3",children:"6. \u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3"}),"\n",(0,t.jsx)(e.h3,{id:"61-tcpdump\u306b\u3088\u308b\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3",children:"6.1 tcpdump\u306b\u3088\u308b\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u57fa\u672c\u7684\u306a\u30ad\u30e3\u30d7\u30c1\u30e3\nsudo tcpdump -i eth0 -w capture.pcap\n\n# HTTPS\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u306e\u30ad\u30e3\u30d7\u30c1\u30e3\nsudo tcpdump -i eth0 port 443 -w https-capture.pcap\n\n# \u7279\u5b9a\u30db\u30b9\u30c8\u3068\u306e\u901a\u4fe1\nsudo tcpdump -i eth0 host example.com -w host-capture.pcap\n\n# \u30d5\u30a3\u30eb\u30bf\u6761\u4ef6\nsudo tcpdump -i eth0 'tcp port 443 and host example.com' -w filtered-capture.pcap\n\n# \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u8868\u793a\uff08\u30d5\u30a1\u30a4\u30eb\u4fdd\u5b58\u306a\u3057\uff09\nsudo tcpdump -i eth0 -nn -A port 443\n\n# \u30d1\u30b1\u30c3\u30c8\u6570\u5236\u9650\nsudo tcpdump -i eth0 -c 100 -w capture.pcap\n\n# Wireshark\u3067\u5206\u6790\n# capture.pcap\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066Wireshark\u3067\u958b\u304f\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"7-\u7dcf\u5408\u8a3a\u65ad\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",children:"7. \u7dcf\u5408\u8a3a\u65ad\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8"}),"\n",(0,t.jsx)(e.h3,{id:"71-\u63a5\u7d9a\u3067\u304d\u306a\u3044\u5834\u5408",children:"7.1 \u63a5\u7d9a\u3067\u304d\u306a\u3044\u5834\u5408"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u25a1 DNS\u89e3\u6c7a\u3067\u304d\u308b\u304b? (dig/nslookup)\n  \u2514\u2500 No \u2192 DNS\u30ec\u30b3\u30fc\u30c9\u8a2d\u5b9a\u78ba\u8a8d\n\n\u25a1 ping\u5fdc\u7b54\u304c\u3042\u308b\u304b?\n  \u2514\u2500 No \u2192 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u758e\u901a\u78ba\u8a8d\u3001\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u78ba\u8a8d\n\n\u25a1 TCP\u30dd\u30fc\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u308b\u304b? (nc/telnet)\n  \u2514\u2500 No \u2192 \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u78ba\u8a8d\u3001iptables/firewalld\u8a2d\u5b9a\n\n\u25a1 \u30b5\u30fc\u30d0\u30fc\u304c\u30dd\u30fc\u30c8\u3092\u30ea\u30b9\u30cb\u30f3\u30b0\u3057\u3066\u3044\u308b\u304b? (ss/netstat)\n  \u2514\u2500 No \u2192 \u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\u78ba\u8a8d\n\n\u25a1 SSL/TLS\u8a3c\u660e\u66f8\u306f\u6709\u52b9\u304b?\n  \u2514\u2500 No \u2192 \u8a3c\u660e\u66f8\u66f4\u65b0\n\n\u25a1 \u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u306e\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u306f\u6b63\u5e38\u304b?\n  \u2514\u2500 No \u2192 \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u78ba\u8a8d\n"})}),"\n",(0,t.jsx)(e.h3,{id:"72-\u9045\u3044\u5834\u5408",children:"7.2 \u9045\u3044\u5834\u5408"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u25a1 DNS\u89e3\u6c7a\u306b\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u3044\u308b\u304b?\n  \u2514\u2500 Yes \u2192 DNS TTL\u6700\u9069\u5316\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u8a2d\u5b9a\n\n\u25a1 SSL/TLS\u30cf\u30f3\u30c9\u30b7\u30a7\u30a4\u30af\u306b\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u3044\u308b\u304b?\n  \u2514\u2500 Yes \u2192 \u30bb\u30c3\u30b7\u30e7\u30f3\u518d\u5229\u7528\u3001Keep-Alive\u8a2d\u5b9a\n\n\u25a1 \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u51e6\u7406\u306b\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u3044\u308b\u304b?\n  \u2514\u2500 Yes \u2192 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u6700\u9069\u5316\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u5c0e\u5165\n\n\u25a1 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u9045\u5ef6\u304c\u5927\u304d\u3044\u304b? (traceroute)\n  \u2514\u2500 Yes \u2192 CDN\u5c0e\u5165\u3001\u8fd1\u3044\u30ea\u30fc\u30b8\u30e7\u30f3\u3078\u79fb\u884c\n"})}),"\n",(0,t.jsx)(e.h3,{id:"73-\u9593\u6b20\u7684\u306b\u5931\u6557\u3059\u308b\u5834\u5408",children:"7.3 \u9593\u6b20\u7684\u306b\u5931\u6557\u3059\u308b\u5834\u5408"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u25a1 \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a\u306f\u9069\u5207\u304b?\n  \u2514\u2500 \u78ba\u8a8d: \u63a5\u7d9a\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3001\u8aad\u307f\u53d6\u308a\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\n\n\u25a1 \u30ea\u30c8\u30e9\u30a4\u30ed\u30b8\u30c3\u30af\u306f\u3042\u308b\u304b?\n  \u2514\u2500 \u8ffd\u52a0: \u6307\u6570\u30d0\u30c3\u30af\u30aa\u30d5\u4ed8\u304d\u30ea\u30c8\u30e9\u30a4\n\n\u25a1 \u30ec\u30fc\u30c8\u5236\u9650\u306b\u5f15\u3063\u304b\u304b\u3063\u3066\u3044\u308b\u304b?\n  \u2514\u2500 Yes \u2192 \u30ec\u30fc\u30c8\u5236\u9650\u7de9\u548c\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u5206\u6563\n\n\u25a1 \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u5931\u6557\u3067\u4e00\u6642\u7684\u306b\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u9664\u5916\u3055\u308c\u3066\u3044\u308b\u304b?\n  \u2514\u2500 Yes \u2192 \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u95be\u5024\u8abf\u6574\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,t.jsx)(e.h3,{id:"\u5b66\u3093\u3060\u3053\u3068",children:"\u5b66\u3093\u3060\u3053\u3068"}),"\n",(0,t.jsx)(e.p,{children:"\u672c\u7ae0\u3067\u306f\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u5b9f\u8df5\u7684\u306a\u624b\u6cd5\u3092\u5b66\u3073\u307e\u3057\u305f:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u4f53\u7cfb\u7684\u306a\u8a3a\u65ad\u30d5\u30ed\u30fc\uff085W1H\u3001\u30ec\u30a4\u30e4\u30fc\u5225\u8a3a\u65ad\uff09"}),"\n",(0,t.jsx)(e.li,{children:"DNS\u554f\u984c\u306e\u8a3a\u65ad\u3068\u89e3\u6c7a\uff08NXDOMAIN\u3001\u4f1d\u64ad\u9045\u5ef6\u3001CNAME\u30eb\u30fc\u30d7\uff09"}),"\n",(0,t.jsx)(e.li,{children:"\u63a5\u7d9a\u6027\u554f\u984c\u306e\u8a3a\u65ad\uff08Connection refused\u3001Timeout\u3001No route to host\uff09"}),"\n",(0,t.jsx)(e.li,{children:"SSL/TLS\u554f\u984c\u306e\u8a3a\u65ad\uff08\u8a3c\u660e\u66f8\u30a8\u30e9\u30fc\u3001\u30d7\u30ed\u30c8\u30b3\u30eb\u30a8\u30e9\u30fc\uff09"}),"\n",(0,t.jsx)(e.li,{children:"\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u554f\u984c\u306e\u8a3a\u65ad\uff08\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u5931\u6557\u3001504 Timeout\uff09"}),"\n",(0,t.jsx)(e.li,{children:"\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u554f\u984c\u306e\u8a3a\u65ad\uff08403 Forbidden\u3001429 Too Many Requests\uff09"}),"\n",(0,t.jsx)(e.li,{children:"\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3\u3068\u30ed\u30b0\u5206\u6790"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"\u91cd\u8981\u306a\u8a3a\u65ad\u30c4\u30fc\u30eb",children:"\u91cd\u8981\u306a\u8a3a\u65ad\u30c4\u30fc\u30eb"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"DNS\u8a3a\u65ad:\n  dig, nslookup, host, whois\n\n\u63a5\u7d9a\u6027\u8a3a\u65ad:\n  ping, traceroute, nc (netcat), telnet, curl\n\nSSL/TLS\u8a3a\u65ad:\n  openssl s_client, SSL Labs\n\n\u30d1\u30b1\u30c3\u30c8\u5206\u6790:\n  tcpdump, Wireshark, tshark\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"1. \u518d\u73fe\u6027\u306e\u78ba\u8a8d\n   - \u5e38\u306b\u767a\u751f? \u9593\u6b20\u7684?\n   - \u7279\u5b9a\u6761\u4ef6\u3067\u767a\u751f?\n\n2. \u6700\u5c0f\u9650\u306e\u5909\u66f4\n   - 1\u3064\u305a\u3064\u5909\u66f4\n   - \u5909\u66f4\u524d\u5f8c\u3067\u691c\u8a3c\n\n3. \u30ed\u30b0\u306e\u6d3b\u7528\n   - \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ed\u30b0\u306e\u78ba\u8a8d\n   - \u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u3001\u30a8\u30e9\u30fc\u30ed\u30b0\u5206\u6790\n\n4. \u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\n   - \u30e1\u30c8\u30ea\u30af\u30b9\u53ce\u96c6\u3068\u30b0\u30e9\u30d5\u5316\n   - \u30a2\u30e9\u30fc\u30c8\u8a2d\u5b9a\n\n5. \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5316\n   - \u554f\u984c\u3068\u89e3\u6c7a\u7b56\u3092\u8a18\u9332\n   - \u30e9\u30f3\u30d6\u30c3\u30af\u306e\u4f5c\u6210\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",children:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u25a1 DNS\u8a3a\u65ad\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3067\u304d\u308b\n\u25a1 \u63a5\u7d9a\u6027\u8a3a\u65ad\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3067\u304d\u308b\n\u25a1 SSL/TLS\u8a3c\u660e\u66f8\u3092\u691c\u8a3c\u3067\u304d\u308b\uff08openssl s_client\uff09\n\u25a1 Nginx\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u3092\u5206\u6790\u3067\u304d\u308b\n\u25a1 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ed\u30b0\u3067\u30a8\u30e9\u30fc\u3092\u8abf\u67fb\u3067\u304d\u308b\n\u25a1 tcpdump\u3067\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3\u3067\u304d\u308b\n\u25a1 Wireshark\u3067\u30d1\u30b1\u30c3\u30c8\u89e3\u6790\u3067\u304d\u308b\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u53c2\u8003\u30ea\u30f3\u30af",children:"\u53c2\u8003\u30ea\u30f3\u30af"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://www.wireshark.org/docs/",children:"Wireshark Documentation"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://www.tcpdump.org/manpages/tcpdump.1.html",children:"tcpdump Manual"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://www.ssllabs.com/",children:"SSL Labs"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://nginx.org/en/docs/troubleshooting.html",children:"Nginx Troubleshooting"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://www.kernel.org/doc/Documentation/networking/",children:"Linux Network Troubleshooting"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},28453:(n,e,l)=>{l.d(e,{R:()=>c,x:()=>o});var s=l(96540);const t={},i=s.createContext(t);function c(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:c(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);