"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[14175],{85270:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>o,frontMatter:()=>i,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"content_11_learning/fido-webauthn/fido2-faq-troubleshooting","title":"FIDO2/WebAuthn FAQ\u30fb\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","description":"---","source":"@site/docs/content_11_learning/05-fido-webauthn/fido2-faq-troubleshooting.md","sourceDirName":"content_11_learning/05-fido-webauthn","slug":"/content_11_learning/fido-webauthn/fido2-faq-troubleshooting","permalink":"/idp-server/docs/content_11_learning/fido-webauthn/fido2-faq-troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/05-fido-webauthn/fido2-faq-troubleshooting.md","tags":[],"version":"current","sidebarPosition":99,"frontMatter":{"sidebar_position":99},"sidebar":"docs","previous":{"title":"FIDO2/WebAuthn \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u5206\u6790","permalink":"/idp-server/docs/content_11_learning/fido-webauthn/fido2-performance-analysis"},"next":{"title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7528\u8a9e\u96c6","permalink":"/idp-server/docs/content_11_learning/security/glossary"}}');var d=s(74848),l=s(28453);const i={sidebar_position:99},t="FIDO2/WebAuthn FAQ\u30fb\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",c={},h=[{value:"\u6982\u8981",id:"\u6982\u8981",level:2},{value:"FAQ",id:"faq",level:2},{value:"Q1: Touch ID\u304c\u8a8d\u8a3c\u6642\u306b\u8868\u793a\u3055\u308c\u306a\u3044\uff08QR\u30b3\u30fc\u30c9\u306e\u307f\u8868\u793a\u3055\u308c\u308b\uff09",id:"q1-touch-id\u304c\u8a8d\u8a3c\u6642\u306b\u8868\u793a\u3055\u308c\u306a\u3044qr\u30b3\u30fc\u30c9\u306e\u307f\u8868\u793a\u3055\u308c\u308b",level:3},{value:"\u539f\u56e01: rpId\u306e\u4e0d\u4e00\u81f4",id:"\u539f\u56e01-rpid\u306e\u4e0d\u4e00\u81f4",level:4},{value:"\u539f\u56e02: transports\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044",id:"\u539f\u56e02-transports\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044",level:4},{value:"Q2: authenticatorAttachment\u3068transports\u306e\u9055\u3044\u306f\uff1f",id:"q2-authenticatorattachment\u3068transports\u306e\u9055\u3044\u306f",level:3},{value:"Q3: \u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u30c7\u30d7\u30ed\u30a4\u3067\u306erpId\u8a2d\u5b9a",id:"q3-\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u30c7\u30d7\u30ed\u30a4\u3067\u306erpid\u8a2d\u5b9a",level:3},{value:"\u30c7\u30d0\u30c3\u30b0\u624b\u9806",id:"\u30c7\u30d0\u30c3\u30b0\u624b\u9806",level:2},{value:"1. \u30d6\u30e9\u30a6\u30b6\u306e\u958b\u767a\u8005\u30c4\u30fc\u30eb\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u78ba\u8a8d",id:"1-\u30d6\u30e9\u30a6\u30b6\u306e\u958b\u767a\u8005\u30c4\u30fc\u30eb\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u78ba\u8a8d",level:3},{value:"2. \u30b5\u30fc\u30d0\u30fc\u30ed\u30b0\u3092\u78ba\u8a8d",id:"2-\u30b5\u30fc\u30d0\u30fc\u30ed\u30b0\u3092\u78ba\u8a8d",level:3},{value:"3. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u78ba\u8a8d",id:"3-\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u78ba\u8a8d",level:3},{value:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9",id:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9",level:2},{value:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",id:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"fido2webauthn-faq\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",children:"FIDO2/WebAuthn FAQ\u30fb\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u6982\u8981",children:"\u6982\u8981"}),"\n",(0,d.jsx)(n.p,{children:"FIDO2/WebAuthn\u5b9f\u88c5\u6642\u306b\u3088\u304f\u906d\u9047\u3059\u308b\u554f\u984c\u3068\u305d\u306e\u89e3\u6c7a\u65b9\u6cd5\u3092FAQ\u5f62\u5f0f\u3067\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002"}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,d.jsx)(n.h3,{id:"q1-touch-id\u304c\u8a8d\u8a3c\u6642\u306b\u8868\u793a\u3055\u308c\u306a\u3044qr\u30b3\u30fc\u30c9\u306e\u307f\u8868\u793a\u3055\u308c\u308b",children:"Q1: Touch ID\u304c\u8a8d\u8a3c\u6642\u306b\u8868\u793a\u3055\u308c\u306a\u3044\uff08QR\u30b3\u30fc\u30c9\u306e\u307f\u8868\u793a\u3055\u308c\u308b\uff09"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u75c7\u72b6"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Passkey\u767b\u9332\u306f\u6210\u529f\u3057\u305f"}),"\n",(0,d.jsx)(n.li,{children:"\u8a8d\u8a3c\u6642\u306bTouch ID\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u306a\u3044"}),"\n",(0,d.jsx)(n.li,{children:"\u300cUse your phone or tablet\u300d\u3068QR\u30b3\u30fc\u30c9\u306e\u307f\u8868\u793a\u3055\u308c\u308b"}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u539f\u56e0\u3068\u89e3\u6c7a\u65b9\u6cd5"}),":"]}),"\n",(0,d.jsx)(n.h4,{id:"\u539f\u56e01-rpid\u306e\u4e0d\u4e00\u81f4",children:"\u539f\u56e01: rpId\u306e\u4e0d\u4e00\u81f4"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u554f\u984c"}),": \u767b\u9332\u6642\u3068\u8a8d\u8a3c\u6642\u3067",(0,d.jsx)(n.code,{children:"rpId"}),"\u304c\u7570\u306a\u308b"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'\u767b\u9332\u6642: rpId = "local.dev"\n\u8a8d\u8a3c\u6642: rpId = "auth.local.dev" (\u30aa\u30ea\u30b8\u30f3\u304b\u3089\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024)\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u89e3\u6c7a\u65b9\u6cd5"}),": \u8a8d\u8a3c\u30c1\u30e3\u30ec\u30f3\u30b8\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306b",(0,d.jsx)(n.code,{children:"rpId"}),"\u3092\u660e\u793a\u7684\u306b\u542b\u3081\u308b"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'// \u30b5\u30fc\u30d0\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\n{\n  "challenge": "...",\n  "rpId": "local.dev",  // \u307e\u305f\u306f rp.id \u3067\u30cd\u30b9\u30c8\n  "allowCredentials": [...]\n}\n'})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-javascript",children:"// \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\nconst publicKeyOptions = {\n  challenge: base64UrlToBuffer(challenge),\n  rpId: response.rpId || response.rp?.id,  // \u4e21\u65b9\u306e\u5f62\u5f0f\u306b\u5bfe\u5fdc\n  allowCredentials: [...]\n};\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u30dd\u30a4\u30f3\u30c8"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"rpId"}),"\u3092\u7701\u7565\u3059\u308b\u3068\u3001\u30d6\u30e9\u30a6\u30b6\u306f\u73fe\u5728\u306e\u30aa\u30ea\u30b8\u30f3\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u4f7f\u7528"]}),"\n",(0,d.jsxs)(n.li,{children:["\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u30c7\u30d7\u30ed\u30a4\uff08",(0,d.jsx)(n.code,{children:"auth.local.dev"}),"\uff09\u3067\u306f\u89aa\u30c9\u30e1\u30a4\u30f3\uff08",(0,d.jsx)(n.code,{children:"local.dev"}),"\uff09\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b"]}),"\n",(0,d.jsxs)(n.li,{children:["\u767b\u9332\u6642\u3068\u8a8d\u8a3c\u6642\u3067\u540c\u3058",(0,d.jsx)(n.code,{children:"rpId"}),"\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h4,{id:"\u539f\u56e02-transports\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044",children:"\u539f\u56e02: transports\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u554f\u984c"}),": ",(0,d.jsx)(n.code,{children:"allowCredentials"}),"\u306b",(0,d.jsx)(n.code,{children:"transports"}),"\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'// NG: transports\u306a\u3057\n{\n  "allowCredentials": [\n    {\n      "type": "public-key",\n      "id": "credential_id_base64url"\n    }\n  ]\n}\n\n// OK: transports\u3042\u308a\n{\n  "allowCredentials": [\n    {\n      "type": "public-key",\n      "id": "credential_id_base64url",\n      "transports": ["internal", "hybrid"]\n    }\n  ]\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u89e3\u6c7a\u65b9\u6cd5"}),":"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\u767b\u9332\u6642\u306b",(0,d.jsx)(n.code,{children:"transports"}),"\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58"]}),"\n",(0,d.jsxs)(n.li,{children:["\u8a8d\u8a3c\u6642\u306b",(0,d.jsx)(n.code,{children:"allowCredentials"}),"\u306b",(0,d.jsx)(n.code,{children:"transports"}),"\u3092\u542b\u3081\u308b"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"transports\u306e\u5024\u3068\u610f\u5473"}),":"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u5024"}),(0,d.jsx)(n.th,{children:"\u8aac\u660e"}),(0,d.jsx)(n.th,{children:"\u4f8b"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"internal"})}),(0,d.jsx)(n.td,{children:"\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u8a8d\u8a3c\u5668"}),(0,d.jsx)(n.td,{children:"Touch ID, Face ID, Windows Hello"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"hybrid"})}),(0,d.jsx)(n.td,{children:"\u30af\u30ed\u30b9\u30c7\u30d0\u30a4\u30b9\uff08QR\u30b3\u30fc\u30c9\u7d4c\u7531\uff09"}),(0,d.jsx)(n.td,{children:"\u30b9\u30de\u30db\u306ePasskey"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"usb"})}),(0,d.jsx)(n.td,{children:"USB\u63a5\u7d9a"}),(0,d.jsx)(n.td,{children:"YubiKey\u7b49\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ad\u30fc"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"nfc"})}),(0,d.jsx)(n.td,{children:"NFC\u63a5\u7d9a"}),(0,d.jsx)(n.td,{children:"NFC\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ad\u30fc"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ble"})}),(0,d.jsx)(n.td,{children:"Bluetooth\u63a5\u7d9a"}),(0,d.jsx)(n.td,{children:"Bluetooth\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ad\u30fc"})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsxs)(n.strong,{children:["\u306a\u305c",(0,d.jsx)(n.code,{children:"transports"}),"\u304c\u91cd\u8981\u304b"]}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u30d6\u30e9\u30a6\u30b6\u306f",(0,d.jsx)(n.code,{children:"transports"}),"\u3092\u53c2\u8003\u306b\u9069\u5207\u306a\u8a8d\u8a3c\u5668UI\u3092\u8868\u793a"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"internal"}),"\u304c\u542b\u307e\u308c\u3066\u3044\u308c\u3070Touch ID/Face ID\u3092\u512a\u5148\u8868\u793a"]}),"\n",(0,d.jsx)(n.li,{children:"\u7701\u7565\u3059\u308b\u3068\u3001\u30d6\u30e9\u30a6\u30b6\u306f\u3059\u3079\u3066\u306e\u901a\u4fe1\u65b9\u5f0f\u3092\u8a66\u884c\uff08UX\u304c\u60aa\u5316\uff09"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"q2-authenticatorattachment\u3068transports\u306e\u9055\u3044\u306f",children:"Q2: authenticatorAttachment\u3068transports\u306e\u9055\u3044\u306f\uff1f"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"authenticatorAttachment"})," - \u767b\u9332\u6642\u306b\u4f7f\u7528"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u5024"}),(0,d.jsx)(n.th,{children:"\u8aac\u660e"}),(0,d.jsx)(n.th,{children:"\u7528\u9014"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"platform"})}),(0,d.jsx)(n.td,{children:"\u30c7\u30d0\u30a4\u30b9\u5185\u8535\u8a8d\u8a3c\u5668\u306e\u307f\u8a31\u53ef"}),(0,d.jsx)(n.td,{children:"Touch ID, Face ID, Windows Hello"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cross-platform"})}),(0,d.jsx)(n.td,{children:"\u5916\u90e8\u8a8d\u8a3c\u5668\u306e\u307f\u8a31\u53ef"}),(0,d.jsx)(n.td,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ad\u30fc\u3001\u30b9\u30de\u30db"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u7701\u7565/null"}),(0,d.jsx)(n.td,{children:"\u5236\u7d04\u306a\u3057"}),(0,d.jsx)(n.td,{children:"\u3069\u3061\u3089\u3067\u3082OK"})]})]})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-javascript",children:'// \u767b\u9332\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\nconst createOptions = {\n  publicKey: {\n    authenticatorSelection: {\n      authenticatorAttachment: "platform",  // Touch ID\u306e\u307f\u8a31\u53ef\n      userVerification: "required"\n    }\n  }\n};\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"transports"})," - \u8a8d\u8a3c\u6642\u306b\u4f7f\u7528"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u5024"}),(0,d.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"internal"})}),(0,d.jsx)(n.td,{children:"\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u8a8d\u8a3c\u5668\u7d4c\u7531"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"hybrid"})}),(0,d.jsx)(n.td,{children:"\u30af\u30ed\u30b9\u30c7\u30d0\u30a4\u30b9\u7d4c\u7531"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"usb"})}),(0,d.jsx)(n.td,{children:"USB\u7d4c\u7531"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"nfc"})}),(0,d.jsx)(n.td,{children:"NFC\u7d4c\u7531"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ble"})}),(0,d.jsx)(n.td,{children:"Bluetooth\u7d4c\u7531"})]})]})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-javascript",children:'// \u8a8d\u8a3c\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\nconst getOptions = {\n  publicKey: {\n    allowCredentials: [{\n      type: "public-key",\n      id: credentialId,\n      transports: ["internal", "hybrid"]  // \u901a\u4fe1\u65b9\u5f0f\u306e\u30d2\u30f3\u30c8\n    }]\n  }\n};\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u307e\u3068\u3081"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"authenticatorAttachment"}),": \u767b\u9332\u6642\u306b\u300c\u3069\u306e\u7a2e\u985e\u306e\u8a8d\u8a3c\u5668\u3092\u4f7f\u3046\u304b\u300d\u3092\u5236\u9650"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"transports"}),": \u8a8d\u8a3c\u6642\u306b\u300c\u3069\u306e\u901a\u4fe1\u65b9\u5f0f\u3067\u8a8d\u8a3c\u5668\u306b\u63a5\u7d9a\u3059\u308b\u304b\u300d\u306e\u30d2\u30f3\u30c8"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"q3-\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u30c7\u30d7\u30ed\u30a4\u3067\u306erpid\u8a2d\u5b9a",children:"Q3: \u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u30c7\u30d7\u30ed\u30a4\u3067\u306erpId\u8a2d\u5b9a"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u30b7\u30ca\u30ea\u30aa"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"API:  https://api.local.dev\n\u8a8d\u8a3c: https://auth.local.dev\nWeb:  https://sample.local.dev\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u6b63\u3057\u3044rpId\u8a2d\u5b9a"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "rp": {\n    "id": "local.dev",\n    "name": "My Service"\n  }\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u30eb\u30fc\u30eb"}),":"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"rpId"}),"\u306f\u73fe\u5728\u306e\u30aa\u30ea\u30b8\u30f3\u3068\u540c\u3058\u304b\u3001\u305d\u306e\u89aa\u30c9\u30e1\u30a4\u30f3\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"auth.local.dev"}),"\u3067\u306f",(0,d.jsx)(n.code,{children:"local.dev"}),"\u307e\u305f\u306f",(0,d.jsx)(n.code,{children:"auth.local.dev"}),"\u3092\u4f7f\u7528\u53ef\u80fd"]}),"\n",(0,d.jsx)(n.li,{children:"\u8907\u6570\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u3067\u540c\u3058Passkey\u3092\u4f7f\u3046\u306a\u3089\u3001\u5171\u901a\u306e\u89aa\u30c9\u30e1\u30a4\u30f3\u3092\u4f7f\u7528"}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"NG\u30d1\u30bf\u30fc\u30f3"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'\u30aa\u30ea\u30b8\u30f3: https://auth.local.dev\nrpId: "other.local.dev"  // NG: \u5144\u5f1f\u30c9\u30e1\u30a4\u30f3\u306f\u4e0d\u53ef\nrpId: "dev"              // NG: \u6709\u52b9\u306aeTLD+1\u3067\u306f\u306a\u3044\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"OK\u30d1\u30bf\u30fc\u30f3"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'\u30aa\u30ea\u30b8\u30f3: https://auth.local.dev\nrpId: "local.dev"        // OK: \u89aa\u30c9\u30e1\u30a4\u30f3\nrpId: "auth.local.dev"   // OK: \u5b8c\u5168\u4e00\u81f4\n'})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u30c7\u30d0\u30c3\u30b0\u624b\u9806",children:"\u30c7\u30d0\u30c3\u30b0\u624b\u9806"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u30d6\u30e9\u30a6\u30b6\u306e\u958b\u767a\u8005\u30c4\u30fc\u30eb\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u78ba\u8a8d",children:"1. \u30d6\u30e9\u30a6\u30b6\u306e\u958b\u767a\u8005\u30c4\u30fc\u30eb\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u78ba\u8a8d"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"Network \u2192 fido2-authentication-challenge \u2192 Response\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u78ba\u8a8d\u9805\u76ee:"}),"\n",(0,d.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,d.jsx)(n.code,{children:"rpId"}),"\u307e\u305f\u306f",(0,d.jsx)(n.code,{children:"rp.id"}),"\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b"]}),"\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,d.jsx)(n.code,{children:"allowCredentials"}),"\u306b",(0,d.jsx)(n.code,{children:"transports"}),"\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b"]}),"\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Credential ID\u304c\u6b63\u3057\u3044\u304b"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"2-\u30b5\u30fc\u30d0\u30fc\u30ed\u30b0\u3092\u78ba\u8a8d",children:"2. \u30b5\u30fc\u30d0\u30fc\u30ed\u30b0\u3092\u78ba\u8a8d"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'# transports\u306e\u30d1\u30fc\u30b9\u72b6\u6cc1\ngrep "parseTransports" logs/app.log\n\n# allowCredentials\u306e\u751f\u6210\ngrep "allowCredentials" logs/app.log\n'})}),"\n",(0,d.jsx)(n.h3,{id:"3-\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u78ba\u8a8d",children:"3. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u78ba\u8a8d"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sql",children:"SELECT id, username, rp_id, transports\nFROM webauthn_credentials\nWHERE tenant_id = 'your-tenant-id';\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u78ba\u8a8d\u9805\u76ee:"}),"\n",(0,d.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,d.jsx)(n.code,{children:"rp_id"}),"\u304c\u671f\u5f85\u5024\u3068\u4e00\u81f4\u3059\u308b\u304b"]}),"\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,d.jsx)(n.code,{children:"transports"}),"\u304c\u6b63\u3057\u304f\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u304b"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9",children:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://www.w3.org/TR/webauthn-2/#relying-party-identifier",children:"W3C WebAuthn Level 2 - rpId"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://www.w3.org/TR/webauthn-2/#dom-publickeycredentialdescriptor-transports",children:"W3C WebAuthn Level 2 - transports"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Authentication_API",children:"MDN - Web Authentication API"})}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",children:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"/idp-server/docs/content_11_learning/fido-webauthn/fido2-authentication-flow-interface",children:"FIDO2 \u8a8d\u8a3c\u30d5\u30ed\u30fc\u3068\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u8a73\u7d30"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"/idp-server/docs/content_11_learning/fido-webauthn/fido2-registration-flow-interface",children:"FIDO2 \u767b\u9332\u30d5\u30ed\u30fc\u3068\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u8a73\u7d30"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"/idp-server/docs/content_11_learning/fido-webauthn/fido2-passkey-discoverable-credential",children:"FIDO2\u30fb\u30d1\u30b9\u30ad\u30fc\u30fbDiscoverable Credential"})}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>t});var r=s(96540);const d={},l=r.createContext(d);function i(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);