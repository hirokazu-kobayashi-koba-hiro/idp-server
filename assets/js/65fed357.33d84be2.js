"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[8476],{37141:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"content_05_how-to/how-to-18-security-event-hooks","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u8a2d\u5b9a\u30ac\u30a4\u30c9","description":"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684","source":"@site/docs/content_05_how-to/how-to-18-security-event-hooks.md","sourceDirName":"content_05_how-to","slug":"/content_05_how-to/how-to-18-security-event-hooks","permalink":"/idp-server/docs/content_05_how-to/how-to-18-security-event-hooks","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_05_how-to/how-to-18-security-event-hooks.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\u8eab\u5143\u78ba\u8a8d\u30c7\u30fc\u30bf\u767b\u9332","permalink":"/idp-server/docs/content_05_how-to/how-to-17-identity-verification-registration"},"next":{"title":"00. \u30b5\u30fc\u30d3\u30b9\u6982\u8981 - idp-server\u3068\u306f","permalink":"/idp-server/docs/content_06_developer-guide/getting-started/service-overview"}}');var r=s(74848),l=s(28453);const t={},d="\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u8a2d\u5b9a\u30ac\u30a4\u30c9",c={},o=[{value:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",level:2},{value:"\u6240\u8981\u6642\u9593",id:"\u6240\u8981\u6642\u9593",level:3},{value:"\u524d\u63d0\u6761\u4ef6",id:"\u524d\u63d0\u6761\u4ef6",level:3},{value:"Management API URL",id:"management-api-url",level:3},{value:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u3068\u306f",id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u3068\u306f",level:2},{value:"Level 1: Email\u901a\u77e5\u306e\u8a2d\u5b9a\uff0810\u5206\uff09",id:"level-1-email\u901a\u77e5\u306e\u8a2d\u5b9a10\u5206",level:2},{value:"Step 1: Email\u901a\u77e5\u30d5\u30c3\u30af\u3092\u4f5c\u6210",id:"step-1-email\u901a\u77e5\u30d5\u30c3\u30af\u3092\u4f5c\u6210",level:3},{value:"Step 2: \u52d5\u4f5c\u78ba\u8a8d",id:"step-2-\u52d5\u4f5c\u78ba\u8a8d",level:3},{value:"Level 2: Webhook\u901a\u77e5\u306e\u8a2d\u5b9a\uff0810\u5206\uff09",id:"level-2-webhook\u901a\u77e5\u306e\u8a2d\u5b9a10\u5206",level:2},{value:"Webhook\u30d5\u30c3\u30af\u3092\u4f5c\u6210",id:"webhook\u30d5\u30c3\u30af\u3092\u4f5c\u6210",level:3},{value:"Webhook\u3067\u53d7\u4fe1\u3059\u308b\u30c7\u30fc\u30bf",id:"webhook\u3067\u53d7\u4fe1\u3059\u308b\u30c7\u30fc\u30bf",level:3},{value:"\u5229\u7528\u53ef\u80fd\u306a\u30a4\u30d9\u30f3\u30c8\u4e00\u89a7",id:"\u5229\u7528\u53ef\u80fd\u306a\u30a4\u30d9\u30f3\u30c8\u4e00\u89a7",level:2},{value:"\u8a8d\u8a3c\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",id:"\u8a8d\u8a3c\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",level:3},{value:"\u30a2\u30ab\u30a6\u30f3\u30c8\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",id:"\u30a2\u30ab\u30a6\u30f3\u30c8\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",level:3},{value:"\u672c\u4eba\u78ba\u8a8d\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",id:"\u672c\u4eba\u78ba\u8a8d\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",level:3},{value:"\u30c8\u30fc\u30af\u30f3\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",id:"\u30c8\u30fc\u30af\u30f3\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",level:3},{value:"Level 3: SSF\uff08Shared Signals Framework\uff09",id:"level-3-ssfshared-signals-framework",level:2},{value:"SSF\u3068\u306f",id:"ssf\u3068\u306f",level:3},{value:"SSF\u8a2d\u5b9a",id:"ssf\u8a2d\u5b9a",level:3},{value:"Level 4: \u8907\u6570\u30d5\u30c3\u30af\u306e\u7d44\u307f\u5408\u308f\u305b",id:"level-4-\u8907\u6570\u30d5\u30c3\u30af\u306e\u7d44\u307f\u5408\u308f\u305b",level:2},{value:"Email + Webhook + SSF",id:"email--webhook--ssf",level:3},{value:"\u5b9f\u4f8b: \u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u5411\u3051\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af",id:"\u5b9f\u4f8b-\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u5411\u3051\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af",level:2},{value:"Email\u901a\u77e5\u8a2d\u5b9a\uff08\u5916\u90e8\u901a\u77e5\u30b7\u30b9\u30c6\u30e0\u9023\u643a\uff09",id:"email\u901a\u77e5\u8a2d\u5b9a\u5916\u90e8\u901a\u77e5\u30b7\u30b9\u30c6\u30e0\u9023\u643a",level:3},{value:"SSF\u901a\u77e5\u8a2d\u5b9a\uff08RISC\u6e96\u62e0\uff09",id:"ssf\u901a\u77e5\u8a2d\u5b9arisc\u6e96\u62e0",level:3},{value:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc",id:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc",level:2},{value:"\u30a8\u30e9\u30fc1: \u901a\u77e5\u9001\u4fe1\u5931\u6557",id:"\u30a8\u30e9\u30fc1-\u901a\u77e5\u9001\u4fe1\u5931\u6557",level:3},{value:"\u30a8\u30e9\u30fc2: \u30ea\u30c8\u30e9\u30a4\u4e0a\u9650\u5230\u9054",id:"\u30a8\u30e9\u30fc2-\u30ea\u30c8\u30e9\u30a4\u4e0a\u9650\u5230\u9054",level:3},{value:"\u30a8\u30e9\u30fc3: \u30a4\u30d9\u30f3\u30c8\u304c\u9001\u4fe1\u3055\u308c\u306a\u3044",id:"\u30a8\u30e9\u30fc3-\u30a4\u30d9\u30f3\u30c8\u304c\u9001\u4fe1\u3055\u308c\u306a\u3044",level:3},{value:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:2},{value:"\u2705 \u63a8\u5968",id:"-\u63a8\u5968",level:3},{value:"\u274c \u907f\u3051\u308b\u3079\u304d\u8a2d\u5b9a",id:"-\u907f\u3051\u308b\u3079\u304d\u8a2d\u5b9a",level:3},{value:"\u958b\u767a\u74b0\u5883\u3068\u30c6\u30b9\u30c8",id:"\u958b\u767a\u74b0\u5883\u3068\u30c6\u30b9\u30c8",level:2},{value:"Mockoon\u3067\u30c6\u30b9\u30c8",id:"mockoon\u3067\u30c6\u30b9\u30c8",level:3},{value:"\u30ed\u30b0\u3067\u78ba\u8a8d",id:"\u30ed\u30b0\u3067\u78ba\u8a8d",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2},{value:"\u3088\u308a\u9ad8\u5ea6\u306a\u8a2d\u5b9a",id:"\u3088\u308a\u9ad8\u5ea6\u306a\u8a2d\u5b9a",level:3},{value:"\u95a2\u9023\u6a5f\u80fd",id:"\u95a2\u9023\u6a5f\u80fd",level:3},{value:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",id:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u8a2d\u5b9a\u30ac\u30a4\u30c9",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u8a2d\u5b9a\u30ac\u30a4\u30c9"})}),"\n",(0,r.jsx)(n.h2,{id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8"}),"\uff08\u30ed\u30b0\u30a4\u30f3\u6210\u529f\u3001\u5931\u6557\u3001\u672c\u4eba\u78ba\u8a8d\u5b8c\u4e86\u7b49\uff09\u3092",(0,r.jsx)(n.strong,{children:"\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u306b\u901a\u77e5"}),"\u3059\u308b\u8a2d\u5b9a\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3053\u3068\u304c\u76ee\u6a19\u3067\u3059\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u6240\u8981\u6642\u9593",children:"\u6240\u8981\u6642\u9593"}),"\n",(0,r.jsxs)(n.p,{children:["\u23f1\ufe0f ",(0,r.jsx)(n.strong,{children:"\u7d0420\u5206"})]}),"\n",(0,r.jsx)(n.h3,{id:"\u524d\u63d0\u6761\u4ef6",children:"\u524d\u63d0\u6761\u4ef6"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u7ba1\u7406\u8005\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u6e08\u307f"}),"\n",(0,r.jsx)(n.li,{children:"\u901a\u77e5\u5148\u30b5\u30fc\u30d3\u30b9\uff08Email\u3001Slack\u3001Webhook\u7b49\uff09\u306e\u6e96\u5099"}),"\n",(0,r.jsx)(n.li,{children:"\u7d44\u7e54ID\uff08organization-id\uff09\u3092\u53d6\u5f97\u6e08\u307f"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"management-api-url",children:"Management API URL"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7d44\u7e54\u30ec\u30d9\u30ebAPI"}),"\uff08\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306e\u8868\u8a18\uff09:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST /v1/management/organizations/{organization-id}/tenants/{tenant-id}/security-event-hooks\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6ce8\u610f"}),": \u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30ebAPI\u3068\u306e\u9055\u3044"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7d44\u7e54\u30ec\u30d9\u30eb"}),": ",(0,r.jsx)(n.code,{children:"POST /v1/management/organizations/{organization-id}/tenants/{tenant-id}/security-event-hooks"})," \u2190 \u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u30b7\u30b9\u30c6\u30e0\u30ec\u30d9\u30eb"}),": ",(0,r.jsx)(n.code,{children:"POST /v1/management/tenants/{tenant-id}/security-event-hooks"})," \u2190 \u7ba1\u7406\u8005\u306e\u307f"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901a\u5e38\u306e\u904b\u7528\u3067\u306f\u7d44\u7e54\u30ec\u30d9\u30ebAPI\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u3068\u306f",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u3068\u306f"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u91cd\u8981\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8"}),"\u304c\u767a\u751f\u3057\u305f\u6642\u306b\u3001",(0,r.jsx)(n.strong,{children:"\u81ea\u52d5\u7684\u306b\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u306b\u901a\u77e5"}),"\u3059\u308b\u4ed5\u7d44\u307f\u3067\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u767a\u751f\n  \u2193\nidp-server: \u30a4\u30d9\u30f3\u30c8\u691c\u51fa\n  \u251c\u2500 \u30ed\u30b0\u30a4\u30f3\u6210\u529f\n  \u251c\u2500 \u30ed\u30b0\u30a4\u30f3\u5931\u6557\uff08\u4e0d\u6b63\u30a2\u30af\u30bb\u30b9\u8a66\u884c\uff09\n  \u251c\u2500 \u672c\u4eba\u78ba\u8a8d\u5b8c\u4e86\n  \u251c\u2500 \u30a2\u30ab\u30a6\u30f3\u30c8\u30ed\u30c3\u30af\n  \u2514\u2500 \u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\n  \u2193\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\n  \u251c\u2500 Email\u9001\u4fe1\n  \u251c\u2500 Slack\u901a\u77e5\n  \u251c\u2500 Webhook\u547c\u3073\u51fa\u3057\n  \u2514\u2500 SSF\uff08Shared Signals Framework\uff09\u9001\u4fe1\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7528\u9014"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u76e3\u8996\uff08\u4e0d\u6b63\u30a2\u30af\u30bb\u30b9\u691c\u51fa\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u30e6\u30fc\u30b6\u30fc\u901a\u77e5\uff08\u30ed\u30b0\u30a4\u30f3\u901a\u77e5\u7b49\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u5916\u90e8\u30b7\u30b9\u30c6\u30e0\u9023\u643a\uff08SIEM\u3001\u30ed\u30b0\u5206\u6790\u7b49\uff09"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"level-1-email\u901a\u77e5\u306e\u8a2d\u5b9a10\u5206",children:"Level 1: Email\u901a\u77e5\u306e\u8a2d\u5b9a\uff0810\u5206\uff09"}),"\n",(0,r.jsx)(n.h3,{id:"step-1-email\u901a\u77e5\u30d5\u30c3\u30af\u3092\u4f5c\u6210",children:"Step 1: Email\u901a\u77e5\u30d5\u30c3\u30af\u3092\u4f5c\u6210"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8080/v1/management/organizations/${ORGANIZATION_ID}/tenants/${TENANT_ID}/security-event-hooks" \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer ${ADMIN_TOKEN}" \\\n  -d \'{\n    "type": "Email",\n    "enabled": true,\n    "events": [\n      "login_success",\n      "login_failure",\n      "password_changed"\n    ],\n    "email_configuration": {\n      "to": "security-team@example.com",\n      "subject": "Security Event: {event_type}",\n      "body_template": "Event: {event_type}\\nUser: {user_email}\\nTime: {timestamp}\\nIP: {ip_address}"\n    }\n  }\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u8a2d\u5b9a\u5185\u5bb9"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'type: "Email"'})," - Email\u901a\u77e5"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"events"})," - \u901a\u77e5\u3059\u308b\u30a4\u30d9\u30f3\u30c8\u4e00\u89a7"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"email_configuration"})," - \u30e1\u30fc\u30eb\u8a2d\u5b9a\uff08\u5b9b\u5148\u3001\u4ef6\u540d\u3001\u672c\u6587\uff09"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"step-2-\u52d5\u4f5c\u78ba\u8a8d",children:"Step 2: \u52d5\u4f5c\u78ba\u8a8d"}),"\n",(0,r.jsx)(n.p,{children:"\u30e6\u30fc\u30b6\u30fc\u304c\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bEmail\u304c\u9001\u4fe1\u3055\u308c\u307e\u3059:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u4ef6\u540d: Security Event: login_success\n\n\u672c\u6587:\nEvent: login_success\nUser: user@example.com\nTime: 2025-10-13T10:00:00Z\nIP: 192.168.1.100\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"level-2-webhook\u901a\u77e5\u306e\u8a2d\u5b9a10\u5206",children:"Level 2: Webhook\u901a\u77e5\u306e\u8a2d\u5b9a\uff0810\u5206\uff09"}),"\n",(0,r.jsx)(n.h3,{id:"webhook\u30d5\u30c3\u30af\u3092\u4f5c\u6210",children:"Webhook\u30d5\u30c3\u30af\u3092\u4f5c\u6210"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8080/v1/management/organizations/${ORGANIZATION_ID}/tenants/${TENANT_ID}/security-event-hooks" \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer ${ADMIN_TOKEN}" \\\n  -d \'{\n    "type": "Webhook",\n    "enabled": true,\n    "events": [\n      "login_success",\n      "login_failure",\n      "account_locked",\n      "identity_verification_application_approved"\n    ],\n    "webhook_configuration": {\n      "url": "https://your-webhook-endpoint.example.com/security-events",\n      "method": "POST",\n      "headers": {\n        "Authorization": "Bearer your-api-key",\n        "Content-Type": "application/json"\n      },\n      "retry_configuration": {\n        "max_retries": 3,\n        "retryable_status_codes": [502, 503, 504],\n        "backoff_delays": ["PT1S", "PT2S", "PT4S"]\n      }\n    }\n  }\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u8a2d\u5b9a\u5185\u5bb9"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"url"})," - Webhook \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"method"})," - HTTP\u30e1\u30bd\u30c3\u30c9\uff08POST\u63a8\u5968\uff09"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"headers"})," - \u8a8d\u8a3c\u30d8\u30c3\u30c0\u30fc\u7b49"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"retry_configuration"})," - \u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"webhook\u3067\u53d7\u4fe1\u3059\u308b\u30c7\u30fc\u30bf",children:"Webhook\u3067\u53d7\u4fe1\u3059\u308b\u30c7\u30fc\u30bf"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "event_type": "login_success",\n  "timestamp": "2025-10-13T10:00:00Z",\n  "tenant_id": "tenant-uuid",\n  "user": {\n    "sub": "user-12345",\n    "email": "user@example.com"\n  },\n  "client_id": "my-app",\n  "ip_address": "192.168.1.100",\n  "user_agent": "Mozilla/5.0..."\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u5229\u7528\u53ef\u80fd\u306a\u30a4\u30d9\u30f3\u30c8\u4e00\u89a7",children:"\u5229\u7528\u53ef\u80fd\u306a\u30a4\u30d9\u30f3\u30c8\u4e00\u89a7"}),"\n",(0,r.jsx)(n.h3,{id:"\u8a8d\u8a3c\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",children:"\u8a8d\u8a3c\u95a2\u9023\u30a4\u30d9\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30a4\u30d9\u30f3\u30c8\u540d"}),(0,r.jsx)(n.th,{children:"\u767a\u751f\u30bf\u30a4\u30df\u30f3\u30b0"}),(0,r.jsx)(n.th,{children:"\u91cd\u8981\u5ea6"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"login_success"})}),(0,r.jsx)(n.td,{children:"\u30ed\u30b0\u30a4\u30f3\u6210\u529f"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe2 \u4f4e"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"login_failure"})}),(0,r.jsx)(n.td,{children:"\u30ed\u30b0\u30a4\u30f3\u5931\u6557"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe1 \u4e2d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"authentication_success"})}),(0,r.jsx)(n.td,{children:"\u8a8d\u8a3c\u6210\u529f"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe2 \u4f4e"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"authentication_failure"})}),(0,r.jsx)(n.td,{children:"\u8a8d\u8a3c\u5931\u6557"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe1 \u4e2d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mfa_success"})}),(0,r.jsx)(n.td,{children:"MFA\u6210\u529f"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe2 \u4f4e"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mfa_failure"})}),(0,r.jsx)(n.td,{children:"MFA\u5931\u6557"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe1 \u4e2d"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u30a2\u30ab\u30a6\u30f3\u30c8\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u95a2\u9023\u30a4\u30d9\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30a4\u30d9\u30f3\u30c8\u540d"}),(0,r.jsx)(n.th,{children:"\u767a\u751f\u30bf\u30a4\u30df\u30f3\u30b0"}),(0,r.jsx)(n.th,{children:"\u91cd\u8981\u5ea6"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"account_locked"})}),(0,r.jsx)(n.td,{children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u30ed\u30c3\u30af"}),(0,r.jsx)(n.td,{children:"\ud83d\udd34 \u9ad8"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"account_unlocked"})}),(0,r.jsx)(n.td,{children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u30ed\u30c3\u30af\u89e3\u9664"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe1 \u4e2d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"password_changed"})}),(0,r.jsx)(n.td,{children:"\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe1 \u4e2d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user_created"})}),(0,r.jsx)(n.td,{children:"\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe2 \u4f4e"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user_deleted"})}),(0,r.jsx)(n.td,{children:"\u30e6\u30fc\u30b6\u30fc\u524a\u9664"}),(0,r.jsx)(n.td,{children:"\ud83d\udd34 \u9ad8"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u672c\u4eba\u78ba\u8a8d\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",children:"\u672c\u4eba\u78ba\u8a8d\u95a2\u9023\u30a4\u30d9\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30a4\u30d9\u30f3\u30c8\u540d"}),(0,r.jsx)(n.th,{children:"\u767a\u751f\u30bf\u30a4\u30df\u30f3\u30b0"}),(0,r.jsx)(n.th,{children:"\u91cd\u8981\u5ea6"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"identity_verification_application_approved"})}),(0,r.jsx)(n.td,{children:"\u672c\u4eba\u78ba\u8a8d\u7533\u8acb\u627f\u8a8d"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe1 \u4e2d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"identity_verification_application_rejected"})}),(0,r.jsx)(n.td,{children:"\u672c\u4eba\u78ba\u8a8d\u7533\u8acb\u5374\u4e0b"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe1 \u4e2d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"identity_verification_application_cancelled"})}),(0,r.jsx)(n.td,{children:"\u672c\u4eba\u78ba\u8a8d\u7533\u8acb\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe2 \u4f4e"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u30c8\u30fc\u30af\u30f3\u95a2\u9023\u30a4\u30d9\u30f3\u30c8",children:"\u30c8\u30fc\u30af\u30f3\u95a2\u9023\u30a4\u30d9\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30a4\u30d9\u30f3\u30c8\u540d"}),(0,r.jsx)(n.th,{children:"\u767a\u751f\u30bf\u30a4\u30df\u30f3\u30b0"}),(0,r.jsx)(n.th,{children:"\u91cd\u8981\u5ea6"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"token_issued"})}),(0,r.jsx)(n.td,{children:"\u30c8\u30fc\u30af\u30f3\u767a\u884c"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe2 \u4f4e"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"token_refreshed"})}),(0,r.jsx)(n.td,{children:"\u30c8\u30fc\u30af\u30f3\u66f4\u65b0"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe2 \u4f4e"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"token_revoked"})}),(0,r.jsx)(n.td,{children:"\u30c8\u30fc\u30af\u30f3\u5931\u52b9"}),(0,r.jsx)(n.td,{children:"\ud83d\udfe1 \u4e2d"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"level-3-ssfshared-signals-framework",children:"Level 3: SSF\uff08Shared Signals Framework\uff09"}),"\n",(0,r.jsx)(n.h3,{id:"ssf\u3068\u306f",children:"SSF\u3068\u306f"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6a19\u6e96\u5316\u3055\u308c\u305f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u901a\u77e5\u30d7\u30ed\u30c8\u30b3\u30eb"}),"\uff08RFC 8935\uff09"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7528\u9014"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8907\u6570\u30b5\u30fc\u30d3\u30b9\u9593\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u3092\u5171\u6709"}),"\n",(0,r.jsx)(n.li,{children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u4fb5\u5bb3\u306e\u65e9\u671f\u691c\u51fa"}),"\n",(0,r.jsx)(n.li,{children:"\u5354\u8abf\u7684\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5bfe\u7b56"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"ssf\u8a2d\u5b9a",children:"SSF\u8a2d\u5b9a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8080/v1/management/organizations/${ORGANIZATION_ID}/tenants/${TENANT_ID}/security-event-hooks" \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer ${ADMIN_TOKEN}" \\\n  -d \'{\n    "type": "SSF",\n    "enabled": true,\n    "events": [\n      "account_locked",\n      "password_changed",\n      "token_revoked"\n    ],\n    "ssf_configuration": {\n      "transmission_endpoint": "https://receiver.example.com/ssf/events",\n      "oauth_authorization": {\n        "token_endpoint": "https://receiver.example.com/oauth/token",\n        "client_id": "your-client-id",\n        "client_secret": "your-client-secret"\n      }\n    }\n  }\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u9001\u4fe1\u3055\u308c\u308bSSF\u30c8\u30fc\u30af\u30f3\u4f8b"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "iss": "https://idp.example.com",\n  "iat": 1697000000,\n  "jti": "unique-event-id",\n  "aud": "https://receiver.example.com",\n  "events": {\n    "https://schemas.openid.net/secevent/risc/event-type/account-disabled": {\n      "subject": {\n        "sub": "user-12345"\n      },\n      "reason": "account locked due to failed login attempts"\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u8a73\u7d30"}),": ",(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/events",children:"Developer Guide: Events"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"level-4-\u8907\u6570\u30d5\u30c3\u30af\u306e\u7d44\u307f\u5408\u308f\u305b",children:"Level 4: \u8907\u6570\u30d5\u30c3\u30af\u306e\u7d44\u307f\u5408\u308f\u305b"}),"\n",(0,r.jsx)(n.h3,{id:"email--webhook--ssf",children:"Email + Webhook + SSF"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Email\u901a\u77e5\uff08\u30e6\u30fc\u30b6\u30fc\u5411\u3051\uff09\ncurl -X POST "http://localhost:8080/v1/management/organizations/${ORGANIZATION_ID}/tenants/${TENANT_ID}/security-event-hooks" \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer ${ADMIN_TOKEN}" \\\n  -d \'{\n    "type": "Email",\n    "enabled": true,\n    "events": ["login_success", "password_changed"],\n    "email_configuration": {\n      "to": "{user_email}",\n      "subject": "\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u901a\u77e5: {event_type}",\n      "body_template": "\u3042\u306a\u305f\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u4ee5\u4e0b\u306e\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u307e\u3057\u305f:\\n\\n\u30a4\u30d9\u30f3\u30c8: {event_type}\\n\u65e5\u6642: {timestamp}\\nIP: {ip_address}"\n    }\n  }\'\n\n# Webhook\u901a\u77e5\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c1\u30fc\u30e0\u5411\u3051\uff09\ncurl -X POST "http://localhost:8080/v1/management/organizations/${ORGANIZATION_ID}/tenants/${TENANT_ID}/security-event-hooks" \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer ${ADMIN_TOKEN}" \\\n  -d \'{\n    "type": "Webhook",\n    "enabled": true,\n    "events": ["login_failure", "account_locked", "suspicious_activity"],\n    "webhook_configuration": {\n      "url": "https://slack.example.com/webhooks/security-alerts",\n      "method": "POST"\n    }\n  }\'\n\n# SSF\u901a\u77e5\uff08\u5916\u90e8\u30b7\u30b9\u30c6\u30e0\u9023\u643a\uff09\ncurl -X POST "http://localhost:8080/v1/management/organizations/${ORGANIZATION_ID}/tenants/${TENANT_ID}/security-event-hooks" \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer ${ADMIN_TOKEN}" \\\n  -d \'{\n    "type": "SSF",\n    "enabled": true,\n    "events": ["account_locked", "token_revoked"],\n    "ssf_configuration": {\n      "transmission_endpoint": "https://external-system.example.com/ssf/events"\n    }\n  }\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u52b9\u679c"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 \u30ed\u30b0\u30a4\u30f3\u6210\u529f \u2192 \u30e6\u30fc\u30b6\u30fc\u306bEmail\u901a\u77e5"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u30ed\u30b0\u30a4\u30f3\u5931\u6557 \u2192 Slack\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c1\u30fc\u30e0\u306b\u901a\u77e5"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u30a2\u30ab\u30a6\u30f3\u30c8\u30ed\u30c3\u30af \u2192 \u30e6\u30fc\u30b6\u30fc\u306bEmail\u3001Slack\u306b\u901a\u77e5\u3001\u5916\u90e8\u30b7\u30b9\u30c6\u30e0\u306bSSF\u9001\u4fe1"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u5b9f\u4f8b-\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u5411\u3051\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af",children:"\u5b9f\u4f8b: \u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u5411\u3051\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af"}),"\n",(0,r.jsx)(n.h3,{id:"email\u901a\u77e5\u8a2d\u5b9a\u5916\u90e8\u901a\u77e5\u30b7\u30b9\u30c6\u30e0\u9023\u643a",children:"Email\u901a\u77e5\u8a2d\u5b9a\uff08\u5916\u90e8\u901a\u77e5\u30b7\u30b9\u30c6\u30e0\u9023\u643a\uff09"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30b7\u30ca\u30ea\u30aa"}),": \u5916\u90e8\u901a\u77e5\u30b7\u30b9\u30c6\u30e0API\u3092\u4f7f\u7528\u3057\u305f\u30e1\u30fc\u30eb\u9001\u4fe1"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "type": "Email",\n  "enabled": true,\n  "events": [\n    "identity_verification_application_approved",\n    "strongauth_pin_registration_success"\n  ],\n  "email_configuration": {\n    "function": "email",\n    "http_request": {\n      "url": "${NOTIFICATION_SYSTEM_URL}/api/v1/emails/send",\n      "method": "POST",\n      "body_mapping_rules": [\n        {\n          "from": "$.user.email",\n          "to": "to"\n        },\n        {\n          "static_value": "\u672c\u4eba\u78ba\u8a8d\u7533\u8acb\u304c\u627f\u8a8d\u3055\u308c\u307e\u3057\u305f",\n          "to": "subject"\n        },\n        {\n          "from": "$.event.details",\n          "to": "body"\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7279\u5fb4"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5916\u90e8\u901a\u77e5\u30b7\u30b9\u30c6\u30e0\u9023\u643a\uff08",(0,r.jsx)(n.code,{children:"${NOTIFICATION_SYSTEM_URL}"}),"\uff09"]}),"\n",(0,r.jsx)(n.li,{children:"body_mapping_rules\u3067\u30e1\u30fc\u30eb\u5185\u5bb9\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba"}),"\n",(0,r.jsx)(n.li,{children:"\u672c\u4eba\u78ba\u8a8d\u627f\u8a8d\u3001PIN\u767b\u9332\u6210\u529f\u6642\u306b\u901a\u77e5"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"ssf\u901a\u77e5\u8a2d\u5b9arisc\u6e96\u62e0",children:"SSF\u901a\u77e5\u8a2d\u5b9a\uff08RISC\u6e96\u62e0\uff09"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30b7\u30ca\u30ea\u30aa"}),": Shared Signals Framework\u306b\u3088\u308b\u6a19\u6e96\u5316\u3055\u308c\u305f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u9001\u4fe1"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "type": "SSF",\n  "enabled": true,\n  "events": [\n    "login_success",\n    "login_failure",\n    "password_changed",\n    "account_locked",\n    "token_issued",\n    "token_revoked"\n  ],\n  "ssf_configuration": {\n    "function": "ssf",\n    "transmission_endpoint": "${EXTERNAL_SSF_RECEIVER_URL}/ssf/events",\n    "oauth_authorization": {\n      "token_endpoint": "${EXTERNAL_SSF_RECEIVER_URL}/oauth/token",\n      "client_id": "${SSF_CLIENT_ID}",\n      "client_secret": "${SSF_CLIENT_SECRET}"\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7279\u5fb4"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5916\u90e8SSF Receiver\u9023\u643a"}),"\n",(0,r.jsx)(n.li,{children:"OAuth 2.0\u8a8d\u8a3c"}),"\n",(0,r.jsx)(n.li,{children:"\u5e45\u5e83\u3044\u30a4\u30d9\u30f3\u30c8\u3092\u9001\u4fe1\uff08\u30ed\u30b0\u30a4\u30f3\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u3001\u30ed\u30c3\u30af\u7b49\uff09"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc",children:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"\u30a8\u30e9\u30fc1-\u901a\u77e5\u9001\u4fe1\u5931\u6557",children:"\u30a8\u30e9\u30fc1: \u901a\u77e5\u9001\u4fe1\u5931\u6557"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30a8\u30e9\u30fc\u30ed\u30b0"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Security Event Hook execution failed: Connection refused\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u901a\u77e5\u5148\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u78ba\u8a8d\ncurl -X POST "https://your-webhook-endpoint.example.com/test" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"test": "message"}\'\n\n# URL\u304c\u6b63\u3057\u3044\u304b\u78ba\u8a8d\n# \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u8a2d\u5b9a\u3092\u78ba\u8a8d\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\u30a8\u30e9\u30fc2-\u30ea\u30c8\u30e9\u30a4\u4e0a\u9650\u5230\u9054",children:"\u30a8\u30e9\u30fc2: \u30ea\u30c8\u30e9\u30a4\u4e0a\u9650\u5230\u9054"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30a8\u30e9\u30fc\u30ed\u30b0"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Security Event Hook failed after 3 retries\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u901a\u77e5\u5148\u30b5\u30fc\u30d3\u30b9\u304c\u4e00\u6642\u7684\u306b\u30c0\u30a6\u30f3\u3001\u30ea\u30c8\u30e9\u30a4\u4e0a\u9650\u306b\u5230\u9054"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'// \u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a\u3092\u8abf\u6574\n"retry_configuration": {\n  "max_retries": 5,  // 3\u56de \u2192 5\u56de\u306b\u5897\u3084\u3059\n  "retryable_status_codes": [502, 503, 504, 429],  // 429 (Too Many Requests) \u3082\u8ffd\u52a0\n  "backoff_delays": ["PT1S", "PT2S", "PT4S", "PT8S", "PT16S"]  // \u6307\u6570\u30d0\u30c3\u30af\u30aa\u30d5\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\u30a8\u30e9\u30fc3-\u30a4\u30d9\u30f3\u30c8\u304c\u9001\u4fe1\u3055\u308c\u306a\u3044",children:"\u30a8\u30e9\u30fc3: \u30a4\u30d9\u30f3\u30c8\u304c\u9001\u4fe1\u3055\u308c\u306a\u3044"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": ",(0,r.jsx)(n.code,{children:"enabled: false"})," \u307e\u305f\u306f\u8a72\u5f53\u30a4\u30d9\u30f3\u30c8\u304c",(0,r.jsx)(n.code,{children:"events"}),"\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# \u30d5\u30c3\u30af\u8a2d\u5b9a\u3092\u78ba\u8a8d\ncurl "http://localhost:8080/v1/management/organizations/${ORGANIZATION_ID}/tenants/${TENANT_ID}/security-event-hooks" \\\n  -H "Authorization: Bearer ${ADMIN_TOKEN}" \\\n  | jq \'.[] | {type, enabled, events}\'\n\n# enabled: true \u3092\u78ba\u8a8d\n# events\u306b\u8a72\u5f53\u30a4\u30d9\u30f3\u30c8\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,r.jsx)(n.h3,{id:"-\u63a8\u5968",children:"\u2705 \u63a8\u5968"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u91cd\u8981\u5ea6\u306b\u5fdc\u3058\u305f\u901a\u77e5\u5148"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u9ad8\u91cd\u8981\u5ea6\uff08account_locked\u7b49\uff09:\n  \u2192 Email\uff08\u30e6\u30fc\u30b6\u30fc\uff09\n  \u2192 Slack\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c1\u30fc\u30e0\uff09\n  \u2192 SSF\uff08\u5916\u90e8\u30b7\u30b9\u30c6\u30e0\uff09\n\n\u4e2d\u91cd\u8981\u5ea6\uff08password_changed\u7b49\uff09:\n  \u2192 Email\uff08\u30e6\u30fc\u30b6\u30fc\uff09\n\n\u4f4e\u91cd\u8981\u5ea6\uff08login_success\u7b49\uff09:\n  \u2192 \u30ed\u30b0\u306e\u307f\uff08\u901a\u77e5\u306a\u3057\u3001\u307e\u305f\u306f\u96c6\u8a08\u5f8c\u306b\u901a\u77e5\uff09\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a\u5fc5\u9808"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"retry_configuration": {\n  "max_retries": 3,\n  "idempotency_required": true  // \u91cd\u8981\uff01\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u901a\u77e5\u5185\u5bb9\u306e\u6700\u5c0f\u5316"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'// \u2705 \u5fc5\u8981\u6700\u5c0f\u9650\n"body_template": "Event: {event_type}\\nUser: {user_id}\\nTime: {timestamp}"\n\n// \u274c \u904e\u5270\u306a\u60c5\u5831\uff08PII\u6f0f\u6d29\u30ea\u30b9\u30af\uff09\n"body_template": "Event: {event_type}\\nUser: {user_email}\\nPassword: {password}"\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"-\u907f\u3051\u308b\u3079\u304d\u8a2d\u5b9a",children:"\u274c \u907f\u3051\u308b\u3079\u304d\u8a2d\u5b9a"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a\u306a\u3057"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'// \u274c \u4e00\u6642\u7684\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a8\u30e9\u30fc\u3067\u901a\u77e5\u5931\u6557\n"webhook_configuration": {\n  "url": "...",\n  // retry_configuration \u306a\u3057\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u51aa\u7b49\u6027\u4fdd\u8a3c\u306a\u3057"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'// \u274c \u30ea\u30c8\u30e9\u30a4\u6642\u306b\u91cd\u8907\u9001\u4fe1\u30ea\u30b9\u30af\n"retry_configuration": {\n  "max_retries": 3,\n  "idempotency_required": false  // \u5371\u967a\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u5168\u30a4\u30d9\u30f3\u30c8\u3092\u901a\u77e5"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'// \u274c \u30ce\u30a4\u30ba\u304c\u591a\u3059\u304e\u308b\n"events": [\n  "login_success",\n  "token_issued",\n  "userinfo_success",\n  // ... \u516850\u7a2e\u985e\n]\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u958b\u767a\u74b0\u5883\u3068\u30c6\u30b9\u30c8",children:"\u958b\u767a\u74b0\u5883\u3068\u30c6\u30b9\u30c8"}),"\n",(0,r.jsx)(n.h3,{id:"mockoon\u3067\u30c6\u30b9\u30c8",children:"Mockoon\u3067\u30c6\u30b9\u30c8"}),"\n",(0,r.jsx)(n.p,{children:"\u958b\u767a\u74b0\u5883\u3067\u306f\u3001Mockoon\u3067\u901a\u77e5\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u30e2\u30c3\u30af\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'// Mockoon\u8a2d\u5b9a\n{\n  "name": "Security Event Webhook",\n  "method": "POST",\n  "endpoint": "security-events",\n  "responses": [\n    {\n      "statusCode": 200,\n      "body": "{\\"status\\": \\"received\\"}"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u30ed\u30b0\u3067\u78ba\u8a8d",children:"\u30ed\u30b0\u3067\u78ba\u8a8d"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# idp-server\u306e\u30ed\u30b0\u3092\u78ba\u8a8d\ntail -f logs/idp-server.log | grep "SecurityEventHook"\n\n# \u51fa\u529b\u4f8b\nSecurityEventHook executed: type=Email, event=login_success, status=SUCCESS\nSecurityEventHook executed: type=Webhook, event=login_failure, status=RETRY (attempt 1/3)\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,r.jsx)(n.p,{children:"\u2705 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3057\u305f\uff01"}),"\n",(0,r.jsx)(n.h3,{id:"\u3088\u308a\u9ad8\u5ea6\u306a\u8a2d\u5b9a",children:"\u3088\u308a\u9ad8\u5ea6\u306a\u8a2d\u5b9a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/events",children:"Developer Guide: Events\u5b9f\u88c5"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/implementation-guides/impl-15-security-event-hooks",children:"Implementation Guide: Security Event Hooks"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u95a2\u9023\u6a5f\u80fd",children:"\u95a2\u9023\u6a5f\u80fd"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_05_how-to/how-to-16-identity-verification-application",children:"How-to: Identity Verification"})," - \u672c\u4eba\u78ba\u8a8d\u7533\u8acb"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/idp-server/docs/content_03_concepts/concept-11-security-events",children:"Concept: Security Events"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",children:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_03_concepts/concept-13-audit-compliance",children:"Concept: Audit & Compliance"})," - \u76e3\u67fb\u30ed\u30b0"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/implementation-guides/impl-16-http-request-executor",children:"Implementation Guide: HTTP Request Executor"})," - \u30ea\u30c8\u30e9\u30a4\u6a5f\u69cb"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_07_reference/api-reference",children:"API Reference"})," - Management API\u4ed5\u69d8"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6700\u7d42\u66f4\u65b0"}),": 2025-10-13\n",(0,r.jsx)(n.strong,{children:"\u96e3\u6613\u5ea6"}),": \u2b50\u2b50\u2b50\u2606\u2606\uff08\u4e2d\u7d1a\uff09\n",(0,r.jsx)(n.strong,{children:"\u5bfe\u8c61"}),": \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u901a\u77e5\u3092\u8a2d\u5b9a\u3059\u308b\u7ba1\u7406\u8005\u30fb\u958b\u767a\u8005\n",(0,r.jsx)(n.strong,{children:"\u7fd2\u5f97\u30b9\u30ad\u30eb"}),": \u30a4\u30d9\u30f3\u30c8\u9078\u629e\u3001Email/Webhook/SSF\u8a2d\u5b9a\u3001\u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a\u3001\u51aa\u7b49\u6027\u4fdd\u8a3c"]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var i=s(96540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);