"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[77286],{22373:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"content_11_learning/os-fundamentals/signals","title":"\u30b7\u30b0\u30ca\u30eb","description":"\u6240\u8981\u6642\u9593: 25\u5206","source":"@site/docs/content_11_learning/21-os-fundamentals/signals.md","sourceDirName":"content_11_learning/21-os-fundamentals","slug":"/content_11_learning/os-fundamentals/signals","permalink":"/idp-server/docs/content_11_learning/os-fundamentals/signals","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/21-os-fundamentals/signals.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"I/O \u30e2\u30c7\u30eb","permalink":"/idp-server/docs/content_11_learning/os-fundamentals/io-models"},"next":{"title":"\u540c\u671f\u30d7\u30ea\u30df\u30c6\u30a3\u30d6","permalink":"/idp-server/docs/content_11_learning/os-fundamentals/synchronization"}}');var i=l(74848),s=l(28453);const a={},t="\u30b7\u30b0\u30ca\u30eb",d={},c=[{value:"\u3053\u306e\u7ae0\u3067\u7b54\u3048\u308b\u7591\u554f",id:"\u3053\u306e\u7ae0\u3067\u7b54\u3048\u308b\u7591\u554f",level:2},{value:"1. \u30b7\u30b0\u30ca\u30eb\u3068\u306f",id:"1-\u30b7\u30b0\u30ca\u30eb\u3068\u306f",level:2},{value:"1.1 \u30b7\u30b0\u30ca\u30eb\u306e\u6982\u5ff5",id:"11-\u30b7\u30b0\u30ca\u30eb\u306e\u6982\u5ff5",level:3},{value:"1.2 \u30b7\u30b0\u30ca\u30eb\u306e\u9001\u4fe1\u5143",id:"12-\u30b7\u30b0\u30ca\u30eb\u306e\u9001\u4fe1\u5143",level:3},{value:"2. \u4e3b\u8981\u306a\u30b7\u30b0\u30ca\u30eb",id:"2-\u4e3b\u8981\u306a\u30b7\u30b0\u30ca\u30eb",level:2},{value:"2.1 \u30b7\u30b0\u30ca\u30eb\u4e00\u89a7",id:"21-\u30b7\u30b0\u30ca\u30eb\u4e00\u89a7",level:3},{value:"2.2 \u3088\u304f\u4f7f\u3046\u30b7\u30b0\u30ca\u30eb",id:"22-\u3088\u304f\u4f7f\u3046\u30b7\u30b0\u30ca\u30eb",level:3},{value:"2.3 SIGTERM vs SIGKILL",id:"23-sigterm-vs-sigkill",level:3},{value:"3. \u30b7\u30b0\u30ca\u30eb\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",id:"3-\u30b7\u30b0\u30ca\u30eb\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",level:2},{value:"3.1 \u30b7\u30b0\u30ca\u30eb\u306e\u51e6\u7406\u65b9\u6cd5",id:"31-\u30b7\u30b0\u30ca\u30eb\u306e\u51e6\u7406\u65b9\u6cd5",level:3},{value:"3.2 \u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306e trap",id:"32-\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306e-trap",level:3},{value:"3.3 Java \u3067\u306e\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",id:"33-java-\u3067\u306e\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",level:3},{value:"4. Graceful Shutdown",id:"4-graceful-shutdown",level:2},{value:"4.1 Graceful Shutdown \u3068\u306f",id:"41-graceful-shutdown-\u3068\u306f",level:3},{value:"4.2 Spring Boot \u3067\u306e\u8a2d\u5b9a",id:"42-spring-boot-\u3067\u306e\u8a2d\u5b9a",level:3},{value:"5. \u30b3\u30f3\u30c6\u30ca\u3068\u30b7\u30b0\u30ca\u30eb",id:"5-\u30b3\u30f3\u30c6\u30ca\u3068\u30b7\u30b0\u30ca\u30eb",level:2},{value:"5.1 Docker \u3067\u306e\u30b7\u30b0\u30ca\u30eb",id:"51-docker-\u3067\u306e\u30b7\u30b0\u30ca\u30eb",level:3},{value:"5.2 Kubernetes \u3067\u306e\u30b7\u30b0\u30ca\u30eb",id:"52-kubernetes-\u3067\u306e\u30b7\u30b0\u30ca\u30eb",level:3},{value:"5.3 Kubernetes \u306e\u8a2d\u5b9a\u4f8b",id:"53-kubernetes-\u306e\u8a2d\u5b9a\u4f8b",level:3},{value:"6. \u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",id:"6-\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",level:2},{value:"6.1 \u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u306a\u3044",id:"61-\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u306a\u3044",level:3},{value:"6.2 \u30b7\u30b0\u30ca\u30eb\u304c\u5c4a\u304b\u306a\u3044",id:"62-\u30b7\u30b0\u30ca\u30eb\u304c\u5c4a\u304b\u306a\u3044",level:3},{value:"6.3 systemd \u3067\u306e\u30b7\u30b0\u30ca\u30eb\u8a2d\u5b9a",id:"63-systemd-\u3067\u306e\u30b7\u30b0\u30ca\u30eb\u8a2d\u5b9a",level:3},{value:"7. Linux \u3067\u306e\u78ba\u8a8d",id:"7-linux-\u3067\u306e\u78ba\u8a8d",level:2},{value:"8. \u307e\u3068\u3081",id:"8-\u307e\u3068\u3081",level:2},{value:"\u78ba\u8a8d\u554f\u984c",id:"\u78ba\u8a8d\u554f\u984c",level:2},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"\u30b7\u30b0\u30ca\u30eb",children:"\u30b7\u30b0\u30ca\u30eb"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u6240\u8981\u6642\u9593"}),": 25\u5206"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u524d\u63d0\u77e5\u8b58"}),": ",(0,i.jsx)(e.code,{children:"kill"})," \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u305f\u3053\u3068\u304c\u3042\u308b"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u5b66\u3079\u308b\u3053\u3068"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u30b7\u30b0\u30ca\u30eb\u306e\u7a2e\u985e\u3068\u610f\u5473"}),"\n",(0,i.jsx)(e.li,{children:"SIGTERM vs SIGKILL"}),"\n",(0,i.jsx)(e.li,{children:"\u30b7\u30b0\u30ca\u30eb\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0"}),"\n",(0,i.jsx)(e.li,{children:"\u30b3\u30f3\u30c6\u30ca\u3067\u306e graceful shutdown"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"\u3053\u306e\u7ae0\u3067\u7b54\u3048\u308b\u7591\u554f",children:"\u3053\u306e\u7ae0\u3067\u7b54\u3048\u308b\u7591\u554f"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u300ckill -9 \u3068 kill -15 \u306e\u9055\u3044\u306f\uff1f\u300d\n\u300cgraceful shutdown \u3063\u3066\u4f55\uff1f\u300d\n\u300c\u306a\u305c kill -9 \u306f\u6700\u5f8c\u306e\u624b\u6bb5\uff1f\u300d\n\u300cKubernetes \u3067\u3069\u3046\u3084\u3063\u3066\u7d42\u4e86\u51e6\u7406\u3059\u308b\uff1f\u300d\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"1-\u30b7\u30b0\u30ca\u30eb\u3068\u306f",children:"1. \u30b7\u30b0\u30ca\u30eb\u3068\u306f"}),"\n",(0,i.jsx)(e.h3,{id:"11-\u30b7\u30b0\u30ca\u30eb\u306e\u6982\u5ff5",children:"1.1 \u30b7\u30b0\u30ca\u30eb\u306e\u6982\u5ff5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    \u30b7\u30b0\u30ca\u30eb (Signal)                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  \u30b7\u30b0\u30ca\u30eb = \u30d7\u30ed\u30bb\u30b9\u3078\u306e\u975e\u540c\u671f\u901a\u77e5                                   \u2502\n\u2502                                                                      \u2502\n\u2502  \u7528\u9014:                                                               \u2502\n\u2502  \u251c\u2500\u2500 \u30d7\u30ed\u30bb\u30b9\u306e\u7d42\u4e86\u3092\u8981\u6c42                                          \u2502\n\u2502  \u251c\u2500\u2500 \u30a8\u30e9\u30fc\u306e\u901a\u77e5\uff08\u30bb\u30b0\u30d5\u30a9\u306a\u3069\uff09                                  \u2502\n\u2502  \u251c\u2500\u2500 \u72b6\u614b\u5909\u5316\u306e\u901a\u77e5\uff08\u5b50\u30d7\u30ed\u30bb\u30b9\u306e\u7d42\u4e86\u306a\u3069\uff09                        \u2502\n\u2502  \u2514\u2500\u2500 \u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u306e\u901a\u77e5                                            \u2502\n\u2502                                                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n\u2502  \u2502         \u2502    SIGTERM         \u2502         \u2502                         \u2502\n\u2502  \u2502 \u30d7\u30ed\u30bb\u30b9A\u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192 \u2502 \u30d7\u30ed\u30bb\u30b9B\u2502                         \u2502\n\u2502  \u2502         \u2502                    \u2502         \u2502                         \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                         \u2502\n\u2502       \u2502                              \u2502                               \u2502\n\u2502       \u2502                              \u25bc                               \u2502\n\u2502       \u2502                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502       \u2502                    \u2502 \u30b7\u30b0\u30ca\u30eb\u30cf\u30f3\u30c9\u30e9 \u2502                      \u2502\n\u2502       \u2502                    \u2502 \u307e\u305f\u306f          \u2502                      \u2502\n\u2502       \u2502                    \u2502 \u30c7\u30d5\u30a9\u30eb\u30c8\u52d5\u4f5c   \u2502                      \u2502\n\u2502       \u2502                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"12-\u30b7\u30b0\u30ca\u30eb\u306e\u9001\u4fe1\u5143",children:"1.2 \u30b7\u30b0\u30ca\u30eb\u306e\u9001\u4fe1\u5143"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    \u30b7\u30b0\u30ca\u30eb\u306f\u3069\u3053\u304b\u3089\u6765\u308b\u304b                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  1. \u30e6\u30fc\u30b6\u30fc\u64cd\u4f5c                                                     \u2502\n\u2502     \u251c\u2500\u2500 Ctrl+C \u2192 SIGINT                                            \u2502\n\u2502     \u251c\u2500\u2500 Ctrl+Z \u2192 SIGTSTP                                           \u2502\n\u2502     \u2514\u2500\u2500 Ctrl+\\ \u2192 SIGQUIT                                           \u2502\n\u2502                                                                      \u2502\n\u2502  2. \u30b3\u30de\u30f3\u30c9                                                         \u2502\n\u2502     \u251c\u2500\u2500 kill -15 PID \u2192 SIGTERM                                     \u2502\n\u2502     \u251c\u2500\u2500 kill -9 PID  \u2192 SIGKILL                                     \u2502\n\u2502     \u2514\u2500\u2500 kill -HUP PID \u2192 SIGHUP                                     \u2502\n\u2502                                                                      \u2502\n\u2502  3. \u30ab\u30fc\u30cd\u30eb\uff08\u30a8\u30e9\u30fc\u691c\u51fa\u6642\uff09                                        \u2502\n\u2502     \u251c\u2500\u2500 \u4e0d\u6b63\u306a\u30e1\u30e2\u30ea\u30a2\u30af\u30bb\u30b9 \u2192 SIGSEGV                             \u2502\n\u2502     \u251c\u2500\u2500 \u30bc\u30ed\u9664\u7b97 \u2192 SIGFPE                                          \u2502\n\u2502     \u2514\u2500\u2500 \u58ca\u308c\u305f\u30d1\u30a4\u30d7 \u2192 SIGPIPE                                     \u2502\n\u2502                                                                      \u2502\n\u2502  4. \u30b7\u30b9\u30c6\u30e0/\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30bf\u30fc                                     \u2502\n\u2502     \u251c\u2500\u2500 systemd \u306e\u505c\u6b62\u8981\u6c42 \u2192 SIGTERM                               \u2502\n\u2502     \u2514\u2500\u2500 Kubernetes \u306e\u505c\u6b62\u8981\u6c42 \u2192 SIGTERM                            \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"2-\u4e3b\u8981\u306a\u30b7\u30b0\u30ca\u30eb",children:"2. \u4e3b\u8981\u306a\u30b7\u30b0\u30ca\u30eb"}),"\n",(0,i.jsx)(e.h3,{id:"21-\u30b7\u30b0\u30ca\u30eb\u4e00\u89a7",children:"2.1 \u30b7\u30b0\u30ca\u30eb\u4e00\u89a7"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u30b7\u30b0\u30ca\u30eb\u4e00\u89a7\u3092\u8868\u793a\n$ kill -l\n 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP\n 6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1\n11) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM\n...\n"})}),"\n",(0,i.jsx)(e.h3,{id:"22-\u3088\u304f\u4f7f\u3046\u30b7\u30b0\u30ca\u30eb",children:"2.2 \u3088\u304f\u4f7f\u3046\u30b7\u30b0\u30ca\u30eb"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    \u91cd\u8981\u306a\u30b7\u30b0\u30ca\u30eb                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 \u756a\u53f7   \u2502 \u540d\u524d    \u2502 \u8aac\u660e                                        \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502 1      \u2502 SIGHUP \u2502 \u7aef\u672b\u306e\u5207\u65ad\u3001\u8a2d\u5b9a\u30ea\u30ed\u30fc\u30c9\u306b\u3082\u4f7f\u7528            \u2502  \u2502\n\u2502  \u2502 2      \u2502 SIGINT \u2502 \u5272\u308a\u8fbc\u307f (Ctrl+C)                          \u2502  \u2502\n\u2502  \u2502 3      \u2502 SIGQUIT\u2502 \u7d42\u4e86 + \u30b3\u30a2\u30c0\u30f3\u30d7 (Ctrl+\\)                 \u2502  \u2502\n\u2502  \u2502 9      \u2502 SIGKILL\u2502 \u5f37\u5236\u7d42\u4e86\uff08\u6355\u6349\u4e0d\u53ef\uff09                       \u2502  \u2502\n\u2502  \u2502 15     \u2502 SIGTERM\u2502 \u7d42\u4e86\u8981\u6c42\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09                     \u2502  \u2502\n\u2502  \u2502 10     \u2502 SIGUSR1\u2502 \u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa91                              \u2502  \u2502\n\u2502  \u2502 12     \u2502 SIGUSR2\u2502 \u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa92                              \u2502  \u2502\n\u2502  \u2502 11     \u2502 SIGSEGV\u2502 \u30bb\u30b0\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u9055\u53cd                     \u2502  \u2502\n\u2502  \u2502 13     \u2502 SIGPIPE\u2502 \u58ca\u308c\u305f\u30d1\u30a4\u30d7\u3078\u306e\u66f8\u304d\u8fbc\u307f                   \u2502  \u2502\n\u2502  \u2502 17     \u2502 SIGCHLD\u2502 \u5b50\u30d7\u30ed\u30bb\u30b9\u306e\u72b6\u614b\u5909\u5316                       \u2502  \u2502\n\u2502  \u2502 19     \u2502 SIGSTOP\u2502 \u4e00\u6642\u505c\u6b62\uff08\u6355\u6349\u4e0d\u53ef\uff09                       \u2502  \u2502\n\u2502  \u2502 18     \u2502 SIGCONT\u2502 \u518d\u958b                                       \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                                      \u2502\n\u2502  \u203b \u756a\u53f7\u306f Linux \u306e\u5834\u5408\u3002OS \u306b\u3088\u3063\u3066\u7570\u306a\u308b\u5834\u5408\u3042\u308a                   \u2502\n\u2502  \u203b \u540d\u524d\u3067\u6307\u5b9a\u3059\u308b\u306e\u304c\u5b89\u5168\uff08kill -TERM PID\uff09                        \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"23-sigterm-vs-sigkill",children:"2.3 SIGTERM vs SIGKILL"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    SIGTERM vs SIGKILL                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  SIGTERM (15) - \u512a\u96c5\u306a\u7d42\u4e86\u8981\u6c42                                      \u2502\n\u2502  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500                                      \u2502\n\u2502  \u251c\u2500\u2500 \u300c\u7d42\u4e86\u3057\u3066\u304f\u3060\u3055\u3044\u300d\u3068\u3044\u3046\u304a\u9858\u3044                               \u2502\n\u2502  \u251c\u2500\u2500 \u30d7\u30ed\u30bb\u30b9\u306f\u6355\u6349\u3057\u3066\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u53ef\u80fd                            \u2502\n\u2502  \u251c\u2500\u2500 \u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u51e6\u7406\u3092\u5b9f\u884c\u3067\u304d\u308b                                \u2502\n\u2502  \u2502   \u251c\u2500\u2500 \u958b\u3044\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u9589\u3058\u308b                                \u2502\n\u2502  \u2502   \u251c\u2500\u2500 DB\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u30af\u30ed\u30fc\u30ba                                  \u2502\n\u2502  \u2502   \u251c\u2500\u2500 \u51e6\u7406\u4e2d\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b8c\u4e86                                  \u2502\n\u2502  \u2502   \u2514\u2500\u2500 \u30ed\u30b0\u3092\u66f8\u304d\u51fa\u3059                                            \u2502\n\u2502  \u2514\u2500\u2500 \u7121\u8996\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\uff08\u884c\u5100\u60aa\u3044\u304c\uff09                              \u2502\n\u2502                                                                      \u2502\n\u2502  SIGKILL (9) - \u5f37\u5236\u7d42\u4e86                                             \u2502\n\u2502  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500                                           \u2502\n\u2502  \u251c\u2500\u2500 \u300c\u4eca\u3059\u3050\u6b7b\u306d\u300d\u3068\u3044\u3046\u547d\u4ee4                                       \u2502\n\u2502  \u251c\u2500\u2500 \u30d7\u30ed\u30bb\u30b9\u306f\u6355\u6349\u3067\u304d\u306a\u3044                                        \u2502\n\u2502  \u251c\u2500\u2500 \u30ab\u30fc\u30cd\u30eb\u304c\u76f4\u63a5\u30d7\u30ed\u30bb\u30b9\u3092\u7d42\u4e86                                  \u2502\n\u2502  \u251c\u2500\u2500 \u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u51e6\u7406\u306f\u5b9f\u884c\u3055\u308c\u306a\u3044                              \u2502\n\u2502  \u2502   \u251c\u2500\u2500 \u30d5\u30a1\u30a4\u30eb\u304c\u4e2d\u9014\u534a\u7aef\u306a\u72b6\u614b\u306b                                \u2502\n\u2502  \u2502   \u251c\u2500\u2500 DB\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u304c\u30ea\u30fc\u30af\u3059\u308b\u53ef\u80fd\u6027                          \u2502\n\u2502  \u2502   \u2514\u2500\u2500 \u30c7\u30fc\u30bf\u304c\u5931\u308f\u308c\u308b\u53ef\u80fd\u6027                                    \u2502\n\u2502  \u2514\u2500\u2500 \u6700\u5f8c\u306e\u624b\u6bb5\u3068\u3057\u3066\u4f7f\u3046                                          \u2502\n\u2502                                                                      \u2502\n\u2502  \u63a8\u5968\u624b\u9806:                                                           \u2502\n\u2502  1. kill -TERM PID (\u307e\u305f\u306f kill PID)                                \u2502\n\u2502  2. \u6570\u79d2\u301c\u6570\u5341\u79d2\u5f85\u3064                                                \u2502\n\u2502  3. \u307e\u3060\u751f\u304d\u3066\u3044\u305f\u3089 kill -KILL PID                                 \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"3-\u30b7\u30b0\u30ca\u30eb\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",children:"3. \u30b7\u30b0\u30ca\u30eb\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0"}),"\n",(0,i.jsx)(e.h3,{id:"31-\u30b7\u30b0\u30ca\u30eb\u306e\u51e6\u7406\u65b9\u6cd5",children:"3.1 \u30b7\u30b0\u30ca\u30eb\u306e\u51e6\u7406\u65b9\u6cd5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    \u30b7\u30b0\u30ca\u30eb\u3092\u53d7\u3051\u53d6\u3063\u305f\u6642\u306e\u52d5\u4f5c                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  1. \u30c7\u30d5\u30a9\u30eb\u30c8\u52d5\u4f5c                                                   \u2502\n\u2502     \u2514\u2500\u2500 \u30b7\u30b0\u30ca\u30eb\u3054\u3068\u306b\u6c7a\u307e\u3063\u305f\u52d5\u4f5c\uff08\u7d42\u4e86\u3001\u7121\u8996\u3001\u505c\u6b62\u306a\u3069\uff09          \u2502\n\u2502                                                                      \u2502\n\u2502  2. \u30cf\u30f3\u30c9\u30e9\u3092\u767b\u9332                                                   \u2502\n\u2502     \u2514\u2500\u2500 \u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u306e\u95a2\u6570\u3092\u5b9f\u884c                                    \u2502\n\u2502                                                                      \u2502\n\u2502  3. \u7121\u8996                                                             \u2502\n\u2502     \u2514\u2500\u2500 SIG_IGN \u3092\u8a2d\u5b9a\u3057\u3066\u30b7\u30b0\u30ca\u30eb\u3092\u7121\u8996                           \u2502\n\u2502                                                                      \u2502\n\u2502  \u203b SIGKILL \u3068 SIGSTOP \u306f\u6355\u6349\u3082\u7121\u8996\u3082\u3067\u304d\u306a\u3044                        \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"32-\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306e-trap",children:"3.2 \u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306e trap"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n\n# SIGTERM \u3092\u53d7\u3051\u53d6\u3063\u305f\u6642\u306e\u51e6\u7406\ncleanup() {\n    echo "\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u51e6\u7406\u3092\u5b9f\u884c\u4e2d..."\n    # \u4e00\u6642\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\n    rm -f /tmp/myapp.lock\n    # \u30ed\u30b0\u306e\u66f8\u304d\u51fa\u3057\n    echo "\u6b63\u5e38\u7d42\u4e86" >> /var/log/myapp.log\n    exit 0\n}\n\n# \u30b7\u30b0\u30ca\u30eb\u30cf\u30f3\u30c9\u30e9\u3092\u767b\u9332\ntrap cleanup SIGTERM SIGINT\n\n# \u30e1\u30a4\u30f3\u51e6\u7406\necho "\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8d77\u52d5"\nwhile true; do\n    # \u51e6\u7406\n    sleep 1\ndone\n'})}),"\n",(0,i.jsx)(e.h3,{id:"33-java-\u3067\u306e\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",children:"3.3 Java \u3067\u306e\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// Java \u3067\u306e\u30b7\u30b0\u30ca\u30eb\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\npublic class App {\n    public static void main(String[] args) {\n        // \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u30d5\u30c3\u30af\u3092\u767b\u9332\n        Runtime.getRuntime().addShutdownHook(new Thread(() -> {\n            System.out.println("\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u30d5\u30c3\u30af\u5b9f\u884c\u4e2d...");\n\n            // \u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u51e6\u7406\n            closeConnections();\n            flushLogs();\n            releaseResources();\n\n            System.out.println("\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u5b8c\u4e86");\n        }));\n\n        // \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30e1\u30a4\u30f3\u51e6\u7406\n        startApplication();\n    }\n}\n\n// Spring Boot \u306e\u5834\u5408\n@Component\npublic class GracefulShutdown implements DisposableBean {\n\n    @Override\n    public void destroy() throws Exception {\n        // Bean \u7834\u68c4\u6642\u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\n        System.out.println("Spring Bean \u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7");\n    }\n}\n\n// \u307e\u305f\u306f @PreDestroy\n@Component\npublic class MyService {\n\n    @PreDestroy\n    public void cleanup() {\n        System.out.println("\u30b5\u30fc\u30d3\u30b9\u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7");\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"4-graceful-shutdown",children:"4. Graceful Shutdown"}),"\n",(0,i.jsx)(e.h3,{id:"41-graceful-shutdown-\u3068\u306f",children:"4.1 Graceful Shutdown \u3068\u306f"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Graceful Shutdown\uff08\u512a\u96c5\u306a\u7d42\u4e86\uff09                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  \u76ee\u7684: \u30c7\u30fc\u30bf\u3092\u5931\u308f\u305a\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u305a\u306b\u7d42\u4e86             \u2502\n\u2502                                                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502                  Graceful Shutdown \u306e\u6d41\u308c                    \u2502    \u2502\n\u2502  \u2502                                                              \u2502    \u2502\n\u2502  \u2502  1. SIGTERM \u3092\u53d7\u4fe1                                           \u2502    \u2502\n\u2502  \u2502     \u2502                                                        \u2502    \u2502\n\u2502  \u2502     \u25bc                                                        \u2502    \u2502\n\u2502  \u2502  2. \u65b0\u3057\u3044\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u53d7\u4ed8\u3092\u505c\u6b62                             \u2502    \u2502\n\u2502  \u2502     \u251c\u2500\u2500 \u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u3078\u306e\u767b\u9332\u89e3\u9664                        \u2502    \u2502\n\u2502  \u2502     \u2514\u2500\u2500 \u30ea\u30b9\u30cb\u30f3\u30b0\u30bd\u30b1\u30c3\u30c8\u3092\u9589\u3058\u308b                          \u2502    \u2502\n\u2502  \u2502     \u2502                                                        \u2502    \u2502\n\u2502  \u2502     \u25bc                                                        \u2502    \u2502\n\u2502  \u2502  3. \u51e6\u7406\u4e2d\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b8c\u4e86                                 \u2502    \u2502\n\u2502  \u2502     \u2514\u2500\u2500 \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u4ed8\u304d\u3067\u5f85\u6a5f                              \u2502    \u2502\n\u2502  \u2502     \u2502                                                        \u2502    \u2502\n\u2502  \u2502     \u25bc                                                        \u2502    \u2502\n\u2502  \u2502  4. \u30ea\u30bd\u30fc\u30b9\u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7                                 \u2502    \u2502\n\u2502  \u2502     \u251c\u2500\u2500 DB \u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u30af\u30ed\u30fc\u30ba                           \u2502    \u2502\n\u2502  \u2502     \u251c\u2500\u2500 \u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u30d5\u30e9\u30c3\u30b7\u30e5                              \u2502    \u2502\n\u2502  \u2502     \u2514\u2500\u2500 \u30ed\u30b0\u3092\u66f8\u304d\u51fa\u3057                                      \u2502    \u2502\n\u2502  \u2502     \u2502                                                        \u2502    \u2502\n\u2502  \u2502     \u25bc                                                        \u2502    \u2502\n\u2502  \u2502  5. \u30d7\u30ed\u30bb\u30b9\u7d42\u4e86                                             \u2502    \u2502\n\u2502  \u2502                                                              \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"42-spring-boot-\u3067\u306e\u8a2d\u5b9a",children:"4.2 Spring Boot \u3067\u306e\u8a2d\u5b9a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"# application.yml\nserver:\n  shutdown: graceful  # Graceful Shutdown \u3092\u6709\u52b9\u5316\n\nspring:\n  lifecycle:\n    timeout-per-shutdown-phase: 30s  # \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u306e\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// \u30ab\u30b9\u30bf\u30e0\u306e graceful shutdown \u30ed\u30b8\u30c3\u30af\n@Component\npublic class GracefulShutdownHandler {\n\n    private final ExecutorService executor;\n    private final DataSource dataSource;\n\n    @PreDestroy\n    public void shutdown() {\n        log.info("Graceful shutdown \u958b\u59cb");\n\n        // 1. Executor \u306e\u65b0\u898f\u30bf\u30b9\u30af\u53d7\u4ed8\u505c\u6b62\n        executor.shutdown();\n\n        try {\n            // 2. \u5b9f\u884c\u4e2d\u306e\u30bf\u30b9\u30af\u5b8c\u4e86\u3092\u5f85\u6a5f\uff08\u6700\u592730\u79d2\uff09\n            if (!executor.awaitTermination(30, TimeUnit.SECONDS)) {\n                log.warn("\u30bf\u30b9\u30af\u304c\u5b8c\u4e86\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u5f37\u5236\u7d42\u4e86\u3057\u307e\u3059\u3002");\n                executor.shutdownNow();\n            }\n\n            // 3. DB \u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u30af\u30ed\u30fc\u30ba\n            if (dataSource instanceof HikariDataSource) {\n                ((HikariDataSource) dataSource).close();\n            }\n\n        } catch (InterruptedException e) {\n            executor.shutdownNow();\n            Thread.currentThread().interrupt();\n        }\n\n        log.info("Graceful shutdown \u5b8c\u4e86");\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"5-\u30b3\u30f3\u30c6\u30ca\u3068\u30b7\u30b0\u30ca\u30eb",children:"5. \u30b3\u30f3\u30c6\u30ca\u3068\u30b7\u30b0\u30ca\u30eb"}),"\n",(0,i.jsx)(e.h3,{id:"51-docker-\u3067\u306e\u30b7\u30b0\u30ca\u30eb",children:"5.1 Docker \u3067\u306e\u30b7\u30b0\u30ca\u30eb"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Docker \u3068\u30b7\u30b0\u30ca\u30eb                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  docker stop \u30b3\u30f3\u30c6\u30ca\u540d                                              \u2502\n\u2502  \u251c\u2500\u2500 1. SIGTERM \u3092\u30b3\u30f3\u30c6\u30ca\u306e PID 1 \u306b\u9001\u4fe1                          \u2502\n\u2502  \u251c\u2500\u2500 2. 10\u79d2\u5f85\u6a5f\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3001-t \u3067\u5909\u66f4\u53ef\u80fd\uff09                      \u2502\n\u2502  \u2514\u2500\u2500 3. \u307e\u3060\u751f\u304d\u3066\u3044\u308c\u3070 SIGKILL                                   \u2502\n\u2502                                                                      \u2502\n\u2502  \u6ce8\u610f: \u30b7\u30b0\u30ca\u30eb\u306f PID 1 \u306b\u306e\u307f\u9001\u3089\u308c\u308b                              \u2502\n\u2502                                                                      \u2502\n\u2502  \u274c \u554f\u984c\u306e\u3042\u308b Dockerfile:                                          \u2502\n\u2502  FROM openjdk:21                                                     \u2502\n\u2502  CMD java -jar app.jar                                               \u2502\n\u2502  # \u2192 \u30b7\u30a7\u30eb\u7d4c\u7531\u3067\u8d77\u52d5\u3055\u308c\u308b\u305f\u3081\u3001java \u304c PID 1 \u306b\u306a\u3089\u306a\u3044           \u2502\n\u2502  # \u2192 \u30b7\u30b0\u30ca\u30eb\u304c\u30b7\u30a7\u30eb\u306b\u9001\u3089\u308c\u3001java \u306b\u5c4a\u304b\u306a\u3044                      \u2502\n\u2502                                                                      \u2502\n\u2502  \u2705 \u6b63\u3057\u3044 Dockerfile:                                               \u2502\n\u2502  FROM openjdk:21                                                     \u2502\n\u2502  ENTRYPOINT ["java", "-jar", "app.jar"]                              \u2502\n\u2502  # \u2192 java \u304c PID 1 \u306b\u306a\u308a\u3001\u30b7\u30b0\u30ca\u30eb\u3092\u76f4\u63a5\u53d7\u3051\u53d6\u308b                   \u2502\n\u2502                                                                      \u2502\n\u2502  \u307e\u305f\u306f exec \u5f62\u5f0f:                                                   \u2502\n\u2502  CMD ["java", "-jar", "app.jar"]                                     \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,i.jsx)(e.h3,{id:"52-kubernetes-\u3067\u306e\u30b7\u30b0\u30ca\u30eb",children:"5.2 Kubernetes \u3067\u306e\u30b7\u30b0\u30ca\u30eb"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Kubernetes \u306e Pod \u7d42\u4e86\u30d5\u30ed\u30fc                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  Pod \u306e\u524a\u9664\u304c\u8981\u6c42\u3055\u308c\u308b\u3068:                                          \u2502\n\u2502                                                                      \u2502\n\u2502  1. Pod \u304c Terminating \u72b6\u614b\u306b                                       \u2502\n\u2502     \u2502                                                                \u2502\n\u2502     \u25bc                                                                \u2502\n\u2502  2. Endpoints \u304b\u3089\u524a\u9664\uff08\u65b0\u3057\u3044\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u304c\u6765\u306a\u304f\u306a\u308b\uff09            \u2502\n\u2502     \u2502                                                                \u2502\n\u2502     \u25bc                                                                \u2502\n\u2502  3. preStop \u30d5\u30c3\u30af\u3092\u5b9f\u884c\uff08\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\uff09                      \u2502\n\u2502     \u2502                                                                \u2502\n\u2502     \u25bc                                                                \u2502\n\u2502  4. SIGTERM \u3092\u30b3\u30f3\u30c6\u30ca\u306b\u9001\u4fe1                                        \u2502\n\u2502     \u2502                                                                \u2502\n\u2502     \u25bc                                                                \u2502\n\u2502  5. terminationGracePeriodSeconds \u5f85\u6a5f\uff08\u30c7\u30d5\u30a9\u30eb\u30c830\u79d2\uff09            \u2502\n\u2502     \u2502                                                                \u2502\n\u2502     \u25bc                                                                \u2502\n\u2502  6. \u307e\u3060\u751f\u304d\u3066\u3044\u308c\u3070 SIGKILL                                        \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"53-kubernetes-\u306e\u8a2d\u5b9a\u4f8b",children:"5.3 Kubernetes \u306e\u8a2d\u5b9a\u4f8b"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: myapp\nspec:\n  terminationGracePeriodSeconds: 60  # \u7d42\u4e86\u7336\u4e88\u6642\u9593\u309260\u79d2\u306b\n\n  containers:\n  - name: app\n    image: myapp:latest\n\n    lifecycle:\n      preStop:\n        exec:\n          # SIGTERM \u306e\u524d\u306b\u5b9f\u884c\u3055\u308c\u308b\n          # \u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u304b\u3089\u306e\u767b\u9332\u89e3\u9664\u3092\u5f85\u3064\u306a\u3069\n          command: ["sh", "-c", "sleep 5"]\n\n    # \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\n    readinessProbe:\n      httpGet:\n        path: /health/ready\n        port: 8080\n      # \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u958b\u59cb\u6642\u306b false \u3092\u8fd4\u3059\u3088\u3046\u306b\u3059\u308b\n      # \u2192 \u65b0\u3057\u3044\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u304c\u6765\u306a\u304f\u306a\u308b\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'// readinessProbe \u306b\u5fdc\u7b54\u3059\u308b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\n@RestController\npublic class HealthController {\n\n    private final AtomicBoolean shuttingDown = new AtomicBoolean(false);\n\n    @GetMapping("/health/ready")\n    public ResponseEntity<String> ready() {\n        if (shuttingDown.get()) {\n            return ResponseEntity.status(503).body("Shutting down");\n        }\n        return ResponseEntity.ok("OK");\n    }\n\n    @PreDestroy\n    public void shutdown() {\n        // \u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u958b\u59cb\u3092\u8a18\u9332\n        shuttingDown.set(true);\n    }\n}\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"6-\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",children:"6. \u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"}),"\n",(0,i.jsx)(e.h3,{id:"61-\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u306a\u3044",children:"6.1 \u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u306a\u3044"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u30d7\u30ed\u30bb\u30b9\u306e\u72b6\u614b\u3092\u78ba\u8a8d\n$ ps aux | grep [p]rocess_name\nUSER    PID %CPU %MEM    VSZ   RSS TTY  STAT START   TIME COMMAND\napp    1234  0.0  0.1 123456  7890 ?    S    10:00   0:01 /usr/bin/myapp\n\n# STAT \u306e\u610f\u5473\n# S = sleeping (\u6b63\u5e38)\n# D = uninterruptible sleep (I/O\u5f85\u3061\u3001SIGKILL \u3082\u52b9\u304b\u306a\u3044)\n# Z = zombie (\u89aa\u304c wait \u3057\u3066\u3044\u306a\u3044)\n\n# D \u72b6\u614b\u306e\u5834\u5408\n# \u2192 I/O\uff08\u30c7\u30a3\u30b9\u30af\u3001NFS \u306a\u3069\uff09\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u5f85\u3064\u3057\u304b\u306a\u3044\n# \u2192 \u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u969c\u5bb3\u306e\u53ef\u80fd\u6027\u3082\n\n# Z (zombie) \u306e\u5834\u5408\n# \u2192 \u89aa\u30d7\u30ed\u30bb\u30b9\u3092\u7d42\u4e86\u3059\u308c\u3070\u6d88\u3048\u308b\n$ ps -o ppid= -p 1234  # \u89aa\u30d7\u30ed\u30bb\u30b9\u3092\u78ba\u8a8d\n5678\n$ kill 5678  # \u89aa\u3092\u7d42\u4e86\n"})}),"\n",(0,i.jsx)(e.h3,{id:"62-\u30b7\u30b0\u30ca\u30eb\u304c\u5c4a\u304b\u306a\u3044",children:"6.2 \u30b7\u30b0\u30ca\u30eb\u304c\u5c4a\u304b\u306a\u3044"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'# \u30d7\u30ed\u30bb\u30b9\u304c\u30b7\u30b0\u30ca\u30eb\u3092\u30d6\u30ed\u30c3\u30af\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\n$ cat /proc/1234/status | grep -E "SigBlk|SigIgn|SigCgt"\nSigBlk: 0000000000000000  # \u30d6\u30ed\u30c3\u30af\u4e2d\u306e\u30b7\u30b0\u30ca\u30eb\nSigIgn: 0000000000001000  # \u7121\u8996\u3057\u3066\u3044\u308b\u30b7\u30b0\u30ca\u30eb\nSigCgt: 0000000180014003  # \u30cf\u30f3\u30c9\u30e9\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30b7\u30b0\u30ca\u30eb\n\n# \u30d3\u30c3\u30c8\u30de\u30b9\u30af\u3092\u30c7\u30b3\u30fc\u30c9\n# \u5404\u30d3\u30c3\u30c8\u304c\u30b7\u30b0\u30ca\u30eb\u756a\u53f7\u306b\u5bfe\u5fdc\n'})}),"\n",(0,i.jsx)(e.h3,{id:"63-systemd-\u3067\u306e\u30b7\u30b0\u30ca\u30eb\u8a2d\u5b9a",children:"6.3 systemd \u3067\u306e\u30b7\u30b0\u30ca\u30eb\u8a2d\u5b9a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ini",children:"# /etc/systemd/system/myapp.service\n[Service]\nExecStart=/usr/bin/myapp\nExecStop=/bin/kill -TERM $MAINPID\n\n# \u7d42\u4e86\u30b7\u30b0\u30ca\u30eb\u3092\u5909\u66f4\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306f SIGTERM\uff09\nKillSignal=SIGTERM\n\n# \u7d42\u4e86\u7336\u4e88\u6642\u9593\nTimeoutStopSec=30\n\n# \u5f37\u5236\u7d42\u4e86\u306e\u30b7\u30b0\u30ca\u30eb\nFinalKillSignal=SIGKILL\n\n# \u30d7\u30ed\u30bb\u30b9\u30b0\u30eb\u30fc\u30d7\u5168\u4f53\u306b\u30b7\u30b0\u30ca\u30eb\u3092\u9001\u308b\nKillMode=control-group\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"7-linux-\u3067\u306e\u78ba\u8a8d",children:"7. Linux \u3067\u306e\u78ba\u8a8d"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'# \u30b7\u30b0\u30ca\u30eb\u3092\u9001\u4fe1\n$ kill -TERM 1234\n$ kill -15 1234    # \u540c\u3058\n$ kill 1234        # SIGTERM \u304c\u30c7\u30d5\u30a9\u30eb\u30c8\n\n# \u30b7\u30b0\u30ca\u30eb\u306e\u5f37\u5236\u9001\u4fe1\n$ kill -KILL 1234\n$ kill -9 1234     # \u540c\u3058\n\n# \u30d7\u30ed\u30bb\u30b9\u30b0\u30eb\u30fc\u30d7\u5168\u4f53\u306b\u30b7\u30b0\u30ca\u30eb\n$ kill -TERM -1234  # PID \u306b\u30de\u30a4\u30ca\u30b9\u3092\u3064\u3051\u308b\n\n# \u30b7\u30b0\u30ca\u30eb\u306e\u30c8\u30ec\u30fc\u30b9\n$ strace -e signal kill -TERM 1234\n\n# \u30d7\u30ed\u30bb\u30b9\u304c\u53d7\u3051\u53d6\u3063\u305f\u30b7\u30b0\u30ca\u30eb\u3092\u78ba\u8a8d\n$ dmesg | grep "signal"\n'})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"8-\u307e\u3068\u3081",children:"8. \u307e\u3068\u3081"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    \u3053\u306e\u7ae0\u3067\u5b66\u3093\u3060\u3053\u3068                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  1. \u30b7\u30b0\u30ca\u30eb\u306e\u57fa\u672c                                                   \u2502\n\u2502     \u251c\u2500\u2500 \u30d7\u30ed\u30bb\u30b9\u3078\u306e\u975e\u540c\u671f\u901a\u77e5                                     \u2502\n\u2502     \u2514\u2500\u2500 \u30e6\u30fc\u30b6\u30fc\u3001\u30ab\u30fc\u30cd\u30eb\u3001\u4ed6\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u9001\u4fe1                     \u2502\n\u2502                                                                      \u2502\n\u2502  2. SIGTERM vs SIGKILL                                              \u2502\n\u2502     \u251c\u2500\u2500 SIGTERM: \u304a\u9858\u3044\u3001\u6355\u6349\u53ef\u80fd\u3001\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3067\u304d\u308b            \u2502\n\u2502     \u2514\u2500\u2500 SIGKILL: \u5f37\u5236\u3001\u6355\u6349\u4e0d\u53ef\u3001\u6700\u5f8c\u306e\u624b\u6bb5                        \u2502\n\u2502                                                                      \u2502\n\u2502  3. \u30b7\u30b0\u30ca\u30eb\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0                                            \u2502\n\u2502     \u251c\u2500\u2500 \u30b7\u30a7\u30eb: trap \u30b3\u30de\u30f3\u30c9                                      \u2502\n\u2502     \u2514\u2500\u2500 Java: ShutdownHook, @PreDestroy                            \u2502\n\u2502                                                                      \u2502\n\u2502  4. Graceful Shutdown                                               \u2502\n\u2502     \u251c\u2500\u2500 \u65b0\u898f\u53d7\u4ed8\u505c\u6b62 \u2192 \u51e6\u7406\u5b8c\u4e86 \u2192 \u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7                  \u2502\n\u2502     \u2514\u2500\u2500 Spring Boot: server.shutdown: graceful                     \u2502\n\u2502                                                                      \u2502\n\u2502  5. \u30b3\u30f3\u30c6\u30ca\u3067\u306e\u6ce8\u610f\u70b9                                              \u2502\n\u2502     \u251c\u2500\u2500 \u30b7\u30b0\u30ca\u30eb\u306f PID 1 \u306b\u9001\u3089\u308c\u308b                                \u2502\n\u2502     \u251c\u2500\u2500 ENTRYPOINT \u306e exec \u5f62\u5f0f\u3092\u4f7f\u3046                              \u2502\n\u2502     \u2514\u2500\u2500 Kubernetes: terminationGracePeriodSeconds                  \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"\u78ba\u8a8d\u554f\u984c",children:"\u78ba\u8a8d\u554f\u984c"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"SIGTERM \u3068 SIGKILL \u306e\u9055\u3044\u3092\u8aac\u660e\u3057\u3066\u304f\u3060\u3055\u3044"}),"\n",(0,i.jsx)(e.li,{children:"Graceful Shutdown \u3067\u884c\u3046\u3079\u304d\u51e6\u7406\u306f\uff1f"}),"\n",(0,i.jsx)(e.li,{children:"Docker \u3067 java \u30d7\u30ed\u30bb\u30b9\u306b\u30b7\u30b0\u30ca\u30eb\u304c\u5c4a\u304b\u306a\u3044\u539f\u56e0\u306f\uff1f"}),"\n",(0,i.jsx)(e.li,{children:"Kubernetes \u3067 Pod \u304c\u7d42\u4e86\u3059\u308b\u969b\u306e\u30d5\u30ed\u30fc\u306f\uff1f"}),"\n",(0,i.jsx)(e.li,{children:"\u30d7\u30ed\u30bb\u30b9\u304c D \u72b6\u614b\uff08uninterruptible sleep\uff09\u306e\u5834\u5408\u3001\u306a\u305c SIGKILL \u304c\u52b9\u304b\u306a\u3044\uff1f"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/os-fundamentals/synchronization",children:"\u540c\u671f\u30d7\u30ea\u30df\u30c6\u30a3\u30d6"})," - \u4e26\u884c\u51e6\u7406\u306e\u5236\u5fa1"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},28453:(n,e,l)=>{l.d(e,{R:()=>a,x:()=>t});var r=l(96540);const i={},s=r.createContext(i);function a(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);