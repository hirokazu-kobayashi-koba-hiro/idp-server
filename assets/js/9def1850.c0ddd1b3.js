"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5485],{2695:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"content_06_developer-guide/configuration/security-event-hook","title":"Security Event Hook\u8a2d\u5b9a\u30ac\u30a4\u30c9","description":"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684","source":"@site/docs/content_06_developer-guide/05-configuration/security-event-hook.md","sourceDirName":"content_06_developer-guide/05-configuration","slug":"/content_06_developer-guide/configuration/security-event-hook","permalink":"/idp-server/docs/content_06_developer-guide/configuration/security-event-hook","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_06_developer-guide/05-configuration/security-event-hook.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\u8a2d\u5b9a\u7ba1\u7406 - Overview","permalink":"/idp-server/docs/content_06_developer-guide/configuration/overview"},"next":{"title":"Tenant\u8a2d\u5b9a\u30ac\u30a4\u30c9\uff08\u958b\u767a\u8005\u5411\u3051\uff09","permalink":"/idp-server/docs/content_06_developer-guide/configuration/tenant"}}');var r=s(74848),l=s(28453);const d={},t="Security Event Hook\u8a2d\u5b9a\u30ac\u30a4\u30c9",c={},o=[{value:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",level:2},{value:"\u6240\u8981\u6642\u9593",id:"\u6240\u8981\u6642\u9593",level:3},{value:"Security Event Hook\u3068\u306f",id:"security-event-hook\u3068\u306f",level:2},{value:"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u69cb\u9020",id:"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u69cb\u9020",level:2},{value:"security-event-hook/webhook.json",id:"security-event-hookwebhookjson",level:3},{value:"security-event-hook/ssf.json\uff08SSF\u9023\u643a\uff09",id:"security-event-hookssfjsonssf\u9023\u643a",level:3},{value:"SSF Events\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u8a73\u7d30",id:"ssf-events\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u8a73\u7d30",level:4},{value:"OAuth\u8a8d\u8a3c\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u8a2d\u5b9a",id:"oauth\u8a8d\u8a3c\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u8a2d\u5b9a",level:4},{value:"\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9",id:"\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9",level:2},{value:"\u57fa\u672c\u60c5\u5831",id:"\u57fa\u672c\u60c5\u5831",level:3},{value:"Triggers\uff08\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\uff09",id:"triggers\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7",level:3},{value:"Webhook\u8a2d\u5b9a",id:"webhook\u8a2d\u5b9a",level:3},{value:"SSF\u8a2d\u5b9a",id:"ssf\u8a2d\u5b9a",level:3},{value:"Management API\u3067\u767b\u9332",id:"management-api\u3067\u767b\u9332",level:2},{value:"API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8",id:"api-\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8",level:3},{value:"Security Event Hook\u767b\u9332",id:"security-event-hook\u767b\u9332",level:3},{value:"\u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a",id:"\u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a",level:2},{value:"\u3088\u304f\u3042\u308b\u8a2d\u5b9a\u30df\u30b9",id:"\u3088\u304f\u3042\u308b\u8a2d\u5b9a\u30df\u30b9",level:2},{value:"\u30df\u30b91: \u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\u306e\u8aa4\u308a",id:"\u30df\u30b91-\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\u306e\u8aa4\u308a",level:3},{value:"\u30df\u30b92: \u8a8d\u8a3c\u30a8\u30e9\u30fc",id:"\u30df\u30b92-\u8a8d\u8a3c\u30a8\u30e9\u30fc",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2},{value:"\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",id:"\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",level:3},{value:"\ud83d\udcca \u521d\u5b66\u8005\u5411\u3051\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u54c1\u8cea\u30ec\u30d3\u30e5\u30fc",id:"-\u521d\u5b66\u8005\u5411\u3051\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u54c1\u8cea\u30ec\u30d3\u30e5\u30fc",level:2},{value:"\u2705 \u826f\u3044\u70b9",id:"-\u826f\u3044\u70b9",level:3},{value:"\u26a0\ufe0f \u6539\u5584\u63a8\u5968\u4e8b\u9805",id:"\ufe0f-\u6539\u5584\u63a8\u5968\u4e8b\u9805",level:3},{value:"\ud83d\udca1 \u8ffd\u52a0\u63a8\u5968\u30b3\u30f3\u30c6\u30f3\u30c4",id:"-\u8ffd\u52a0\u63a8\u5968\u30b3\u30f3\u30c6\u30f3\u30c4",level:3},{value:"\ud83d\udcc8 \u7dcf\u5408\u8a55\u4fa1",id:"-\u7dcf\u5408\u8a55\u4fa1",level:3},{value:"\ud83c\udfaf \u63a8\u5968\u3055\u308c\u308b\u5b66\u7fd2\u30d1\u30b9",id:"-\u63a8\u5968\u3055\u308c\u308b\u5b66\u7fd2\u30d1\u30b9",level:3},{value:"\ud83d\udcdd \u5177\u4f53\u7684\u6539\u5584\u6848\uff08\u512a\u5148\u5ea6\u9806\uff09",id:"-\u5177\u4f53\u7684\u6539\u5584\u6848\u512a\u5148\u5ea6\u9806",level:3},{value:"1. \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3\u306e\u8ffd\u52a0\uff08\u6700\u512a\u5148\uff09",id:"1-\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3\u306e\u8ffd\u52a0\u6700\u512a\u5148",level:4},{value:"2. \u52d5\u4f5c\u78ba\u8a8d\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",id:"2-\u52d5\u4f5c\u78ba\u8a8d\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",level:4},{value:"3. \u6700\u5c0f\u69cb\u6210\u306e\u4f8b\uff08\u6700\u521d\u306b\u63d0\u793a\uff09",id:"3-\u6700\u5c0f\u69cb\u6210\u306e\u4f8b\u6700\u521d\u306b\u63d0\u793a",level:4}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"security-event-hook\u8a2d\u5b9a\u30ac\u30a4\u30c9",children:"Security Event Hook\u8a2d\u5b9a\u30ac\u30a4\u30c9"})}),"\n",(0,r.jsx)(n.h2,{id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684"}),"\n",(0,r.jsx)(n.p,{children:"Security Event Hook\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u901a\u77e5\uff09\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u7406\u89e3\u3057\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u6240\u8981\u6642\u9593",children:"\u6240\u8981\u6642\u9593"}),"\n",(0,r.jsxs)(n.p,{children:["\u23f1\ufe0f ",(0,r.jsx)(n.strong,{children:"\u7d0415\u5206"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"security-event-hook\u3068\u306f",children:"Security Event Hook\u3068\u306f"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Security Event Hook"}),"\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\uff08\u8a8d\u8a3c\u6210\u529f/\u5931\u6557\u3001\u30c8\u30fc\u30af\u30f3\u767a\u884c\u7b49\uff09\u3092\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u306b\u901a\u77e5\u3059\u308b\u6a5f\u80fd\u3067\u3059\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u901a\u77e5\u5148"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Webhook\uff08\u6c4e\u7528HTTP\u901a\u77e5\uff09"}),"\n",(0,r.jsx)(n.li,{children:"Email"}),"\n",(0,r.jsx)(n.li,{children:"SSF\uff08Shared Signals Framework\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u30c1\u30e3\u30c3\u30c8\u30b5\u30fc\u30d3\u30b9\uff08Webhook\u7d4c\u7531\uff09"}),"\n",(0,r.jsx)(n.li,{children:"SIEM\uff08Security Information and Event Management\uff09"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u69cb\u9020",children:"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u69cb\u9020"}),"\n",(0,r.jsx)(n.h3,{id:"security-event-hookwebhookjson",children:"security-event-hook/webhook.json"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": "uuid",\n  "type": "webhook",\n  "execution_order": 1,\n  "triggers": [\n    "password_failure",\n    "user_locked",\n    "oauth_authorize",\n    "token_request_success"\n  ],\n  "attributes": {\n    "label": "Webhook\u901a\u77e5",\n    "description": "\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u3092Webhook\u3067\u901a\u77e5"\n  },\n  "endpoint": "${WEBHOOK_URL}/events",\n  "auth_type": "bearer",\n  "auth_token": "${WEBHOOK_AUTH_TOKEN}",\n  "enabled": true\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"security-event-hookssfjsonssf\u9023\u643a",children:"security-event-hook/ssf.json\uff08SSF\u9023\u643a\uff09"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": "uuid",\n  "type": "SSF",\n  "execution_order": 1,\n  "triggers": [\n    "identity_verification_application_approved",\n    "fido_uaf_deregistration_success",\n    "user_delete"\n  ],\n  "attributes": {\n    "label": "Security Event Framework",\n    "spec": "https://openid.net/specs/openid-sharedsignals-framework-1_0.html"\n  },\n  "metadata": {\n    "issuer": "${AUTHORIZATION_SERVER_URL}/${TENANT_ID}",\n    "spec_version": "1_0",\n    "jwks_uri": "${AUTHORIZATION_SERVER_URL}/${TENANT_ID}/v1/ssf/jwks",\n    "delivery_methods_supported": [\n      "urn:ietf:rfc:8935"\n    ]\n  },\n  "events": {\n    "identity_verification_application_approved": {\n      "execution": {\n        "type": "ssf",\n        "details": {\n          "security_event_type_identifier": "https://schemas.openid.net/secevent/risc/event-type/account-enabled",\n          "kid": "ssf-key-id",\n          "url": "${SSF_RECEIVER_URL}/events/receive",\n          "auth_type": "oauth2",\n          "oauth_authorization": {\n            "type": "client_credentials",\n            "token_endpoint": "${AUTH_URL}/token",\n            "client_id": "${CLIENT_ID}",\n            "client_secret": "${CLIENT_SECRET}"\n          }\n        }\n      }\n    }\n  },\n  "enabled": true\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"ssf-events\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u8a73\u7d30",children:"SSF Events\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u8a73\u7d30"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u69cb\u9020"}),": \u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\u3054\u3068\u306b\u7570\u306a\u308bSSF\u8a2d\u5b9a\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'events: {\n  "{event-type-1}": { \u500b\u5225\u8a2d\u5b9a },\n  "{event-type-2}": { \u500b\u5225\u8a2d\u5b9a },\n  ...\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\u5225\u8a2d\u5b9a\u4f8b"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "events": {\n    "user_delete": {\n      "execution": {\n        "type": "ssf",\n        "details": {\n          "security_event_type_identifier": "https://schemas.openid.net/secevent/risc/event-type/account-disabled",\n          "kid": "ssf-key-id",\n          "url": "${SSF_RECEIVER_URL_A}/user-events",\n          "security_event_token_additional_payload_mapping_rules": [\n            {\n              "from": "$.user.sub",\n              "to": "ex_sub"\n            }\n          ]\n        }\n      }\n    },\n    "identity_verification_application_approved": {\n      "execution": {\n        "type": "ssf",\n        "details": {\n          "security_event_type_identifier": "https://schemas.openid.net/secevent/risc/event-type/account-enabled",\n          "kid": "ssf-key-id",\n          "url": "${SSF_RECEIVER_URL_B}/verification-events",\n          "auth_type": "oauth2",\n          "oauth_authorization": {\n            "type": "client_credentials",\n            "token_endpoint": "${AUTH_URL}/token",\n            "client_id": "${CLIENT_ID}",\n            "client_secret": "${CLIENT_SECRET}",\n            "cache_enabled": true,\n            "cache_ttl_seconds": 3600\n          }\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\u3054\u3068\u306b",(0,r.jsx)(n.strong,{children:"\u7570\u306a\u308bURL"}),"\u3092\u8a2d\u5b9a\u53ef\u80fd"]}),"\n",(0,r.jsxs)(n.li,{children:["\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\u3054\u3068\u306b",(0,r.jsx)(n.strong,{children:"\u7570\u306a\u308b\u8a8d\u8a3c\u8a2d\u5b9a"}),"\u3092\u6307\u5b9a\u53ef\u80fd"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"security_event_token_additional_payload_mapping_rules"}),"\u3067\u30da\u30a4\u30ed\u30fc\u30c9\u30ab\u30b9\u30bf\u30de\u30a4\u30ba"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"oauth\u8a8d\u8a3c\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u8a2d\u5b9a",children:"OAuth\u8a8d\u8a3c\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u8a2d\u5b9a"}),"\n",(0,r.jsx)(n.p,{children:"SSF\u3067\u3082OAuth 2.0\u8a8d\u8a3c\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u5229\u7528\u3067\u304d\u307e\u3059\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "oauth_authorization": {\n    "type": "client_credentials",\n    "token_endpoint": "${AUTH_URL}/token",\n    "client_id": "${CLIENT_ID}",\n    "client_secret": "${CLIENT_SECRET}",\n    "cache_enabled": true,\n    "cache_ttl_seconds": 3600,\n    "cache_buffer_seconds": 10\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30ad\u30e3\u30c3\u30b7\u30e5\u8a2d\u5b9a"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30d5\u30a3\u30fc\u30eb\u30c9"}),(0,r.jsx)(n.th,{children:"\u8aac\u660e"}),(0,r.jsx)(n.th,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cache_enabled"})}),(0,r.jsx)(n.td,{children:"\u30ad\u30e3\u30c3\u30b7\u30e5\u6709\u52b9\u5316"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cache_ttl_seconds"})}),(0,r.jsx)(n.td,{children:"\u30ad\u30e3\u30c3\u30b7\u30e5\u6709\u52b9\u671f\u9650\uff08\u79d2\uff09"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cache_buffer_seconds"})}),(0,r.jsx)(n.td,{children:"\u671f\u9650\u5207\u308cN\u79d2\u524d\u306b\u518d\u53d6\u5f97"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0"})})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30e1\u30ea\u30c3\u30c8"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Token Endpoint\u547c\u3073\u51fa\u3057\u56de\u6570\u3092\u524a\u6e1b"}),"\n",(0,r.jsx)(n.li,{children:"SSF\u9001\u4fe1\u306e\u30ec\u30a4\u30c6\u30f3\u30b7\u3092\u4f4e\u6e1b"}),"\n",(0,r.jsx)(n.li,{children:"\u5927\u91cf\u306e\u30a4\u30d9\u30f3\u30c8\u767a\u751f\u6642\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u5411\u4e0a"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9",children:"\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9"}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u672c\u60c5\u5831",children:"\u57fa\u672c\u60c5\u5831"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30d5\u30a3\u30fc\u30eb\u30c9"}),(0,r.jsx)(n.th,{children:"\u5fc5\u9808"}),(0,r.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"Hook\u8a2d\u5b9aID\uff08UUID\uff09"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"type"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"Hook\u30bf\u30a4\u30d7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"execution_order"})}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"\u5b9f\u884c\u9806\u5e8f\uff08\u8907\u6570Hook\u6642\uff09"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"triggers"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u30c8\u30ea\u30ac\u30fc\u3068\u306a\u308b\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u6709\u52b9/\u7121\u52b9"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"triggers\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7",children:"Triggers\uff08\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\uff09"}),"\n",(0,r.jsx)(n.p,{children:"\u901a\u77e5\u5bfe\u8c61\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u6307\u5b9a\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "triggers": [\n    "password_success",\n    "password_failure",\n    "user_locked",\n    "oauth_authorize",\n    "token_request_success"\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u4e3b\u8981\u306a\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"password_success"})," / ",(0,r.jsx)(n.code,{children:"password_failure"})," - \u30d1\u30b9\u30ef\u30fc\u30c9\u8a8d\u8a3c"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"oauth_authorize"})," - Authorization Code\u767a\u884c"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"token_request_success"})," - \u30c8\u30fc\u30af\u30f3\u767a\u884c"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"user_locked"})," - \u30a2\u30ab\u30a6\u30f3\u30c8\u30ed\u30c3\u30af"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"user_delete"})," - \u30e6\u30fc\u30b6\u30fc\u524a\u9664"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b8c\u5168\u306a\u30ea\u30b9\u30c8"}),": ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(90350).A+"",children:"DefaultSecurityEventType.java"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"webhook\u8a2d\u5b9a",children:"Webhook\u8a2d\u5b9a"}),"\n",(0,r.jsx)(n.p,{children:"\u6c4e\u7528HTTP\u901a\u77e5\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "type": "webhook",\n  "endpoint": "https://webhook.example.com/events",\n  "auth_type": "bearer",\n  "auth_token": "${WEBHOOK_AUTH_TOKEN}"\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u8a8d\u8a3c\u30bf\u30a4\u30d7"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"bearer"})," - Bearer Token"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"oauth2"})," - OAuth 2.0 Client Credentials"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"none"})," - \u8a8d\u8a3c\u306a\u3057"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"ssf\u8a2d\u5b9a",children:"SSF\u8a2d\u5b9a"}),"\n",(0,r.jsx)(n.p,{children:"Shared Signals Framework\u6e96\u62e0\u306e\u901a\u77e5\u3002"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u91cd\u8981"}),": SSF\u3067\u306f",(0,r.jsx)(n.code,{children:"events"}),"\u30bb\u30af\u30b7\u30e7\u30f3\u3067",(0,r.jsx)(n.strong,{children:"\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\u3054\u3068\u306b\u500b\u5225\u8a2d\u5b9a"}),"\u304c\u53ef\u80fd\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "type": "SSF",\n  "metadata": {\n    "issuer": "${AUTHORIZATION_SERVER_URL}/${TENANT_ID}",\n    "spec_version": "1_0",\n    "jwks_uri": "${AUTHORIZATION_SERVER_URL}/${TENANT_ID}/v1/ssf/jwks"\n  },\n  "events": {\n    "user_delete": {\n      "execution": {\n        "type": "ssf",\n        "details": {\n          "security_event_type_identifier": "https://schemas.openid.net/secevent/risc/event-type/account-disabled",\n          "kid": "ssf-key-id",\n          "url": "${SSF_RECEIVER_URL}/events/receive"\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u8a73\u7d30"}),": ",(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/implementation-guides/impl-15-security-event-hooks",children:"Security Event Hooks\u5b9f\u88c5\u30ac\u30a4\u30c9"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"management-api\u3067\u767b\u9332",children:"Management API\u3067\u767b\u9332"}),"\n",(0,r.jsx)(n.h3,{id:"api-\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8",children:"API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7d44\u7e54\u30ec\u30d9\u30ebAPI"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST /v1/management/organizations/{organization-id}/tenants/{tenant-id}/security-event-hook-configurations\n"})}),"\n",(0,r.jsx)(n.h3,{id:"security-event-hook\u767b\u9332",children:"Security Event Hook\u767b\u9332"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'POST /v1/management/organizations/{organization-id}/tenants/{tenant-id}/security-event-hook-configurations\nContent-Type: application/json\n\n{\n  "id": "uuid",\n  "type": "webhook",\n  "triggers": ["password_failure", "user_locked"],\n  "endpoint": "https://webhook.example.com/events",\n  "auth_type": "bearer",\n  "auth_token": "secret-token",\n  "enabled": true\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a",children:"\u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a"}),"\n",(0,r.jsx)(n.p,{children:"Hook\u9001\u4fe1\u5931\u6557\u6642\u306e\u81ea\u52d5\u30ea\u30c8\u30e9\u30a4\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "retry_configuration": {\n    "max_retries": 3,\n    "retryable_status_codes": [502, 503, 504],\n    "backoff_delays": ["PT1S", "PT2S", "PT4S"]\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u52d5\u4f5c"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"1\u56de\u76ee\u5931\u6557 \u2192 1\u79d2\u5f8c\u306b\u30ea\u30c8\u30e9\u30a4"}),"\n",(0,r.jsx)(n.li,{children:"2\u56de\u76ee\u5931\u6557 \u2192 2\u79d2\u5f8c\u306b\u30ea\u30c8\u30e9\u30a4"}),"\n",(0,r.jsx)(n.li,{children:"3\u56de\u76ee\u5931\u6557 \u2192 4\u79d2\u5f8c\u306b\u30ea\u30c8\u30e9\u30a4"}),"\n",(0,r.jsxs)(n.li,{children:["\u6700\u7d42\u5931\u6557 \u2192 ",(0,r.jsx)(n.code,{children:"security_event_hook_results"}),"\u30c6\u30fc\u30d6\u30eb\u306b\u8a18\u9332"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u3088\u304f\u3042\u308b\u8a2d\u5b9a\u30df\u30b9",children:"\u3088\u304f\u3042\u308b\u8a2d\u5b9a\u30df\u30b9"}),"\n",(0,r.jsx)(n.h3,{id:"\u30df\u30b91-\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\u306e\u8aa4\u308a",children:"\u30df\u30b91: \u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\u306e\u8aa4\u308a"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u554f\u984c"}),": \u30a4\u30d9\u30f3\u30c8\u304c\u901a\u77e5\u3055\u308c\u306a\u3044"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": ",(0,r.jsx)(n.code,{children:"triggers"}),"\u306b\u5b58\u5728\u3057\u306a\u3044\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\u3092\u6307\u5b9a"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),": ",(0,r.jsx)(n.code,{children:"DefaultSecurityEventType"}),"\u304b\u3089\u6b63\u3057\u3044\u30a4\u30d9\u30f3\u30c8\u30bf\u30a4\u30d7\u3092\u9078\u629e"]}),"\n",(0,r.jsx)(n.h3,{id:"\u30df\u30b92-\u8a8d\u8a3c\u30a8\u30e9\u30fc",children:"\u30df\u30b92: \u8a8d\u8a3c\u30a8\u30e9\u30fc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30a8\u30e9\u30fc"}),": Hook\u9001\u4fe1\u304c401 Unauthorized\u3067\u5931\u6557"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": ",(0,r.jsx)(n.code,{children:"auth_token"}),"\u304c\u7121\u52b9"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),": \u6709\u52b9\u306a\u30c8\u30fc\u30af\u30f3\u3092\u8a2d\u5b9a"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,r.jsx)(n.p,{children:"\u2705 Security Event Hook\u8a2d\u5b9a\u3092\u7406\u89e3\u3057\u305f\uff01"}),"\n",(0,r.jsx)(n.h3,{id:"\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",children:"\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/implementation-guides/impl-15-security-event-hooks",children:"Security Event Hooks\u5b9f\u88c5\u30ac\u30a4\u30c9"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/events",children:"Events\u5b9f\u88c5\u30ac\u30a4\u30c9"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6700\u7d42\u66f4\u65b0"}),": 2025-10-13"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-\u521d\u5b66\u8005\u5411\u3051\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u54c1\u8cea\u30ec\u30d3\u30e5\u30fc",children:"\ud83d\udcca \u521d\u5b66\u8005\u5411\u3051\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u54c1\u8cea\u30ec\u30d3\u30e5\u30fc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30ec\u30d3\u30e5\u30fc\u65e5"}),": 2025-01-15\n",(0,r.jsx)(n.strong,{children:"\u30ec\u30d3\u30e5\u30fc\u5bfe\u8c61"}),": \u521d\u5b66\u8005\uff08idp-server\u958b\u767a\u7d4c\u9a13\u306a\u3057\u3001Java/Spring Boot\u57fa\u790e\u77e5\u8b58\u3042\u308a\uff09"]}),"\n",(0,r.jsx)(n.h3,{id:"-\u826f\u3044\u70b9",children:"\u2705 \u826f\u3044\u70b9"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u76ee\u7684\u30fb\u6240\u8981\u6642\u9593\u306e\u660e\u793a"}),": \u5192\u982d\u3067\u76ee\u7684\u3068\u6240\u8981\u6642\u9593\uff0815\u5206\uff09\u304c\u660e\u78ba"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5177\u4f53\u7684\u306aJSON\u4f8b"}),": \u30b3\u30d4\u30da\u53ef\u80fd\u306a\u5b8c\u5168\u306a\u8a2d\u5b9a\u4f8b\u304c\u8c4a\u5bcc"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6bb5\u968e\u7684\u8aac\u660e"}),": Webhook\u3068SSF\u3067\u96e3\u6613\u5ea6\u3092\u5206\u3051\u3066\u8aac\u660e"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u30a8\u30e9\u30fc\u5bfe\u51e6"}),": \u3088\u304f\u3042\u308b\u8a2d\u5b9a\u30df\u30b9\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u5b9f\u7528\u7684"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),": \u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3078\u306e\u660e\u78ba\u306a\u8a98\u5c0e"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u8868\u5f62\u5f0f\u306e\u6574\u7406"}),": \u30d5\u30a3\u30fc\u30eb\u30c9\u8aac\u660e\u304c\u8868\u3067\u898b\u3084\u3059\u304f\u6574\u7406"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\ufe0f-\u6539\u5584\u63a8\u5968\u4e8b\u9805",children:"\u26a0\ufe0f \u6539\u5584\u63a8\u5968\u4e8b\u9805"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3\u306e\u8ffd\u52a0"}),"\uff08\u91cd\u8981\u5ea6: \u9ad8\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Security Event Hook\u304c\u3069\u3053\u3067\u52d5\u4f5c\u3059\u308b\u304b\u306e\u5168\u4f53\u50cf\u56f3"}),"\n",(0,r.jsx)(n.li,{children:"\u30a4\u30d9\u30f3\u30c8\u767a\u751f \u2192 Hook\u51e6\u7406 \u2192 \u5916\u90e8\u901a\u77e5\u306e\u6d41\u308c\u56f3"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u7528\u8a9e\u8aac\u660e\u306e\u88dc\u5f37"}),"\uff08\u91cd\u8981\u5ea6: \u9ad8\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u300cSSF\uff08Shared Signals Framework\uff09\u300d\u306e\u7c21\u6f54\u306a\u8aac\u660e"}),"\n",(0,r.jsx)(n.li,{children:"\u300cRISC\uff08Risk Incident Sharing and Coordination\uff09\u300d\u3078\u306e\u8a00\u53ca"}),"\n",(0,r.jsx)(n.li,{children:"\u300ckid\uff08Key ID\uff09\u300d\u306e\u5f79\u5272\u8aac\u660e"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u524d\u63d0\u77e5\u8b58\u306e\u660e\u8a18"}),"\uff08\u91cd\u8981\u5ea6: \u4e2d\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Security Event Hooks\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u524d\u63d0\u77e5\u8b58"}),"\n",(0,r.jsx)(n.li,{children:"OAuth 2.0\u3001JWT\u3001Webhook\u306e\u57fa\u790e\u77e5\u8b58\u304c\u5fc5\u8981\u3067\u3042\u308b\u3053\u3068\u3092\u660e\u793a"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u5b9f\u969b\u306e\u52d5\u4f5c\u78ba\u8a8d\u624b\u9806"}),"\uff08\u91cd\u8981\u5ea6: \u9ad8\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8a2d\u5b9a\u5f8c\u306b\u30a4\u30d9\u30f3\u30c8\u304c\u6b63\u3057\u304f\u9001\u4fe1\u3055\u308c\u308b\u304b\u30c6\u30b9\u30c8\u3059\u308b\u65b9\u6cd5"}),"\n",(0,r.jsx)(n.li,{children:"\u4f8b: \u30d1\u30b9\u30ef\u30fc\u30c9\u5931\u6557\u3092\u610f\u56f3\u7684\u306b\u767a\u751f\u3055\u305b\u3066\u901a\u77e5\u78ba\u8a8d"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306e\u660e\u8a18"}),"\uff08\u91cd\u8981\u5ea6: \u4e2d\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"execution_order"}),"\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u8a18\u8f09\u3042\u308a"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"retry_configuration"}),"\u304c\u7701\u7565\u3055\u308c\u305f\u5834\u5408\u306e\u52d5\u4f5c\u3092\u660e\u8a18"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u74b0\u5883\u5909\u6570\u306e\u8aac\u660e"}),"\uff08\u91cd\u8981\u5ea6: \u4e2d\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"${WEBHOOK_URL}"}),"\u306a\u3069\u306e\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\u65b9\u6cd5"]}),"\n",(0,r.jsx)(n.li,{children:"\u3069\u3053\u3067\u5b9a\u7fa9\u3059\u308b\u306e\u304b\uff08.env, docker-compose.yml\u7b49\uff09"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u8907\u6570Hook\u5b9f\u884c\u9806\u5e8f\u306e\u8a73\u7d30"}),"\uff08\u91cd\u8981\u5ea6: \u4f4e\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"execution_order"}),"\u304c\u540c\u3058\u5834\u5408\u306e\u52d5\u4f5c"]}),"\n",(0,r.jsx)(n.li,{children:"\u4e26\u5217\u5b9f\u884c vs \u76f4\u5217\u5b9f\u884c\u306e\u8aac\u660e"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-\u8ffd\u52a0\u63a8\u5968\u30b3\u30f3\u30c6\u30f3\u30c4",children:"\ud83d\udca1 \u8ffd\u52a0\u63a8\u5968\u30b3\u30f3\u30c6\u30f3\u30c4"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7c21\u5358\u306a\u4f8b\u304b\u3089\u59cb\u3081\u308b"}),": \u6700\u521d\u306b\u6700\u3082\u30b7\u30f3\u30d7\u30eb\u306aWebhook\u4f8b\uff08\u8a8d\u8a3c\u306a\u3057\uff09\u304b\u3089\u958b\u59cb"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u62e1\u5145"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Hook\u9001\u4fe1\u5c65\u6b74\u306e\u78ba\u8a8d\u65b9\u6cd5"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"security_event_hook_results"}),"\u30c6\u30fc\u30d6\u30eb\u306e\u78ba\u8a8dSQL\u4f8b"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"auth_token\u306e\u5b89\u5168\u306a\u7ba1\u7406\u65b9\u6cd5"}),"\n",(0,r.jsx)(n.li,{children:"HTTPS\u5fc5\u9808\u306e\u660e\u8a18"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u8003\u616e\u4e8b\u9805"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5927\u91cf\u30a4\u30d9\u30f3\u30c8\u767a\u751f\u6642\u306e\u5f71\u97ff"}),"\n",(0,r.jsx)(n.li,{children:"\u975e\u540c\u671f\u51e6\u7406\u306e\u8aac\u660e"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u7528\u4f8b\u306e\u8ffd\u52a0"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SIEM\u30c4\u30fc\u30eb\u9023\u643a\u306e\u5177\u4f53\u4f8b"}),"\n",(0,r.jsx)(n.li,{children:"\u30c1\u30e3\u30c3\u30c8\u30b5\u30fc\u30d3\u30b9\u901a\u77e5\u306e\u5b9f\u88c5\u4f8b"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-\u7dcf\u5408\u8a55\u4fa1",children:"\ud83d\udcc8 \u7dcf\u5408\u8a55\u4fa1"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7406\u89e3\u3057\u3084\u3059\u3055"}),": \u2b50\u2b50\u2b50\u2b50\u2606 (4/5) - \u69cb\u9020\u306f\u826f\u3044\u304c\u56f3\u304c\u3042\u308c\u3070\u3055\u3089\u306b\u7406\u89e3\u3057\u3084\u3059\u3044"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u7528\u6027"}),": \u2b50\u2b50\u2b50\u2b50\u2b50 (5/5) - \u30b3\u30d4\u30da\u53ef\u80fd\u306a\u4f8b\u304c\u8c4a\u5bcc\u3067\u5373\u5ea7\u306b\u4f7f\u3048\u308b"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5b8c\u5168\u6027"}),": \u2b50\u2b50\u2b50\u2b50\u2606 (4/5) - \u4e3b\u8981\u306a\u5185\u5bb9\u306f\u7db2\u7f85\u3001\u7d30\u304b\u3044\u52d5\u4f5c\u4ed5\u69d8\u304c\u4e00\u90e8\u4e0d\u660e"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u521d\u5b66\u8005\u9069\u5408\u5ea6"}),": \u2b50\u2b50\u2b50\u2b50\u2606 (4/5) - \u5c02\u9580\u7528\u8a9e\u306e\u8aac\u660e\u5f37\u5316\u30675\u70b9\u306b"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-\u63a8\u5968\u3055\u308c\u308b\u5b66\u7fd2\u30d1\u30b9",children:"\ud83c\udfaf \u63a8\u5968\u3055\u308c\u308b\u5b66\u7fd2\u30d1\u30b9"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u4f4d\u7f6e\u3065\u3051"}),": \u4e2d\u7d1a\uff08\u57fa\u672c\u7684\u306a\u8a2d\u5b9a\u7406\u89e3\u5f8c\uff09"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u63a8\u5968\u9806\u5e8f"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/events",children:"Events\u5b9f\u88c5\u30ac\u30a4\u30c9"})," - Security Event\u306e\u57fa\u790e\u7406\u89e3"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"})," - Security Event Hook\u8a2d\u5b9a"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/implementation-guides/impl-15-security-event-hooks",children:"Security Event Hooks\u5b9f\u88c5\u30ac\u30a4\u30c9"})," - \u5b9f\u88c5\u306e\u8a73\u7d30"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/implementation-guides/impl-16-http-request-executor",children:"HTTP Request Executor"})," - \u30ea\u30c8\u30e9\u30a4\u6a5f\u69cb\u306e\u7406\u89e3"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-\u5177\u4f53\u7684\u6539\u5584\u6848\u512a\u5148\u5ea6\u9806",children:"\ud83d\udcdd \u5177\u4f53\u7684\u6539\u5584\u6848\uff08\u512a\u5148\u5ea6\u9806\uff09"}),"\n",(0,r.jsx)(n.h4,{id:"1-\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3\u306e\u8ffd\u52a0\u6700\u512a\u5148",children:"1. \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3\u306e\u8ffd\u52a0\uff08\u6700\u512a\u5148\uff09"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Application     \u2502\n\u2502 (\u8a8d\u8a3c\u51e6\u7406\u7b49)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 \u30a4\u30d9\u30f3\u30c8\u767a\u751f\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Security Event  \u2502\n\u2502 Hook System     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 - Event\u691c\u51fa     \u2502\n\u2502 - Hook\u5b9f\u884c\u5224\u5b9a  \u2502\n\u2502 - \u30ea\u30c8\u30e9\u30a4\u5236\u5fa1  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 HTTP POST\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u5916\u90e8\u30b5\u30fc\u30d3\u30b9    \u2502\n\u2502 - Webhook       \u2502\n\u2502 - SSF Receiver  \u2502\n\u2502 - SIEM          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h4,{id:"2-\u52d5\u4f5c\u78ba\u8a8d\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",children:"2. \u52d5\u4f5c\u78ba\u8a8d\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"## \u8a2d\u5b9a\u78ba\u8a8d\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8\n\n- [ ] Security Event Hook\u8a2d\u5b9a\u3092Management API\u3067\u767b\u9332\u5b8c\u4e86\n- [ ] `enabled: true`\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\n- [ ] `triggers`\u306b\u5bfe\u8c61\u30a4\u30d9\u30f3\u30c8\u304c\u542b\u307e\u308c\u3066\u3044\u308b\n- [ ] \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8URL\u304c\u6b63\u3057\u304f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\n- [ ] \u8a8d\u8a3c\u60c5\u5831\u304c\u6b63\u3057\u304f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\n- [ ] \u30c6\u30b9\u30c8\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u3066\u901a\u77e5\u78ba\u8a8d\n- [ ] `security_event_hook_results`\u3067\u9001\u4fe1\u5c65\u6b74\u78ba\u8a8d\n"})}),"\n",(0,r.jsx)(n.h4,{id:"3-\u6700\u5c0f\u69cb\u6210\u306e\u4f8b\u6700\u521d\u306b\u63d0\u793a",children:"3. \u6700\u5c0f\u69cb\u6210\u306e\u4f8b\uff08\u6700\u521d\u306b\u63d0\u793a\uff09"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": "550e8400-e29b-41d4-a716-446655440000",\n  "type": "webhook",\n  "triggers": ["password_failure"],\n  "endpoint": "https://webhook.site/unique-url",\n  "auth_type": "none",\n  "enabled": true\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u8aac\u660e"}),": webhook.site\u3067\u5373\u5ea7\u306b\u30c6\u30b9\u30c8\u53ef\u80fd\u306a\u6700\u5c0f\u69cb\u6210"]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},90350:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/files/DefaultSecurityEventType-6517df49c7650b5c2f98c0a924cdf7ec.java"},28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>t});var i=s(96540);const r={},l=i.createContext(r);function d(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);