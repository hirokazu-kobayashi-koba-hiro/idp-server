"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[57703],{16348:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"content_11_learning/fido-webauthn/fido2-identifiers-idp-integration","title":"FIDO2 \u8b58\u5225\u5b50\u3068IdP\u7d71\u5408 - userId, username, credentialId \u306e\u95a2\u4fc2","description":"---","source":"@site/docs/content_11_learning/05-fido-webauthn/fido2-identifiers-idp-integration.md","sourceDirName":"content_11_learning/05-fido-webauthn","slug":"/content_11_learning/fido-webauthn/fido2-identifiers-idp-integration","permalink":"/idp-server/docs/content_11_learning/fido-webauthn/fido2-identifiers-idp-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/05-fido-webauthn/fido2-identifiers-idp-integration.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"docs","previous":{"title":"FIDO2\u30fbWebAuthn\u4ed5\u69d8\u306e\u5909\u9077\uff08Level 1 \u2192 2 \u2192 3\uff09","permalink":"/idp-server/docs/content_11_learning/fido-webauthn/fido2-webauthn-level-specification-evolution"},"next":{"title":"AAGUID - \u8a8d\u8a3c\u5668\u306e\u30e2\u30c7\u30eb\u8b58\u5225\u5b50","permalink":"/idp-server/docs/content_11_learning/fido-webauthn/fido2-aaguid-authenticator-identification"}}');var i=d(74848),s=d(28453);const l={sidebar_position:8},c="FIDO2 \u8b58\u5225\u5b50\u3068IdP\u7d71\u5408 - userId, username, credentialId \u306e\u95a2\u4fc2",t={},h=[{value:"\u6982\u8981",id:"\u6982\u8981",level:2},{value:"FIDO2 \u306e\u8b58\u5225\u5b50\u4e00\u89a7",id:"fido2-\u306e\u8b58\u5225\u5b50\u4e00\u89a7",level:2},{value:"3\u3064\u306e\u4e3b\u8981\u306a\u8b58\u5225\u5b50",id:"3\u3064\u306e\u4e3b\u8981\u306a\u8b58\u5225\u5b50",level:3},{value:"\u5404\u8b58\u5225\u5b50\u306e\u8a73\u7d30",id:"\u5404\u8b58\u5225\u5b50\u306e\u8a73\u7d30",level:3},{value:"\u767b\u9332\u30d5\u30ed\u30fc\u3067\u306e\u8b58\u5225\u5b50\u306e\u6d41\u308c",id:"\u767b\u9332\u30d5\u30ed\u30fc\u3067\u306e\u8b58\u5225\u5b50\u306e\u6d41\u308c",level:2},{value:"\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3",id:"\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3",level:3},{value:"\u767b\u9332\u6642\u306e\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc",id:"\u767b\u9332\u6642\u306e\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc",level:3},{value:"\u2460 RP Server \u2192 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff08Challenge \u30ec\u30b9\u30dd\u30f3\u30b9\uff09",id:"-rp-server--\u30af\u30e9\u30a4\u30a2\u30f3\u30c8challenge-\u30ec\u30b9\u30dd\u30f3\u30b9",level:4},{value:"\u2465 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u2192 RP Server\uff08\u767b\u9332\u30ec\u30b9\u30dd\u30f3\u30b9\uff09",id:"-\u30af\u30e9\u30a4\u30a2\u30f3\u30c8--rp-server\u767b\u9332\u30ec\u30b9\u30dd\u30f3\u30b9",level:4},{value:"\u8a8d\u8a3c\u30d5\u30ed\u30fc\u3067\u306e\u8b58\u5225\u5b50\u306e\u6d41\u308c",id:"\u8a8d\u8a3c\u30d5\u30ed\u30fc\u3067\u306e\u8b58\u5225\u5b50\u306e\u6d41\u308c",level:2},{value:"\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3",id:"\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3-1",level:3},{value:"\u8a8d\u8a3c\u6642\u306e\u8b58\u5225\u5b50\u306e\u5f79\u5272",id:"\u8a8d\u8a3c\u6642\u306e\u8b58\u5225\u5b50\u306e\u5f79\u5272",level:3},{value:"\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a\u306e\u65b9\u5f0f",id:"\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a\u306e\u65b9\u5f0f",level:2},{value:"\u65b9\u5f0f1: 2\u8981\u7d20\u8a8d\u8a3c\uff08\u30e6\u30fc\u30b6\u30fc\u65e2\u77e5\uff09",id:"\u65b9\u5f0f1-2\u8981\u7d20\u8a8d\u8a3c\u30e6\u30fc\u30b6\u30fc\u65e2\u77e5",level:3},{value:"\u65b9\u5f0f2: Passkey\uff08Discoverable Credential\uff09",id:"\u65b9\u5f0f2-passkeydiscoverable-credential",level:3},{value:"\u8b58\u5225\u5b50\u306b\u3088\u308b\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",id:"\u8b58\u5225\u5b50\u306b\u3088\u308b\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",level:3},{value:"IdP \u3068 FIDO\u30b5\u30fc\u30d0\u30fc\u306e\u5f79\u5272\u5206\u62c5",id:"idp-\u3068-fido\u30b5\u30fc\u30d0\u30fc\u306e\u5f79\u5272\u5206\u62c5",level:2},{value:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d1\u30bf\u30fc\u30f3",id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d1\u30bf\u30fc\u30f3",level:3},{value:"\u30d1\u30bf\u30fc\u30f31: FIDO\u30b5\u30fc\u30d0\u30fc\u5185\u8535\u578b",id:"\u30d1\u30bf\u30fc\u30f31-fido\u30b5\u30fc\u30d0\u30fc\u5185\u8535\u578b",level:4},{value:"\u30d1\u30bf\u30fc\u30f32: \u5916\u90e8FIDO\u30b5\u30fc\u30d0\u30fc\u9023\u643a\u578b",id:"\u30d1\u30bf\u30fc\u30f32-\u5916\u90e8fido\u30b5\u30fc\u30d0\u30fc\u9023\u643a\u578b",level:4},{value:"credentialId \u306e\u7d10\u3065\u3051",id:"credentialid-\u306e\u7d10\u3065\u3051",level:2},{value:"\u767b\u9332\u6642\u306e\u7d10\u3065\u3051",id:"\u767b\u9332\u6642\u306e\u7d10\u3065\u3051",level:3},{value:"IdP \u3067\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u4f8b",id:"idp-\u3067\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u4f8b",level:3},{value:"FIDO2 userId \u3068 IdP \u30e6\u30fc\u30b6\u30fcID \u306e\u95a2\u4fc2",id:"fido2-userid-\u3068-idp-\u30e6\u30fc\u30b6\u30fcid-\u306e\u95a2\u4fc2",level:2},{value:"\u30de\u30c3\u30d4\u30f3\u30b0\u6226\u7565",id:"\u30de\u30c3\u30d4\u30f3\u30b0\u6226\u7565",level:3},{value:"Keycloak \u306e\u5b9f\u88c5\u4f8b",id:"keycloak-\u306e\u5b9f\u88c5\u4f8b",level:3},{value:"\u8003\u616e\u4e8b\u9805",id:"\u8003\u616e\u4e8b\u9805",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u8b58\u5225\u5b50\u306e\u767a\u884c\u8005\u3068\u7528\u9014",id:"\u8b58\u5225\u5b50\u306e\u767a\u884c\u8005\u3068\u7528\u9014",level:3},{value:"\u8a2d\u8a08\u4e0a\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u8a2d\u8a08\u4e0a\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:3},{value:"\u53c2\u8003\u30ea\u30f3\u30af",id:"\u53c2\u8003\u30ea\u30f3\u30af",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"fido2-\u8b58\u5225\u5b50\u3068idp\u7d71\u5408---userid-username-credentialid-\u306e\u95a2\u4fc2",children:"FIDO2 \u8b58\u5225\u5b50\u3068IdP\u7d71\u5408 - userId, username, credentialId \u306e\u95a2\u4fc2"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u6982\u8981",children:"\u6982\u8981"}),"\n",(0,i.jsx)(n.p,{children:"FIDO2/WebAuthn \u3067\u306f\u8907\u6570\u306e\u8b58\u5225\u5b50\u304c\u767b\u5834\u3057\u3001\u305d\u308c\u305e\u308c\u304c\u7570\u306a\u308b\u5f79\u5272\u3092\u6301\u3061\u307e\u3059\u3002\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306f\u3001\u3053\u308c\u3089\u306e\u8b58\u5225\u5b50\u306e\u95a2\u4fc2\u6027\u3068\u3001IdP\uff08Identity Provider\uff09\u3068\u306e\u7d71\u5408\u306b\u304a\u3051\u308b\u6ce8\u610f\u70b9\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u5b66\u3079\u308b\u3053\u3068"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"FIDO2 \u306b\u304a\u3051\u308b3\u3064\u306e\u4e3b\u8981\u306a\u8b58\u5225\u5b50\uff08userId, username, credentialId\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u5404\u8b58\u5225\u5b50\u306e\u767a\u884c\u8005\u3068\u4fdd\u5b58\u5148"}),"\n",(0,i.jsx)(n.li,{children:"\u767b\u9332\u30fb\u8a8d\u8a3c\u30d5\u30ed\u30fc\u3067\u306e\u8b58\u5225\u5b50\u306e\u6d41\u308c"}),"\n",(0,i.jsx)(n.li,{children:"IdP \u3068 FIDO\u30b5\u30fc\u30d0\u30fc\u306e\u5f79\u5272\u5206\u62c5"}),"\n",(0,i.jsx)(n.li,{children:"\u5b9f\u88c5\u30d1\u30bf\u30fc\u30f3\u3068\u8a2d\u8a08\u4e0a\u306e\u8003\u616e\u4e8b\u9805"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"fido2-\u306e\u8b58\u5225\u5b50\u4e00\u89a7",children:"FIDO2 \u306e\u8b58\u5225\u5b50\u4e00\u89a7"}),"\n",(0,i.jsx)(n.h3,{id:"3\u3064\u306e\u4e3b\u8981\u306a\u8b58\u5225\u5b50",children:"3\u3064\u306e\u4e3b\u8981\u306a\u8b58\u5225\u5b50"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         FIDO2 \u306e\u8b58\u5225\u5b50                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502\n\u2502  \u2502    userId       \u2502  \u2502    username     \u2502  \u2502  credentialId   \u2502             \u2502\n\u2502  \u2502   (user.id)     \u2502  \u2502   (user.name)   \u2502  \u2502                 \u2502             \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524             \u2502\n\u2502  \u2502 \u30d0\u30a4\u30c8\u5217        \u2502  \u2502 \u6587\u5b57\u5217          \u2502  \u2502 \u30d0\u30a4\u30c8\u5217        \u2502             \u2502\n\u2502  \u2502 (Base64URL)     \u2502  \u2502                 \u2502  \u2502 (Base64URL)     \u2502             \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524             \u2502\n\u2502  \u2502 RP \u304c\u767a\u884c       \u2502  \u2502 RP \u304c\u6c7a\u5b9a       \u2502  \u2502 \u8a8d\u8a3c\u5668\u304c\u751f\u6210    \u2502             \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502\n\u2502                                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5404\u8b58\u5225\u5b50\u306e\u8a73\u7d30",children:"\u5404\u8b58\u5225\u5b50\u306e\u8a73\u7d30"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u8b58\u5225\u5b50"}),(0,i.jsx)(n.th,{children:"WebAuthn \u3067\u306e\u540d\u79f0"}),(0,i.jsx)(n.th,{children:"\u767a\u884c\u8005"}),(0,i.jsx)(n.th,{children:"\u6700\u5927\u30b5\u30a4\u30ba"}),(0,i.jsx)(n.th,{children:"\u7528\u9014"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"userId"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"user.id"})," / ",(0,i.jsx)(n.code,{children:"userHandle"})]}),(0,i.jsx)(n.td,{children:"RP\uff08IdP\uff09"}),(0,i.jsx)(n.td,{children:"64\u30d0\u30a4\u30c8"}),(0,i.jsx)(n.td,{children:"\u30e6\u30fc\u30b6\u30fc\u306e\u4e00\u610f\u8b58\u5225"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"username"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"user.name"})}),(0,i.jsx)(n.td,{children:"RP\uff08IdP\uff09"}),(0,i.jsx)(n.td,{children:"\u4efb\u610f"}),(0,i.jsx)(n.td,{children:"\u4eba\u9593\u304c\u8aad\u3081\u308b\u30e6\u30fc\u30b6\u30fc\u8b58\u5225\u5b50"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"credentialId"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"credential.id"})," / ",(0,i.jsx)(n.code,{children:"id"})]}),(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u5668"}),(0,i.jsx)(n.td,{children:"1023\u30d0\u30a4\u30c8"}),(0,i.jsx)(n.td,{children:"\u516c\u958b\u9375/\u79d8\u5bc6\u9375\u30da\u30a2\u306e\u8b58\u5225"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u767b\u9332\u30d5\u30ed\u30fc\u3067\u306e\u8b58\u5225\u5b50\u306e\u6d41\u308c",children:"\u767b\u9332\u30d5\u30ed\u30fc\u3067\u306e\u8b58\u5225\u5b50\u306e\u6d41\u308c"}),"\n",(0,i.jsx)(n.h3,{id:"\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3",children:"\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           \u767b\u9332\u30d5\u30ed\u30fc                                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  IdP (RP Server)           \u30af\u30e9\u30a4\u30a2\u30f3\u30c8 (RP)          \u30d6\u30e9\u30a6\u30b6       \u8a8d\u8a3c\u5668   \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502 userId  \u2502                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502 username\u2502 \u2190 IdP \u304c\u6c7a\u5b9a        \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                     \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502  \u2460 Challenge +          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502     user: {              \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502       id: userId,        \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502       name: username,    \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502       displayName        \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502     }                    \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502  \u2461 create()         \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502  \u2462 \u8a8d\u8a3c\u5668\u3078 \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2502 \u9375\u30da\u30a2\u751f\u6210  \u2502\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2502credentialId\u2502\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2502 \u751f\u6210       \u2502\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2502            \u2502\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2502 userId\u4fdd\u5b58 \u2502\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2502 (\u203bPasskey) \u2502\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502  \u2463 \u7d50\u679c     \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502  \u2464 \u7d50\u679c             \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502  \u2465 id: credentialId,    \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502     attestationObject,   \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502     clientDataJSON       \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502\u691c\u8a3c+\u4fdd\u5b58\u2502                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502userId   \u2502                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502 \u2193       \u2502                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502credential                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502  Id     \u2502                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                     \u2502                      \u2502             \u2502      \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u767b\u9332\u6642\u306e\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc",children:"\u767b\u9332\u6642\u306e\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc"}),"\n",(0,i.jsx)(n.h4,{id:"-rp-server--\u30af\u30e9\u30a4\u30a2\u30f3\u30c8challenge-\u30ec\u30b9\u30dd\u30f3\u30b9",children:"\u2460 RP Server \u2192 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff08Challenge \u30ec\u30b9\u30dd\u30f3\u30b9\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "challenge": "\u30e9\u30f3\u30c0\u30e0\u306a\u30c1\u30e3\u30ec\u30f3\u30b8\uff08Base64URL\uff09",\n  "rp": {\n    "id": "example.com",\n    "name": "Example Corporation"\n  },\n  "user": {\n    "id": "dXNlci0xMjM0NTY3ODkw",        // \u2190 IdP \u304c\u767a\u884c\u3057\u305f userId (Base64URL)\n    "name": "user@example.com",           // \u2190 username\n    "displayName": "\u7530\u4e2d \u592a\u90ce"            // \u2190 \u8868\u793a\u540d\n  },\n  "pubKeyCredParams": [...],\n  "timeout": 60000,\n  "attestation": "none"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u91cd\u8981"}),": ",(0,i.jsx)(n.code,{children:"user.id"})," \u3068 ",(0,i.jsx)(n.code,{children:"user.name"})," \u306f IdP\uff08RP Server\uff09\u304c\u6c7a\u5b9a\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(n.h4,{id:"-\u30af\u30e9\u30a4\u30a2\u30f3\u30c8--rp-server\u767b\u9332\u30ec\u30b9\u30dd\u30f3\u30b9",children:"\u2465 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u2192 RP Server\uff08\u767b\u9332\u30ec\u30b9\u30dd\u30f3\u30b9\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "Y3JlZGVudGlhbElkLTEyMzQ1Njc4OTA...",  // \u2190 credentialId\uff08\u8a8d\u8a3c\u5668\u304c\u751f\u6210\uff09\n  "type": "public-key",\n  "response": {\n    "clientDataJSON": "eyJ0eXBlIjoid2ViYXV0aG4uY3JlYXRlIi...",\n    "attestationObject": "o2NmbXRkbm9uZWdhdHRTdG10oGhhdXRo..."\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u91cd\u8981"}),": ",(0,i.jsx)(n.code,{children:"id"}),"\uff08credentialId\uff09\u306f\u8a8d\u8a3c\u5668\u304c\u751f\u6210\u3057\u305f\u5024\u3067\u3059\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u9001\u3089\u308c\u3066\u304d\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u8a8d\u8a3c\u30d5\u30ed\u30fc\u3067\u306e\u8b58\u5225\u5b50\u306e\u6d41\u308c",children:"\u8a8d\u8a3c\u30d5\u30ed\u30fc\u3067\u306e\u8b58\u5225\u5b50\u306e\u6d41\u308c"}),"\n",(0,i.jsx)(n.h3,{id:"\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3-1",children:"\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           \u8a8d\u8a3c\u30d5\u30ed\u30fc                                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  IdP (RP Server)           \u30af\u30e9\u30a4\u30a2\u30f3\u30c8 (RP)          \u30d6\u30e9\u30a6\u30b6       \u8a8d\u8a3c\u5668   \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502  \u2460 Challenge +          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502     allowCredentials    \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502  \u2461 get()            \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502  \u2462 \u8a8d\u8a3c\u5668\u3078 \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2502 \u7f72\u540d\u751f\u6210   \u2502\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2502            \u2502\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2502 userHandle \u2502\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2502 \u8fd4\u5374       \u2502\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2502 (\u203bPasskey) \u2502\u2502\n\u2502       \u2502                          \u2502                      \u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502  \u2463 \u7d50\u679c     \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502  \u2464 \u7d50\u679c             \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502  \u2465 id: credentialId,    \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502     signature,           \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502     userHandle,          \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502     authenticatorData    \u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                      \u2502             \u2502      \u2502\n\u2502       \u2502                          \u2502                      \u2502             \u2502      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502\u7f72\u540d\u691c\u8a3c \u2502                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502        \u2502                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502credentialId                   \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502  \u2192 \u516c\u958b\u9375\u7279\u5b9a                 \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502        \u2502                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502userHandle                     \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502  \u2192 \u30e6\u30fc\u30b6\u30fc\u7279\u5b9a               \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2502  (\u203bPasskey)                  \u2502                      \u2502             \u2502      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                     \u2502                      \u2502             \u2502      \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u8a8d\u8a3c\u6642\u306e\u8b58\u5225\u5b50\u306e\u5f79\u5272",children:"\u8a8d\u8a3c\u6642\u306e\u8b58\u5225\u5b50\u306e\u5f79\u5272"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u8b58\u5225\u5b50"}),(0,i.jsx)(n.th,{children:"\u8a8d\u8a3c\u6642\u306e\u5f79\u5272"}),(0,i.jsx)(n.th,{children:"\u4f7f\u7528\u30b7\u30ca\u30ea\u30aa"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"credentialId"})}),(0,i.jsx)(n.td,{children:"\u516c\u958b\u9375\u306e\u7279\u5b9a"}),(0,i.jsx)(n.td,{children:"\u5e38\u306b\u4f7f\u7528"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"userHandle"})}),(0,i.jsx)(n.td,{children:"\u30e6\u30fc\u30b6\u30fc\u306e\u7279\u5b9a"}),(0,i.jsx)(n.td,{children:"Passkey\uff08Discoverable Credential\uff09\u306e\u5834\u5408"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"username"})}),(0,i.jsx)(n.td,{children:"\uff08\u4f7f\u7528\u3057\u306a\u3044\uff09"}),(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u524d\u306b\u30e6\u30fc\u30b6\u30fc\u540d\u5165\u529b\u304c\u3042\u308b\u5834\u5408\u306e\u307f"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a\u306e\u65b9\u5f0f",children:"\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a\u306e\u65b9\u5f0f"}),"\n",(0,i.jsx)(n.h3,{id:"\u65b9\u5f0f1-2\u8981\u7d20\u8a8d\u8a3c\u30e6\u30fc\u30b6\u30fc\u65e2\u77e5",children:"\u65b9\u5f0f1: 2\u8981\u7d20\u8a8d\u8a3c\uff08\u30e6\u30fc\u30b6\u30fc\u65e2\u77e5\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"1. \u30e6\u30fc\u30b6\u30fc\u304c\u30e6\u30fc\u30b6\u30fc\u540d/\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u8a8d\u8a3c\n2. IdP \u304c\u30e6\u30fc\u30b6\u30fc\u3092\u7279\u5b9a\n3. \u305d\u306e\u30e6\u30fc\u30b6\u30fc\u306e credentialId \u30ea\u30b9\u30c8\u3092 allowCredentials \u306b\u8a2d\u5b9a\n4. FIDO2 \u8a8d\u8a3c\u3092\u5b9f\u884c\n5. \u7f72\u540d\u691c\u8a3c\u306e\u307f\uff08\u30e6\u30fc\u30b6\u30fc\u306f\u65e2\u306b\u7279\u5b9a\u6e08\u307f\uff09\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u65b9\u5f0f2-passkeydiscoverable-credential",children:"\u65b9\u5f0f2: Passkey\uff08Discoverable Credential\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"1. \u30e6\u30fc\u30b6\u30fc\u540d\u5165\u529b\u306a\u3057\u3067\u8a8d\u8a3c\u958b\u59cb\n2. allowCredentials \u3092\u7a7a\u3067\u9001\u4fe1\n3. \u8a8d\u8a3c\u5668\u304c\u30e6\u30fc\u30b6\u30fc\u3092\u9078\u629e\uff08UI\u8868\u793a\uff09\n4. \u8a8d\u8a3c\u5668\u304c userHandle\uff08userId\uff09\u3092\u8fd4\u5374\n5. IdP \u304c userHandle \u3067\u30e6\u30fc\u30b6\u30fc\u3092\u7279\u5b9a\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u8b58\u5225\u5b50\u306b\u3088\u308b\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",children:"\u8b58\u5225\u5b50\u306b\u3088\u308b\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      \u30e6\u30fc\u30b6\u30fc\u7279\u5b9a\u306e\u6d41\u308c                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                             \u2502\n\u2502  \u30102\u8981\u7d20\u8a8d\u8a3c\u306e\u5834\u5408\u3011                                                         \u2502\n\u2502                                                                             \u2502\n\u2502    \u30e6\u30fc\u30b6\u30fc\u540d\u5165\u529b \u2192 IdP \u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a \u2192 credentialId \u3067\u516c\u958b\u9375\u7279\u5b9a         \u2502\n\u2502                     ~~~~~~~~~~~~~~~~~~~                                     \u2502\n\u2502                     \u4e8b\u524d\u306b\u30e6\u30fc\u30b6\u30fc\u78ba\u5b9a                                       \u2502\n\u2502                                                                             \u2502\n\u2502  \u3010Passkey \u306e\u5834\u5408\u3011                                                          \u2502\n\u2502                                                                             \u2502\n\u2502    \u8a8d\u8a3c\u5668\u306e\u5fdc\u7b54 \u2192 userHandle \u3067 IdP \u30e6\u30fc\u30b6\u30fc\u7279\u5b9a \u2192 credentialId \u3067\u516c\u958b\u9375\u7279\u5b9a\u2502\n\u2502                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~                              \u2502\n\u2502                   userHandle = \u767b\u9332\u6642\u306e userId                              \u2502\n\u2502                                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"idp-\u3068-fido\u30b5\u30fc\u30d0\u30fc\u306e\u5f79\u5272\u5206\u62c5",children:"IdP \u3068 FIDO\u30b5\u30fc\u30d0\u30fc\u306e\u5f79\u5272\u5206\u62c5"}),"\n",(0,i.jsx)(n.h3,{id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d1\u30bf\u30fc\u30f3",children:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,i.jsx)(n.p,{children:"FIDO2 \u306e\u5b9f\u88c5\u306b\u306f\u3001\u4e3b\u306b2\u3064\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d1\u30bf\u30fc\u30f3\u304c\u3042\u308a\u307e\u3059\u3002"}),"\n",(0,i.jsx)(n.h4,{id:"\u30d1\u30bf\u30fc\u30f31-fido\u30b5\u30fc\u30d0\u30fc\u5185\u8535\u578b",children:"\u30d1\u30bf\u30fc\u30f31: FIDO\u30b5\u30fc\u30d0\u30fc\u5185\u8535\u578b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     IdP (FIDO\u30b5\u30fc\u30d0\u30fc\u5185\u8535)                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502                         IdP Server                                    \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502 \u2502\n\u2502  \u2502  \u2502   User \u7ba1\u7406     \u2502  \u2502        FIDO \u30e9\u30a4\u30d6\u30e9\u30ea                      \u2502\u2502 \u2502\n\u2502  \u2502  \u2502                 \u2502  \u2502        (webauthn4j \u7b49)                      \u2502\u2502 \u2502\n\u2502  \u2502  \u2502  - userId       \u2502  \u2502                                             \u2502\u2502 \u2502\n\u2502  \u2502  \u2502  - username     \u2502  \u2502  - Attestation \u691c\u8a3c                         \u2502\u2502 \u2502\n\u2502  \u2502  \u2502  - credentials  \u2502  \u2502  - Assertion \u691c\u8a3c                           \u2502\u2502 \u2502\n\u2502  \u2502  \u2502                 \u2502  \u2502  - \u516c\u958b\u9375\u7ba1\u7406                               \u2502\u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                             \u2502\n\u2502  \u4f8b: Keycloak, Auth0 (\u5185\u8535\u30e2\u30fc\u30c9)                                           \u2502\n\u2502                                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u7279\u5fb4"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"userId \u3068 credentialId \u306e\u7d10\u3065\u3051\u304c IdP \u5185\u90e8\u3067\u5b8c\u7d50"}),"\n",(0,i.jsx)(n.li,{children:"\u30b7\u30f3\u30d7\u30eb\u306a\u69cb\u6210"}),"\n",(0,i.jsx)(n.li,{children:"FIDO\u30b5\u30fc\u30d0\u30fc\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u5f62\u5f0f\u3092\u6c17\u306b\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"\u30d1\u30bf\u30fc\u30f32-\u5916\u90e8fido\u30b5\u30fc\u30d0\u30fc\u9023\u643a\u578b",children:"\u30d1\u30bf\u30fc\u30f32: \u5916\u90e8FIDO\u30b5\u30fc\u30d0\u30fc\u9023\u643a\u578b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     IdP + \u5916\u90e8 FIDO\u30b5\u30fc\u30d0\u30fc                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502      IdP Server       \u2502        \u2502         FIDO Server                   \u2502\u2502\n\u2502  \u2502                       \u2502        \u2502         (LINE FIDO2 \u7b49)               \u2502\u2502\n\u2502  \u2502  - User \u7ba1\u7406          \u2502  HTTP  \u2502                                       \u2502\u2502\n\u2502  \u2502  - userId             \u2502<\u2500\u2500\u2500\u2500\u2500\u2500>\u2502  - Attestation \u691c\u8a3c                   \u2502\u2502\n\u2502  \u2502  - username           \u2502        \u2502  - Assertion \u691c\u8a3c                     \u2502\u2502\n\u2502  \u2502  - credentialId \u53c2\u7167  \u2502        \u2502  - \u516c\u958b\u9375\u7ba1\u7406                         \u2502\u2502\n\u2502  \u2502    (\u7d10\u3065\u3051\u7528)         \u2502        \u2502  - credentialId \u7ba1\u7406                  \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502                                                                             \u2502\n\u2502  \u4f8b: idp-server + LINE FIDO2 Server                                         \u2502\n\u2502                                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u7279\u5fb4"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"IdP \u3068 FIDO\u30b5\u30fc\u30d0\u30fc\u304c\u5206\u96e2"}),"\n",(0,i.jsx)(n.li,{children:"credentialId \u306e\u7d10\u3065\u3051\u7ba1\u7406\u304c\u5fc5\u8981"}),"\n",(0,i.jsx)(n.li,{children:"FIDO\u30b5\u30fc\u30d0\u30fc\u306e API \u4ed5\u69d8\u3092\u8003\u616e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"credentialid-\u306e\u7d10\u3065\u3051",children:"credentialId \u306e\u7d10\u3065\u3051"}),"\n",(0,i.jsx)(n.h3,{id:"\u767b\u9332\u6642\u306e\u7d10\u3065\u3051",children:"\u767b\u9332\u6642\u306e\u7d10\u3065\u3051"}),"\n",(0,i.jsx)(n.p,{children:"\u5916\u90e8FIDO\u30b5\u30fc\u30d0\u30fc\u9023\u643a\u578b\u3067\u306f\u3001\u767b\u9332\u6642\u306b credentialId \u3092 IdP \u5074\u3067\u4fdd\u5b58\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     \u767b\u9332\u6642\u306e credentialId \u7d10\u3065\u3051                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                             \u2502\n\u2502  \u30af\u30e9\u30a4\u30a2\u30f3\u30c8                 IdP                    FIDO\u30b5\u30fc\u30d0\u30fc             \u2502\n\u2502       \u2502                       \u2502                           \u2502                 \u2502\n\u2502       \u2502  \u767b\u9332\u30ea\u30af\u30a8\u30b9\u30c8        \u2502                           \u2502                 \u2502\n\u2502       \u2502  id: credentialId     \u2502                           \u2502                 \u2502\n\u2502       \u2502  response: {...}      \u2502                           \u2502                 \u2502\n\u2502       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                           \u2502                 \u2502\n\u2502       \u2502                       \u2502                           \u2502                 \u2502\n\u2502       \u2502                       \u2502  Attestation \u691c\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u2502                 \u2502\n\u2502       \u2502                       \u2502  id: credentialId         \u2502                 \u2502\n\u2502       \u2502                       \u2502  response: {...}          \u2502                 \u2502\n\u2502       \u2502                       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                 \u2502\n\u2502       \u2502                       \u2502                           \u2502                 \u2502\n\u2502       \u2502                       \u2502  \u691c\u8a3c\u7d50\u679c                  \u2502                 \u2502\n\u2502       \u2502                       \u2502  status: "ok"             \u2502                 \u2502\n\u2502       \u2502                       \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                 \u2502\n\u2502       \u2502                       \u2502                           \u2502                 \u2502\n\u2502       \u2502                 \u250c\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2510                     \u2502                 \u2502\n\u2502       \u2502                 \u2502 credentialId \u3092                 \u2502                 \u2502\n\u2502       \u2502                 \u2502 User \u306b\u7d10\u3065\u3051\u3066\u4fdd\u5b58             \u2502                 \u2502\n\u2502       \u2502                 \u2502                                 \u2502                 \u2502\n\u2502       \u2502                 \u2502 \u203b credentialId \u306f              \u2502                 \u2502\n\u2502       \u2502                 \u2502   \u30ea\u30af\u30a8\u30b9\u30c8\u304b\u3089\u53d6\u5f97            \u2502                 \u2502\n\u2502       \u2502                 \u2502   (FIDO\u30b5\u30fc\u30d0\u30fc\u306e               \u2502                 \u2502\n\u2502       \u2502                 \u2502    \u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u306f\u306a\u3044)          \u2502                 \u2502\n\u2502       \u2502                 \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                     \u2502                 \u2502\n\u2502       \u2502                       \u2502                           \u2502                 \u2502\n\u2502       \u2502  \u767b\u9332\u6210\u529f              \u2502                           \u2502                 \u2502\n\u2502       \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                           \u2502                 \u2502\n\u2502                                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["FIDO \u8a8d\u5b9a\u30c6\u30b9\u30c8 API \u3067\u306f\u3001FIDO\u30b5\u30fc\u30d0\u30fc\u306e\u767b\u9332\u30ec\u30b9\u30dd\u30f3\u30b9\u306f ",(0,i.jsx)(n.code,{children:"status"})," \u306e\u307f"]}),"\n",(0,i.jsxs)(n.li,{children:["credentialId \u306f",(0,i.jsx)(n.strong,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u542b\u307e\u308c\u3066\u3044\u308b"})]}),"\n",(0,i.jsxs)(n.li,{children:["IdP \u306f \u30ea\u30af\u30a8\u30b9\u30c8\u306e ",(0,i.jsx)(n.code,{children:"id"})," \u30d5\u30a3\u30fc\u30eb\u30c9\u304b\u3089 credentialId \u3092\u53d6\u5f97\u3057\u3066\u4fdd\u5b58\u3059\u308b"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"idp-\u3067\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u4f8b",children:"IdP \u3067\u306e\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'User\n\u251c\u2500\u2500 sub: "user-123"                    // IdP \u306e\u5185\u90e8\u30e6\u30fc\u30b6\u30fcID\n\u251c\u2500\u2500 preferredUsername: "user@example.com"\n\u251c\u2500\u2500 authenticationDevices[]\n\u2502   \u2514\u2500\u2500 AuthenticationDevice\n\u2502       \u251c\u2500\u2500 deviceId: "device-456"\n\u2502       \u2514\u2500\u2500 credentials[]\n\u2502           \u2514\u2500\u2500 DeviceCredential\n\u2502               \u251c\u2500\u2500 type: "fido2"\n\u2502               \u251c\u2500\u2500 credentialId: "Y3JlZGVudGlhbC..."  // \u8a8d\u8a3c\u5668\u304c\u751f\u6210\u3057\u305f ID\n\u2502               \u251c\u2500\u2500 rpId: "example.com"\n\u2502               \u2514\u2500\u2500 fidoServerId: "webauthn4j-001"\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"fido2-userid-\u3068-idp-\u30e6\u30fc\u30b6\u30fcid-\u306e\u95a2\u4fc2",children:"FIDO2 userId \u3068 IdP \u30e6\u30fc\u30b6\u30fcID \u306e\u95a2\u4fc2"}),"\n",(0,i.jsx)(n.h3,{id:"\u30de\u30c3\u30d4\u30f3\u30b0\u6226\u7565",children:"\u30de\u30c3\u30d4\u30f3\u30b0\u6226\u7565"}),"\n",(0,i.jsxs)(n.p,{children:["FIDO2 \u306e ",(0,i.jsx)(n.code,{children:"user.id"}),"\uff08userId\uff09\u3068 IdP \u306e\u30e6\u30fc\u30b6\u30fcID\uff08sub\uff09\u306f\u3001\u5fc5\u305a\u3057\u3082\u540c\u3058\u3067\u3042\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u6226\u7565"}),(0,i.jsx)(n.th,{children:"\u8aac\u660e"}),(0,i.jsx)(n.th,{children:"\u4f8b"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\u540c\u4e00\u5024"})}),(0,i.jsx)(n.td,{children:"IdP \u306e sub \u3092\u305d\u306e\u307e\u307e\u4f7f\u7528"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"user.id = User.sub"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\u30a8\u30f3\u30b3\u30fc\u30c9"})}),(0,i.jsx)(n.td,{children:"IdP \u306e sub \u3092 Base64URL \u30a8\u30f3\u30b3\u30fc\u30c9"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"user.id = Base64URL(User.sub)"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\u30cf\u30c3\u30b7\u30e5"})}),(0,i.jsx)(n.td,{children:"IdP \u306e sub \u3092\u30cf\u30c3\u30b7\u30e5\u5316"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"user.id = SHA256(User.sub)"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"\u5225\u5024"})}),(0,i.jsx)(n.td,{children:"\u5c02\u7528\u306e FIDO \u30e6\u30fc\u30b6\u30fcID \u3092\u751f\u6210"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"user.id = UUID()"})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"keycloak-\u306e\u5b9f\u88c5\u4f8b",children:"Keycloak \u306e\u5b9f\u88c5\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Keycloak\u30e6\u30fc\u30b6\u30fcID\u3092FIDO2\u306euser.id\u306b\u5909\u63db\nString userId = Base64Url.encode(userModel.getId().getBytes(StandardCharsets.UTF_8));\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u8003\u616e\u4e8b\u9805",children:"\u8003\u616e\u4e8b\u9805"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"user.id"})," \u306f\u6700\u592764\u30d0\u30a4\u30c8"]}),"\n",(0,i.jsxs)(n.li,{children:["Passkey \u306e\u5834\u5408\u3001\u8a8d\u8a3c\u5668\u304c ",(0,i.jsx)(n.code,{children:"user.id"})," \u3092\u4fdd\u5b58\u30fb\u8fd4\u5374\u3059\u308b"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"user.id"})," \u304b\u3089 IdP \u30e6\u30fc\u30b6\u30fc\u3092\u9006\u5f15\u304d\u3067\u304d\u308b\u5fc5\u8981\u304c\u3042\u308b\uff08Passkey \u306e\u5834\u5408\uff09"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,i.jsx)(n.h3,{id:"\u8b58\u5225\u5b50\u306e\u767a\u884c\u8005\u3068\u7528\u9014",children:"\u8b58\u5225\u5b50\u306e\u767a\u884c\u8005\u3068\u7528\u9014"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u8b58\u5225\u5b50"}),(0,i.jsx)(n.th,{children:"\u767a\u884c\u8005"}),(0,i.jsx)(n.th,{children:"\u4fdd\u5b58\u5148"}),(0,i.jsx)(n.th,{children:"\u767b\u9332\u6642"}),(0,i.jsx)(n.th,{children:"\u8a8d\u8a3c\u6642"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"userId"})}),(0,i.jsx)(n.td,{children:"IdP"}),(0,i.jsx)(n.td,{children:"IdP + \u8a8d\u8a3c\u5668(\u203b)"}),(0,i.jsx)(n.td,{children:"RP\u2192\u8a8d\u8a3c\u5668"}),(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u5668\u2192RP(\u203b)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"username"})}),(0,i.jsx)(n.td,{children:"IdP"}),(0,i.jsx)(n.td,{children:"IdP"}),(0,i.jsx)(n.td,{children:"RP\u2192\u8a8d\u8a3c\u5668"}),(0,i.jsx)(n.td,{children:"-"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"credentialId"})}),(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u5668"}),(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u5668 + FIDO\u30b5\u30fc\u30d0\u30fc + IdP"}),(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u5668\u2192RP"}),(0,i.jsx)(n.td,{children:"\u8a8d\u8a3c\u5668\u2192RP"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"\u203b Passkey\uff08Discoverable Credential\uff09\u306e\u5834\u5408"}),"\n",(0,i.jsx)(n.h3,{id:"\u8a2d\u8a08\u4e0a\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u8a2d\u8a08\u4e0a\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"credentialId \u306f\u30ea\u30af\u30a8\u30b9\u30c8\u304b\u3089\u53d6\u5f97"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"FIDO\u30b5\u30fc\u30d0\u30fc\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u4f9d\u5b58\u3057\u306a\u3044"}),"\n",(0,i.jsx)(n.li,{children:"FIDO \u6a19\u6e96\u306b\u6e96\u62e0"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"userId \u306f IdP \u30e6\u30fc\u30b6\u30fc\u304b\u3089\u6d3e\u751f"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u9006\u5f15\u304d\u53ef\u80fd\u306a\u5f62\u5f0f\u3092\u9078\u629e"}),"\n",(0,i.jsx)(n.li,{children:"Passkey \u5bfe\u5fdc\u3092\u8003\u616e"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"FIDO\u30b5\u30fc\u30d0\u30fc\u306e\u5f79\u5272\u3092\u660e\u78ba\u5316"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6697\u53f7\u691c\u8a3c\u306e\u307f\u3092\u62c5\u5f53"}),"\n",(0,i.jsx)(n.li,{children:"\u30e6\u30fc\u30b6\u30fc\u7ba1\u7406\u306f IdP \u306e\u8cac\u52d9"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u53c2\u8003\u30ea\u30f3\u30af",children:"\u53c2\u8003\u30ea\u30f3\u30af"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.w3.org/TR/webauthn-2/#dictdef-publickeycredentialuserentity",children:"W3C WebAuthn Level 2 - 5.4.3 User Account Parameters"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/fido-alliance/conformance-test-tools-resources",children:"FIDO Alliance Conformance Test API"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://webauthn.guide/#registration",children:"WebAuthn Guide - User Handle"})}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,d)=>{d.d(n,{R:()=>l,x:()=>c});var r=d(96540);const i={},s=r.createContext(i);function l(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);