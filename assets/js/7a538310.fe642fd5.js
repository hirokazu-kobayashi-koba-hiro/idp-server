"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[667],{50576:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>s,default:()=>a,frontMatter:()=>l,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"content_11_learning/oauth-oidc-rfc/security/redirect-uri-validation","title":"redirect_uri \u691c\u8a3c\u306e\u4ed5\u69d8\u6bd4\u8f03","description":"redirect_uri\uff08\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 URI\uff09\u306e\u691c\u8a3c\u65b9\u6cd5\u306f\u3001OAuth 2.0 \u306e\u6b74\u53f2\u3068\u3068\u3082\u306b\u53b3\u683c\u5316\u3055\u308c\u3066\u304d\u307e\u3057\u305f\u3002\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306f\u3001\u5404\u4ed5\u69d8\u306b\u304a\u3051\u308b\u691c\u8a3c\u30eb\u30fc\u30eb\u306e\u9055\u3044\u3092\u6bd4\u8f03\u3057\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u5229\u4fbf\u6027\u306e\u30d0\u30e9\u30f3\u30b9\u3092\u8003\u5bdf\u3057\u307e\u3059\u3002","source":"@site/docs/content_11_learning/16-oauth-oidc-rfc/security/redirect-uri-validation.md","sourceDirName":"content_11_learning/16-oauth-oidc-rfc/security","slug":"/content_11_learning/oauth-oidc-rfc/security/redirect-uri-validation","permalink":"/idp-server/docs/content_11_learning/oauth-oidc-rfc/security/redirect-uri-validation","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/16-oauth-oidc-rfc/security/redirect-uri-validation.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"OAuth 2.0 / OIDC \u653b\u6483\u30d1\u30bf\u30fc\u30f3","permalink":"/idp-server/docs/content_11_learning/oauth-oidc-rfc/security/attack-patterns"},"next":{"title":"RFC 9700: OAuth 2.0 Security Best Current Practice","permalink":"/idp-server/docs/content_11_learning/oauth-oidc-rfc/security/rfc9700-security-bcp"}}');var d=r(74848),c=r(28453);const l={},s="redirect_uri \u691c\u8a3c\u306e\u4ed5\u69d8\u6bd4\u8f03",t={},h=[{value:"\u7b2c1\u90e8: \u6982\u8981",id:"\u7b2c1\u90e8-\u6982\u8981",level:2},{value:"\u306a\u305c redirect_uri \u306e\u691c\u8a3c\u304c\u91cd\u8981\u306a\u306e\u304b\uff1f",id:"\u306a\u305c-redirect_uri-\u306e\u691c\u8a3c\u304c\u91cd\u8981\u306a\u306e\u304b",level:3},{value:"\u691c\u8a3c\u306e\u53b3\u683c\u3055\u30b9\u30da\u30af\u30c8\u30e9\u30e0",id:"\u691c\u8a3c\u306e\u53b3\u683c\u3055\u30b9\u30da\u30af\u30c8\u30e9\u30e0",level:3},{value:"RFC 3986: URI \u6bd4\u8f03\u306e\u57fa\u790e",id:"rfc-3986-uri-\u6bd4\u8f03\u306e\u57fa\u790e",level:2},{value:"URI \u306e\u69cb\u9020",id:"uri-\u306e\u69cb\u9020",level:3},{value:"URI \u306e\u6bd4\u8f03\u65b9\u6cd5\uff08RFC 3986 Section 6\uff09",id:"uri-\u306e\u6bd4\u8f03\u65b9\u6cd5rfc-3986-section-6",level:3},{value:"1. Simple String Comparison\uff08\u5358\u7d14\u6587\u5b57\u5217\u6bd4\u8f03\uff09",id:"1-simple-string-comparison\u5358\u7d14\u6587\u5b57\u5217\u6bd4\u8f03",level:4},{value:"2. Syntax-Based Normalization\uff08\u69cb\u6587\u30d9\u30fc\u30b9\u6b63\u898f\u5316\uff09",id:"2-syntax-based-normalization\u69cb\u6587\u30d9\u30fc\u30b9\u6b63\u898f\u5316",level:4},{value:"3. Scheme-Based Normalization\uff08\u30b9\u30ad\u30fc\u30e0\u30d9\u30fc\u30b9\u6b63\u898f\u5316\uff09",id:"3-scheme-based-normalization\u30b9\u30ad\u30fc\u30e0\u30d9\u30fc\u30b9\u6b63\u898f\u5316",level:4},{value:"4. Protocol-Based Normalization\uff08\u30d7\u30ed\u30c8\u30b3\u30eb\u30d9\u30fc\u30b9\u6b63\u898f\u5316\uff09",id:"4-protocol-based-normalization\u30d7\u30ed\u30c8\u30b3\u30eb\u30d9\u30fc\u30b9\u6b63\u898f\u5316",level:4},{value:"\u306a\u305c Simple String Comparison \u304c\u63a8\u5968\u3055\u308c\u308b\u304b\uff1f",id:"\u306a\u305c-simple-string-comparison-\u304c\u63a8\u5968\u3055\u308c\u308b\u304b",level:3},{value:"\u5404\u4ed5\u69d8\u3067\u306e URI \u6bd4\u8f03\u65b9\u6cd5",id:"\u5404\u4ed5\u69d8\u3067\u306e-uri-\u6bd4\u8f03\u65b9\u6cd5",level:3},{value:"\u5b9f\u88c5\u4e0a\u306e\u6ce8\u610f\u70b9",id:"\u5b9f\u88c5\u4e0a\u306e\u6ce8\u610f\u70b9",level:3},{value:"\u30d1\u30fc\u30bb\u30f3\u30c8\u30a8\u30f3\u30b3\u30fc\u30c9\u306e\u6271\u3044",id:"\u30d1\u30fc\u30bb\u30f3\u30c8\u30a8\u30f3\u30b3\u30fc\u30c9\u306e\u6271\u3044",level:4},{value:"\u672b\u5c3e\u30b9\u30e9\u30c3\u30b7\u30e5",id:"\u672b\u5c3e\u30b9\u30e9\u30c3\u30b7\u30e5",level:4},{value:"IPv6 \u30a2\u30c9\u30ec\u30b9",id:"ipv6-\u30a2\u30c9\u30ec\u30b9",level:4},{value:"\u7b2c2\u90e8: \u4ed5\u69d8\u5225\u306e\u691c\u8a3c\u30eb\u30fc\u30eb",id:"\u7b2c2\u90e8-\u4ed5\u69d8\u5225\u306e\u691c\u8a3c\u30eb\u30fc\u30eb",level:2},{value:"RFC 3986\uff08URI \u4ed5\u69d8, 2005\u5e74\uff09",id:"rfc-3986uri-\u4ed5\u69d8-2005\u5e74",level:3},{value:"URI \u306e\u69cb\u9020",id:"uri-\u306e\u69cb\u9020-1",level:4},{value:"URI \u6bd4\u8f03\u306e 3 \u3064\u306e\u65b9\u5f0f\uff08Section 6\uff09",id:"uri-\u6bd4\u8f03\u306e-3-\u3064\u306e\u65b9\u5f0fsection-6",level:4},{value:"6.2.1 Simple String Comparison\uff08\u5358\u7d14\u6587\u5b57\u5217\u6bd4\u8f03\uff09",id:"621-simple-string-comparison\u5358\u7d14\u6587\u5b57\u5217\u6bd4\u8f03",level:5},{value:"6.2.2 Syntax-Based Normalization\uff08\u69cb\u6587\u30d9\u30fc\u30b9\u6b63\u898f\u5316\uff09",id:"622-syntax-based-normalization\u69cb\u6587\u30d9\u30fc\u30b9\u6b63\u898f\u5316",level:5},{value:"6.2.3 Scheme-Based Normalization\uff08\u30b9\u30ad\u30fc\u30e0\u30d9\u30fc\u30b9\u6b63\u898f\u5316\uff09",id:"623-scheme-based-normalization\u30b9\u30ad\u30fc\u30e0\u30d9\u30fc\u30b9\u6b63\u898f\u5316",level:5},{value:"3 \u65b9\u5f0f\u306e\u6bd4\u8f03",id:"3-\u65b9\u5f0f\u306e\u6bd4\u8f03",level:4},{value:"\u306a\u305c Simple String Comparison \u304c\u63a8\u5968\u3055\u308c\u308b\u304b\uff1f",id:"\u306a\u305c-simple-string-comparison-\u304c\u63a8\u5968\u3055\u308c\u308b\u304b-1",level:4},{value:"RFC 6749\uff08OAuth 2.0 Core, 2012\u5e74\uff09",id:"rfc-6749oauth-20-core-2012\u5e74",level:3},{value:"\u767b\u9332\u8981\u4ef6",id:"\u767b\u9332\u8981\u4ef6",level:4},{value:"\u691c\u8a3c\u65b9\u6cd5",id:"\u691c\u8a3c\u65b9\u6cd5",level:4},{value:"\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf",id:"\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf",level:4},{value:"RFC 6749 \u306e\u554f\u984c\u70b9",id:"rfc-6749-\u306e\u554f\u984c\u70b9",level:4},{value:"OpenID Connect Core 1.0\uff082014\u5e74\uff09",id:"openid-connect-core-102014\u5e74",level:3},{value:"\u691c\u8a3c\u65b9\u6cd5",id:"\u691c\u8a3c\u65b9\u6cd5-1",level:4},{value:"\u5b8c\u5168\u4e00\u81f4\uff08Exact Match\uff09",id:"\u5b8c\u5168\u4e00\u81f4exact-match",level:4},{value:"\u4f8b\u5916: \u8907\u6570 URI \u306e\u767b\u9332",id:"\u4f8b\u5916-\u8907\u6570-uri-\u306e\u767b\u9332",level:4},{value:"RFC 8252\uff08OAuth 2.0 for Native Apps, 2017\u5e74\uff09",id:"rfc-8252oauth-20-for-native-apps-2017\u5e74",level:3},{value:"3\u3064\u306e redirect_uri \u30d1\u30bf\u30fc\u30f3",id:"3\u3064\u306e-redirect_uri-\u30d1\u30bf\u30fc\u30f3",level:4},{value:"Loopback \u306e\u7279\u6b8a\u30eb\u30fc\u30eb",id:"loopback-\u306e\u7279\u6b8a\u30eb\u30fc\u30eb",level:4},{value:"Private-Use URI Scheme \u306e\u63a8\u5968\u4e8b\u9805",id:"private-use-uri-scheme-\u306e\u63a8\u5968\u4e8b\u9805",level:4},{value:"RFC 9700\uff08OAuth 2.0 Security BCP, 2024\u5e74\uff09",id:"rfc-9700oauth-20-security-bcp-2024\u5e74",level:3},{value:"\u5b8c\u5168\u4e00\u81f4\u306e\u5f37\u5236",id:"\u5b8c\u5168\u4e00\u81f4\u306e\u5f37\u5236",level:4},{value:"\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u306e\u7981\u6b62",id:"\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u306e\u7981\u6b62",level:4},{value:"\u306a\u305c\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u304c\u5371\u967a\u304b\uff1f",id:"\u306a\u305c\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u304c\u5371\u967a\u304b",level:4},{value:"localhost \u306e\u7981\u6b62",id:"localhost-\u306e\u7981\u6b62",level:4},{value:"FAPI 1.0 Baseline / Advanced\uff082021\u5e74\uff09",id:"fapi-10-baseline--advanced2021\u5e74",level:3},{value:"Baseline Profile",id:"baseline-profile",level:4},{value:"Advanced Profile",id:"advanced-profile",level:4},{value:"FAPI \u3067\u306e\u8ffd\u52a0\u5236\u7d04",id:"fapi-\u3067\u306e\u8ffd\u52a0\u5236\u7d04",level:4},{value:"FAPI 2.0 Security Profile\uff082023\u5e74\uff09",id:"fapi-20-security-profile2023\u5e74",level:3},{value:"\u7b2c3\u90e8: \u6bd4\u8f03\u8868",id:"\u7b2c3\u90e8-\u6bd4\u8f03\u8868",level:2},{value:"\u691c\u8a3c\u65b9\u6cd5\u306e\u6bd4\u8f03",id:"\u691c\u8a3c\u65b9\u6cd5\u306e\u6bd4\u8f03",level:3},{value:"\u8a31\u5bb9\u3055\u308c\u308b URI \u306e\u4f8b",id:"\u8a31\u5bb9\u3055\u308c\u308b-uri-\u306e\u4f8b",level:3},{value:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u5229\u4fbf\u6027\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5",id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u5229\u4fbf\u6027\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5",level:3},{value:"\u7b2c4\u90e8: \u5b9f\u88c5\u4e0a\u306e\u63a8\u5968\u4e8b\u9805",id:"\u7b2c4\u90e8-\u5b9f\u88c5\u4e0a\u306e\u63a8\u5968\u4e8b\u9805",level:2},{value:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\u5b9f\u88c5\u8005\u5411\u3051",id:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\u5b9f\u88c5\u8005\u5411\u3051",level:3},{value:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u958b\u767a\u8005\u5411\u3051",id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u958b\u767a\u8005\u5411\u3051",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u53c2\u8003\u30ea\u30f3\u30af",id:"\u53c2\u8003\u30ea\u30f3\u30af",level:2}];function x(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"redirect_uri-\u691c\u8a3c\u306e\u4ed5\u69d8\u6bd4\u8f03",children:"redirect_uri \u691c\u8a3c\u306e\u4ed5\u69d8\u6bd4\u8f03"})}),"\n",(0,d.jsx)(n.p,{children:"redirect_uri\uff08\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 URI\uff09\u306e\u691c\u8a3c\u65b9\u6cd5\u306f\u3001OAuth 2.0 \u306e\u6b74\u53f2\u3068\u3068\u3082\u306b\u53b3\u683c\u5316\u3055\u308c\u3066\u304d\u307e\u3057\u305f\u3002\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306f\u3001\u5404\u4ed5\u69d8\u306b\u304a\u3051\u308b\u691c\u8a3c\u30eb\u30fc\u30eb\u306e\u9055\u3044\u3092\u6bd4\u8f03\u3057\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u5229\u4fbf\u6027\u306e\u30d0\u30e9\u30f3\u30b9\u3092\u8003\u5bdf\u3057\u307e\u3059\u3002"}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u7b2c1\u90e8-\u6982\u8981",children:"\u7b2c1\u90e8: \u6982\u8981"}),"\n",(0,d.jsx)(n.h3,{id:"\u306a\u305c-redirect_uri-\u306e\u691c\u8a3c\u304c\u91cd\u8981\u306a\u306e\u304b",children:"\u306a\u305c redirect_uri \u306e\u691c\u8a3c\u304c\u91cd\u8981\u306a\u306e\u304b\uff1f"}),"\n",(0,d.jsx)(n.p,{children:"redirect_uri \u306f\u8a8d\u53ef\u30b3\u30fc\u30c9\u3084\u30c8\u30fc\u30af\u30f3\u306e\u9001\u4fe1\u5148\u3067\u3059\u3002\u691c\u8a3c\u304c\u7518\u3044\u3068\u3001\u653b\u6483\u8005\u304c\u8a8d\u53ef\u30b3\u30fc\u30c9\u3092\u81ea\u5206\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u3089\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u6b63\u5e38\u306a\u30d5\u30ed\u30fc:\n  \u30e6\u30fc\u30b6\u30fc \u2192 \u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc \u2192 https://legitimate-app.com/callback?code=xxx\n\n\u653b\u6483\uff08\u30aa\u30fc\u30d7\u30f3\u30ea\u30c0\u30a4\u30ec\u30af\u30bf\uff09:\n  \u30e6\u30fc\u30b6\u30fc \u2192 \u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc \u2192 https://attacker.com/steal?code=xxx\n                            \u2191 \u8a8d\u53ef\u30b3\u30fc\u30c9\u304c\u653b\u6483\u8005\u306b\u6e21\u308b\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u691c\u8a3c\u306e\u53b3\u683c\u3055\u30b9\u30da\u30af\u30c8\u30e9\u30e0",children:"\u691c\u8a3c\u306e\u53b3\u683c\u3055\u30b9\u30da\u30af\u30c8\u30e9\u30e0"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u7de9\u3044                                                              \u53b3\u683c\n \u2502                                                                  \u2502\n \u25bc                                                                  \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u767b\u9332\u306a\u3057  \u2502  \u2502 \u90e8\u5206\u4e00\u81f4  \u2502  \u2502 \u5b8c\u5168\u4e00\u81f4  \u2502  \u2502 \u5b8c\u5168\u4e00\u81f4  \u2502  \u2502 \u5b8c\u5168\u4e00\u81f4  \u2502\n\u2502 (\u975e\u63a8\u5968)  \u2502  \u2502 (RFC6749) \u2502  \u2502  (OIDC)  \u2502  \u2502 + \u5236\u7d04   \u2502  \u2502 + \u5236\u7d04   \u2502\n\u2502          \u2502  \u2502          \u2502  \u2502          \u2502  \u2502 (BCP)    \u2502  \u2502 (FAPI)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u5229\u4fbf\u6027: \u9ad8 \u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba \u4f4e\n\u5b89\u5168\u6027: \u4f4e \u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba \u9ad8\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"rfc-3986-uri-\u6bd4\u8f03\u306e\u57fa\u790e",children:"RFC 3986: URI \u6bd4\u8f03\u306e\u57fa\u790e"}),"\n",(0,d.jsx)(n.p,{children:"redirect_uri \u306e\u691c\u8a3c\u3092\u7406\u89e3\u3059\u308b\u306b\u306f\u3001\u307e\u305a URI \u306e\u4ed5\u69d8\u3067\u3042\u308b RFC 3986 \u3092\u7406\u89e3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"uri-\u306e\u69cb\u9020",children:"URI \u306e\u69cb\u9020"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"  https://user:pass@example.com:8080/path/to/resource?query=value#fragment\n  \u2514\u2500\u252c\u2500\u2518   \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u252c\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2518\n scheme   userinfo     host   port      path           query      fragment\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 authority\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u8981\u7d20"}),(0,d.jsx)(n.th,{children:"\u8aac\u660e"}),(0,d.jsx)(n.th,{children:"\u5927\u6587\u5b57\u5c0f\u6587\u5b57"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"scheme"}),(0,d.jsx)(n.td,{children:"\u30d7\u30ed\u30c8\u30b3\u30eb\uff08http, https\uff09"}),(0,d.jsx)(n.td,{children:"\u533a\u5225\u306a\u3057"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"userinfo"}),(0,d.jsx)(n.td,{children:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\uff08\u975e\u63a8\u5968\uff09"}),(0,d.jsx)(n.td,{children:"\u533a\u5225\u3042\u308a"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"host"}),(0,d.jsx)(n.td,{children:"\u30db\u30b9\u30c8\u540d\u307e\u305f\u306f IP"}),(0,d.jsx)(n.td,{children:"\u533a\u5225\u306a\u3057"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"port"}),(0,d.jsx)(n.td,{children:"\u30dd\u30fc\u30c8\u756a\u53f7"}),(0,d.jsx)(n.td,{children:"-"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"path"}),(0,d.jsx)(n.td,{children:"\u30ea\u30bd\u30fc\u30b9\u30d1\u30b9"}),(0,d.jsx)(n.td,{children:"\u533a\u5225\u3042\u308a"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"query"}),(0,d.jsx)(n.td,{children:"\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,d.jsx)(n.td,{children:"\u533a\u5225\u3042\u308a"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"fragment"}),(0,d.jsx)(n.td,{children:"\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u8b58\u5225\u5b50"}),(0,d.jsx)(n.td,{children:"\u533a\u5225\u3042\u308a"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"uri-\u306e\u6bd4\u8f03\u65b9\u6cd5rfc-3986-section-6",children:"URI \u306e\u6bd4\u8f03\u65b9\u6cd5\uff08RFC 3986 Section 6\uff09"}),"\n",(0,d.jsx)(n.p,{children:"RFC 3986 \u3067\u306f URI \u3092\u6bd4\u8f03\u3059\u308b 4 \u3064\u306e\u65b9\u6cd5\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"1-simple-string-comparison\u5358\u7d14\u6587\u5b57\u5217\u6bd4\u8f03",children:"1. Simple String Comparison\uff08\u5358\u7d14\u6587\u5b57\u5217\u6bd4\u8f03\uff09"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["Two URIs are equivalent if they are ",(0,d.jsx)(n.strong,{children:"identical character-by-character"}),"."]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u6700\u3082\u53b3\u683c\u306a\u65b9\u6cd5"}),"\u3002\u6587\u5b57\u5358\u4f4d\u3067\u5b8c\u5168\u306b\u4e00\u81f4\u3059\u308b\u304b\u3092\u78ba\u8a8d\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u6bd4\u8f03\u5bfe\u8c61: https://example.com/callback\n\n\u2705 \u4e00\u81f4: https://example.com/callback\n\u274c \u4e0d\u4e00\u81f4: https://EXAMPLE.COM/callback     \u2190 \u5927\u6587\u5b57\n\u274c \u4e0d\u4e00\u81f4: https://example.com:443/callback \u2190 \u30c7\u30d5\u30a9\u30eb\u30c8\u30dd\u30fc\u30c8\u660e\u793a\n\u274c \u4e0d\u4e00\u81f4: https://example.com/callback/    \u2190 \u672b\u5c3e\u30b9\u30e9\u30c3\u30b7\u30e5\n\u274c \u4e0d\u4e00\u81f4: https://example.com/Callback     \u2190 \u30d1\u30b9\u306e\u5927\u6587\u5b57\u5c0f\u6587\u5b57\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"OAuth 2.0 Security BCP\uff08RFC 9700\uff09\u306f\u3053\u306e\u65b9\u6cd5\u3092\u8981\u6c42\u3002"})}),"\n",(0,d.jsx)(n.h4,{id:"2-syntax-based-normalization\u69cb\u6587\u30d9\u30fc\u30b9\u6b63\u898f\u5316",children:"2. Syntax-Based Normalization\uff08\u69cb\u6587\u30d9\u30fc\u30b9\u6b63\u898f\u5316\uff09"}),"\n",(0,d.jsx)(n.p,{children:"\u6b63\u898f\u5316\u3057\u3066\u304b\u3089\u6bd4\u8f03\u3002\u4ee5\u4e0b\u306e\u5909\u63db\u3092\u884c\u3046\uff1a"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u6b63\u898f\u5316"}),(0,d.jsx)(n.th,{children:"\u4f8b"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u30b9\u30ad\u30fc\u30e0\u3092\u5c0f\u6587\u5b57\u5316"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"HTTPS:"})," \u2192 ",(0,d.jsx)(n.code,{children:"https:"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u30db\u30b9\u30c8\u3092\u5c0f\u6587\u5b57\u5316"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Example.COM"})," \u2192 ",(0,d.jsx)(n.code,{children:"example.com"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u30d1\u30fc\u30bb\u30f3\u30c8\u30a8\u30f3\u30b3\u30fc\u30c9\u3092\u5927\u6587\u5b57\u5316"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"%2f"})," \u2192 ",(0,d.jsx)(n.code,{children:"%2F"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u4e0d\u8981\u306a\u30d1\u30fc\u30bb\u30f3\u30c8\u30a8\u30f3\u30b3\u30fc\u30c9\u3092\u89e3\u9664"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"%41"})," \u2192 ",(0,d.jsx)(n.code,{children:"A"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:["\u7a7a\u30d1\u30b9\u3092 ",(0,d.jsx)(n.code,{children:"/"})," \u306b"]}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"https://example.com"})," \u2192 ",(0,d.jsx)(n.code,{children:"https://example.com/"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u30dd\u30fc\u30c8\u3092\u524a\u9664"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:":443"})," \u2192 (\u524a\u9664)"]})]})]})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u6b63\u898f\u5316\u524d: HTTPS://Example.COM:443/Path\n\u6b63\u898f\u5316\u5f8c: https://example.com/Path\n\n\u6b63\u898f\u5316\u524d: https://example.com\n\u6b63\u898f\u5316\u5f8c: https://example.com/\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u3053\u306e\u65b9\u6cd5\u3092\u4f7f\u3046\u3068\u3001\u4ee5\u4e0b\u304c\u540c\u4e00\u8996\u3055\u308c\u308b\uff1a"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"https://example.com/callback\nhttps://EXAMPLE.COM/callback      \u2190 \u30db\u30b9\u30c8\u306f\u6b63\u898f\u5316\u3067\u540c\u4e00\nhttps://example.com:443/callback  \u2190 \u30c7\u30d5\u30a9\u30eb\u30c8\u30dd\u30fc\u30c8\u306f\u6b63\u898f\u5316\u3067\u524a\u9664\n"})}),"\n",(0,d.jsx)(n.h4,{id:"3-scheme-based-normalization\u30b9\u30ad\u30fc\u30e0\u30d9\u30fc\u30b9\u6b63\u898f\u5316",children:"3. Scheme-Based Normalization\uff08\u30b9\u30ad\u30fc\u30e0\u30d9\u30fc\u30b9\u6b63\u898f\u5316\uff09"}),"\n",(0,d.jsx)(n.p,{children:"\u30b9\u30ad\u30fc\u30e0\u56fa\u6709\u306e\u30eb\u30fc\u30eb\u3092\u9069\u7528\u3002\u4f8b\u3048\u3070 HTTP \u3067\u306f\uff1a"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u7a7a\u30d1\u30b9\u3092 ",(0,d.jsx)(n.code,{children:"/"})," \u306b\u5909\u63db"]}),"\n",(0,d.jsx)(n.li,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u30dd\u30fc\u30c8\uff0880/443\uff09\u3092\u524a\u9664"}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"4-protocol-based-normalization\u30d7\u30ed\u30c8\u30b3\u30eb\u30d9\u30fc\u30b9\u6b63\u898f\u5316",children:"4. Protocol-Based Normalization\uff08\u30d7\u30ed\u30c8\u30b3\u30eb\u30d9\u30fc\u30b9\u6b63\u898f\u5316\uff09"}),"\n",(0,d.jsx)(n.p,{children:"\u5b9f\u969b\u306b\u30ea\u30bd\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u7b49\u4fa1\u6027\u3092\u5224\u65ad\u3002\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u5148\u304c\u540c\u3058\u306a\u3089\u540c\u4e00\u8996\u3059\u308b\u306a\u3069\u3002"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u7406\u7531\u304b\u3089\u3001OAuth \u3067\u306f\u4f7f\u7528\u3057\u306a\u3044\u3002"})}),"\n",(0,d.jsx)(n.h3,{id:"\u306a\u305c-simple-string-comparison-\u304c\u63a8\u5968\u3055\u308c\u308b\u304b",children:"\u306a\u305c Simple String Comparison \u304c\u63a8\u5968\u3055\u308c\u308b\u304b\uff1f"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \u6b63\u898f\u5316\u3092\u884c\u3046\u3068...                                                       \u2502\n\u2502                                                                         \u2502\n\u2502  \u767b\u9332:   https://app.example.com/callback                               \u2502\n\u2502                                                                         \u2502\n\u2502  \u30ea\u30af\u30a8\u30b9\u30c8: HTTPS://APP.EXAMPLE.COM/callback                           \u2502\n\u2502                      \u2193 \u6b63\u898f\u5316                                           \u2502\n\u2502              https://app.example.com/callback                           \u2502\n\u2502                      \u2193                                                  \u2502\n\u2502              \u2705 \u4e00\u81f4\uff08\u6b63\u898f\u5316\u5f8c\uff09                                         \u2502\n\u2502                                                                         \u2502\n\u2502  \u3053\u308c\u306f\u4e00\u898b\u4fbf\u5229\u3060\u304c...                                                   \u2502\n\u2502                                                                         \u2502\n\u2502  \u653b\u6483\u8005\u304c\u7d30\u5de5\u3057\u305f URI:                                                   \u2502\n\u2502    https://app.example.com%2F..%2F..%2Fattacker.com/callback            \u2502\n\u2502                      \u2193 \u6b63\u898f\u5316\uff08\u30d1\u30fc\u30bb\u30f3\u30c8\u30c7\u30b3\u30fc\u30c9\uff09                       \u2502\n\u2502    https://app.example.com/../../attacker.com/callback                  \u2502\n\u2502                      \u2193 \u30d1\u30b9\u6b63\u898f\u5316                                        \u2502\n\u2502    https://attacker.com/callback   \u2190 \u653b\u6483\u8005\u306e\u30b5\u30fc\u30d0\u30fc\u306b\uff01                \u2502\n\u2502                                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u6b63\u898f\u5316\u306f",(0,d.jsx)(n.strong,{children:"\u4e88\u671f\u3057\u306a\u3044\u5909\u63db"}),"\u3092\u5f15\u304d\u8d77\u3053\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ea\u30b9\u30af\u306b\u306a\u308b\u3002"]}),"\n",(0,d.jsx)(n.h3,{id:"\u5404\u4ed5\u69d8\u3067\u306e-uri-\u6bd4\u8f03\u65b9\u6cd5",children:"\u5404\u4ed5\u69d8\u3067\u306e URI \u6bd4\u8f03\u65b9\u6cd5"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u4ed5\u69d8"}),(0,d.jsx)(n.th,{children:"\u6bd4\u8f03\u65b9\u6cd5"}),(0,d.jsx)(n.th,{children:"\u6839\u62e0"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"RFC 6749"}),(0,d.jsx)(n.td,{children:"\u660e\u8a18\u306a\u3057"}),(0,d.jsx)(n.td,{children:"\u5b9f\u88c5\u4f9d\u5b58"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"OIDC Core"}),(0,d.jsx)(n.td,{children:"\u660e\u8a18\u306a\u3057\uff08\u300cidentical\u300d\u3068\u3060\u3051\u8a18\u8f09\uff09"}),(0,d.jsx)(n.td,{children:"\u89e3\u91c8\u306e\u4f59\u5730\u3042\u308a"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"RFC 8252"}),(0,d.jsx)(n.td,{children:"Simple String Comparison \u3092\u63a8\u5968"}),(0,d.jsx)(n.td,{children:"Section 8.4"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"RFC 9700"}),(0,d.jsxs)(n.td,{children:["Simple String Comparison \u3092",(0,d.jsx)(n.strong,{children:"\u5fc5\u9808"})]}),(0,d.jsx)(n.td,{children:"Section 4.1.3"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"FAPI 1.0/2.0"}),(0,d.jsx)(n.td,{children:"exact string matching"}),(0,d.jsx)(n.td,{children:"\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067\u898f\u5b9a"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\u5b9f\u88c5\u4e0a\u306e\u6ce8\u610f\u70b9",children:"\u5b9f\u88c5\u4e0a\u306e\u6ce8\u610f\u70b9"}),"\n",(0,d.jsx)(n.h4,{id:"\u30d1\u30fc\u30bb\u30f3\u30c8\u30a8\u30f3\u30b3\u30fc\u30c9\u306e\u6271\u3044",children:"\u30d1\u30fc\u30bb\u30f3\u30c8\u30a8\u30f3\u30b3\u30fc\u30c9\u306e\u6271\u3044"}),"\n",(0,d.jsx)(n.p,{children:"\u540c\u3058\u6587\u5b57\u5217\u3067\u3082\u30a8\u30f3\u30b3\u30fc\u30c9\u65b9\u6cd5\u304c\u7570\u306a\u308b\u3068\u4e0d\u4e00\u81f4\u306b\u306a\u308b\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u767b\u9332:     https://example.com/callback?state=a b\n\u30ea\u30af\u30a8\u30b9\u30c8: https://example.com/callback?state=a%20b\n\nSimple String Comparison \u3067\u306f \u274c \u4e0d\u4e00\u81f4\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5bfe\u7b56"}),": \u767b\u9332\u6642\u306b\u30d1\u30fc\u30bb\u30f3\u30c8\u30a8\u30f3\u30b3\u30fc\u30c9\u6e08\u307f\u306e\u5f62\u5f0f\u3067\u4fdd\u5b58\u3059\u308b\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"\u672b\u5c3e\u30b9\u30e9\u30c3\u30b7\u30e5",children:"\u672b\u5c3e\u30b9\u30e9\u30c3\u30b7\u30e5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u767b\u9332:     https://example.com/callback\n\u30ea\u30af\u30a8\u30b9\u30c8: https://example.com/callback/\n\nSimple String Comparison \u3067\u306f \u274c \u4e0d\u4e00\u81f4\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5bfe\u7b56"}),": \u767b\u9332\u6642\u306b\u672b\u5c3e\u30b9\u30e9\u30c3\u30b7\u30e5\u306e\u6709\u7121\u3092\u7d71\u4e00\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3092\u6c7a\u3081\u308b\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"ipv6-\u30a2\u30c9\u30ec\u30b9",children:"IPv6 \u30a2\u30c9\u30ec\u30b9"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u767b\u9332:     http://[::1]/callback\n\u30ea\u30af\u30a8\u30b9\u30c8: http://[0:0:0:0:0:0:0:1]/callback\n\nSimple String Comparison \u3067\u306f \u274c \u4e0d\u4e00\u81f4\uff08\u540c\u3058\u30a2\u30c9\u30ec\u30b9\u3067\u3082\uff09\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5bfe\u7b56"}),": IPv6 \u306f\u6b63\u898f\u5316\u5f62\u5f0f\uff08",(0,d.jsx)(n.code,{children:"[::1]"}),"\uff09\u3067\u767b\u9332\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u7b2c2\u90e8-\u4ed5\u69d8\u5225\u306e\u691c\u8a3c\u30eb\u30fc\u30eb",children:"\u7b2c2\u90e8: \u4ed5\u69d8\u5225\u306e\u691c\u8a3c\u30eb\u30fc\u30eb"}),"\n",(0,d.jsx)(n.h3,{id:"rfc-3986uri-\u4ed5\u69d8-2005\u5e74",children:"RFC 3986\uff08URI \u4ed5\u69d8, 2005\u5e74\uff09"}),"\n",(0,d.jsxs)(n.p,{children:["redirect_uri \u691c\u8a3c\u306e",(0,d.jsx)(n.strong,{children:"\u57fa\u790e\u3068\u306a\u308b URI \u69cb\u9020\u3068\u6bd4\u8f03\u65b9\u6cd5"}),"\u3092\u5b9a\u7fa9\u3002OAuth \u95a2\u9023\u4ed5\u69d8\u306f\u3059\u3079\u3066\u3053\u306e RFC \u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"uri-\u306e\u69cb\u9020-1",children:"URI \u306e\u69cb\u9020"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"  https://user:pass@www.example.com:8080/path/to/resource?query=value#fragment\n  \u2514\u2500\u252c\u2500\u2518   \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u252c\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2518\n scheme  userinfo       host      port      path           query     fragment\n\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 authority\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u69cb\u6210\u8981\u7d20"}),(0,d.jsx)(n.th,{children:"\u8aac\u660e"}),(0,d.jsx)(n.th,{children:"\u5927\u6587\u5b57\u5c0f\u6587\u5b57"}),(0,d.jsx)(n.th,{children:"redirect_uri \u3067\u306e\u6271\u3044"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"scheme"}),(0,d.jsx)(n.td,{children:"\u30d7\u30ed\u30c8\u30b3\u30eb"}),(0,d.jsx)(n.td,{children:"\u533a\u5225\u3057\u306a\u3044"}),(0,d.jsx)(n.td,{children:"\u5fc5\u9808\uff08\u672c\u756a\u306f https\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"userinfo"}),(0,d.jsx)(n.td,{children:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831"}),(0,d.jsx)(n.td,{children:"\u533a\u5225\u3059\u308b"}),(0,d.jsx)(n.td,{children:"\u901a\u5e38\u4f7f\u7528\u3057\u306a\u3044"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"host"}),(0,d.jsx)(n.td,{children:"\u30db\u30b9\u30c8\u540d"}),(0,d.jsx)(n.td,{children:"\u533a\u5225\u3057\u306a\u3044"}),(0,d.jsx)(n.td,{children:"\u5fc5\u9808"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"port"}),(0,d.jsx)(n.td,{children:"\u30dd\u30fc\u30c8\u756a\u53f7"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"\u7701\u7565\u6642\u306f\u30c7\u30d5\u30a9\u30eb\u30c8"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"path"}),(0,d.jsx)(n.td,{children:"\u30ea\u30bd\u30fc\u30b9\u30d1\u30b9"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u533a\u5225\u3059\u308b"})}),(0,d.jsx)(n.td,{children:"\u5b8c\u5168\u4e00\u81f4\u304c\u6c42\u3081\u3089\u308c\u308b"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"query"}),(0,d.jsx)(n.td,{children:"\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u533a\u5225\u3059\u308b"})}),(0,d.jsx)(n.td,{children:"\u4ed5\u69d8\u306b\u3088\u308a\u6271\u3044\u304c\u7570\u306a\u308b"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"fragment"}),(0,d.jsx)(n.td,{children:"\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u533a\u5225\u3059\u308b"})}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.strong,{children:"\u7981\u6b62"}),"\uff08OAuth/OIDC \u5171\u901a\uff09"]})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"uri-\u6bd4\u8f03\u306e-3-\u3064\u306e\u65b9\u5f0fsection-6",children:"URI \u6bd4\u8f03\u306e 3 \u3064\u306e\u65b9\u5f0f\uff08Section 6\uff09"}),"\n",(0,d.jsx)(n.h5,{id:"621-simple-string-comparison\u5358\u7d14\u6587\u5b57\u5217\u6bd4\u8f03",children:"6.2.1 Simple String Comparison\uff08\u5358\u7d14\u6587\u5b57\u5217\u6bd4\u8f03\uff09"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u30d0\u30a4\u30c8\u5358\u4f4d\u3067\u306e\u5b8c\u5168\u4e00\u81f4"}),"\u3002\u6700\u3082\u53b3\u683c\u3067\u5b89\u5168\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u6bd4\u8f03\u5bfe\u8c61: https://example.com/callback\n\n\u2705 \u4e00\u81f4:   https://example.com/callback\n\u274c \u4e0d\u4e00\u81f4: https://EXAMPLE.COM/callback     \u2190 \u5927\u6587\u5b57\n\u274c \u4e0d\u4e00\u81f4: https://example.com:443/callback \u2190 \u30dd\u30fc\u30c8\u660e\u793a\n\u274c \u4e0d\u4e00\u81f4: https://example.com/callback/    \u2190 \u672b\u5c3e\u30b9\u30e9\u30c3\u30b7\u30e5\n\u274c \u4e0d\u4e00\u81f4: https://example.com/Callback     \u2190 \u30d1\u30b9\u306e\u5927\u6587\u5b57\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"RFC 9700\uff08Security BCP\uff09\u306f\u3053\u306e\u65b9\u5f0f\u3092\u8981\u6c42\u3002"})}),"\n",(0,d.jsx)(n.h5,{id:"622-syntax-based-normalization\u69cb\u6587\u30d9\u30fc\u30b9\u6b63\u898f\u5316",children:"6.2.2 Syntax-Based Normalization\uff08\u69cb\u6587\u30d9\u30fc\u30b9\u6b63\u898f\u5316\uff09"}),"\n",(0,d.jsx)(n.p,{children:"URI \u69cb\u6587\u30eb\u30fc\u30eb\u306b\u57fa\u3065\u3044\u3066\u6b63\u898f\u5316\u3057\u3066\u304b\u3089\u6bd4\u8f03\u3002"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u6b63\u898f\u5316\u30eb\u30fc\u30eb"}),(0,d.jsx)(n.th,{children:"\u5909\u63db\u4f8b"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u30b9\u30ad\u30fc\u30e0\u5c0f\u6587\u5b57\u5316"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"HTTPS:"})," \u2192 ",(0,d.jsx)(n.code,{children:"https:"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u30db\u30b9\u30c8\u5c0f\u6587\u5b57\u5316"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"EXAMPLE.COM"})," \u2192 ",(0,d.jsx)(n.code,{children:"example.com"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u30d1\u30fc\u30bb\u30f3\u30c8\u30a8\u30f3\u30b3\u30fc\u30c9\u5927\u6587\u5b57\u5316"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"%2f"})," \u2192 ",(0,d.jsx)(n.code,{children:"%2F"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u4e0d\u8981\u306a\u30a8\u30f3\u30b3\u30fc\u30c9\u89e3\u9664"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"%41"})," \u2192 ",(0,d.jsx)(n.code,{children:"A"}),"\uff08\u975e\u4e88\u7d04\u6587\u5b57\uff09"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u7a7a\u30d1\u30b9\u6b63\u898f\u5316"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"https://example.com"})," \u2192 ",(0,d.jsx)(n.code,{children:"https://example.com/"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u30dd\u30fc\u30c8\u524a\u9664"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:":443"})," \u2192 (\u524a\u9664)"]})]})]})]}),"\n",(0,d.jsx)(n.h5,{id:"623-scheme-based-normalization\u30b9\u30ad\u30fc\u30e0\u30d9\u30fc\u30b9\u6b63\u898f\u5316",children:"6.2.3 Scheme-Based Normalization\uff08\u30b9\u30ad\u30fc\u30e0\u30d9\u30fc\u30b9\u6b63\u898f\u5316\uff09"}),"\n",(0,d.jsxs)(n.p,{children:["\u30b9\u30ad\u30fc\u30e0\u56fa\u6709\u306e\u30eb\u30fc\u30eb\u3092\u9069\u7528\u3002HTTP \u3067\u306f\u672b\u5c3e\u30b9\u30e9\u30c3\u30b7\u30e5\u3084 ",(0,d.jsx)(n.code,{children:"/../"})," \u306e\u89e3\u6c7a\u306a\u3069\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"3-\u65b9\u5f0f\u306e\u6bd4\u8f03",children:"3 \u65b9\u5f0f\u306e\u6bd4\u8f03"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"URI \u30da\u30a2"}),(0,d.jsx)(n.th,{children:"Simple String"}),(0,d.jsx)(n.th,{children:"Syntax-Based"}),(0,d.jsx)(n.th,{children:"Scheme-Based"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"http://example.com"})," vs ",(0,d.jsx)(n.code,{children:"HTTP://example.com"})]}),(0,d.jsx)(n.td,{children:"\u274c"}),(0,d.jsx)(n.td,{children:"\u2705"}),(0,d.jsx)(n.td,{children:"\u2705"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"http://example.com"})," vs ",(0,d.jsx)(n.code,{children:"http://example.com/"})]}),(0,d.jsx)(n.td,{children:"\u274c"}),(0,d.jsx)(n.td,{children:"\u274c"}),(0,d.jsx)(n.td,{children:"\u2705"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"http://example.com:80"})," vs ",(0,d.jsx)(n.code,{children:"http://example.com"})]}),(0,d.jsx)(n.td,{children:"\u274c"}),(0,d.jsx)(n.td,{children:"\u2705"}),(0,d.jsx)(n.td,{children:"\u2705"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"http://example.com/~a"})," vs ",(0,d.jsx)(n.code,{children:"http://example.com/%7Ea"})]}),(0,d.jsx)(n.td,{children:"\u274c"}),(0,d.jsx)(n.td,{children:"\u2705"}),(0,d.jsx)(n.td,{children:"\u2705"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"\u306a\u305c-simple-string-comparison-\u304c\u63a8\u5968\u3055\u308c\u308b\u304b-1",children:"\u306a\u305c Simple String Comparison \u304c\u63a8\u5968\u3055\u308c\u308b\u304b\uff1f"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u6b63\u898f\u5316\u3092\u4f7f\u3046\u3068\u653b\u6483\u306e\u4f59\u5730\u304c\u751f\u307e\u308c\u308b:\n\n\u767b\u9332: https://app.example.com/callback\n\n\u653b\u6483\u8005\u304c\u7d30\u5de5\u3057\u305f URI:\n  https://app.example.com%2F..%2F..%2Fattacker.com/callback\n              \u2193 \u30d1\u30fc\u30bb\u30f3\u30c8\u30c7\u30b3\u30fc\u30c9\n  https://app.example.com/../../attacker.com/callback\n              \u2193 \u30d1\u30b9\u6b63\u898f\u5316\n  https://attacker.com/callback   \u2190 \u653b\u6483\u8005\u306e\u30b5\u30fc\u30d0\u30fc\u306b\uff01\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u6b63\u898f\u5316\u30ed\u30b8\u30c3\u30af\u306e\u5b9f\u88c5\u5dee\u7570\u3084\u30d0\u30b0\u304c\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30db\u30fc\u30eb\u306b\u306a\u308b\u3002"}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"rfc-6749oauth-20-core-2012\u5e74",children:"RFC 6749\uff08OAuth 2.0 Core, 2012\u5e74\uff09"}),"\n",(0,d.jsxs)(n.p,{children:["OAuth 2.0 \u306e\u57fa\u672c\u4ed5\u69d8\u3002",(0,d.jsx)(n.strong,{children:"\u66d6\u6627\u306a\u8868\u73fe\u304c\u591a\u304f\u3001\u5b9f\u88c5\u8005\u306e\u89e3\u91c8\u306b\u59d4\u306d\u3089\u308c\u308b"}),"\u90e8\u5206\u304c\u591a\u3044\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"\u767b\u9332\u8981\u4ef6",children:"\u767b\u9332\u8981\u4ef6"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"The authorization server MUST require the following clients to register their redirection endpoint:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Public clients."}),"\n",(0,d.jsx)(n.li,{children:"Confidential clients utilizing the implicit grant type."}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30bf\u30a4\u30d7"}),(0,d.jsx)(n.th,{children:"\u767b\u9332"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Public \u30af\u30e9\u30a4\u30a2\u30f3\u30c8"}),(0,d.jsx)(n.td,{children:"\u5fc5\u9808"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Confidential + Implicit"}),(0,d.jsx)(n.td,{children:"\u5fc5\u9808"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Confidential + Authorization Code"}),(0,d.jsx)(n.td,{children:"\u63a8\u5968\uff08SHOULD\uff09"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"\u691c\u8a3c\u65b9\u6cd5",children:"\u691c\u8a3c\u65b9\u6cd5"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:'If multiple redirection URIs have been registered, if only part of the redirection URI has been registered, or if no redirection URI has been registered, the client MUST include a redirection URI with the authorization request using the "redirect_uri" request parameter.'}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u89e3\u91c8\u306e\u4f59\u5730\u304c\u3042\u308b\u8868\u73fe"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u300cpart of the redirection URI\u300d\u304c\u4f55\u3092\u610f\u5473\u3059\u308b\u304b\u4e0d\u660e\u78ba"}),"\n",(0,d.jsx)(n.li,{children:"\u524d\u65b9\u4e00\u81f4\uff1f\u30c9\u30e1\u30a4\u30f3\u306e\u307f\uff1f\u30d1\u30b9\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\uff1f"}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf",children:"\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:'The redirection endpoint URI MAY include an "application/x-www-form-urlencoded" formatted query component, which MUST be retained when adding additional response parameters.'}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf\u306e",(0,d.jsx)(n.strong,{children:"\u8ffd\u52a0\u306f\u8a31\u53ef"}),"\u3055\u308c\u3066\u3044\u308b\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u767b\u9332: https://app.example.com/callback?client=abc\n\u8a31\u53ef: https://app.example.com/callback?client=abc&code=xxx&state=yyy\n                                                  \u2191 \u8ffd\u52a0\u3055\u308c\u308b\n"})}),"\n",(0,d.jsx)(n.h4,{id:"rfc-6749-\u306e\u554f\u984c\u70b9",children:"RFC 6749 \u306e\u554f\u984c\u70b9"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u554f\u984c"}),(0,d.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u90e8\u5206\u4e00\u81f4\u306e\u8a31\u5bb9"}),(0,d.jsx)(n.td,{children:"\u30d1\u30b9\u4ee5\u4e0b\u3092\u81ea\u7531\u306b\u6307\u5b9a\u3067\u304d\u308b\u3068\u653b\u6483\u306b\u60aa\u7528\u3055\u308c\u308b\u53ef\u80fd\u6027"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u306e\u89e3\u91c8"}),(0,d.jsx)(n.td,{children:"\u4ed5\u69d8\u306b\u660e\u8a18\u306a\u3057\u3001\u5b9f\u88c5\u4f9d\u5b58"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u306e\u6271\u3044"}),(0,d.jsx)(n.td,{children:"\u767b\u9332\u6642\u306f\u7981\u6b62\u3060\u304c\u3001\u691c\u8a3c\u6642\u306e\u6271\u3044\u304c\u66d6\u6627"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"openid-connect-core-102014\u5e74",children:"OpenID Connect Core 1.0\uff082014\u5e74\uff09"}),"\n",(0,d.jsxs)(n.p,{children:["OAuth 2.0 \u3088\u308a",(0,d.jsx)(n.strong,{children:"\u660e\u78ba\u306b\u53b3\u683c\u5316"}),"\u3055\u308c\u305f\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"\u691c\u8a3c\u65b9\u6cd5-1",children:"\u691c\u8a3c\u65b9\u6cd5"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"The Redirection URI MUST NOT use the fragment component."}),"\n",(0,d.jsx)(n.p,{children:"The Authorization Server MUST require the use of TLS."}),"\n",(0,d.jsxs)(n.p,{children:["The Redirection URI ",(0,d.jsx)(n.strong,{children:"MUST be an absolute URI"})," as defined by [RFC3986] Section 4.3."]}),"\n",(0,d.jsxs)(n.p,{children:["The Redirection URI ",(0,d.jsx)(n.strong,{children:"MAY use an application/x-www-form-urlencoded formatted query component"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u305d\u3057\u3066\u91cd\u8981\u306a\u4e00\u6587\uff1a"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["The Authorization Server ",(0,d.jsx)(n.strong,{children:"MUST verify"})," that the value of the redirect_uri parameter is ",(0,d.jsx)(n.strong,{children:"identical"})," to the Redirection URI that was pre-registered."]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u5b8c\u5168\u4e00\u81f4exact-match",children:"\u5b8c\u5168\u4e00\u81f4\uff08Exact Match\uff09"}),"\n",(0,d.jsxs)(n.p,{children:["OIDC \u3067\u306f",(0,d.jsx)(n.strong,{children:"\u5b8c\u5168\u4e00\u81f4"}),"\u304c\u8981\u6c42\u3055\u308c\u308b\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u767b\u9332: https://app.example.com/callback\n\n\u2705 \u8a31\u53ef: https://app.example.com/callback\n\u274c \u62d2\u5426: https://app.example.com/callback/\n\u274c \u62d2\u5426: https://app.example.com/callback?extra=param\n\u274c \u62d2\u5426: https://app.example.com/callback#fragment\n\u274c \u62d2\u5426: https://APP.example.com/callback  \u2190 \u30b9\u30ad\u30fc\u30e0\u3068\u30db\u30b9\u30c8\u306f\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u533a\u5225\u306a\u3057\n                                            \u3060\u304c\u30d1\u30b9\u306f\u533a\u5225\u3055\u308c\u308b\n"})}),"\n",(0,d.jsx)(n.h4,{id:"\u4f8b\u5916-\u8907\u6570-uri-\u306e\u767b\u9332",children:"\u4f8b\u5916: \u8907\u6570 URI \u306e\u767b\u9332"}),"\n",(0,d.jsxs)(n.p,{children:["\u8907\u6570\u306e redirect_uri \u3092\u767b\u9332\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u6307\u5b9a\u3055\u308c\u305f URI \u304c\u767b\u9332\u6e08\u307f\u30ea\u30b9\u30c8\u306e",(0,d.jsx)(n.strong,{children:"\u3044\u305a\u308c\u304b\u3068\u5b8c\u5168\u4e00\u81f4"}),"\u3059\u308c\u3070\u3088\u3044\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u767b\u9332\u6e08\u307f:\n  - https://app.example.com/callback\n  - https://app.example.com/oauth/callback\n  - https://staging.example.com/callback\n\n\u30ea\u30af\u30a8\u30b9\u30c8: redirect_uri=https://app.example.com/callback\n\u2192 \u2705 1\u756a\u76ee\u3068\u5b8c\u5168\u4e00\u81f4\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"rfc-8252oauth-20-for-native-apps-2017\u5e74",children:"RFC 8252\uff08OAuth 2.0 for Native Apps, 2017\u5e74\uff09"}),"\n",(0,d.jsx)(n.p,{children:"\u30cd\u30a4\u30c6\u30a3\u30d6\u30a2\u30d7\u30ea\uff08\u30e2\u30d0\u30a4\u30eb\u30fb\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\uff09\u5411\u3051\u306e\u7279\u6b8a\u306a\u30eb\u30fc\u30eb\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"3\u3064\u306e-redirect_uri-\u30d1\u30bf\u30fc\u30f3",children:"3\u3064\u306e redirect_uri \u30d1\u30bf\u30fc\u30f3"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u30d1\u30bf\u30fc\u30f3"}),(0,d.jsx)(n.th,{children:"\u5f62\u5f0f"}),(0,d.jsx)(n.th,{children:"\u4f8b"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Private-Use URI Scheme"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"com.example.app:/callback"})}),(0,d.jsx)(n.td,{children:"\u30ab\u30b9\u30bf\u30e0\u30b9\u30ad\u30fc\u30e0"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Claimed HTTPS Scheme"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"https://app.example.com/.well-known/..."})}),(0,d.jsx)(n.td,{children:"Universal Links / App Links"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Loopback Interface"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://127.0.0.1:{port}/callback"})}),(0,d.jsx)(n.td,{children:"\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"loopback-\u306e\u7279\u6b8a\u30eb\u30fc\u30eb",children:"Loopback \u306e\u7279\u6b8a\u30eb\u30fc\u30eb"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u30dd\u30fc\u30c8\u756a\u53f7\u306f\u52d5\u7684\u306b\u5909\u308f\u308b\u3053\u3068\u3092\u8a31\u5bb9"}),"\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002"]}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"The authorization server MUST allow any port to be specified at the time of the request for loopback IP redirect URIs, to accommodate clients that obtain an available ephemeral port from the operating system at the time of the request."}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u767b\u9332: http://127.0.0.1/callback  \u307e\u305f\u306f  http://[::1]/callback\n\n\u30ea\u30af\u30a8\u30b9\u30c8\u6642:\n  \u2705 http://127.0.0.1:51234/callback  \u2190 \u30dd\u30fc\u30c8\u756a\u53f7\u306f\u691c\u8a3c\u3057\u306a\u3044\n  \u2705 http://127.0.0.1:8080/callback\n  \u2705 http://[::1]:3000/callback\n  \n  \u274c http://localhost:8080/callback   \u2190 localhost \u306f NG\uff08DNS \u30ea\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u653b\u6483\u306e\u30ea\u30b9\u30af\uff09\n"})}),"\n",(0,d.jsx)(n.h4,{id:"private-use-uri-scheme-\u306e\u63a8\u5968\u4e8b\u9805",children:"Private-Use URI Scheme \u306e\u63a8\u5968\u4e8b\u9805"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"To avoid clashing with schemes that have a defined meaning, schemes using a domain name based on a domain the app developer controls is recommended."}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u63a8\u5968:   com.example.myapp:/callback\n\u975e\u63a8\u5968: myapp:/callback  \u2190 \u4ed6\u30a2\u30d7\u30ea\u3068\u885d\u7a81\u306e\u53ef\u80fd\u6027\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"rfc-9700oauth-20-security-bcp-2024\u5e74",children:"RFC 9700\uff08OAuth 2.0 Security BCP, 2024\u5e74\uff09"}),"\n",(0,d.jsxs)(n.p,{children:["\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u3002",(0,d.jsx)(n.strong,{children:"\u6700\u3082\u53b3\u683c\u306a\u63a8\u5968\u4e8b\u9805"}),"\u3092\u63d0\u793a\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"\u5b8c\u5168\u4e00\u81f4\u306e\u5f37\u5236",children:"\u5b8c\u5168\u4e00\u81f4\u306e\u5f37\u5236"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["Authorization servers MUST compare URIs using ",(0,d.jsx)(n.strong,{children:"exact string matching"})," as per Section 6.2.1 of [RFC3986] (Simple String Comparison)."]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"Simple String Comparison = \u30d0\u30a4\u30c8\u5358\u4f4d\u3067\u306e\u5b8c\u5168\u4e00\u81f4\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u306e\u7981\u6b62",children:"\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u306e\u7981\u6b62"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["Authorization servers ",(0,d.jsx)(n.strong,{children:"SHOULD NOT"})," allow clients to register redirect URI patterns."]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3084\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u30de\u30c3\u30c1\u30f3\u30b0\u306f\u7981\u6b62\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u274c https://app.example.com/callback/*\n\u274c https://*.example.com/callback\n\u274c https://app.example.com/callback?*\n"})}),"\n",(0,d.jsx)(n.h4,{id:"\u306a\u305c\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u304c\u5371\u967a\u304b",children:"\u306a\u305c\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u304c\u5371\u967a\u304b\uff1f"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"Such patterns could inadvertently match malicious URIs that are controlled by attackers."}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u4f8b\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u767b\u9332: https://app.example.com/callback/*\n\n\u653b\u6483\u8005\u304c\u60aa\u7528:\n  https://app.example.com/callback/../../../attacker/steal\n  https://app.example.com/callback/../../.well-known/webfinger?...\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u30d1\u30b9\u30c8\u30e9\u30d0\u30fc\u30b5\u30eb\u3084\u30aa\u30fc\u30d7\u30f3\u30ea\u30c0\u30a4\u30ec\u30af\u30bf\u306e\u8106\u5f31\u6027\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u653b\u6483\u3055\u308c\u308b\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"localhost-\u306e\u7981\u6b62",children:"localhost \u306e\u7981\u6b62"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["Clients ",(0,d.jsx)(n.strong,{children:"SHOULD NOT"})," use ",(0,d.jsx)(n.code,{children:"localhost"})," as the hostname in loopback redirect URIs."]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u7406\u7531\uff1aDNS \u30ea\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u653b\u6483\u306e\u30ea\u30b9\u30af\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u274c http://localhost:8080/callback\n\u2705 http://127.0.0.1:8080/callback\n\u2705 http://[::1]:8080/callback\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"fapi-10-baseline--advanced2021\u5e74",children:"FAPI 1.0 Baseline / Advanced\uff082021\u5e74\uff09"}),"\n",(0,d.jsxs)(n.p,{children:["\u91d1\u878d\u30b0\u30ec\u30fc\u30c9\u3002",(0,d.jsx)(n.strong,{children:"\u6700\u3082\u53b3\u683c"}),"\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"baseline-profile",children:"Baseline Profile"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["The authorization server shall require redirect URIs to be pre-registered.\nThe authorization server shall require the redirect_uri in the authorization request.\nThe authorization server shall require ",(0,d.jsx)(n.strong,{children:"exact matching"})," of redirect URIs."]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"advanced-profile",children:"Advanced Profile"}),"\n",(0,d.jsx)(n.p,{children:"\u8ffd\u52a0\u3067\u4ee5\u4e0b\u3092\u8981\u6c42\uff1a"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["The authorization server shall require that the value of redirect_uri is ",(0,d.jsx)(n.strong,{children:"exactly equal"})," to one of the pre-registered redirect URIs."]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["\u3055\u3089\u306b ",(0,d.jsx)(n.strong,{children:"JAR\uff08JWT-Secured Authorization Request\uff09"})," \u307e\u305f\u306f ",(0,d.jsx)(n.strong,{children:"PAR\uff08Pushed Authorization Requests\uff09"})," \u3092\u8981\u6c42\uff1a"]}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"The client shall send the authorization request as a signed JWT (request object)."}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"JAR: \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u7f72\u540d\u4ed8\u304d JWT \u306b\u3057\u3066\u9001\u4fe1\uff08\u30d5\u30ed\u30f3\u30c8\u30c1\u30e3\u30cd\u30eb\u7d4c\u7531\u3060\u304c\u6539\u3056\u3093\u691c\u77e5\u53ef\u80fd\uff09\nPAR: \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30d0\u30c3\u30af\u30c1\u30e3\u30cd\u30eb\u3067\u4e8b\u524d\u9001\u4fe1"}),"\n",(0,d.jsx)(n.h4,{id:"fapi-\u3067\u306e\u8ffd\u52a0\u5236\u7d04",children:"FAPI \u3067\u306e\u8ffd\u52a0\u5236\u7d04"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u5236\u7d04"}),(0,d.jsx)(n.th,{children:"\u7406\u7531"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"HTTPS \u5fc5\u9808\uff08localhost \u9664\u304f\uff09"}),(0,d.jsx)(n.td,{children:"\u901a\u4fe1\u306e\u76d7\u8074\u9632\u6b62"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"localhost \u975e\u63a8\u5968"}),(0,d.jsx)(n.td,{children:"DNS \u30ea\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u5bfe\u7b56"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u7981\u6b62"}),(0,d.jsx)(n.td,{children:"\u4ed5\u69d8\u4e0a\u306e\u5236\u7d04"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u52d5\u7684\u30d1\u30e9\u30e1\u30fc\u30bf\u7981\u6b62"}),(0,d.jsx)(n.td,{children:"\u4e88\u6e2c\u53ef\u80fd\u6027\u306e\u78ba\u4fdd"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h3,{id:"fapi-20-security-profile2023\u5e74",children:"FAPI 2.0 Security Profile\uff082023\u5e74\uff09"}),"\n",(0,d.jsx)(n.p,{children:"FAPI 1.0 \u3092\u3055\u3089\u306b\u7c21\u7d20\u5316\u30fb\u5f37\u5316\u3002"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["The authorization server shall compare the redirect_uri parameter value with the pre-registered redirect URIs using ",(0,d.jsx)(n.strong,{children:"exact string matching"}),"."]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["PAR \u304c",(0,d.jsx)(n.strong,{children:"\u5fc5\u9808"}),"\u3068\u306a\u308a\u3001redirect_uri \u3092\u542b\u3080\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u30d0\u30c3\u30af\u30c1\u30e3\u30cd\u30eb\u3067\u9001\u4fe1\u3055\u308c\u308b\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u5f93\u6765\uff08FAPI 1.0 without PAR\uff09:\n  \u30d6\u30e9\u30a6\u30b6 \u2192 \u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\uff08\u30d5\u30ed\u30f3\u30c8\u30c1\u30e3\u30cd\u30eb\uff09\n  redirect_uri \u304c URL \u306b\u9732\u51fa\n\nFAPI 2.0 + PAR:\n  \u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u2192 \u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\uff08\u30d0\u30c3\u30af\u30c1\u30e3\u30cd\u30eb\uff09\u3067\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u9001\u4fe1\n  \u30d6\u30e9\u30a6\u30b6 \u2192 \u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\uff08\u30d5\u30ed\u30f3\u30c8\u30c1\u30e3\u30cd\u30eb\uff09\u306f request_uri \u306e\u307f\n  \n  \u203b \u8a8d\u53ef\u30ec\u30b9\u30dd\u30f3\u30b9\uff08\u8a8d\u53ef\u30b3\u30fc\u30c9\uff09\u306f\u30d5\u30ed\u30f3\u30c8\u30c1\u30e3\u30cd\u30eb\u3067\u8fd4\u308b\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u7b2c3\u90e8-\u6bd4\u8f03\u8868",children:"\u7b2c3\u90e8: \u6bd4\u8f03\u8868"}),"\n",(0,d.jsx)(n.h3,{id:"\u691c\u8a3c\u65b9\u6cd5\u306e\u6bd4\u8f03",children:"\u691c\u8a3c\u65b9\u6cd5\u306e\u6bd4\u8f03"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u4ed5\u69d8"}),(0,d.jsx)(n.th,{children:"\u4e00\u81f4\u65b9\u5f0f"}),(0,d.jsx)(n.th,{children:"\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,d.jsx)(n.th,{children:"\u30dd\u30fc\u30c8"}),(0,d.jsx)(n.th,{children:"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"RFC 6749"}),(0,d.jsx)(n.td,{children:"\u90e8\u5206\u4e00\u81f4\u53ef"}),(0,d.jsx)(n.td,{children:"\u8ffd\u52a0\u8a31\u53ef"}),(0,d.jsx)(n.td,{children:"\u56fa\u5b9a"}),(0,d.jsx)(n.td,{children:"\u5b9f\u88c5\u4f9d\u5b58"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"OIDC Core"}),(0,d.jsx)(n.td,{children:"\u5b8c\u5168\u4e00\u81f4"}),(0,d.jsx)(n.td,{children:"\u767b\u9332\u6e08\u307f\u306e\u307f"}),(0,d.jsx)(n.td,{children:"\u56fa\u5b9a"}),(0,d.jsx)(n.td,{children:"\u7981\u6b62"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"RFC 8252"}),(0,d.jsx)(n.td,{children:"\u5b8c\u5168\u4e00\u81f4"}),(0,d.jsx)(n.td,{children:"\u56fa\u5b9a"}),(0,d.jsx)(n.td,{children:"Loopback \u306f\u52d5\u7684\u8a31\u53ef"}),(0,d.jsx)(n.td,{children:"\u7981\u6b62"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"RFC 9700"}),(0,d.jsx)(n.td,{children:"\u5b8c\u5168\u4e00\u81f4"}),(0,d.jsx)(n.td,{children:"\u56fa\u5b9a"}),(0,d.jsx)(n.td,{children:"Loopback \u306f\u52d5\u7684\u8a31\u53ef"}),(0,d.jsx)(n.td,{children:"\u7981\u6b62"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"FAPI 1.0"}),(0,d.jsx)(n.td,{children:"\u5b8c\u5168\u4e00\u81f4"}),(0,d.jsx)(n.td,{children:"\u56fa\u5b9a"}),(0,d.jsx)(n.td,{children:"\u56fa\u5b9a"}),(0,d.jsx)(n.td,{children:"\u7981\u6b62"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"FAPI 2.0"}),(0,d.jsx)(n.td,{children:"\u5b8c\u5168\u4e00\u81f4"}),(0,d.jsx)(n.td,{children:"\u56fa\u5b9a"}),(0,d.jsx)(n.td,{children:"\u56fa\u5b9a"}),(0,d.jsx)(n.td,{children:"\u7981\u6b62"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\u8a31\u5bb9\u3055\u308c\u308b-uri-\u306e\u4f8b",children:"\u8a31\u5bb9\u3055\u308c\u308b URI \u306e\u4f8b"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u767b\u9332 URI"}),(0,d.jsx)(n.th,{children:"\u30ea\u30af\u30a8\u30b9\u30c8 URI"}),(0,d.jsx)(n.th,{children:"RFC6749"}),(0,d.jsx)(n.th,{children:"OIDC"}),(0,d.jsx)(n.th,{children:"FAPI"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"https://app.example.com/cb"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"https://app.example.com/cb"})}),(0,d.jsx)(n.td,{children:"\u2705"}),(0,d.jsx)(n.td,{children:"\u2705"}),(0,d.jsx)(n.td,{children:"\u2705"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"https://app.example.com/cb"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"https://app.example.com/cb?foo=bar"})}),(0,d.jsx)(n.td,{children:"\u2705"}),(0,d.jsx)(n.td,{children:"\u274c"}),(0,d.jsx)(n.td,{children:"\u274c"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"https://app.example.com/cb"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"https://app.example.com/cb/"})}),(0,d.jsx)(n.td,{children:"\u26a0\ufe0f"}),(0,d.jsx)(n.td,{children:"\u274c"}),(0,d.jsx)(n.td,{children:"\u274c"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"https://app.example.com/"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"https://app.example.com/cb"})}),(0,d.jsx)(n.td,{children:"\u26a0\ufe0f"}),(0,d.jsx)(n.td,{children:"\u274c"}),(0,d.jsx)(n.td,{children:"\u274c"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://127.0.0.1/cb"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://127.0.0.1:8080/cb"})}),(0,d.jsx)(n.td,{children:"\u274c"}),(0,d.jsx)(n.td,{children:"\u274c"}),(0,d.jsx)(n.td,{children:"\u274c"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"http://127.0.0.1/cb"})," (Native)"]}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http://127.0.0.1:8080/cb"})}),(0,d.jsx)(n.td,{children:"\u2705*"}),(0,d.jsx)(n.td,{children:"\u2705*"}),(0,d.jsx)(n.td,{children:"N/A"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"*RFC 8252 \u306b\u5f93\u3046\u5834\u5408"}),"\n",(0,d.jsx)(n.h3,{id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u5229\u4fbf\u6027\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3068\u5229\u4fbf\u6027\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                                         \u2502\n\u2502  \u5229\u4fbf\u6027                                                                  \u2502\n\u2502    \u25b2                                                                    \u2502\n\u2502    \u2502                                                                    \u2502\n\u2502    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                       \u2502\n\u2502    \u2502  \u2502 RFC6749 \u2502 \u2190 \u8907\u6570\u30d1\u30bf\u30fc\u30f3\u767b\u9332\u53ef\u3001\u958b\u767a\u304c\u697d                          \u2502\n\u2502    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                       \u2502\n\u2502    \u2502       \u2502                                                            \u2502\n\u2502    \u2502       \u25bc                                                            \u2502\n\u2502    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                       \u2502\n\u2502    \u2502  \u2502  OIDC   \u2502 \u2190 \u5b8c\u5168\u4e00\u81f4\u3060\u304c\u8907\u6570 URI \u767b\u9332\u53ef                          \u2502\n\u2502    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                       \u2502\n\u2502    \u2502       \u2502                                                            \u2502\n\u2502    \u2502       \u25bc                                                            \u2502\n\u2502    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                       \u2502\n\u2502    \u2502  \u2502RFC 9700 \u2502 \u2190 \u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u7981\u6b62\u3001localhost \u975e\u63a8\u5968                  \u2502\n\u2502    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                       \u2502\n\u2502    \u2502       \u2502                                                            \u2502\n\u2502    \u2502       \u25bc                                                            \u2502\n\u2502    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                       \u2502\n\u2502    \u2502  \u2502  FAPI   \u2502 \u2190 1.0: JAR or PAR\u30012.0: PAR \u5fc5\u9808                       \u2502\n\u2502    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30d0\u30c3\u30af\u30c1\u30e3\u30cd\u30eb\u5316           \u2502\n\u2502    \u2502                                                                    \u2502\n\u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba       \u2502\n\u2502                                                         \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3     \u2502\n\u2502                                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u7b2c4\u90e8-\u5b9f\u88c5\u4e0a\u306e\u63a8\u5968\u4e8b\u9805",children:"\u7b2c4\u90e8: \u5b9f\u88c5\u4e0a\u306e\u63a8\u5968\u4e8b\u9805"}),"\n",(0,d.jsx)(n.h3,{id:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\u5b9f\u88c5\u8005\u5411\u3051",children:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\u5b9f\u88c5\u8005\u5411\u3051"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u63a8\u5968\u30ec\u30d9\u30eb"}),(0,d.jsx)(n.th,{children:"\u5185\u5bb9"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5fc5\u9808"}),(0,d.jsx)(n.td,{children:"redirect_uri \u306e\u4e8b\u524d\u767b\u9332\u3092\u5fc5\u9808\u306b\u3059\u308b"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5fc5\u9808"}),(0,d.jsx)(n.td,{children:"\u5b8c\u5168\u4e00\u81f4\uff08exact string match\uff09\u3067\u691c\u8a3c\u3059\u308b"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5fc5\u9808"}),(0,d.jsx)(n.td,{children:"\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\uff08#\uff09\u3092\u542b\u3080 URI \u3092\u62d2\u5426\u3059\u308b"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5f37\u304f\u63a8\u5968"}),(0,d.jsx)(n.td,{children:"\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\uff08\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\uff09\u3092\u8a31\u53ef\u3057\u306a\u3044"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5f37\u304f\u63a8\u5968"}),(0,d.jsx)(n.td,{children:"HTTP \u30b9\u30ad\u30fc\u30e0\u306f Loopback IP \u306e\u307f\u8a31\u53ef"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u63a8\u5968"}),(0,d.jsx)(n.td,{children:"PAR \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066 redirect_uri \u3092\u30d0\u30c3\u30af\u30c1\u30e3\u30cd\u30eb\u5316"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u958b\u767a\u8005\u5411\u3051",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u958b\u767a\u8005\u5411\u3051"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u63a8\u5968\u30ec\u30d9\u30eb"}),(0,d.jsx)(n.th,{children:"\u5185\u5bb9"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5fc5\u9808"}),(0,d.jsx)(n.td,{children:"\u672c\u756a\u74b0\u5883\u3067\u306f HTTPS \u3092\u4f7f\u7528"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5fc5\u9808"}),(0,d.jsx)(n.td,{children:"redirect_uri \u306f\u56fa\u5b9a\u5024\u3092\u4f7f\u7528\uff08\u52d5\u7684\u751f\u6210\u3057\u306a\u3044\uff09"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5f37\u304f\u63a8\u5968"}),(0,d.jsxs)(n.td,{children:["\u958b\u767a\u74b0\u5883\u3067\u3082 ",(0,d.jsx)(n.code,{children:"127.0.0.1"})," \u3092\u4f7f\u7528\uff08",(0,d.jsx)(n.code,{children:"localhost"})," \u3067\u306f\u306a\u304f\uff09"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u63a8\u5968"}),(0,d.jsx)(n.td,{children:"\u74b0\u5883\u3054\u3068\u306b\u5225\u3005\u306e redirect_uri \u3092\u767b\u9332\uff08dev, staging, prod\uff09"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,d.jsx)(n.p,{children:"redirect_uri \u306e\u691c\u8a3c\u30eb\u30fc\u30eb\u306f\u3001OAuth 2.0 \u306e\u9032\u5316\u3068\u3068\u3082\u306b\u53b3\u683c\u5316\u3055\u308c\u3066\u304d\u307e\u3057\u305f\u3002"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u6642\u671f"}),(0,d.jsx)(n.th,{children:"\u4ed5\u69d8"}),(0,d.jsx)(n.th,{children:"\u7279\u5fb4"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"2012\u5e74"}),(0,d.jsx)(n.td,{children:"RFC 6749"}),(0,d.jsx)(n.td,{children:"\u66d6\u6627\u3001\u5b9f\u88c5\u4f9d\u5b58"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"2014\u5e74"}),(0,d.jsx)(n.td,{children:"OIDC Core"}),(0,d.jsx)(n.td,{children:"\u5b8c\u5168\u4e00\u81f4\u3092\u660e\u8a18"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"2017\u5e74"}),(0,d.jsx)(n.td,{children:"RFC 8252"}),(0,d.jsx)(n.td,{children:"\u30cd\u30a4\u30c6\u30a3\u30d6\u30a2\u30d7\u30ea\u5411\u3051\u30eb\u30fc\u30eb\u8ffd\u52a0"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"2021\u5e74"}),(0,d.jsx)(n.td,{children:"FAPI 1.0"}),(0,d.jsx)(n.td,{children:"\u91d1\u878d\u30b0\u30ec\u30fc\u30c9\u306e\u53b3\u683c\u5316"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"2023\u5e74"}),(0,d.jsx)(n.td,{children:"FAPI 2.0"}),(0,d.jsx)(n.td,{children:"PAR \u5fc5\u9808\u5316"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"2024\u5e74"}),(0,d.jsx)(n.td,{children:"RFC 9700"}),(0,d.jsx)(n.td,{children:"BCP \u3068\u3057\u3066\u5b8c\u5168\u4e00\u81f4\u3092\u63a8\u5968"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u65b0\u898f\u5b9f\u88c5\u3067\u306f RFC 9700 / FAPI 2.0 \u30ec\u30d9\u30eb\u306e\u53b3\u683c\u3055\u3092\u63a1\u7528\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u53c2\u8003\u30ea\u30f3\u30af",children:"\u53c2\u8003\u30ea\u30f3\u30af"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc3986",children:"RFC 3986 - Uniform Resource Identifier (URI): Generic Syntax"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc6749",children:"RFC 6749 - OAuth 2.0 Authorization Framework"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect Core 1.0"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc8252",children:"RFC 8252 - OAuth 2.0 for Native Apps"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc9700",children:"RFC 9700 - OAuth 2.0 Security Best Current Practice"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://openid.net/specs/openid-financial-api-part-2-1_0.html",children:"FAPI 1.0 Security Profile"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://openid.net/specs/fapi-2_0-security-profile.html",children:"FAPI 2.0 Security Profile"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://oauth.net/2/redirect-uri/",children:"OAuth 2.0 Redirect URI Validation (oauth.net)"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(x,{...e})}):x(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>s});var i=r(96540);const d={},c=i.createContext(d);function l(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);