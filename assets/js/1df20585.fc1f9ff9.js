"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7192],{86253:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"content_06_developer-guide/configuration/federation","title":"Federation\u8a2d\u5b9a\u30ac\u30a4\u30c9","description":"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684","source":"@site/docs/content_06_developer-guide/05-configuration/federation.md","sourceDirName":"content_06_developer-guide/05-configuration","slug":"/content_06_developer-guide/configuration/federation","permalink":"/idp-server/docs/content_06_developer-guide/configuration/federation","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_06_developer-guide/05-configuration/federation.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Client\u8a2d\u5b9a\u30ac\u30a4\u30c9\uff08\u958b\u767a\u8005\u5411\u3051\uff09","permalink":"/idp-server/docs/content_06_developer-guide/configuration/client"},"next":{"title":"Identity Verification\u8a2d\u5b9a\u30ac\u30a4\u30c9","permalink":"/idp-server/docs/content_06_developer-guide/configuration/identity-verification"}}');var r=i(74848),d=i(28453);const t={},l="Federation\u8a2d\u5b9a\u30ac\u30a4\u30c9",c={},o=[{value:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",level:2},{value:"\u6240\u8981\u6642\u9593",id:"\u6240\u8981\u6642\u9593",level:3},{value:"Federation\u3068\u306f",id:"federation\u3068\u306f",level:2},{value:"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u69cb\u9020",id:"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u69cb\u9020",level:2},{value:"federation/oidc/external-idp.json",id:"federationoidcexternal-idpjson",level:3},{value:"\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9",id:"\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9",level:2},{value:"\u57fa\u672c\u60c5\u5831",id:"\u57fa\u672c\u60c5\u5831",level:3},{value:"Payload\u30bb\u30af\u30b7\u30e7\u30f3",id:"payload\u30bb\u30af\u30b7\u30e7\u30f3",level:3},{value:"OIDC\u57fa\u672c\u8a2d\u5b9a",id:"oidc\u57fa\u672c\u8a2d\u5b9a",level:4},{value:"UserInfo Mapping Rules",id:"userinfo-mapping-rules",level:4},{value:"\u9ad8\u5ea6\u306aUserInfo\u53d6\u5f97\uff08http_requests\uff09",id:"\u9ad8\u5ea6\u306auserinfo\u53d6\u5f97http_requests",level:4},{value:"\u57fa\u672c\u30d1\u30bf\u30fc\u30f3: \u8907\u6570API\u9023\u7d9a\u5b9f\u884c",id:"\u57fa\u672c\u30d1\u30bf\u30fc\u30f3-\u8907\u6570api\u9023\u7d9a\u5b9f\u884c",level:5},{value:"\u9ad8\u5ea6\u306a\u30d1\u30bf\u30fc\u30f3: Access Token\u3092\u4f7f\u3063\u305f\u8a8d\u8a3c",id:"\u9ad8\u5ea6\u306a\u30d1\u30bf\u30fc\u30f3-access-token\u3092\u4f7f\u3063\u305f\u8a8d\u8a3c",level:5},{value:"\u6700\u9ad8\u5ea6\u30d1\u30bf\u30fc\u30f3: OAuth 2.0\u8a8d\u8a3c\u4ed8\u304dAPI\u547c\u3073\u51fa\u3057",id:"\u6700\u9ad8\u5ea6\u30d1\u30bf\u30fc\u30f3-oauth-20\u8a8d\u8a3c\u4ed8\u304dapi\u547c\u3073\u51fa\u3057",level:5},{value:"\u8907\u6570API\u306e\u7d50\u679c\u3092\u7d71\u5408\u3059\u308b\u4f8b",id:"\u8907\u6570api\u306e\u7d50\u679c\u3092\u7d71\u5408\u3059\u308b\u4f8b",level:5},{value:"\u30c8\u30fc\u30af\u30f3\u4fdd\u5b58",id:"\u30c8\u30fc\u30af\u30f3\u4fdd\u5b58",level:4},{value:"Management API\u3067\u767b\u9332",id:"management-api\u3067\u767b\u9332",level:2},{value:"API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8",id:"api-\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8",level:3},{value:"Federation\u8a2d\u5b9a\u767b\u9332",id:"federation\u8a2d\u5b9a\u767b\u9332",level:3},{value:"Authentication Policy\u3068\u306e\u9023\u643a",id:"authentication-policy\u3068\u306e\u9023\u643a",level:2},{value:"\u3088\u304f\u3042\u308b\u8a2d\u5b9a\u30df\u30b9",id:"\u3088\u304f\u3042\u308b\u8a2d\u5b9a\u30df\u30b9",level:2},{value:"\u30df\u30b91: redirect_uri\u4e0d\u4e00\u81f4",id:"\u30df\u30b91-redirect_uri\u4e0d\u4e00\u81f4",level:3},{value:"\u30df\u30b92: userinfo_mapping_rules\u8aa4\u308a",id:"\u30df\u30b92-userinfo_mapping_rules\u8aa4\u308a",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2},{value:"\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",id:"\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",level:3},{value:"\ud83d\udcca \u521d\u5b66\u8005\u5411\u3051\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u54c1\u8cea\u30ec\u30d3\u30e5\u30fc",id:"-\u521d\u5b66\u8005\u5411\u3051\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u54c1\u8cea\u30ec\u30d3\u30e5\u30fc",level:2},{value:"\u2705 \u826f\u3044\u70b9",id:"-\u826f\u3044\u70b9",level:3},{value:"\u26a0\ufe0f \u6539\u5584\u63a8\u5968\u4e8b\u9805",id:"\ufe0f-\u6539\u5584\u63a8\u5968\u4e8b\u9805",level:3},{value:"\ud83d\udca1 \u8ffd\u52a0\u63a8\u5968\u30b3\u30f3\u30c6\u30f3\u30c4",id:"-\u8ffd\u52a0\u63a8\u5968\u30b3\u30f3\u30c6\u30f3\u30c4",level:3},{value:"\ud83d\udcc8 \u7dcf\u5408\u8a55\u4fa1",id:"-\u7dcf\u5408\u8a55\u4fa1",level:3},{value:"\ud83c\udfaf \u63a8\u5968\u3055\u308c\u308b\u5b66\u7fd2\u30d1\u30b9",id:"-\u63a8\u5968\u3055\u308c\u308b\u5b66\u7fd2\u30d1\u30b9",level:3},{value:"\ud83d\udcdd \u5177\u4f53\u7684\u6539\u5584\u6848\uff08\u512a\u5148\u5ea6\u9806\uff09",id:"-\u5177\u4f53\u7684\u6539\u5584\u6848\u512a\u5148\u5ea6\u9806",level:3},{value:"1. Federation\u30d5\u30ed\u30fc\u5168\u4f53\u56f3\uff08\u6700\u512a\u5148\uff09",id:"1-federation\u30d5\u30ed\u30fc\u5168\u4f53\u56f3\u6700\u512a\u5148",level:4},{value:"2. \u6700\u5c0f\u69cb\u6210\u304b\u3089\u6bb5\u968e\u7684\u306b",id:"2-\u6700\u5c0f\u69cb\u6210\u304b\u3089\u6bb5\u968e\u7684\u306b",level:4}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"federation\u8a2d\u5b9a\u30ac\u30a4\u30c9",children:"Federation\u8a2d\u5b9a\u30ac\u30a4\u30c9"})}),"\n",(0,r.jsx)(n.h2,{id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684"}),"\n",(0,r.jsx)(n.p,{children:"\u5916\u90e8IdP\u9023\u643a\uff08Federation\uff09\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u7406\u89e3\u3057\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u6240\u8981\u6642\u9593",children:"\u6240\u8981\u6642\u9593"}),"\n",(0,r.jsxs)(n.p,{children:["\u23f1\ufe0f ",(0,r.jsx)(n.strong,{children:"\u7d0420\u5206"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"federation\u3068\u306f",children:"Federation\u3068\u306f"}),"\n",(0,r.jsx)(n.p,{children:"**Federation\uff08\u30d5\u30a7\u30c7\u30ec\u30fc\u30b7\u30e7\u30f3\uff09**\u306f\u5916\u90e8Identity Provider\uff08IdP\uff09\u3068\u9023\u643a\u3057\u3066\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u3092\u884c\u3046\u6a5f\u80fd\u3067\u3059\u3002"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u65e2\u5b58\u306e\u4f01\u696dIdP\u3068\u9023\u643a"}),"\n",(0,r.jsx)(n.li,{children:"\u30bd\u30fc\u30b7\u30e3\u30eb\u30ed\u30b0\u30a4\u30f3\uff08\u5916\u90e8OIDC\u6e96\u62e0IdP\u7b49\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u4ed6\u30b7\u30b9\u30c6\u30e0\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u5229\u7528"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u69cb\u9020",children:"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u69cb\u9020"}),"\n",(0,r.jsx)(n.h3,{id:"federationoidcexternal-idpjson",children:"federation/oidc/external-idp.json"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": "dc000822-a7ca-47b9-aea2-f81e2772b037",\n  "type": "oidc",\n  "sso_provider": "external-idp",\n  "payload": {\n    "issuer": "${EXTERNAL_IDP_ISSUER}",\n    "issuer_name": "external-idp",\n    "type": "oauth-extension",\n    "provider": "oauth-extension",\n    "authorization_endpoint": "${EXTERNAL_IDP_AUTHORIZATION_ENDPOINT}",\n    "token_endpoint": "${EXTERNAL_IDP_TOKEN_ENDPOINT}",\n    "userinfo_endpoint": "${EXTERNAL_IDP_USERINFO_ENDPOINT}",\n    "client_id": "${EXTERNAL_IDP_CLIENT_ID}",\n    "client_secret": "${EXTERNAL_IDP_CLIENT_SECRET}",\n    "client_authentication_type": "client_secret_post",\n    "redirect_uri": "${IDP_SERVER_URL}/${TENANT_ID}/v1/federation/oidc/callback",\n    "scopes_supported": [\n      "openid",\n      "profile",\n      "email"\n    ],\n    "userinfo_mapping_rules": [\n      {\n        "from": "$.sub",\n        "to": "external_user_id"\n      },\n      {\n        "from": "$.name",\n        "to": "name"\n      },\n      {\n        "from": "$.email",\n        "to": "email"\n      }\n    ],\n    "access_token_expires_in": 300,\n    "refresh_token_expires_in": 1800,\n    "store_credentials": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9",children:"\u4e3b\u8981\u306a\u30d5\u30a3\u30fc\u30eb\u30c9"}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u672c\u60c5\u5831",children:"\u57fa\u672c\u60c5\u5831"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30d5\u30a3\u30fc\u30eb\u30c9"}),(0,r.jsx)(n.th,{children:"\u5fc5\u9808"}),(0,r.jsx)(n.th,{children:"\u8aac\u660e"}),(0,r.jsx)(n.th,{children:"\u4f8b"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"Federation\u8a2d\u5b9aID\uff08UUID\uff09"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dc000822-..."})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"type"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u30d7\u30ed\u30c8\u30b3\u30eb\u30bf\u30a4\u30d7"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"oidc"})," / ",(0,r.jsx)(n.code,{children:"saml"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sso_provider"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u30d7\u30ed\u30d0\u30a4\u30c0\u30fcID"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"external-idp"})})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"payload\u30bb\u30af\u30b7\u30e7\u30f3",children:"Payload\u30bb\u30af\u30b7\u30e7\u30f3"}),"\n",(0,r.jsx)(n.h4,{id:"oidc\u57fa\u672c\u8a2d\u5b9a",children:"OIDC\u57fa\u672c\u8a2d\u5b9a"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30d5\u30a3\u30fc\u30eb\u30c9"}),(0,r.jsx)(n.th,{children:"\u5fc5\u9808"}),(0,r.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"issuer"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u5916\u90e8IdP\u306eIssuer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"authorization_endpoint"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u8a8d\u53ef\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"token_endpoint"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u30c8\u30fc\u30af\u30f3\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"userinfo_endpoint"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"UserInfo\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"client_id"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"idp-server\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"client_secret"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"idp-server\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b7\u30fc\u30af\u30ec\u30c3\u30c8"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"redirect_uri"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u30b3\u30fc\u30eb\u30d0\u30c3\u30afURI"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"scopes_supported"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u30b9\u30b3\u30fc\u30d7"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"userinfo-mapping-rules",children:"UserInfo Mapping Rules"}),"\n",(0,r.jsx)(n.p,{children:"\u5916\u90e8IdP\u306eUserInfo \u2192 idp-server\u306eUser\u3078\u306e\u30de\u30c3\u30d4\u30f3\u30b0\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "userinfo_mapping_rules": [\n    {\n      "from": "$.sub",\n      "to": "external_user_id"\n    },\n    {\n      "from": "$.name",\n      "to": "name"\n    },\n    {\n      "from": "$.email",\n      "to": "email"\n    },\n    {\n      "from": "$.custom_field",\n      "to": "custom_properties.custom_field"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"JSONPath"}),": ",(0,r.jsx)(n.code,{children:"$."})," \u3067\u5916\u90e8IdP\u306eUserInfo JSON\u3092\u53c2\u7167"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"\u9ad8\u5ea6\u306auserinfo\u53d6\u5f97http_requests",children:"\u9ad8\u5ea6\u306aUserInfo\u53d6\u5f97\uff08http_requests\uff09"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5358\u7d14\u306aUserInfo\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3067\u306f\u4e0d\u5341\u5206\u306a\u5834\u5408"}),"\u306b\u3001\u8907\u6570\u306eAPI\u3092\u9023\u7d9a\u5b9f\u884c\u3057\u3066UserInfo\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002"]}),"\n",(0,r.jsx)(n.h5,{id:"\u57fa\u672c\u30d1\u30bf\u30fc\u30f3-\u8907\u6570api\u9023\u7d9a\u5b9f\u884c",children:"\u57fa\u672c\u30d1\u30bf\u30fc\u30f3: \u8907\u6570API\u9023\u7d9a\u5b9f\u884c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "userinfo_execution": {\n    "function": "http_requests",\n    "http_requests": [\n      {\n        "url": "${EXTERNAL_API_URL}/accounts",\n        "method": "GET",\n        "note": "1. \u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u53d6\u5f97"\n      },\n      {\n        "url": "${EXTERNAL_API_URL}/profile",\n        "method": "GET",\n        "note": "2. \u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u60c5\u5831\u53d6\u5f97"\n      }\n    ]\n  },\n  "userinfo_mapping_rules": [\n    {\n      "from": "$.userinfo_execution_http_requests[0].response_body.account_id",\n      "to": "external_user_id"\n    },\n    {\n      "from": "$.userinfo_execution_http_requests[1].response_body.name",\n      "to": "name"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u91cd\u8981"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"userinfo_execution_http_requests[0]"})," - 1\u756a\u76ee\u306eAPI\u30ec\u30b9\u30dd\u30f3\u30b9"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"userinfo_execution_http_requests[1]"})," - 2\u756a\u76ee\u306eAPI\u30ec\u30b9\u30dd\u30f3\u30b9"]}),"\n",(0,r.jsx)(n.li,{children:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u9806\u306b\u5b9f\u884c\u3055\u308c\u308b"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h5,{id:"\u9ad8\u5ea6\u306a\u30d1\u30bf\u30fc\u30f3-access-token\u3092\u4f7f\u3063\u305f\u8a8d\u8a3c",children:"\u9ad8\u5ea6\u306a\u30d1\u30bf\u30fc\u30f3: Access Token\u3092\u4f7f\u3063\u305f\u8a8d\u8a3c"}),"\n",(0,r.jsx)(n.p,{children:"\u5916\u90e8IdP\u304b\u3089\u53d6\u5f97\u3057\u305fAccess Token\u3067\u3001\u5916\u90e8API\u306b\u30a2\u30af\u30bb\u30b9\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "userinfo_execution": {\n    "function": "http_requests",\n    "http_requests": [\n      {\n        "url": "${EXTERNAL_API_URL}/accounts",\n        "method": "GET",\n        "note": "Access Token\u3067\u5916\u90e8API\u547c\u3073\u51fa\u3057",\n        "header_mapping_rules": [\n          {\n            "static_value": "application/json",\n            "to": "Accept"\n          },\n          {\n            "from": "$.request_body.access_token",\n            "to": "Authorization",\n            "convertType": "string",\n            "functions": [\n              {\n                "name": "format",\n                "args": {\n                  "template": "Bearer {{value}}"\n                }\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"$.request_body.access_token"})})," - \u5916\u90e8IdP\u304b\u3089\u53d6\u5f97\u3057\u305fAccess Token"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"functions"})})," - ",(0,r.jsx)(n.code,{children:"format"}),'\u95a2\u6570\u3067"Bearer "\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u4ed8\u4e0e']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:'convertType: "string"'})})," - \u6587\u5b57\u5217\u3068\u3057\u3066\u6271\u3046"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h5,{id:"\u6700\u9ad8\u5ea6\u30d1\u30bf\u30fc\u30f3-oauth-20\u8a8d\u8a3c\u4ed8\u304dapi\u547c\u3073\u51fa\u3057",children:"\u6700\u9ad8\u5ea6\u30d1\u30bf\u30fc\u30f3: OAuth 2.0\u8a8d\u8a3c\u4ed8\u304dAPI\u547c\u3073\u51fa\u3057"}),"\n",(0,r.jsx)(n.p,{children:"\u5916\u90e8API\u304c\u72ec\u81ea\u306eOAuth 2.0\u8a8d\u8a3c\u3092\u8981\u6c42\u3059\u308b\u5834\u5408\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "userinfo_execution": {\n    "function": "http_requests",\n    "http_requests": [\n      {\n        "url": "${EXTERNAL_API_URL}/secure-data",\n        "method": "POST",\n        "note": "OAuth 2.0\u8a8d\u8a3c\u304c\u5fc5\u8981\u306aAPI",\n        "auth_type": "oauth2",\n        "oauth_authorization": {\n          "type": "client_credentials",\n          "token_endpoint": "${EXTERNAL_AUTH_URL}/token",\n          "client_id": "${EXTERNAL_CLIENT_ID}",\n          "client_secret": "${EXTERNAL_CLIENT_SECRET}",\n          "client_authentication_type": "client_secret_post",\n          "scope": "read:data",\n          "cache_enabled": true,\n          "cache_ttl_seconds": 3600,\n          "cache_buffer_seconds": 10\n        }\n      }\n    ]\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"OAuth\u8a8d\u8a3c\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u8a2d\u5b9a"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cache_enabled: true"})," - \u30c8\u30fc\u30af\u30f3\u3092\u30ad\u30e3\u30c3\u30b7\u30e5"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cache_ttl_seconds: 3600"})," - \u30ad\u30e3\u30c3\u30b7\u30e5\u6709\u52b9\u671f\u9650\uff08\u79d2\uff09"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cache_buffer_seconds: 10"})," - \u671f\u9650\u5207\u308c10\u79d2\u524d\u306b\u518d\u53d6\u5f97"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u52d5\u4f5c"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u521d\u56de: Token Endpoint\u3067\u30c8\u30fc\u30af\u30f3\u53d6\u5f97 \u2192 \u30ad\u30e3\u30c3\u30b7\u30e5\u4fdd\u5b58"}),"\n",(0,r.jsx)(n.li,{children:"2\u56de\u76ee\u4ee5\u964d: \u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u53d6\u5f97\uff08\u9ad8\u901f\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u671f\u9650\u5207\u308c\u524d: \u81ea\u52d5\u7684\u306b\u518d\u53d6\u5f97"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h5,{id:"\u8907\u6570api\u306e\u7d50\u679c\u3092\u7d71\u5408\u3059\u308b\u4f8b",children:"\u8907\u6570API\u306e\u7d50\u679c\u3092\u7d71\u5408\u3059\u308b\u4f8b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "userinfo_mapping_rules": [\n    {\n      "from": "$.userinfo_execution_http_requests[0].response_body.user_id",\n      "to": "external_user_id",\n      "note": "1\u756a\u76ee\u306eAPI\uff08/accounts\uff09\u304b\u3089\u53d6\u5f97"\n    },\n    {\n      "from": "$.userinfo_execution_http_requests[0].response_body.account_type",\n      "to": "custom_properties.account_type",\n      "note": "1\u756a\u76ee\u306eAPI\u304b\u3089\u53d6\u5f97"\n    },\n    {\n      "from": "$.userinfo_execution_http_requests[1].response_body.email",\n      "to": "email",\n      "note": "2\u756a\u76ee\u306eAPI\uff08/email\uff09\u304b\u3089\u53d6\u5f97"\n    },\n    {\n      "from": "$.userinfo_execution_http_requests[2].response_body.phone",\n      "to": "phone_number",\n      "note": "3\u756a\u76ee\u306eAPI\uff08/phone\uff09\u304b\u3089\u53d6\u5f97"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u91cd\u8981"}),": \u5404API\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092",(0,r.jsx)(n.code,{children:"[0]"}),", ",(0,r.jsx)(n.code,{children:"[1]"}),", ",(0,r.jsx)(n.code,{children:"[2]"}),"\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u53c2\u7167"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u8a73\u7d30"}),": ",(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/implementation-guides/impl-16-http-request-executor",children:"HttpRequestExecutor\u5b9f\u88c5\u30ac\u30a4\u30c9"}),"\u3001",(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/implementation-guides/impl-20-mapping-functions",children:"Mapping Functions"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"\u30c8\u30fc\u30af\u30f3\u4fdd\u5b58",children:"\u30c8\u30fc\u30af\u30f3\u4fdd\u5b58"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30d5\u30a3\u30fc\u30eb\u30c9"}),(0,r.jsx)(n.th,{children:"\u8aac\u660e"}),(0,r.jsx)(n.th,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"store_credentials"})}),(0,r.jsx)(n.td,{children:"\u5916\u90e8IdP\u306e\u30c8\u30fc\u30af\u30f3\u3092\u4fdd\u5b58"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"access_token_expires_in"})}),(0,r.jsx)(n.td,{children:"Access Token\u6709\u52b9\u671f\u9650"}),(0,r.jsx)(n.td,{children:"300\u79d2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"refresh_token_expires_in"})}),(0,r.jsx)(n.td,{children:"Refresh Token\u6709\u52b9\u671f\u9650"}),(0,r.jsx)(n.td,{children:"1800\u79d2"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7528\u9014"}),": \u5916\u90e8API\u3078\u306e\u5f8c\u7d9a\u30a2\u30af\u30bb\u30b9\u3067\u30c8\u30fc\u30af\u30f3\u3092\u518d\u5229\u7528"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"management-api\u3067\u767b\u9332",children:"Management API\u3067\u767b\u9332"}),"\n",(0,r.jsx)(n.h3,{id:"api-\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8",children:"API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7d44\u7e54\u30ec\u30d9\u30ebAPI"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST /v1/management/organizations/{organization-id}/tenants/{tenant-id}/federation-configurations\n"})}),"\n",(0,r.jsx)(n.h3,{id:"federation\u8a2d\u5b9a\u767b\u9332",children:"Federation\u8a2d\u5b9a\u767b\u9332"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'POST /v1/management/organizations/{organization-id}/tenants/{tenant-id}/federation-configurations\nContent-Type: application/json\n\n{\n  "id": "uuid",\n  "type": "oidc",\n  "sso_provider": "external-idp",\n  "payload": {\n    "issuer": "https://external-idp.example.com",\n    "authorization_endpoint": "https://external-idp.example.com/authorize",\n    "token_endpoint": "https://external-idp.example.com/token",\n    "userinfo_endpoint": "https://external-idp.example.com/userinfo",\n    "client_id": "your-client-id",\n    "client_secret": "your-client-secret",\n    "redirect_uri": "https://idp.example.com/{tenant-id}/v1/federation/oidc/callback",\n    "scopes_supported": ["openid", "profile"],\n    "userinfo_mapping_rules": [\n      {"from": "$.sub", "to": "external_user_id"}\n    ]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"authentication-policy\u3068\u306e\u9023\u643a",children:"Authentication Policy\u3068\u306e\u9023\u643a"}),"\n",(0,r.jsx)(n.p,{children:"Federation\u8a8d\u8a3c\u3092\u6709\u52b9\u5316\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "flow": "oauth",\n  "policies": [\n    {\n      "available_methods": [\n        "oidc-external-idp",\n        "password"\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6ce8\u610f"}),": ",(0,r.jsx)(n.code,{children:"oidc-{sso_provider}"})," \u5f62\u5f0f\u3067\u6307\u5b9a"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u3088\u304f\u3042\u308b\u8a2d\u5b9a\u30df\u30b9",children:"\u3088\u304f\u3042\u308b\u8a2d\u5b9a\u30df\u30b9"}),"\n",(0,r.jsx)(n.h3,{id:"\u30df\u30b91-redirect_uri\u4e0d\u4e00\u81f4",children:"\u30df\u30b91: redirect_uri\u4e0d\u4e00\u81f4"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30a8\u30e9\u30fc"}),": \u5916\u90e8IdP\u304b\u3089",(0,r.jsx)(n.code,{children:"redirect_uri_mismatch"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u5916\u90e8IdP\u306b\u767b\u9332\u3057\u305fredirect_uri\u3068Federation\u8a2d\u5b9a\u304c\u4e0d\u4e00\u81f4"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),": \u5916\u90e8IdP\u306e\u7ba1\u7406\u753b\u9762\u3067redirect_uri\u3092\u78ba\u8a8d"]}),"\n",(0,r.jsx)(n.h3,{id:"\u30df\u30b92-userinfo_mapping_rules\u8aa4\u308a",children:"\u30df\u30b92: userinfo_mapping_rules\u8aa4\u308a"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u554f\u984c"}),": \u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u304c\u6b63\u3057\u304f\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u306a\u3044"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": JSONPath\u304c\u9593\u9055\u3063\u3066\u3044\u308b"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),": \u5916\u90e8IdP\u306eUserInfo\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u30d1\u30b9\u3092\u4fee\u6b63"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,r.jsx)(n.p,{children:"\u2705 Federation\u8a2d\u5b9a\u3092\u7406\u89e3\u3057\u305f\uff01"}),"\n",(0,r.jsx)(n.h3,{id:"\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",children:"\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/federation",children:"Federation\u5b9f\u88c5\u30ac\u30a4\u30c9"})," - \u30d5\u30ed\u30fc\u8a73\u7d30"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/implementation-guides/impl-16-http-request-executor",children:"HttpRequestExecutor\u5b9f\u88c5\u30ac\u30a4\u30c9"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6700\u7d42\u66f4\u65b0"}),": 2025-10-13"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-\u521d\u5b66\u8005\u5411\u3051\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u54c1\u8cea\u30ec\u30d3\u30e5\u30fc",children:"\ud83d\udcca \u521d\u5b66\u8005\u5411\u3051\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u54c1\u8cea\u30ec\u30d3\u30e5\u30fc"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30ec\u30d3\u30e5\u30fc\u65e5"}),": 2025-01-15\n",(0,r.jsx)(n.strong,{children:"\u30ec\u30d3\u30e5\u30fc\u5bfe\u8c61"}),": \u521d\u5b66\u8005\uff08idp-server\u958b\u767a\u7d4c\u9a13\u306a\u3057\u3001Java/Spring Boot\u57fa\u790e\u77e5\u8b58\u3042\u308a\uff09"]}),"\n",(0,r.jsx)(n.h3,{id:"-\u826f\u3044\u70b9",children:"\u2705 \u826f\u3044\u70b9"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6bb5\u968e\u7684\u306a\u8aac\u660e"}),": \u57fa\u672c\u2192\u9ad8\u5ea6\u2192\u6700\u9ad8\u5ea6\u30683\u6bb5\u968e\u3067http_requests\u6a5f\u80fd\u3092\u8aac\u660e"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u7528\u7684\u306a\u4f8b"}),": \u8907\u6570API\u9023\u7d9a\u5b9f\u884c\u306e\u5177\u4f53\u4f8b\u304c\u5145\u5b9f"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mapping Functions\u3068\u306e\u9023\u643a"}),": formatFunction\u4f7f\u7528\u4f8b\u304c\u660e\u78ba"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OAuth\u8a8d\u8a3c\u30ad\u30e3\u30c3\u30b7\u30e5"}),": \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6700\u9069\u5316\u306e\u8aac\u660e\u304c\u8a73\u7d30"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"UserInfo Mapping"}),": JSONPath\u3067\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u4f8b\u304c\u8c4a\u5bcc"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"}),": HttpRequestExecutor\u3068Mapping Functions\u3078\u306e\u30ea\u30f3\u30af"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\ufe0f-\u6539\u5584\u63a8\u5968\u4e8b\u9805",children:"\u26a0\ufe0f \u6539\u5584\u63a8\u5968\u4e8b\u9805"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"Federation\u306e\u6982\u5ff5\u8aac\u660e"}),"\uff08\u91cd\u8981\u5ea6: \u9ad8\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u306a\u305cFederation\u304c\u5fc5\u8981\u304b\u306e\u30d3\u30b8\u30cd\u30b9\u30b7\u30ca\u30ea\u30aa"}),"\n",(0,r.jsx)(n.li,{children:"\u5916\u90e8IdP\u3068idp-server\u306e\u5f79\u5272\u5206\u62c5"}),"\n",(0,r.jsx)(n.li,{children:"\u30d5\u30a7\u30c7\u30ec\u30fc\u30b7\u30e7\u30f3\u8a8d\u8a3c\u306e\u6d41\u308c\u56f3"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u6700\u5c0f\u69cb\u6210\u306e\u4f8b"}),"\uff08\u91cd\u8981\u5ea6: \u9ad8\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6700\u3082\u30b7\u30f3\u30d7\u30eb\u306a\u6a19\u6e96OIDC\u9023\u643a\u4f8b\uff08http_requests\u4e0d\u4f7f\u7528\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u6bb5\u968e\u7684\u306b\u8907\u96d1\u5316\u3059\u308b\u8aac\u660e"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"http_requests\u6a5f\u80fd\u306e\u4f4d\u7f6e\u3065\u3051"}),"\uff08\u91cd\u8981\u5ea6: \u9ad8\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u300c\u3044\u3064\u6a19\u6e96UserInfo\u3067\u5341\u5206\u304b\u300d"}),"\n",(0,r.jsx)(n.li,{children:"\u300c\u3044\u3064http_requests\u304c\u5fc5\u8981\u304b\u300d"}),"\n",(0,r.jsx)(n.li,{children:"\u5224\u65ad\u57fa\u6e96\u306e\u660e\u793a"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u52d5\u4f5c\u78ba\u8a8d\u624b\u9806"}),"\uff08\u91cd\u8981\u5ea6: \u9ad8\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Federation\u8a8d\u8a3c\u306e\u30c6\u30b9\u30c8\u65b9\u6cd5"}),"\n",(0,r.jsx)(n.li,{children:"\u5916\u90e8IdP\u3068\u306e\u9023\u643a\u78ba\u8a8d\u624b\u9806"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u524d\u63d0\u77e5\u8b58\u306e\u660e\u8a18"}),"\uff08\u91cd\u8981\u5ea6: \u4e2d\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"OAuth 2.0/OIDC\u30d5\u30ed\u30fc"}),"\n",(0,r.jsx)(n.li,{children:"JSONPath\u69cb\u6587"}),"\n",(0,r.jsx)(n.li,{children:"Mapping Functions\u57fa\u790e"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u62e1\u5145"}),"\uff08\u91cd\u8981\u5ea6: \u4e2d\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"UserInfo\u53d6\u5f97\u5931\u6557\u6642\u306e\u78ba\u8a8d\u30dd\u30a4\u30f3\u30c8"}),"\n",(0,r.jsx)(n.li,{children:"\u30de\u30c3\u30d4\u30f3\u30b0\u30a8\u30e9\u30fc\u306e\u30c7\u30d0\u30c3\u30b0\u65b9\u6cd5"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,r.jsx)(n.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8003\u616e\u4e8b\u9805"}),"\uff08\u91cd\u8981\u5ea6: \u4e2d\uff09"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5916\u90e8IdP\u306e\u4fe1\u983c\u6027\u691c\u8a3c"}),"\n",(0,r.jsx)(n.li,{children:"\u30c8\u30fc\u30af\u30f3\u4fdd\u5b58\u306e\u30ea\u30b9\u30af"}),"\n",(0,r.jsx)(n.li,{children:"SSL/TLS\u5fc5\u9808\u306e\u660e\u8a18"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-\u8ffd\u52a0\u63a8\u5968\u30b3\u30f3\u30c6\u30f3\u30c4",children:"\ud83d\udca1 \u8ffd\u52a0\u63a8\u5968\u30b3\u30f3\u30c6\u30f3\u30c4"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Federation\u30d5\u30ed\u30fc\u5168\u4f53\u56f3"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u30e6\u30fc\u30b6\u30fc \u2192 idp-server \u2192 \u5916\u90e8IdP\u8a8d\u8a3c \u2192\n\u30c8\u30fc\u30af\u30f3\u53d6\u5f97 \u2192 UserInfo\u53d6\u5f97 \u2192 \u30e6\u30fc\u30b6\u30fc\u4f5c\u6210/\u66f4\u65b0 \u2192\nidp-server\u30c8\u30fc\u30af\u30f3\u767a\u884c\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"http_requests\u6a5f\u80fd\u306e\u4f7f\u3044\u5206\u3051\u30ac\u30a4\u30c9"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"| \u30b7\u30ca\u30ea\u30aa | UserInfo\u65b9\u5f0f | \u7406\u7531 |\n|---------|-------------|------|\n| \u6a19\u6e96OIDC IdP | userinfo_endpoint | \u30b7\u30f3\u30d7\u30eb |\n| \u8907\u6570API\u5fc5\u8981 | http_requests | \u60c5\u5831\u5206\u6563 |\n| \u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c | http_requests + OAuth | \u72ec\u81eaAPI |\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u8df5\u7684\u306a\u5916\u90e8IdP\u4f8b"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6a19\u6e96OIDC IdP\u9023\u643a\u306e\u5b8c\u5168\u8a2d\u5b9a"}),"\n",(0,r.jsx)(n.li,{children:"\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30baIdP\u9023\u643a\u306e\u5b8c\u5168\u8a2d\u5b9a"}),"\n",(0,r.jsx)(n.li,{children:"\u30ab\u30b9\u30bf\u30e0OIDC IdP\u9023\u643a"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6700\u9069\u5316"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u30ad\u30e3\u30c3\u30b7\u30e5\u8a2d\u5b9a\u306e\u63a8\u5968\u5024"}),"\n",(0,r.jsx)(n.li,{children:"\u8907\u6570API\u547c\u3073\u51fa\u3057\u306e\u5f71\u97ff"}),"\n",(0,r.jsx)(n.li,{children:"\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30c6\u30b9\u30c8\u624b\u9806"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Federation\u8a8d\u8a3c\u306e\u30a8\u30f3\u30c9\u30c4\u30fc\u30a8\u30f3\u30c9\u30c6\u30b9\u30c8"}),"\n",(0,r.jsx)(n.li,{children:"UserInfo\u30de\u30c3\u30d4\u30f3\u30b0\u306e\u78ba\u8a8d\u65b9\u6cd5"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-\u7dcf\u5408\u8a55\u4fa1",children:"\ud83d\udcc8 \u7dcf\u5408\u8a55\u4fa1"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7406\u89e3\u3057\u3084\u3059\u3055"}),": \u2b50\u2b50\u2b50\u2606\u2606 (3/5) - \u6bb5\u968e\u7684\u3060\u304c\u524d\u63d0\u77e5\u8b58\u304c\u591a\u3044"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u7528\u6027"}),": \u2b50\u2b50\u2b50\u2b50\u2b50 (5/5) - \u5b9f\u8df5\u7684\u306a\u9ad8\u5ea6\u306a\u4f8b\u304c\u8c4a\u5bcc"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5b8c\u5168\u6027"}),": \u2b50\u2b50\u2b50\u2b50\u2b50 (5/5) - http_requests\u6a5f\u80fd\u3092\u7db2\u7f85\u7684\u306b\u8aac\u660e"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u521d\u5b66\u8005\u9069\u5408\u5ea6"}),": \u2b50\u2b50\u2606\u2606\u2606 (2/5) - \u9ad8\u5ea6\u306a\u5185\u5bb9\u304c\u591a\u304f\u521d\u5b66\u8005\u306b\u306f\u96e3\u3057\u3044"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-\u63a8\u5968\u3055\u308c\u308b\u5b66\u7fd2\u30d1\u30b9",children:"\ud83c\udfaf \u63a8\u5968\u3055\u308c\u308b\u5b66\u7fd2\u30d1\u30b9"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u4f4d\u7f6e\u3065\u3051"}),": \u4e2d\u7d1a\uff5e\u4e0a\u7d1a\uff08\u57fa\u672c\u8a2d\u5b9a\u7406\u89e3\u5f8c\uff09"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u63a8\u5968\u9806\u5e8f"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/configuration/tenant",children:"Tenant\u8a2d\u5b9a"})," + ",(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/configuration/client",children:"Client\u8a2d\u5b9a"})," - \u57fa\u672c\u7406\u89e3"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/implementation-guides/impl-20-mapping-functions",children:"Mapping Functions"})," - \u30de\u30c3\u30d4\u30f3\u30b0\u57fa\u790e"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/implementation-guides/impl-16-http-request-executor",children:"HttpRequestExecutor"})," - HTTP\u901a\u4fe1\u57fa\u790e"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"})," - Federation\u8a2d\u5b9a"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/federation",children:"Federation\u5b9f\u88c5\u30ac\u30a4\u30c9"})," - \u5b9f\u88c5\u8a73\u7d30"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-\u5177\u4f53\u7684\u6539\u5584\u6848\u512a\u5148\u5ea6\u9806",children:"\ud83d\udcdd \u5177\u4f53\u7684\u6539\u5584\u6848\uff08\u512a\u5148\u5ea6\u9806\uff09"}),"\n",(0,r.jsx)(n.h4,{id:"1-federation\u30d5\u30ed\u30fc\u5168\u4f53\u56f3\u6700\u512a\u5148",children:"1. Federation\u30d5\u30ed\u30fc\u5168\u4f53\u56f3\uff08\u6700\u512a\u5148\uff09"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"## Federation\u30d5\u30ed\u30fc\u306e\u4ed5\u7d44\u307f\n\n\\`\\`\\`\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User    \u2502                 \u2502idp-server\u2502                \u2502 \u5916\u90e8IdP  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502                           \u2502                           \u2502\n      \u2502 1. \u8a8d\u8a3c\u958b\u59cb                \u2502                           \u2502\n      \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                           \u2502\n      \u2502                           \u2502                           \u2502\n      \u2502                           \u2502 2. \u5916\u90e8IdP\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8    \u2502\n      \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                           \u2502\n      \u2502                           \u2502                           \u2502\n      \u2502 3. \u5916\u90e8IdP\u3067\u8a8d\u8a3c           \u2502                           \u2502\n      \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502\n      \u2502                           \u2502                           \u2502\n      \u2502 4. \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\uff08code\u4ed8\u304d\uff09 \u2502                           \u2502\n      \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n      \u2502                           \u2502                           \u2502\n      \u2502 5. \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u8ee2\u9001        \u2502                           \u2502\n      \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                           \u2502\n      \u2502                           \u2502                           \u2502\n      \u2502                           \u2502 6. Token\u53d6\u5f97               \u2502\n      \u2502                           \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502\n      \u2502                           \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n      \u2502                           \u2502                           \u2502\n      \u2502                           \u2502 7. UserInfo\u53d6\u5f97            \u2502\n      \u2502                           \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502\n      \u2502                           \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n      \u2502                           \u2502                           \u2502\n      \u2502                           \u2502 8. User\u30de\u30c3\u30d4\u30f3\u30b0          \u2502\n      \u2502                           \u2502 (userinfo_mapping_rules)  \u2502\n      \u2502                           \u2502                           \u2502\n      \u2502 9. idp-server\u30c8\u30fc\u30af\u30f3\u767a\u884c  \u2502                           \u2502\n      \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                           \u2502\n\\`\\`\\`\n"})}),"\n",(0,r.jsx)(n.h4,{id:"2-\u6700\u5c0f\u69cb\u6210\u304b\u3089\u6bb5\u968e\u7684\u306b",children:"2. \u6700\u5c0f\u69cb\u6210\u304b\u3089\u6bb5\u968e\u7684\u306b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:'## \u6bb5\u968e\u7684\u306a\u8a2d\u5b9a\u4f8b\n\n### \u30b9\u30c6\u30c3\u30d71: \u57fa\u672cOIDC\u9023\u643a\uff08\u6700\u5c0f\u69cb\u6210\uff09\n\n**\u30b7\u30ca\u30ea\u30aa**: \u6a19\u6e96\u7684\u306aOIDC\u6e96\u62e0\u5916\u90e8IdP\u3068\u306e\u9023\u643a\n\n\\`\\`\\`json\n{\n  "type": "oidc",\n  "sso_provider": "external-idp",\n  "payload": {\n    "issuer": "https://external-idp.example.com",\n    "authorization_endpoint": "https://external-idp.example.com/oauth2/authorize",\n    "token_endpoint": "https://external-idp.example.com/oauth2/token",\n    "userinfo_endpoint": "https://external-idp.example.com/oauth2/userinfo",\n    "client_id": "your-client-id",\n    "client_secret": "your-client-secret",\n    "redirect_uri": "http://localhost:8080/tenant-id/v1/federation/oidc/callback",\n    "scopes_supported": ["openid", "profile", "email"],\n    "userinfo_mapping_rules": [\n      {"from": "$.sub", "to": "external_user_id"},\n      {"from": "$.email", "to": "email"}\n    ]\n  }\n}\n\\`\\`\\`\n\n**\u6ce8\u610f**: OSS\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u305f\u3081\u3001\u5b9f\u5728\u3059\u308b\u30b5\u30fc\u30d3\u30b9\u540d\u3067\u306f\u306a\u304f`external-idp.example.com`\u7b49\u306e\u4f8b\u793a\u7528\u30c9\u30e1\u30a4\u30f3\u3092\u4f7f\u7528\n\n### \u30b9\u30c6\u30c3\u30d72: \u8907\u6570API\u9023\u7d9a\u5b9f\u884c\n\n**\u30b7\u30ca\u30ea\u30aa**: UserInfo\u3060\u3051\u3067\u306f\u4e0d\u8db3\u3001\u8ffd\u52a0\u60c5\u5831\u304c\u5225API\u306b\u3042\u308b\n\n\\`\\`\\`json\n{\n  "userinfo_execution": {\n    "function": "http_requests",\n    "http_requests": [\n      {\n        "url": "https://api.example.com/user/profile",\n        "method": "GET"\n      }\n    ]\n  },\n  "userinfo_mapping_rules": [\n    {"from": "$.userinfo_execution_http_requests[0].response_body.user_id", "to": "external_user_id"}\n  ]\n}\n\\`\\`\\`\n\n### \u30b9\u30c6\u30c3\u30d73: OAuth\u8a8d\u8a3c\u4ed8\u304dAPI\u547c\u3073\u51fa\u3057\n\n**\u30b7\u30ca\u30ea\u30aa**: \u5916\u90e8API\u304c\u72ec\u81ea\u306eOAuth 2.0\u8a8d\u8a3c\u3092\u8981\u6c42\n\n\uff08\u65e2\u5b58\u306e\u6700\u9ad8\u5ea6\u30d1\u30bf\u30fc\u30f3\u306e\u4f8b\u3092\u53c2\u7167\uff09\n'})})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var s=i(96540);const r={},d=s.createContext(r);function t(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);