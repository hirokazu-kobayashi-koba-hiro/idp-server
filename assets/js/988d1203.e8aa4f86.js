"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[76426],{10479:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"content_11_learning/java/java-10-sealed","title":"Java Sealed Classes","description":"Java 17\u3067\u6b63\u5f0f\u5c0e\u5165\u3055\u308c\u305f\u7d99\u627f\u3092\u5236\u9650\u3059\u308b\u30af\u30e9\u30b9\u3092\u5b66\u3073\u307e\u3059\u3002","source":"@site/docs/content_11_learning/25-java/java-10-sealed.md","sourceDirName":"content_11_learning/25-java","slug":"/content_11_learning/java/java-10-sealed","permalink":"/idp-server/docs/content_11_learning/java/java-10-sealed","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/25-java/java-10-sealed.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Java Records","permalink":"/idp-server/docs/content_11_learning/java/java-09-records"},"next":{"title":"Java Pattern Matching","permalink":"/idp-server/docs/content_11_learning/java/java-11-pattern-matching"}}');var l=a(74848),i=a(28453);const s={},t="Java Sealed Classes",c={},d=[{value:"Sealed Classes \u3068\u306f",id:"sealed-classes-\u3068\u306f",level:2},{value:"\u57fa\u672c\u69cb\u6587",id:"\u57fa\u672c\u69cb\u6587",level:2},{value:"\u30b5\u30d6\u30af\u30e9\u30b9\u306e\u4fee\u98fe\u5b50",id:"\u30b5\u30d6\u30af\u30e9\u30b9\u306e\u4fee\u98fe\u5b50",level:2},{value:"final",id:"final",level:3},{value:"sealed",id:"sealed",level:3},{value:"non-sealed",id:"non-sealed",level:3},{value:"Sealed Interface",id:"sealed-interface",level:2},{value:"permits \u306e\u7701\u7565",id:"permits-\u306e\u7701\u7565",level:2},{value:"Pattern Matching \u3068\u306e\u7d44\u307f\u5408\u308f\u305b",id:"pattern-matching-\u3068\u306e\u7d44\u307f\u5408\u308f\u305b",level:2},{value:"switch \u5f0f\u3067\u306e\u7db2\u7f85\u6027\u30c1\u30a7\u30c3\u30af",id:"switch-\u5f0f\u3067\u306e\u7db2\u7f85\u6027\u30c1\u30a7\u30c3\u30af",level:3},{value:"Record Pattern \u3068\u306e\u7d44\u307f\u5408\u308f\u305b",id:"record-pattern-\u3068\u306e\u7d44\u307f\u5408\u308f\u305b",level:3},{value:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3",id:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u4ee3\u6570\u7684\u30c7\u30fc\u30bf\u578b\uff08ADT\uff09",id:"\u4ee3\u6570\u7684\u30c7\u30fc\u30bf\u578badt",level:3},{value:"\u72b6\u614b\u30de\u30b7\u30f3",id:"\u72b6\u614b\u30de\u30b7\u30f3",level:3},{value:"\u30a4\u30d9\u30f3\u30c8",id:"\u30a4\u30d9\u30f3\u30c8",level:3},{value:"\u30b3\u30de\u30f3\u30c9",id:"\u30b3\u30de\u30f3\u30c9",level:3},{value:"\u5f0f\u30c4\u30ea\u30fc",id:"\u5f0f\u30c4\u30ea\u30fc",level:3},{value:"\u30e1\u30ea\u30c3\u30c8",id:"\u30e1\u30ea\u30c3\u30c8",level:2},{value:"1. \u7db2\u7f85\u6027\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u30c1\u30a7\u30c3\u30af",id:"1-\u7db2\u7f85\u6027\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u30c1\u30a7\u30c3\u30af",level:3},{value:"2. \u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb\u306e\u660e\u78ba\u5316",id:"2-\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb\u306e\u660e\u78ba\u5316",level:3},{value:"3. \u5b89\u5168\u306a\u30c0\u30a6\u30f3\u30ad\u30e3\u30b9\u30c8",id:"3-\u5b89\u5168\u306a\u30c0\u30a6\u30f3\u30ad\u30e3\u30b9\u30c8",level:3},{value:"\u5f93\u6765\u306e\u8a2d\u8a08\u3068\u306e\u6bd4\u8f03",id:"\u5f93\u6765\u306e\u8a2d\u8a08\u3068\u306e\u6bd4\u8f03",level:2},{value:"enum \u3068\u306e\u9055\u3044",id:"enum-\u3068\u306e\u9055\u3044",level:3},{value:"Visitor \u30d1\u30bf\u30fc\u30f3\u3068\u306e\u6bd4\u8f03",id:"visitor-\u30d1\u30bf\u30fc\u30f3\u3068\u306e\u6bd4\u8f03",level:3},{value:"\u5236\u9650\u4e8b\u9805",id:"\u5236\u9650\u4e8b\u9805",level:2},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"java-sealed-classes",children:"Java Sealed Classes"})}),"\n",(0,l.jsx)(n.p,{children:"Java 17\u3067\u6b63\u5f0f\u5c0e\u5165\u3055\u308c\u305f\u7d99\u627f\u3092\u5236\u9650\u3059\u308b\u30af\u30e9\u30b9\u3092\u5b66\u3073\u307e\u3059\u3002"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"sealed-classes-\u3068\u306f",children:"Sealed Classes \u3068\u306f"}),"\n",(0,l.jsx)(n.p,{children:"\u7d99\u627f\u3067\u304d\u308b\u30af\u30e9\u30b9/\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\u6a5f\u80fd\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"// \u5f93\u6765: \u8ab0\u3067\u3082\u7d99\u627f\u53ef\u80fd\npublic abstract class Shape { }\n// \u3069\u3053\u304b\u3089\u3067\u3082 extends Shape \u3067\u304d\u3066\u3057\u307e\u3046\n\n// Sealed: \u7d99\u627f\u3092\u5236\u9650\npublic sealed class Shape permits Circle, Rectangle, Triangle { }\n// Circle, Rectangle, Triangle \u306e\u307f\u304c\u7d99\u627f\u53ef\u80fd\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u57fa\u672c\u69cb\u6587",children:"\u57fa\u672c\u69cb\u6587"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"// sealed \u3067\u5ba3\u8a00\u3001permits \u3067\u8a31\u53ef\u3059\u308b\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u5217\u6319\npublic sealed class Shape permits Circle, Rectangle {\n    // \u5171\u901a\u306e\u5b9f\u88c5\n}\n\n// \u30b5\u30d6\u30af\u30e9\u30b9\u306f final, sealed, non-sealed \u306e\u3044\u305a\u308c\u304b\u304c\u5fc5\u9808\npublic final class Circle extends Shape {\n    private final double radius;\n    public Circle(double radius) { this.radius = radius; }\n}\n\npublic final class Rectangle extends Shape {\n    private final double width, height;\n    public Rectangle(double width, double height) {\n        this.width = width;\n        this.height = height;\n    }\n}\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u30b5\u30d6\u30af\u30e9\u30b9\u306e\u4fee\u98fe\u5b50",children:"\u30b5\u30d6\u30af\u30e9\u30b9\u306e\u4fee\u98fe\u5b50"}),"\n",(0,l.jsx)(n.h3,{id:"final",children:"final"}),"\n",(0,l.jsx)(n.p,{children:"\u3053\u308c\u4ee5\u4e0a\u306e\u7d99\u627f\u3092\u7981\u6b62\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public sealed class Animal permits Dog, Cat {}\n\npublic final class Dog extends Animal {}\n// Dog \u3092\u7d99\u627f\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\n"})}),"\n",(0,l.jsx)(n.h3,{id:"sealed",children:"sealed"}),"\n",(0,l.jsx)(n.p,{children:"\u3055\u3089\u306b\u7d99\u627f\u3092\u5236\u9650\u4ed8\u304d\u3067\u8a31\u53ef\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public sealed class Animal permits Mammal, Bird {}\n\npublic sealed class Mammal extends Animal permits Dog, Cat {}\n\npublic final class Dog extends Mammal {}\npublic final class Cat extends Mammal {}\n\npublic final class Bird extends Animal {}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"non-sealed",children:"non-sealed"}),"\n",(0,l.jsx)(n.p,{children:"\u7d99\u627f\u306e\u5236\u9650\u3092\u89e3\u9664\uff08\u30aa\u30fc\u30d7\u30f3\u306b\u3059\u308b\uff09\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public sealed class Vehicle permits Car, Motorcycle, CustomVehicle {}\n\npublic final class Car extends Vehicle {}\npublic final class Motorcycle extends Vehicle {}\n\n// non-sealed: \u8ab0\u3067\u3082\u7d99\u627f\u53ef\u80fd\npublic non-sealed class CustomVehicle extends Vehicle {}\n\n// CustomVehicle \u306f\u8ab0\u3067\u3082\u7d99\u627f\u3067\u304d\u308b\npublic class ElectricScooter extends CustomVehicle {}\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"sealed-interface",children:"Sealed Interface"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public sealed interface Result<T> permits Success, Failure {\n    T getOrThrow();\n}\n\npublic record Success<T>(T value) implements Result<T> {\n    @Override\n    public T getOrThrow() {\n        return value;\n    }\n}\n\npublic record Failure<T>(String error) implements Result<T> {\n    @Override\n    public T getOrThrow() {\n        throw new RuntimeException(error);\n    }\n}\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"permits-\u306e\u7701\u7565",children:"permits \u306e\u7701\u7565"}),"\n",(0,l.jsxs)(n.p,{children:["\u30b5\u30d6\u30af\u30e9\u30b9\u304c\u540c\u3058\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u3042\u308b\u5834\u5408\u3001",(0,l.jsx)(n.code,{children:"permits"})," \u3092\u7701\u7565\u3067\u304d\u308b\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"// \u540c\u4e00\u30d5\u30a1\u30a4\u30eb\u5185\npublic sealed interface Shape {\n    // permits \u306f\u6697\u9ed9\u7684\n}\n\nfinal class Circle implements Shape {\n    private final double radius;\n    Circle(double radius) { this.radius = radius; }\n}\n\nfinal class Rectangle implements Shape {\n    private final double width, height;\n    Rectangle(double width, double height) {\n        this.width = width;\n        this.height = height;\n    }\n}\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"pattern-matching-\u3068\u306e\u7d44\u307f\u5408\u308f\u305b",children:"Pattern Matching \u3068\u306e\u7d44\u307f\u5408\u308f\u305b"}),"\n",(0,l.jsx)(n.p,{children:"Sealed Classes \u306e\u771f\u4fa1\u306f Pattern Matching \u3068\u306e\u7d44\u307f\u5408\u308f\u305b\u3067\u767a\u63ee\u3055\u308c\u308b\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"switch-\u5f0f\u3067\u306e\u7db2\u7f85\u6027\u30c1\u30a7\u30c3\u30af",children:"switch \u5f0f\u3067\u306e\u7db2\u7f85\u6027\u30c1\u30a7\u30c3\u30af"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public sealed interface Shape permits Circle, Rectangle, Triangle {}\npublic record Circle(double radius) implements Shape {}\npublic record Rectangle(double width, double height) implements Shape {}\npublic record Triangle(double base, double height) implements Shape {}\n\n// switch \u3067\u5168\u30b1\u30fc\u30b9\u3092\u30ab\u30d0\u30fc \u2192 default \u4e0d\u8981\npublic double area(Shape shape) {\n    return switch (shape) {\n        case Circle c -> Math.PI * c.radius() * c.radius();\n        case Rectangle r -> r.width() * r.height();\n        case Triangle t -> 0.5 * t.base() * t.height();\n        // default \u4e0d\u8981\uff01\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u7db2\u7f85\u6027\u3092\u4fdd\u8a3c\n    };\n}\n\n// \u65b0\u3057\u3044\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3001switch \u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u306b\u306a\u308b\n// \u2192 \u6f0f\u308c\u3092\u9632\u3052\u308b\n"})}),"\n",(0,l.jsx)(n.h3,{id:"record-pattern-\u3068\u306e\u7d44\u307f\u5408\u308f\u305b",children:"Record Pattern \u3068\u306e\u7d44\u307f\u5408\u308f\u305b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public double area(Shape shape) {\n    return switch (shape) {\n        case Circle(var r) -> Math.PI * r * r;\n        case Rectangle(var w, var h) -> w * h;\n        case Triangle(var b, var h) -> 0.5 * b * h;\n    };\n}\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3",children:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,l.jsx)(n.h3,{id:"\u4ee3\u6570\u7684\u30c7\u30fc\u30bf\u578badt",children:"\u4ee3\u6570\u7684\u30c7\u30fc\u30bf\u578b\uff08ADT\uff09"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'// \u7d50\u679c\u578b\npublic sealed interface Result<T> {\n    record Success<T>(T value) implements Result<T> {}\n    record Failure<T>(Exception error) implements Result<T> {}\n}\n\n// \u4f7f\u7528\npublic Result<User> findUser(String id) {\n    try {\n        User user = repository.findById(id);\n        return new Result.Success<>(user);\n    } catch (Exception e) {\n        return new Result.Failure<>(e);\n    }\n}\n\n// \u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\nResult<User> result = findUser("123");\nString message = switch (result) {\n    case Result.Success(var user) -> "Found: " + user.name();\n    case Result.Failure(var error) -> "Error: " + error.getMessage();\n};\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u72b6\u614b\u30de\u30b7\u30f3",children:"\u72b6\u614b\u30de\u30b7\u30f3"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'public sealed interface OrderState {\n    record Pending() implements OrderState {}\n    record Confirmed(String confirmationCode) implements OrderState {}\n    record Shipped(String trackingNumber) implements OrderState {}\n    record Delivered(LocalDateTime deliveredAt) implements OrderState {}\n    record Cancelled(String reason) implements OrderState {}\n}\n\npublic class Order {\n    private OrderState state = new OrderState.Pending();\n\n    public void confirm(String code) {\n        if (!(state instanceof OrderState.Pending)) {\n            throw new IllegalStateException("Cannot confirm order in state: " + state);\n        }\n        state = new OrderState.Confirmed(code);\n    }\n\n    public String getStatusDescription() {\n        return switch (state) {\n            case OrderState.Pending() -> "\u6ce8\u6587\u306f\u51e6\u7406\u5f85\u3061\u3067\u3059";\n            case OrderState.Confirmed(var code) -> "\u6ce8\u6587\u304c\u78ba\u5b9a\u3057\u307e\u3057\u305f: " + code;\n            case OrderState.Shipped(var tracking) -> "\u767a\u9001\u6e08\u307f: " + tracking;\n            case OrderState.Delivered(var at) -> "\u914d\u9054\u5b8c\u4e86: " + at;\n            case OrderState.Cancelled(var reason) -> "\u30ad\u30e3\u30f3\u30bb\u30eb: " + reason;\n        };\n    }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u30a4\u30d9\u30f3\u30c8",children:"\u30a4\u30d9\u30f3\u30c8"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public sealed interface DomainEvent {\n    LocalDateTime occurredAt();\n\n    record UserCreated(String userId, String email, LocalDateTime occurredAt)\n        implements DomainEvent {}\n\n    record UserEmailChanged(String userId, String oldEmail, String newEmail, LocalDateTime occurredAt)\n        implements DomainEvent {}\n\n    record UserDeleted(String userId, LocalDateTime occurredAt)\n        implements DomainEvent {}\n}\n\n// \u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\npublic void handle(DomainEvent event) {\n    switch (event) {\n        case DomainEvent.UserCreated e -> sendWelcomeEmail(e.email());\n        case DomainEvent.UserEmailChanged e -> sendEmailChangeNotification(e.oldEmail(), e.newEmail());\n        case DomainEvent.UserDeleted e -> cleanupUserData(e.userId());\n    }\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u30b3\u30de\u30f3\u30c9",children:"\u30b3\u30de\u30f3\u30c9"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public sealed interface Command {\n    record CreateUser(String name, String email) implements Command {}\n    record UpdateUser(String id, String name) implements Command {}\n    record DeleteUser(String id) implements Command {}\n}\n\npublic Result<User> execute(Command command) {\n    return switch (command) {\n        case Command.CreateUser(var name, var email) -> createUser(name, email);\n        case Command.UpdateUser(var id, var name) -> updateUser(id, name);\n        case Command.DeleteUser(var id) -> deleteUser(id);\n    };\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u5f0f\u30c4\u30ea\u30fc",children:"\u5f0f\u30c4\u30ea\u30fc"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"public sealed interface Expr {\n    record Num(int value) implements Expr {}\n    record Add(Expr left, Expr right) implements Expr {}\n    record Mul(Expr left, Expr right) implements Expr {}\n    record Neg(Expr operand) implements Expr {}\n}\n\npublic int evaluate(Expr expr) {\n    return switch (expr) {\n        case Expr.Num(var v) -> v;\n        case Expr.Add(var l, var r) -> evaluate(l) + evaluate(r);\n        case Expr.Mul(var l, var r) -> evaluate(l) * evaluate(r);\n        case Expr.Neg(var e) -> -evaluate(e);\n    };\n}\n\n// \u4f7f\u7528\nExpr expr = new Expr.Add(\n    new Expr.Num(5),\n    new Expr.Mul(new Expr.Num(3), new Expr.Num(4))\n);\nint result = evaluate(expr);  // 5 + (3 * 4) = 17\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u30e1\u30ea\u30c3\u30c8",children:"\u30e1\u30ea\u30c3\u30c8"}),"\n",(0,l.jsx)(n.h3,{id:"1-\u7db2\u7f85\u6027\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u30c1\u30a7\u30c3\u30af",children:"1. \u7db2\u7f85\u6027\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u30c1\u30a7\u30c3\u30af"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"// \u65b0\u3057\u3044\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u3068...\npublic sealed interface Shape permits Circle, Rectangle, Triangle, Pentagon {}\npublic record Pentagon(double side) implements Shape {}\n\n// \u65e2\u5b58\u306e switch \u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u306b\u306a\u308b\npublic double area(Shape shape) {\n    return switch (shape) {\n        case Circle c -> Math.PI * c.radius() * c.radius();\n        case Rectangle r -> r.width() * r.height();\n        case Triangle t -> 0.5 * t.base() * t.height();\n        // \u30a8\u30e9\u30fc: Pentagon \u306e\u30b1\u30fc\u30b9\u304c\u306a\u3044\n    };\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"2-\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb\u306e\u660e\u78ba\u5316",children:"2. \u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb\u306e\u660e\u78ba\u5316"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"// \u652f\u6255\u3044\u65b9\u6cd5\u306f3\u7a2e\u985e\u306e\u307f\u3067\u3042\u308b\u3053\u3068\u304c\u578b\u3067\u4fdd\u8a3c\u3055\u308c\u308b\npublic sealed interface PaymentMethod\n    permits CreditCard, BankTransfer, DigitalWallet {}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"3-\u5b89\u5168\u306a\u30c0\u30a6\u30f3\u30ad\u30e3\u30b9\u30c8",children:"3. \u5b89\u5168\u306a\u30c0\u30a6\u30f3\u30ad\u30e3\u30b9\u30c8"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"// instanceof + \u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u3067\u5b89\u5168\u306b\u30c0\u30a6\u30f3\u30ad\u30e3\u30b9\u30c8\nif (shape instanceof Circle c) {\n    // c \u306f Circle \u3068\u3057\u3066\u4f7f\u3048\u308b\n}\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u5f93\u6765\u306e\u8a2d\u8a08\u3068\u306e\u6bd4\u8f03",children:"\u5f93\u6765\u306e\u8a2d\u8a08\u3068\u306e\u6bd4\u8f03"}),"\n",(0,l.jsx)(n.h3,{id:"enum-\u3068\u306e\u9055\u3044",children:"enum \u3068\u306e\u9055\u3044"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"// enum: \u5024\u304c\u56fa\u5b9a\uff08\u30b7\u30f3\u30b0\u30eb\u30c8\u30f3\uff09\nenum Status { PENDING, ACTIVE, INACTIVE }\n\n// Sealed: \u5404\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u30c7\u30fc\u30bf\u3092\u6301\u3066\u308b\nsealed interface Status {\n    record Pending() implements Status {}\n    record Active(LocalDateTime activatedAt) implements Status {}\n    record Inactive(String reason) implements Status {}\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"visitor-\u30d1\u30bf\u30fc\u30f3\u3068\u306e\u6bd4\u8f03",children:"Visitor \u30d1\u30bf\u30fc\u30f3\u3068\u306e\u6bd4\u8f03"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"// \u5f93\u6765: Visitor \u30d1\u30bf\u30fc\u30f3\ninterface ShapeVisitor<R> {\n    R visitCircle(Circle c);\n    R visitRectangle(Rectangle r);\n}\n\n// Sealed + Pattern Matching: \u3088\u308a\u7c21\u6f54\ndouble area = switch (shape) {\n    case Circle c -> Math.PI * c.radius() * c.radius();\n    case Rectangle r -> r.width() * r.height();\n};\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u5236\u9650\u4e8b\u9805",children:"\u5236\u9650\u4e8b\u9805"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"// permits \u306b\u5217\u6319\u3055\u308c\u305f\u30af\u30e9\u30b9\u306f\u540c\u3058\u30e2\u30b8\u30e5\u30fc\u30eb\u307e\u305f\u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u5185\u306b\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\n\n// NG: \u7570\u306a\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30af\u30e9\u30b9\u3092 permits \u306b\u6307\u5b9a\u3067\u304d\u306a\u3044\uff08\u540c\u4e00\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u306a\u3089\u53ef\uff09\npublic sealed class Shape permits com.other.Circle {}  // \u5225\u30e2\u30b8\u30e5\u30fc\u30eb\u306fNG\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u6982\u5ff5"}),(0,l.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"sealed"}),(0,l.jsx)(n.td,{children:"\u7d99\u627f\u3092\u5236\u9650"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"permits"}),(0,l.jsx)(n.td,{children:"\u8a31\u53ef\u3059\u308b\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u5217\u6319"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"final"}),(0,l.jsx)(n.td,{children:"\u3053\u308c\u4ee5\u4e0a\u306e\u7d99\u627f\u3092\u7981\u6b62"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"non-sealed"}),(0,l.jsx)(n.td,{children:"\u7d99\u627f\u5236\u9650\u3092\u89e3\u9664"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u7db2\u7f85\u6027\u30c1\u30a7\u30c3\u30af"}),(0,l.jsx)(n.td,{children:"switch \u3067\u5168\u30b1\u30fc\u30b9\u3092\u30ab\u30d0\u30fc\u3057\u306a\u3044\u3068\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc"})]})]})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/idp-server/docs/content_11_learning/java/java-11-pattern-matching",children:"Pattern Matching"})," - instanceof\u3001switch\u5f0f"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>t});var r=a(96540);const l={},i=r.createContext(l);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);