"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[11071],{77353:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"content_11_learning/java/java-11-pattern-matching","title":"Java Pattern Matching","description":"Java 21\u3067\u5b8c\u6210\u3057\u305f\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002","source":"@site/docs/content_11_learning/25-java/java-11-pattern-matching.md","sourceDirName":"content_11_learning/25-java","slug":"/content_11_learning/java/java-11-pattern-matching","permalink":"/idp-server/docs/content_11_learning/java/java-11-pattern-matching","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/25-java/java-11-pattern-matching.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Java Sealed Classes","permalink":"/idp-server/docs/content_11_learning/java/java-10-sealed"},"next":{"title":"Java \u5b9f\u8df5\u30d1\u30bf\u30fc\u30f3","permalink":"/idp-server/docs/content_11_learning/java/java-12-idp-patterns"}}');var t=r(74848),s=r(28453);const l={},i="Java Pattern Matching",c={},d=[{value:"Pattern Matching \u3068\u306f",id:"pattern-matching-\u3068\u306f",level:2},{value:"instanceof \u30d1\u30bf\u30fc\u30f3",id:"instanceof-\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u57fa\u672c",id:"\u57fa\u672c",level:3},{value:"\u6761\u4ef6\u306e\u7d44\u307f\u5408\u308f\u305b",id:"\u6761\u4ef6\u306e\u7d44\u307f\u5408\u308f\u305b",level:3},{value:"null \u306e\u6271\u3044",id:"null-\u306e\u6271\u3044",level:3},{value:"switch \u5f0f\u306e\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0",id:"switch-\u5f0f\u306e\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0",level:2},{value:"\u57fa\u672c",id:"\u57fa\u672c-1",level:3},{value:"null \u306e\u51e6\u7406",id:"null-\u306e\u51e6\u7406",level:3},{value:"\u30ac\u30fc\u30c9\u6761\u4ef6\uff08when\uff09",id:"\u30ac\u30fc\u30c9\u6761\u4ef6when",level:3},{value:"Record Pattern",id:"record-pattern",level:2},{value:"\u57fa\u672c",id:"\u57fa\u672c-2",level:3},{value:"var \u306e\u4f7f\u7528",id:"var-\u306e\u4f7f\u7528",level:3},{value:"\u30cd\u30b9\u30c8\u3057\u305f Record Pattern",id:"\u30cd\u30b9\u30c8\u3057\u305f-record-pattern",level:3},{value:"Sealed Classes \u3068\u306e\u7d44\u307f\u5408\u308f\u305b",id:"sealed-classes-\u3068\u306e\u7d44\u307f\u5408\u308f\u305b",level:2},{value:"\u65b0\u3057\u3044\u30b5\u30d6\u30bf\u30a4\u30d7\u306e\u8ffd\u52a0",id:"\u65b0\u3057\u3044\u30b5\u30d6\u30bf\u30a4\u30d7\u306e\u8ffd\u52a0",level:3},{value:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3",id:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u30a4\u30d9\u30f3\u30c8\u51e6\u7406",id:"\u30a4\u30d9\u30f3\u30c8\u51e6\u7406",level:3},{value:"\u7d50\u679c\u578b\u306e\u51e6\u7406",id:"\u7d50\u679c\u578b\u306e\u51e6\u7406",level:3},{value:"\u5f0f\u306e\u8a55\u4fa1",id:"\u5f0f\u306e\u8a55\u4fa1",level:3},{value:"JSON \u30d1\u30fc\u30b9\u7d50\u679c\u306e\u51e6\u7406",id:"json-\u30d1\u30fc\u30b9\u7d50\u679c\u306e\u51e6\u7406",level:3},{value:"\u30b3\u30de\u30f3\u30c9\u5b9f\u884c",id:"\u30b3\u30de\u30f3\u30c9\u5b9f\u884c",level:3},{value:"\u30d1\u30bf\u30fc\u30f3\u306e\u512a\u5148\u9806\u4f4d",id:"\u30d1\u30bf\u30fc\u30f3\u306e\u512a\u5148\u9806\u4f4d",level:2},{value:"\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u306e\u4f8b",id:"\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u306e\u4f8b",level:3},{value:"\u5f93\u6765\u306e\u66f8\u304d\u65b9\u3068\u306e\u6bd4\u8f03",id:"\u5f93\u6765\u306e\u66f8\u304d\u65b9\u3068\u306e\u6bd4\u8f03",level:2},{value:"instanceof \u30c1\u30a7\u30fc\u30f3",id:"instanceof-\u30c1\u30a7\u30fc\u30f3",level:3},{value:"Visitor \u30d1\u30bf\u30fc\u30f3",id:"visitor-\u30d1\u30bf\u30fc\u30f3",level:3},{value:"\u6ce8\u610f\u70b9",id:"\u6ce8\u610f\u70b9",level:2},{value:"\u5909\u6570\u30b9\u30b3\u30fc\u30d7",id:"\u5909\u6570\u30b9\u30b3\u30fc\u30d7",level:3},{value:"\u7db2\u7f85\u6027\u30c1\u30a7\u30c3\u30af",id:"\u7db2\u7f85\u6027\u30c1\u30a7\u30c3\u30af",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"java-pattern-matching",children:"Java Pattern Matching"})}),"\n",(0,t.jsx)(n.p,{children:"Java 21\u3067\u5b8c\u6210\u3057\u305f\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0\u3092\u5b66\u3073\u307e\u3059\u3002"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"pattern-matching-\u3068\u306f",children:"Pattern Matching \u3068\u306f"}),"\n",(0,t.jsx)(n.p,{children:"\u5024\u306e\u69cb\u9020\u3092\u691c\u67fb\u3057\u3001\u69cb\u6210\u8981\u7d20\u3092\u62bd\u51fa\u3059\u308b\u6a5f\u80fd\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"// \u5f93\u6765\nif (obj instanceof String) {\n    String s = (String) obj;\n    System.out.println(s.length());\n}\n\n// Pattern Matching\nif (obj instanceof String s) {\n    System.out.println(s.length());  // \u30ad\u30e3\u30b9\u30c8\u4e0d\u8981\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"instanceof-\u30d1\u30bf\u30fc\u30f3",children:"instanceof \u30d1\u30bf\u30fc\u30f3"}),"\n",(0,t.jsx)(n.h3,{id:"\u57fa\u672c",children:"\u57fa\u672c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'Object obj = "Hello";\n\nif (obj instanceof String s) {\n    // s \u306f String \u3068\u3057\u3066\u4f7f\u3048\u308b\n    System.out.println(s.toUpperCase());\n}\n\n// \u5426\u5b9a\nif (!(obj instanceof String s)) {\n    return;\n}\n// \u3053\u3053\u3067\u306f s \u304c\u4f7f\u3048\u308b\uff08\u30d5\u30ed\u30fc\u30b9\u30b3\u30fc\u30d4\u30f3\u30b0\uff09\nSystem.out.println(s.length());\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u6761\u4ef6\u306e\u7d44\u307f\u5408\u308f\u305b",children:"\u6761\u4ef6\u306e\u7d44\u307f\u5408\u308f\u305b"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'// AND\nif (obj instanceof String s && s.length() > 5) {\n    System.out.println("Long string: " + s);\n}\n\n// OR \u306f\u4f7f\u3048\u306a\u3044\uff08\u30b9\u30b3\u30fc\u30d7\u304c\u66d6\u6627\u306b\u306a\u308b\u305f\u3081\uff09\n// if (obj instanceof String s || obj instanceof Integer i) { }  // \u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\n'})}),"\n",(0,t.jsx)(n.h3,{id:"null-\u306e\u6271\u3044",children:"null \u306e\u6271\u3044"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"Object obj = null;\n\n// instanceof \u306f null \u306b\u5bfe\u3057\u3066 false\nif (obj instanceof String s) {\n    // null \u306e\u5834\u5408\u306f\u3053\u3053\u306b\u5165\u3089\u306a\u3044\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"switch-\u5f0f\u306e\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0",children:"switch \u5f0f\u306e\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u30f3\u30b0"}),"\n",(0,t.jsx)(n.h3,{id:"\u57fa\u672c-1",children:"\u57fa\u672c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'Object obj = ...;\n\nString result = switch (obj) {\n    case Integer i -> "Integer: " + i;\n    case Long l -> "Long: " + l;\n    case Double d -> "Double: " + d;\n    case String s -> "String: " + s;\n    case null -> "null";\n    default -> "Unknown: " + obj.getClass();\n};\n'})}),"\n",(0,t.jsx)(n.h3,{id:"null-\u306e\u51e6\u7406",children:"null \u306e\u51e6\u7406"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'// null \u3092\u660e\u793a\u7684\u306b\u51e6\u7406\nString result = switch (obj) {\n    case null -> "It\'s null";\n    case String s -> "String: " + s;\n    default -> "Other";\n};\n\n// null \u3068 default \u3092\u307e\u3068\u3081\u308b\nString result = switch (obj) {\n    case String s -> "String: " + s;\n    case null, default -> "Not a string";\n};\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u30ac\u30fc\u30c9\u6761\u4ef6when",children:"\u30ac\u30fc\u30c9\u6761\u4ef6\uff08when\uff09"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'String describe(Object obj) {\n    return switch (obj) {\n        case Integer i when i > 0 -> "Positive integer: " + i;\n        case Integer i when i < 0 -> "Negative integer: " + i;\n        case Integer i -> "Zero";\n        case String s when s.isEmpty() -> "Empty string";\n        case String s -> "String: " + s;\n        default -> "Other";\n    };\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"record-pattern",children:"Record Pattern"}),"\n",(0,t.jsx)(n.p,{children:"Record \u306e\u69cb\u6210\u8981\u7d20\u3092\u5206\u89e3\u3057\u3066\u62bd\u51fa\u3002"}),"\n",(0,t.jsx)(n.h3,{id:"\u57fa\u672c-2",children:"\u57fa\u672c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'record Point(int x, int y) {}\n\nObject obj = new Point(10, 20);\n\nif (obj instanceof Point(int x, int y)) {\n    System.out.println("x=" + x + ", y=" + y);\n}\n\n// switch \u3067\u306e\u4f7f\u7528\nString describe(Object obj) {\n    return switch (obj) {\n        case Point(int x, int y) -> "Point at (" + x + ", " + y + ")";\n        default -> "Not a point";\n    };\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"var-\u306e\u4f7f\u7528",children:"var \u306e\u4f7f\u7528"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"if (obj instanceof Point(var x, var y)) {\n    // x, y \u306e\u578b\u306f\u63a8\u8ad6\u3055\u308c\u308b\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u30cd\u30b9\u30c8\u3057\u305f-record-pattern",children:"\u30cd\u30b9\u30c8\u3057\u305f Record Pattern"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'record Point(int x, int y) {}\nrecord Line(Point start, Point end) {}\n\nObject obj = new Line(new Point(0, 0), new Point(10, 10));\n\nif (obj instanceof Line(Point(var x1, var y1), Point(var x2, var y2))) {\n    double length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    System.out.println("Length: " + length);\n}\n\n// switch \u3067\u306e\u4f7f\u7528\nString describe(Object obj) {\n    return switch (obj) {\n        case Line(Point(var x1, var y1), Point(var x2, var y2))\n            when x1 == x2 -> "Vertical line";\n        case Line(Point(var x1, var y1), Point(var x2, var y2))\n            when y1 == y2 -> "Horizontal line";\n        case Line l -> "Diagonal line";\n        default -> "Not a line";\n    };\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"sealed-classes-\u3068\u306e\u7d44\u307f\u5408\u308f\u305b",children:"Sealed Classes \u3068\u306e\u7d44\u307f\u5408\u308f\u305b"}),"\n",(0,t.jsx)(n.p,{children:"Sealed Classes \u3068 Pattern Matching \u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3068\u3001\u7db2\u7f85\u6027\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u30c1\u30a7\u30c3\u30af\u3055\u308c\u308b\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"sealed interface Shape permits Circle, Rectangle, Triangle {}\nrecord Circle(double radius) implements Shape {}\nrecord Rectangle(double width, double height) implements Shape {}\nrecord Triangle(double base, double height) implements Shape {}\n\ndouble area(Shape shape) {\n    return switch (shape) {\n        case Circle(var r) -> Math.PI * r * r;\n        case Rectangle(var w, var h) -> w * h;\n        case Triangle(var b, var h) -> 0.5 * b * h;\n        // default \u4e0d\u8981\uff01\u5168\u30b1\u30fc\u30b9\u3092\u30ab\u30d0\u30fc\n    };\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u65b0\u3057\u3044\u30b5\u30d6\u30bf\u30a4\u30d7\u306e\u8ffd\u52a0",children:"\u65b0\u3057\u3044\u30b5\u30d6\u30bf\u30a4\u30d7\u306e\u8ffd\u52a0"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"// \u65b0\u3057\u3044\u5f62\u72b6\u3092\u8ffd\u52a0\nrecord Pentagon(double side) implements Shape {}\n\n// \u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc: Pentagon \u306e\u30b1\u30fc\u30b9\u304c\u306a\u3044\ndouble area(Shape shape) {\n    return switch (shape) {\n        case Circle(var r) -> Math.PI * r * r;\n        case Rectangle(var w, var h) -> w * h;\n        case Triangle(var b, var h) -> 0.5 * b * h;\n        // \u30a8\u30e9\u30fc: switch \u306f\u7db2\u7f85\u7684\u3067\u306f\u306a\u3044\n    };\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3",children:"\u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,t.jsx)(n.h3,{id:"\u30a4\u30d9\u30f3\u30c8\u51e6\u7406",children:"\u30a4\u30d9\u30f3\u30c8\u51e6\u7406"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'sealed interface Event {\n    record UserCreated(String userId, String email) implements Event {}\n    record UserUpdated(String userId, Map<String, Object> changes) implements Event {}\n    record UserDeleted(String userId) implements Event {}\n}\n\nvoid handle(Event event) {\n    switch (event) {\n        case Event.UserCreated(var id, var email) -> {\n            log.info("User created: {} with email {}", id, email);\n            sendWelcomeEmail(email);\n        }\n        case Event.UserUpdated(var id, var changes) -> {\n            log.info("User updated: {} with changes {}", id, changes);\n            auditChanges(id, changes);\n        }\n        case Event.UserDeleted(var id) -> {\n            log.info("User deleted: {}", id);\n            cleanupUserData(id);\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u7d50\u679c\u578b\u306e\u51e6\u7406",children:"\u7d50\u679c\u578b\u306e\u51e6\u7406"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'sealed interface Result<T> {\n    record Success<T>(T value) implements Result<T> {}\n    record Failure<T>(String error, Exception cause) implements Result<T> {}\n}\n\n<T> T handleResult(Result<T> result) {\n    return switch (result) {\n        case Result.Success(var value) -> value;\n        case Result.Failure(var error, var cause) -> {\n            log.error("Operation failed: {}", error, cause);\n            throw new RuntimeException(error, cause);\n        }\n    };\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u5f0f\u306e\u8a55\u4fa1",children:"\u5f0f\u306e\u8a55\u4fa1"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'sealed interface Expr {\n    record Num(int value) implements Expr {}\n    record Add(Expr left, Expr right) implements Expr {}\n    record Mul(Expr left, Expr right) implements Expr {}\n    record Var(String name) implements Expr {}\n}\n\nint eval(Expr expr, Map<String, Integer> env) {\n    return switch (expr) {\n        case Expr.Num(var v) -> v;\n        case Expr.Add(var l, var r) -> eval(l, env) + eval(r, env);\n        case Expr.Mul(var l, var r) -> eval(l, env) * eval(r, env);\n        case Expr.Var(var name) -> env.getOrDefault(name, 0);\n    };\n}\n\n// \u4f7f\u7528\nExpr expr = new Expr.Add(\n    new Expr.Var("x"),\n    new Expr.Mul(new Expr.Num(2), new Expr.Var("y"))\n);\nint result = eval(expr, Map.of("x", 5, "y", 3));  // 5 + 2*3 = 11\n'})}),"\n",(0,t.jsx)(n.h3,{id:"json-\u30d1\u30fc\u30b9\u7d50\u679c\u306e\u51e6\u7406",children:"JSON \u30d1\u30fc\u30b9\u7d50\u679c\u306e\u51e6\u7406"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'sealed interface JsonValue {\n    record JsonNull() implements JsonValue {}\n    record JsonBool(boolean value) implements JsonValue {}\n    record JsonNumber(double value) implements JsonValue {}\n    record JsonString(String value) implements JsonValue {}\n    record JsonArray(List<JsonValue> elements) implements JsonValue {}\n    record JsonObject(Map<String, JsonValue> members) implements JsonValue {}\n}\n\nString stringify(JsonValue value) {\n    return switch (value) {\n        case JsonValue.JsonNull() -> "null";\n        case JsonValue.JsonBool(var b) -> String.valueOf(b);\n        case JsonValue.JsonNumber(var n) -> String.valueOf(n);\n        case JsonValue.JsonString(var s) -> "\\"" + s + "\\"";\n        case JsonValue.JsonArray(var elements) ->\n            "[" + elements.stream().map(this::stringify).collect(Collectors.joining(", ")) + "]";\n        case JsonValue.JsonObject(var members) ->\n            "{" + members.entrySet().stream()\n                .map(e -> "\\"" + e.getKey() + "\\": " + stringify(e.getValue()))\n                .collect(Collectors.joining(", ")) + "}";\n    };\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u30b3\u30de\u30f3\u30c9\u5b9f\u884c",children:"\u30b3\u30de\u30f3\u30c9\u5b9f\u884c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"sealed interface Command {\n    record Help(String topic) implements Command {}\n    record List(String path, boolean recursive) implements Command {}\n    record Get(String key) implements Command {}\n    record Set(String key, String value) implements Command {}\n    record Delete(String key) implements Command {}\n}\n\nString execute(Command cmd) {\n    return switch (cmd) {\n        case Command.Help(var topic) when topic.isEmpty() -> showGeneralHelp();\n        case Command.Help(var topic) -> showTopicHelp(topic);\n        case Command.List(var path, var recursive) -> listItems(path, recursive);\n        case Command.Get(var key) -> getValue(key);\n        case Command.Set(var key, var value) -> setValue(key, value);\n        case Command.Delete(var key) -> deleteValue(key);\n    };\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u30d1\u30bf\u30fc\u30f3\u306e\u512a\u5148\u9806\u4f4d",children:"\u30d1\u30bf\u30fc\u30f3\u306e\u512a\u5148\u9806\u4f4d"}),"\n",(0,t.jsx)(n.p,{children:"\u3088\u308a\u5177\u4f53\u7684\u306a\u30d1\u30bf\u30fc\u30f3\u3092\u5148\u306b\u66f8\u304f\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'String describe(Object obj) {\n    return switch (obj) {\n        // \u5177\u4f53\u7684\u306a\u30d1\u30bf\u30fc\u30f3\u3092\u5148\u306b\n        case String s when s.isEmpty() -> "Empty string";\n        case String s when s.length() > 100 -> "Long string";\n        case String s -> "String: " + s;\n\n        // \u3088\u308a\u4e00\u822c\u7684\u306a\u30d1\u30bf\u30fc\u30f3\u3092\u5f8c\u306b\n        case Number n -> "Number: " + n;\n        case null -> "null";\n        default -> "Other";\n    };\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u306e\u4f8b",children:"\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u306e\u4f8b"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'// NG: \u5230\u9054\u4e0d\u80fd\u306a\u30d1\u30bf\u30fc\u30f3\nString describe(Object obj) {\n    return switch (obj) {\n        case Object o -> "Any object";  // \u5168\u3066\u306b\u30de\u30c3\u30c1\n        case String s -> "String";      // \u5230\u9054\u4e0d\u80fd\uff01\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\n    };\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u5f93\u6765\u306e\u66f8\u304d\u65b9\u3068\u306e\u6bd4\u8f03",children:"\u5f93\u6765\u306e\u66f8\u304d\u65b9\u3068\u306e\u6bd4\u8f03"}),"\n",(0,t.jsx)(n.h3,{id:"instanceof-\u30c1\u30a7\u30fc\u30f3",children:"instanceof \u30c1\u30a7\u30fc\u30f3"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'// \u5f93\u6765\nString describe(Object obj) {\n    if (obj instanceof Integer) {\n        Integer i = (Integer) obj;\n        return "Integer: " + i;\n    } else if (obj instanceof String) {\n        String s = (String) obj;\n        return "String: " + s;\n    } else if (obj == null) {\n        return "null";\n    } else {\n        return "Other";\n    }\n}\n\n// Pattern Matching\nString describe(Object obj) {\n    return switch (obj) {\n        case Integer i -> "Integer: " + i;\n        case String s -> "String: " + s;\n        case null -> "null";\n        default -> "Other";\n    };\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"visitor-\u30d1\u30bf\u30fc\u30f3",children:"Visitor \u30d1\u30bf\u30fc\u30f3"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"// \u5f93\u6765: Visitor \u30d1\u30bf\u30fc\u30f3\ninterface ShapeVisitor<R> {\n    R visit(Circle c);\n    R visit(Rectangle r);\n}\n\nclass AreaCalculator implements ShapeVisitor<Double> {\n    public Double visit(Circle c) { return Math.PI * c.radius * c.radius; }\n    public Double visit(Rectangle r) { return r.width * r.height; }\n}\n\n// Pattern Matching\uff08\u3088\u308a\u7c21\u6f54\uff09\ndouble area(Shape shape) {\n    return switch (shape) {\n        case Circle(var r) -> Math.PI * r * r;\n        case Rectangle(var w, var h) -> w * h;\n    };\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u6ce8\u610f\u70b9",children:"\u6ce8\u610f\u70b9"}),"\n",(0,t.jsx)(n.h3,{id:"\u5909\u6570\u30b9\u30b3\u30fc\u30d7",children:"\u5909\u6570\u30b9\u30b3\u30fc\u30d7"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'// \u30d1\u30bf\u30fc\u30f3\u5909\u6570\u306f\u305d\u306e\u30d6\u30e9\u30f3\u30c1\u5185\u3067\u306e\u307f\u6709\u52b9\nString result = switch (obj) {\n    case String s -> s.toUpperCase();  // s \u306f\u3053\u3053\u3067\u306e\u307f\u6709\u52b9\n    default -> "other";\n    // s \u306f\u3053\u3053\u3067\u306f\u4f7f\u3048\u306a\u3044\n};\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u7db2\u7f85\u6027\u30c1\u30a7\u30c3\u30af",children:"\u7db2\u7f85\u6027\u30c1\u30a7\u30c3\u30af"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"// Sealed type \u306e\u5834\u5408\u3001\u7db2\u7f85\u7684\u3067\u306a\u3044\u3068\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\nsealed interface Option<T> {\n    record Some<T>(T value) implements Option<T> {}\n    record None<T>() implements Option<T> {}\n}\n\n// OK: \u7db2\u7f85\u7684\n<T> T getOrDefault(Option<T> opt, T defaultValue) {\n    return switch (opt) {\n        case Option.Some(var v) -> v;\n        case Option.None() -> defaultValue;\n    };\n}\n\n// \u30a8\u30e9\u30fc: None \u306e\u30b1\u30fc\u30b9\u304c\u306a\u3044\n<T> T getValue(Option<T> opt) {\n    return switch (opt) {\n        case Option.Some(var v) -> v;\n        // \u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc: switch \u306f\u7db2\u7f85\u7684\u3067\u306f\u306a\u3044\n    };\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u30d1\u30bf\u30fc\u30f3"}),(0,t.jsx)(n.th,{children:"\u8aac\u660e"}),(0,t.jsx)(n.th,{children:"\u4f8b"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u578b\u30d1\u30bf\u30fc\u30f3"}),(0,t.jsx)(n.td,{children:"\u578b\u30c1\u30a7\u30c3\u30af + \u30ad\u30e3\u30b9\u30c8"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"case String s"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Record Pattern"}),(0,t.jsx)(n.td,{children:"Record \u306e\u5206\u89e3"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"case Point(var x, var y)"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u30ac\u30fc\u30c9\u6761\u4ef6"}),(0,t.jsx)(n.td,{children:"\u8ffd\u52a0\u6761\u4ef6"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"case String s when s.isEmpty()"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"null \u30d1\u30bf\u30fc\u30f3"}),(0,t.jsx)(n.td,{children:"null \u306e\u51e6\u7406"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"case null"})})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Sealed Classes \u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u7db2\u7f85\u6027\u3092\u4fdd\u8a3c"}),"\n",(0,t.jsx)(n.li,{children:"\u5177\u4f53\u7684\u306a\u30d1\u30bf\u30fc\u30f3\u3092\u5148\u306b\u66f8\u304f"}),"\n",(0,t.jsx)(n.li,{children:"when \u3067\u30ac\u30fc\u30c9\u6761\u4ef6\u3092\u8ffd\u52a0"}),"\n",(0,t.jsx)(n.li,{children:"Record Pattern \u3067\u30cd\u30b9\u30c8\u3057\u305f\u69cb\u9020\u3092\u5206\u89e3"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/idp-server/docs/content_11_learning/java/java-12-idp-patterns",children:"idp-server\u30d1\u30bf\u30fc\u30f3"})," - \u5b9f\u8df5\u7684\u306a\u30d1\u30bf\u30fc\u30f3"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>i});var a=r(96540);const t={},s=a.createContext(t);function l(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);