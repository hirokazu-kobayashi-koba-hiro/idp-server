"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[750],{25852:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"content_06_developer-guide/application-plane/ciba-flow","title":"CIBA Flow\u5b9f\u88c5\u30ac\u30a4\u30c9","description":"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684","source":"@site/docs/content_06_developer-guide/03-application-plane/06-ciba-flow.md","sourceDirName":"content_06_developer-guide/03-application-plane","slug":"/content_06_developer-guide/application-plane/ciba-flow","permalink":"/idp-server/docs/content_06_developer-guide/application-plane/ciba-flow","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_06_developer-guide/03-application-plane/06-ciba-flow.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{},"sidebar":"docs","previous":{"title":"UserInfo\u5b9f\u88c5\u30ac\u30a4\u30c9","permalink":"/idp-server/docs/content_06_developer-guide/application-plane/userinfo"},"next":{"title":"\u8eab\u5143\u78ba\u8a8d\u7533\u8fbc\u307f\u5b9f\u88c5\u30ac\u30a4\u30c9","permalink":"/idp-server/docs/content_06_developer-guide/application-plane/identity-verification"}}');var s=i(74848),r=i(28453);const c={},l="CIBA Flow\u5b9f\u88c5\u30ac\u30a4\u30c9",d={},a=[{value:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",level:2},{value:"\u6240\u8981\u6642\u9593",id:"\u6240\u8981\u6642\u9593",level:3},{value:"\u524d\u63d0\u77e5\u8b58",id:"\u524d\u63d0\u77e5\u8b58",level:3},{value:"CIBA\u3068\u306f",id:"ciba\u3068\u306f",level:2},{value:"\u901a\u5e38\u306eAuthorization Code Flow\u3068\u306e\u9055\u3044",id:"\u901a\u5e38\u306eauthorization-code-flow\u3068\u306e\u9055\u3044",level:2},{value:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5168\u4f53\u50cf",id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5168\u4f53\u50cf",level:2},{value:"30\u79d2\u3067\u7406\u89e3\u3059\u308b\u5168\u4f53\u50cf",id:"30\u79d2\u3067\u7406\u89e3\u3059\u308b\u5168\u4f53\u50cf",level:3},{value:"\u4e3b\u8981\u30af\u30e9\u30b9\u306e\u8cac\u52d9",id:"\u4e3b\u8981\u30af\u30e9\u30b9\u306e\u8cac\u52d9",level:3},{value:"CIBA\u306e\u7279\u5fb4",id:"ciba\u306e\u7279\u5fb4",level:3},{value:"CIBA\u30d5\u30ed\u30fc",id:"ciba\u30d5\u30ed\u30fc",level:2},{value:"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8",id:"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8",level:2},{value:"EntryService\u5b9f\u88c5",id:"entryservice\u5b9f\u88c5",level:2},{value:"CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\uff0810\u30b9\u30c6\u30c3\u30d7\uff09",id:"ciba\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u740610\u30b9\u30c6\u30c3\u30d7",level:3},{value:"\u30dd\u30a4\u30f3\u30c8",id:"\u30dd\u30a4\u30f3\u30c8",level:3},{value:"UserHintResolvers\uff08login_hint\u89e3\u6c7a\uff09",id:"userhintresolverslogin_hint\u89e3\u6c7a",level:2},{value:"login_hint\u306e\u5f62\u5f0f",id:"login_hint\u306e\u5f62\u5f0f",level:3},{value:"LoginHintResolver\u306e\u5b9f\u88c5",id:"loginhintresolver\u306e\u5b9f\u88c5",level:3},{value:"\u4f7f\u7528\u4f8b",id:"\u4f7f\u7528\u4f8b",level:3},{value:"1. email\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",id:"1-email\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",level:4},{value:"2. phone\u756a\u53f7\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",id:"2-phone\u756a\u53f7\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",level:4},{value:"3. \u30c7\u30d0\u30a4\u30b9ID\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",id:"3-\u30c7\u30d0\u30a4\u30b9id\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",level:4},{value:"4. \u5916\u90e8IdP\u306esub\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",id:"4-\u5916\u90e8idp\u306esub\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",level:4},{value:"\u30a8\u30e9\u30fc",id:"\u30a8\u30e9\u30fc",level:3},{value:"CIBA Mode",id:"ciba-mode",level:2},{value:"Poll Mode\uff08\u6700\u3082\u4e00\u822c\u7684\uff09",id:"poll-mode\u6700\u3082\u4e00\u822c\u7684",level:3},{value:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c",id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c",level:2},{value:"\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u8a8d\u8a3c\u65b9\u5f0f",id:"\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u8a8d\u8a3c\u65b9\u5f0f",level:3},{value:"client_secret_basic \u306e\u4f8b",id:"client_secret_basic-\u306e\u4f8b",level:3},{value:"client_secret_post \u306e\u4f8b",id:"client_secret_post-\u306e\u4f8b",level:3},{value:"\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\uff08CIBA Grant Type\uff09",id:"\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8ciba-grant-type",level:2},{value:"\u30ea\u30af\u30a8\u30b9\u30c8",id:"\u30ea\u30af\u30a8\u30b9\u30c8",level:3},{value:"\u51e6\u7406\u30d5\u30ed\u30fc",id:"\u51e6\u7406\u30d5\u30ed\u30fc",level:3},{value:"\u30ec\u30b9\u30dd\u30f3\u30b9\u30d1\u30bf\u30fc\u30f3",id:"\u30ec\u30b9\u30dd\u30f3\u30b9\u30d1\u30bf\u30fc\u30f3",level:3},{value:"1. \u627f\u8a8d\u5f85\u3061\uff08authorization_pending\uff09",id:"1-\u627f\u8a8d\u5f85\u3061authorization_pending",level:4},{value:"2. \u627f\u8a8d\u5b8c\u4e86\uff08\u30c8\u30fc\u30af\u30f3\u767a\u884c\uff09",id:"2-\u627f\u8a8d\u5b8c\u4e86\u30c8\u30fc\u30af\u30f3\u767a\u884c",level:4},{value:"3. \u30e6\u30fc\u30b6\u30fc\u62d2\u5426\uff08access_denied\uff09",id:"3-\u30e6\u30fc\u30b6\u30fc\u62d2\u5426access_denied",level:4},{value:"4. \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\uff08expired_token\uff09",id:"4-\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8expired_token",level:4},{value:"\u30dd\u30fc\u30ea\u30f3\u30b0\u4ed5\u69d8\uff08OpenID Connect CIBA\u6e96\u62e0\uff09",id:"\u30dd\u30fc\u30ea\u30f3\u30b0\u4ed5\u69d8openid-connect-ciba\u6e96\u62e0",level:2},{value:"interval\uff08\u30dd\u30fc\u30ea\u30f3\u30b0\u9593\u9694\uff09",id:"interval\u30dd\u30fc\u30ea\u30f3\u30b0\u9593\u9694",level:3},{value:"expires_in\uff08\u6709\u52b9\u671f\u9650\uff09",id:"expires_in\u6709\u52b9\u671f\u9650",level:3},{value:"auth_req_id \u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb",id:"auth_req_id-\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb",level:2},{value:"\u4f5c\u6210 \u2192 \u4f7f\u7528 \u2192 \u524a\u9664",id:"\u4f5c\u6210--\u4f7f\u7528--\u524a\u9664",level:3},{value:"BackchannelAuthenticationRequest vs AuthenticationTransaction",id:"backchannelauthenticationrequest-vs-authenticationtransaction",level:2},{value:"BackchannelAuthenticationRequest",id:"backchannelauthenticationrequest",level:3},{value:"AuthenticationTransaction",id:"authenticationtransaction",level:3},{value:"\u4f7f\u3044\u5206\u3051",id:"\u4f7f\u3044\u5206\u3051",level:3},{value:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",id:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",level:2},{value:"EntryService\uff08UseCase\u5c64\uff09",id:"entryserviceusecase\u5c64",level:3},{value:"Core\u5c64\uff08CibaProtocol\uff09",id:"core\u5c64cibaprotocol",level:3},{value:"E2E\u30c6\u30b9\u30c8",id:"e2e\u30c6\u30b9\u30c8",level:3},{value:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc",id:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc",level:2},{value:"\u30a8\u30e9\u30fc1: <code>authorization_pending</code> - \u8a8d\u8a3c\u5f85\u3061",id:"\u30a8\u30e9\u30fc1-authorization_pending---\u8a8d\u8a3c\u5f85\u3061",level:3},{value:"\u30a8\u30e9\u30fc2: <code>access_denied</code> - \u30e6\u30fc\u30b6\u30fc\u304c\u62d2\u5426",id:"\u30a8\u30e9\u30fc2-access_denied---\u30e6\u30fc\u30b6\u30fc\u304c\u62d2\u5426",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2},{value:"\ud83d\udcd6 \u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",id:"-\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",level:3},{value:"\ud83d\udd17 \u8a73\u7d30\u60c5\u5831",id:"-\u8a73\u7d30\u60c5\u5831",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"ciba-flow\u5b9f\u88c5\u30ac\u30a4\u30c9",children:"CIBA Flow\u5b9f\u88c5\u30ac\u30a4\u30c9"})}),"\n",(0,s.jsx)(n.h2,{id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684"}),"\n",(0,s.jsx)(n.p,{children:"**CIBA\uff08Client Initiated Backchannel Authentication\uff09**\u306e\u5b9f\u88c5\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u76ee\u6a19\u3067\u3059\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u6240\u8981\u6642\u9593",children:"\u6240\u8981\u6642\u9593"}),"\n",(0,s.jsxs)(n.p,{children:["\u23f1\ufe0f ",(0,s.jsx)(n.strong,{children:"\u7d0430\u5206"})]}),"\n",(0,s.jsx)(n.h3,{id:"\u524d\u63d0\u77e5\u8b58",children:"\u524d\u63d0\u77e5\u8b58"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/authorization-flow",children:"02. Authorization Flow"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/token-endpoint",children:"03. Token Flow"})}),"\n",(0,s.jsx)(n.li,{children:"CIBA\u4ed5\u69d8\u57fa\u790e\u77e5\u8b58"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"ciba\u3068\u306f",children:"CIBA\u3068\u306f"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u30d0\u30c3\u30af\u30c1\u30e3\u30cd\u30eb\u8a8d\u8a3c"})," - \u30e6\u30fc\u30b6\u30fc\u304c\u30ed\u30b0\u30a4\u30f3\u30c7\u30d0\u30a4\u30b9\u3068\u306f\u5225\u306e\u30c7\u30d0\u30a4\u30b9\uff08\u30b9\u30de\u30db\u7b49\uff09\u3067\u8a8d\u8a3c\u3092\u627f\u8a8d\u3059\u308b\u65b9\u5f0f\u3002"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"OpenID Connect CIBA Core 1.0\u6e96\u62e0"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u901a\u5e38\u306eauthorization-code-flow\u3068\u306e\u9055\u3044",children:"\u901a\u5e38\u306eAuthorization Code Flow\u3068\u306e\u9055\u3044"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u9805\u76ee"}),(0,s.jsx)(n.th,{children:"Authorization Code Flow"}),(0,s.jsx)(n.th,{children:"CIBA"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9"})}),(0,s.jsx)(n.td,{children:"\u30d6\u30e9\u30a6\u30b6\uff08\u540c\u3058\u30c7\u30d0\u30a4\u30b9\uff09"}),(0,s.jsx)(n.td,{children:"\u30b9\u30de\u30db\u7b49\uff08\u5225\u30c7\u30d0\u30a4\u30b9\uff09"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\u30ea\u30c0\u30a4\u30ec\u30af\u30c8"})}),(0,s.jsx)(n.td,{children:"\u3042\u308a\uff08\u30d6\u30e9\u30a6\u30b6\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\uff09"}),(0,s.jsx)(n.td,{children:"\u306a\u3057"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\u30e6\u30fc\u30b6\u30fc\u64cd\u4f5c"})}),(0,s.jsx)(n.td,{children:"\u30d6\u30e9\u30a6\u30b6\u3067\u30ed\u30b0\u30a4\u30f3"}),(0,s.jsx)(n.td,{children:"\u30b9\u30de\u30db\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u627f\u8a8d"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\u30dd\u30fc\u30ea\u30f3\u30b0"})}),(0,s.jsx)(n.td,{children:"\u306a\u3057"}),(0,s.jsx)(n.td,{children:"\u3042\u308a\uff08\u307e\u305f\u306fPing/Push\uff09"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5168\u4f53\u50cf",children:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5168\u4f53\u50cf"}),"\n",(0,s.jsx)(n.h3,{id:"30\u79d2\u3067\u7406\u89e3\u3059\u308b\u5168\u4f53\u50cf",children:"30\u79d2\u3067\u7406\u89e3\u3059\u308b\u5168\u4f53\u50cf"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"HTTP\u30ea\u30af\u30a8\u30b9\u30c8\n    \u2193\nController (CibaV1Api) - HTTP\u51e6\u7406\n    \u2193\nEntryService (CibaFlowEntryService) - \u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\n    \u251c\u2500 Tenant\u53d6\u5f97\n    \u251c\u2500 CibaRequest\u4f5c\u6210\n    \u251c\u2500 CibaProtocol.request()\uff08UserHintResolver\u4f7f\u7528\uff09\n    \u251c\u2500 AuthenticationTransaction\u4f5c\u6210\n    \u251c\u2500 \u30c7\u30d5\u30a9\u30eb\u30c8\u8a8d\u8a3c\u5b9f\u884c\uff08\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\uff09\n    \u251c\u2500 \u30a4\u30d9\u30f3\u30c8\u767a\u884c\n    \u2514\u2500 auth_req_id\u8fd4\u5374\n    \u2193\nCore\u5c64 (CibaProtocol)\n    \u251c\u2500 Validator: \u5165\u529b\u5f62\u5f0f\u30c1\u30a7\u30c3\u30af\n    \u251c\u2500 UserHintResolver: login_hint \u2192 User\u89e3\u6c7a\n    \u251c\u2500 Verifier: \u30d3\u30b8\u30cd\u30b9\u30eb\u30fc\u30eb\u691c\u8a3c\n    \u2514\u2500 BackchannelAuthenticationRequest\u751f\u6210\n    \u2193\n\u30d7\u30c3\u30b7\u30e5\u901a\u77e5 \u2192 \u30e6\u30fc\u30b6\u30fc\u627f\u8a8d \u2192 \u30c8\u30fc\u30af\u30f3\u767a\u884c\uff08Token Flow\uff09\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u4e3b\u8981\u30af\u30e9\u30b9\u306e\u8cac\u52d9",children:"\u4e3b\u8981\u30af\u30e9\u30b9\u306e\u8cac\u52d9"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30af\u30e9\u30b9"}),(0,s.jsx)(n.th,{children:"\u5c64"}),(0,s.jsx)(n.th,{children:"\u5f79\u5272"}),(0,s.jsx)(n.th,{children:"\u5b9f\u88c5"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"CibaV1Api"})}),(0,s.jsx)(n.td,{children:"Controller"}),(0,s.jsx)(n.td,{children:"HTTP\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(10338).A+"",children:"CibaV1Api.java"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"CibaFlowEntryService"})}),(0,s.jsx)(n.td,{children:"UseCase"}),(0,s.jsx)(n.td,{children:"\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30fb\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(1144).A+"#L86-L142",children:"CibaFlowEntryService.java:86-142"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"CibaProtocol"})}),(0,s.jsx)(n.td,{children:"Core"}),(0,s.jsx)(n.td,{children:"CIBA\u4ed5\u69d8\u6e96\u62e0\u51e6\u7406"}),(0,s.jsx)(n.td,{children:"Extension Core"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"UserHintResolver"})}),(0,s.jsx)(n.td,{children:"Core"}),(0,s.jsx)(n.td,{children:"login_hint \u2192 User\u89e3\u6c7a\uff08Plugin\uff09"}),(0,s.jsx)(n.td,{children:"Extension Core"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"BackchannelAuthenticationRequest"})}),(0,s.jsx)(n.td,{children:"Core"}),(0,s.jsx)(n.td,{children:"CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\uff085\u5206TTL\uff09"}),(0,s.jsx)(n.td,{children:"Extension Core"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"AuthenticationTransaction"})}),(0,s.jsx)(n.td,{children:"Core"}),(0,s.jsx)(n.td,{children:"\u8a8d\u8a3c\u72b6\u614b\u7ba1\u7406"}),(0,s.jsx)(n.td,{children:"Core Domain"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"ciba\u306e\u7279\u5fb4",children:"CIBA\u306e\u7279\u5fb4"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Authorization Code Flow\u3068\u306e\u9055\u3044"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u274c ",(0,s.jsx)(n.strong,{children:"\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306a\u3057"}),": \u30e6\u30fc\u30b6\u30fc\u306f\u5225\u30c7\u30d0\u30a4\u30b9\u3067\u627f\u8a8d"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"auth_req_id"}),": Authorization Code\u306e\u4ee3\u308f\u308a"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"\u30dd\u30fc\u30ea\u30f3\u30b0"}),": \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u5b9a\u671f\u7684\u306b\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"\u30d7\u30c3\u30b7\u30e5\u901a\u77e5"}),": FCM/APNS/SMS\u3067\u30e6\u30fc\u30b6\u30fc\u306b\u901a\u77e5"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"\u975e\u540c\u671f"}),": \u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u3068\u30c8\u30fc\u30af\u30f3\u53d6\u5f97\u304c\u5206\u96e2"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"ciba\u30d5\u30ed\u30fc",children:"CIBA\u30d5\u30ed\u30fc"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'1. [\u30af\u30e9\u30a4\u30a2\u30f3\u30c8] CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\nPOST /{tenant-id}/v1/backchannel/authentications\n{\n  "login_hint": "user@example.com",\n  "binding_message": "Code: 1234",\n  "client_notification_token": "xxx"  // Push mode\n}\n   \u2193\n2. [idp-server] auth_req_id\u8fd4\u5374\n{\n  "auth_req_id": "auth-req-abc123",\n  "expires_in": 300,\n  "interval": 5  // Poll mode\n}\n   \u2193\n3. [idp-server] \u30e6\u30fc\u30b6\u30fc\u306b\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u9001\u4fe1\nFCM/APNS \u2192 [\u30e6\u30fc\u30b6\u30fc\u306e\u30b9\u30de\u30db]\n\u300cCode: 1234\u3067\u30ed\u30b0\u30a4\u30f3\u627f\u8a8d\u3057\u307e\u3059\u304b\uff1f\u300d\n   \u2193\n4. [\u30e6\u30fc\u30b6\u30fc] \u30b9\u30de\u30db\u3067\u627f\u8a8d\n   \u2193\n5. [idp-server] \u8a8d\u8a3c\u5b8c\u4e86\u3092\u8a18\u9332\n   \u2193\n6. [\u30af\u30e9\u30a4\u30a2\u30f3\u30c8] \u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\uff08\u30dd\u30fc\u30ea\u30f3\u30b0\uff09\nPOST /{tenant-id}/v1/tokens\n{\n  "grant_type": "urn:openid:params:grant-type:ciba",\n  "auth_req_id": "auth-req-abc123",\n  "client_id": "xxx",\n  "client_secret": "yyy"\n}\n   \u2193\n7. [idp-server] Access Token + ID Token\u767a\u884c\n{\n  "access_token": "eyJ...",\n  "id_token": "eyJ...",\n  "token_type": "Bearer"\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8",children:"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'# CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\nPOST /{tenant-id}/v1/backchannel/authentications\n\n# \u30c8\u30fc\u30af\u30f3\u53d6\u5f97\uff08\u30dd\u30fc\u30ea\u30f3\u30b0\uff09\nPOST /{tenant-id}/v1/tokens\n{\n  "grant_type": "urn:openid:params:grant-type:ciba",\n  "auth_req_id": "xxx"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(10338).A+"",children:"CibaV1Api.java"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(1144).A+"",children:"CibaFlowEntryService.java"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"entryservice\u5b9f\u88c5",children:"EntryService\u5b9f\u88c5"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(1144).A+"#L86-L142",children:"CibaFlowEntryService.java:86-142"})]}),"\n",(0,s.jsx)(n.h3,{id:"ciba\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u740610\u30b9\u30c6\u30c3\u30d7",children:"CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\uff0810\u30b9\u30c6\u30c3\u30d7\uff09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Transaction\npublic class CibaFlowEntryService implements CibaFlowApi {\n\n  CibaProtocols cibaProtocols;\n  UserHintResolvers userHintResolvers;\n  AuthenticationInteractors authenticationInteractors;\n  CibaRequestAdditionalVerifiers additionalVerifiers;\n  TenantQueryRepository tenantQueryRepository;\n  AuthenticationTransactionCommandRepository authenticationTransactionCommandRepository;\n  AuthenticationPolicyConfigurationQueryRepository authenticationPolicyConfigurationQueryRepository;\n  CibaFlowEventPublisher eventPublisher;\n\n  @Override\n  public CibaRequestResponse request(\n      TenantIdentifier tenantIdentifier,\n      Map<String, String[]> params,\n      String authorizationHeader,\n      String clientCert,\n      RequestAttributes requestAttributes) {\n\n    // 1. Tenant\u53d6\u5f97\n    Tenant tenant = tenantQueryRepository.get(tenantIdentifier);\n\n    // 2. CibaRequest\u4f5c\u6210\n    CibaRequest cibaRequest = new CibaRequest(tenant, authorizationHeader, params);\n    cibaRequest.setClientCert(clientCert);\n\n    // 3. CibaProtocol\u53d6\u5f97\n    CibaProtocol cibaProtocol = cibaProtocols.get(tenant.authorizationProvider());\n\n    // 4. Core\u5c64\u306b\u59d4\u8b72\uff08UserHintResolver + AdditionalVerifiers\u4f7f\u7528\uff09\n    CibaIssueResponse issueResponse =\n        cibaProtocol.request(cibaRequest, userHintResolvers, additionalVerifiers);\n\n    // 5. \u30a8\u30e9\u30fc\u6642\u306f\u5373\u5ea7\u306b\u8fd4\u5374\n    if (!issueResponse.isOK()) {\n      return issueResponse.toErrorResponse();\n    }\n\n    // 6. \u30a4\u30d9\u30f3\u30c8\u767a\u884c\uff08CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u6210\u529f\uff09\n    eventPublisher.publish(\n        tenant,\n        issueResponse.request(),\n        issueResponse.user(),\n        DefaultSecurityEventType.backchannel_authentication_request_success.toEventType(),\n        requestAttributes);\n\n    // 7. AuthenticationPolicyConfiguration\u53d6\u5f97\n    AuthenticationPolicyConfiguration authenticationPolicyConfiguration =\n        authenticationPolicyConfigurationQueryRepository.find(\n            tenant, StandardAuthFlow.CIBA.toAuthFlow());\n\n    // 8. AuthenticationTransaction\u4f5c\u6210\n    AuthenticationTransaction authenticationTransaction =\n        CibaAuthenticationTransactionCreator.create(\n            tenant, issueResponse, authenticationPolicyConfiguration);\n\n    // 9. \u30c7\u30d5\u30a9\u30eb\u30c8\u8a8d\u8a3c\u5b9f\u884c\uff08\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u9001\u4fe1\uff09\n    AuthenticationInteractionType authenticationInteractionType =\n        issueResponse.defaultCibaAuthenticationInteractionType();\n    AuthenticationInteractor authenticationInteractor =\n        authenticationInteractors.get(authenticationInteractionType);\n\n    AuthenticationInteractionRequestResult interactionRequestResult =\n        authenticationInteractor.interact(\n            tenant,\n            authenticationTransaction,\n            authenticationInteractionType,\n            new AuthenticationInteractionRequest(Map.of()),\n            requestAttributes,\n            userQueryRepository);\n\n    // 10. AuthenticationTransaction\u4fdd\u5b58 + \u30a4\u30d9\u30f3\u30c8\u767a\u884c\n    AuthenticationTransaction updatedTransaction =\n        authenticationTransaction.updateWith(interactionRequestResult);\n    authenticationTransactionCommandRepository.register(tenant, updatedTransaction);\n\n    eventPublisher.publish(\n        tenant,\n        issueResponse.request(),\n        issueResponse.user(),\n        interactionRequestResult.eventType(),\n        requestAttributes);\n\n    return issueResponse.toResponse();\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u30dd\u30a4\u30f3\u30c8",children:"\u30dd\u30a4\u30f3\u30c8"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"UserHintResolvers"}),": login_hint\uff08email/phone/sub\uff09\u304b\u3089User\u3092\u89e3\u6c7a\uff08Plugin\u62e1\u5f35\u53ef\u80fd\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"CibaRequestAdditionalVerifiers"}),": CIBA\u56fa\u6709\u306e\u691c\u8a3c\uff08\u30d1\u30b9\u30ef\u30fc\u30c9\u5fc5\u9808\u7b49\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u8a8d\u8a3c\u5b9f\u884c"}),": CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u70b9\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u9001\u4fe1"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"AuthenticationTransaction"}),": \u8a8d\u8a3c\u72b6\u614b\u3092\u7ba1\u7406\uff08\u30e6\u30fc\u30b6\u30fc\u627f\u8a8d\u5f85\u3061\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"\u30a4\u30d9\u30f3\u30c8\u767a\u884c"}),": 2\u56de\uff08\u30ea\u30af\u30a8\u30b9\u30c8\u6210\u529f\u30fb\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u9001\u4fe1\uff09"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"userhintresolverslogin_hint\u89e3\u6c7a",children:"UserHintResolvers\uff08login_hint\u89e3\u6c7a\uff09"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(67440).A+"",children:"UserHintResolvers.java"})]}),"\n",(0,s.jsx)(n.h3,{id:"login_hint\u306e\u5f62\u5f0f",children:"login_hint\u306e\u5f62\u5f0f"}),"\n",(0,s.jsxs)(n.p,{children:["CIBA\u3067\u306f",(0,s.jsx)(n.code,{children:"login_hint"}),"\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u30e6\u30fc\u30b6\u30fc\u3092\u7279\u5b9a\u3057\u307e\u3059\u3002\u8907\u6570\u306e\u5f62\u5f0f\u3092\u30b5\u30dd\u30fc\u30c8\uff1a"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9"}),(0,s.jsx)(n.th,{children:"\u5f62\u5f0f"}),(0,s.jsx)(n.th,{children:"\u4f8b"}),(0,s.jsx)(n.th,{children:"\u691c\u7d22\u65b9\u6cd5"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"sub:"})}),(0,s.jsx)(n.td,{children:"idp-server\u5185\u90e8\u306e\u30e6\u30fc\u30b6\u30fcID"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"sub:user-uuid-12345"})}),(0,s.jsx)(n.td,{children:"UserIdentifier\u3067\u76f4\u63a5\u53d6\u5f97"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"email:"})}),(0,s.jsx)(n.td,{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"email:user@example.com"})}),(0,s.jsx)(n.td,{children:"email\u3067\u691c\u7d22"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"phone:"})}),(0,s.jsx)(n.td,{children:"\u96fb\u8a71\u756a\u53f7"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"phone:+81-90-1234-5678"})}),(0,s.jsx)(n.td,{children:"phone_number\u3067\u691c\u7d22"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ex-sub:"})}),(0,s.jsx)(n.td,{children:"\u5916\u90e8IdP\u306esub"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ex-sub:google-user-12345:google"})}),(0,s.jsx)(n.td,{children:"external_user_id + provider_id\u3067\u691c\u7d22"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"device:"})}),(0,s.jsx)(n.td,{children:"\u30c7\u30d0\u30a4\u30b9ID"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"device:device-uuid-67890"})}),(0,s.jsx)(n.td,{children:"authentication_device.id\u3067\u691c\u7d22"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"loginhintresolver\u306e\u5b9f\u88c5",children:"LoginHintResolver\u306e\u5b9f\u88c5"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(36607).A+"#L27-L76",children:"LoginHintResolver.java:27-76"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'public class LoginHintResolver implements UserHintResolver {\n\n  @Override\n  public User resolve(\n      Tenant tenant,\n      UserHint userHint,\n      UserHintRelatedParams userHintRelatedParams,\n      UserQueryRepository userQueryRepository) {\n\n    String loginHint = userHint.value();\n\n    // \u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u30de\u30c3\u30c1\u30e3\u30fc\uff085\u7a2e\u985e\uff09\n    List<LoginHintMatcher> matchers = List.of(\n        // 1. sub:user-uuid\n        new PrefixMatcher("sub:", hints -> {\n          UserIdentifier userIdentifier = new UserIdentifier(hints.getLeft());\n          return userQueryRepository.get(tenant, userIdentifier);\n        }),\n\n        // 2. ex-sub:external-sub:provider-id\n        new PrefixMatcher("ex-sub:", hints ->\n            userQueryRepository.findByExternalIdpSubject(\n                tenant, hints.getLeft(), hints.getRight())),\n\n        // 3. device:device-id:provider-id\n        new PrefixMatcher("device:", hints ->\n            userQueryRepository.findByDeviceId(\n                tenant,\n                new AuthenticationDeviceIdentifier(hints.getLeft()),\n                hints.getRight())),\n\n        // 4. phone:+81-90-1234-5678:provider-id\n        new PrefixMatcher("phone:", hints ->\n            userQueryRepository.findByPhone(tenant, hints.getLeft(), hints.getRight())),\n\n        // 5. email:user@example.com:provider-id\n        new PrefixMatcher("email:", hints ->\n            userQueryRepository.findByEmail(tenant, hints.getLeft(), hints.getRight()))\n    );\n\n    // \u6700\u521d\u306b\u30de\u30c3\u30c1\u3057\u305fResolver\u3067User\u89e3\u6c7a\n    return matchers.stream()\n        .filter(matcher -> matcher.matches(loginHint))\n        .findFirst()\n        .map(matcher -> {\n          Pairs<String, String> hints = matcher.extractHints(loginHint);\n          return matcher.resolve(hints);\n        })\n        .orElse(User.notFound());\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u4f7f\u7528\u4f8b",children:"\u4f7f\u7528\u4f8b"}),"\n",(0,s.jsx)(n.h4,{id:"1-email\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",children:"1. email\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8080/${TENANT_ID}/v1/backchannel/authentications" \\\n  -H "Content-Type: application/x-www-form-urlencoded" \\\n  -H "Authorization: Basic $(echo -n \'client:secret\' | base64)" \\\n  -d "login_hint=email:user@example.com&binding_message=Code: 1234&scope=openid"\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u51e6\u7406"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'login_hint="email:user@example.com"\n  \u2193\nPrefixMatcher("email:").matches() \u2192 true\n  \u2193\nextractHints() \u2192 ("user@example.com", "")\n  \u2193\nuserQueryRepository.findByEmail(tenant, "user@example.com", "")\n  \u2193\nUser\u53d6\u5f97\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"2-phone\u756a\u53f7\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",children:"2. phone\u756a\u53f7\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST "..." \\\n  -d "login_hint=phone:+81-90-1234-5678&binding_message=Code: 1234&scope=openid"\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"3-\u30c7\u30d0\u30a4\u30b9id\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",children:"3. \u30c7\u30d0\u30a4\u30b9ID\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a"}),"\n",(0,s.jsx)(n.p,{children:"\u30b9\u30de\u30db\u30a2\u30d7\u30ea\u306e\u30c7\u30d0\u30a4\u30b9ID\u3092\u4f7f\u7528\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST "..." \\\n  -d "login_hint=device:device-uuid-67890&binding_message=Code: 1234&scope=openid"\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"4-\u5916\u90e8idp\u306esub\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a",children:"4. \u5916\u90e8IdP\u306esub\u3067\u30e6\u30fc\u30b6\u30fc\u7279\u5b9a"}),"\n",(0,s.jsx)(n.p,{children:"Google\u7b49\u306e\u5916\u90e8IdP\u3067\u65e2\u306b\u8a8d\u8a3c\u6e08\u307f\u306e\u30e6\u30fc\u30b6\u30fc\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST "..." \\\n  -d "login_hint=ex-sub:google-user-12345:google&binding_message=Code: 1234&scope=openid"\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u30a8\u30e9\u30fc",children:"\u30a8\u30e9\u30fc"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u30e6\u30fc\u30b6\u30fc\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "invalid_request",\n  "error_description": "User not found for login_hint: email:unknown@example.com"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"HTTP Status"}),": ",(0,s.jsx)(n.code,{children:"400 Bad Request"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"ciba-mode",children:"CIBA Mode"}),"\n",(0,s.jsx)(n.p,{children:"CIBA\u306f3\u3064\u306e\u30e2\u30fc\u30c9\u3092\u30b5\u30dd\u30fc\u30c8\uff1a"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Mode"}),(0,s.jsx)(n.th,{children:"\u8aac\u660e"}),(0,s.jsx)(n.th,{children:"\u30c8\u30fc\u30af\u30f3\u53d6\u5f97\u65b9\u6cd5"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Poll"})}),(0,s.jsx)(n.td,{children:"\u30dd\u30fc\u30ea\u30f3\u30b0"}),(0,s.jsx)(n.td,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u5b9a\u671f\u7684\u306b\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Ping"})}),(0,s.jsx)(n.td,{children:"Ping\u901a\u77e5"}),(0,s.jsx)(n.td,{children:"idp-server\u304cclient_notification_endpoint\u306b\u901a\u77e5"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Push"})}),(0,s.jsx)(n.td,{children:"\u30d7\u30c3\u30b7\u30e5"}),(0,s.jsx)(n.td,{children:"idp-server\u304cclient_notification_endpoint\u306b\u30c8\u30fc\u30af\u30f3\u9001\u4fe1"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"poll-mode\u6700\u3082\u4e00\u822c\u7684",children:"Poll Mode\uff08\u6700\u3082\u4e00\u822c\u7684\uff09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'1. CIBA Request\n   \u2193 \u30ec\u30b9\u30dd\u30f3\u30b9\n{\n  "auth_req_id": "xxx",\n  "expires_in": 300,\n  "interval": 5  // 5\u79d2\u3054\u3068\u306b\u30dd\u30fc\u30ea\u30f3\u30b0\n}\n   \u2193\n2. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u30dd\u30fc\u30ea\u30f3\u30b0\uff085\u79d2\u3054\u3068\uff09\nPOST /{tenant-id}/v1/tokens\n{\n  "grant_type": "urn:openid:params:grant-type:ciba",\n  "auth_req_id": "xxx"\n}\n   \u2193 \u30e6\u30fc\u30b6\u30fc\u672a\u627f\u8a8d\u6642\n{\n  "error": "authorization_pending"\n}\n   \u2193 \u30e6\u30fc\u30b6\u30fc\u627f\u8a8d\u5b8c\u4e86\u5f8c\n{\n  "access_token": "eyJ...",\n  "id_token": "eyJ..."\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c"}),"\n",(0,s.jsxs)(n.p,{children:["CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u306f",(0,s.jsx)(n.strong,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u304c\u5fc5\u9808"}),"\u3067\u3059\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u8a73\u7d30"}),": ",(0,s.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/client-authentication",children:"10. Client Authentication\u5b9f\u88c5"})," - 7\u3064\u306e\u8a8d\u8a3c\u65b9\u5f0f\u306e\u5b8c\u5168\u30ac\u30a4\u30c9"]}),"\n",(0,s.jsx)(n.h3,{id:"\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u8a8d\u8a3c\u65b9\u5f0f",children:"\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u8a8d\u8a3c\u65b9\u5f0f"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u8a8d\u8a3c\u65b9\u5f0f"}),(0,s.jsx)(n.th,{children:"\u9001\u4fe1\u65b9\u6cd5"}),(0,s.jsx)(n.th,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ec\u30d9\u30eb"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"client_secret_basic"})}),(0,s.jsx)(n.td,{children:"Basic\u8a8d\u8a3c\u30d8\u30c3\u30c0\u30fc"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"client_secret_post"})}),(0,s.jsx)(n.td,{children:"POST\u30dc\u30c7\u30a3"}),(0,s.jsx)(n.td,{children:"\u2b50"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"client_secret_jwt"})}),(0,s.jsx)(n.td,{children:"JWT\u7f72\u540d\uff08\u5171\u6709\u9375\uff09"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"private_key_jwt"})}),(0,s.jsx)(n.td,{children:"JWT\u7f72\u540d\uff08\u79d8\u5bc6\u9375\uff09"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"tls_client_auth"})}),(0,s.jsx)(n.td,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\uff08MTLS\uff09"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"client_secret_basic-\u306e\u4f8b",children:"client_secret_basic \u306e\u4f8b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8080/${TENANT_ID}/v1/backchannel/authentications" \\\n  -H "Content-Type: application/x-www-form-urlencoded" \\\n  -H "Authorization: Basic $(echo -n \'my-client:my-secret\' | base64)" \\\n  -d "login_hint=user@example.com&binding_message=Code: 1234&scope=openid profile"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"client_secret_post-\u306e\u4f8b",children:"client_secret_post \u306e\u4f8b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8080/${TENANT_ID}/v1/backchannel/authentications" \\\n  -H "Content-Type: application/x-www-form-urlencoded" \\\n  -d "login_hint=user@example.com&binding_message=Code: 1234&scope=openid profile&client_id=my-client&client_secret=my-secret"\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8ciba-grant-type",children:"\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\uff08CIBA Grant Type\uff09"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,s.jsx)(n.a,{href:"../../../../libs/idp-server-core-extension-ciba/src/main/java/org/idp/server/core/extension/ciba/grant/CibaGrantService.java",children:"CibaGrantService.java"})]}),"\n",(0,s.jsx)(n.h3,{id:"\u30ea\u30af\u30a8\u30b9\u30c8",children:"\u30ea\u30af\u30a8\u30b9\u30c8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"POST /{tenant-id}/v1/tokens\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic base64(client_id:client_secret)\n\ngrant_type=urn:openid:params:grant-type:ciba&auth_req_id=8d67dc78-7faa-4d41-aabd-67707b374255\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u51e6\u7406\u30d5\u30ed\u30fc",children:"\u51e6\u7406\u30d5\u30ed\u30fc"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"CibaGrantService.create()\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 1. Validator\uff08\u5165\u529b\u5f62\u5f0f\u30c1\u30a7\u30c3\u30af\uff09                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  - auth_req_id\u5fc5\u9808\u30c1\u30a7\u30c3\u30af                            \u2502\n\u2502  - grant_type\u691c\u8a3c                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 2. BackchannelAuthenticationRequest\u53d6\u5f97              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  - auth_req_id\u3067BackchannelAuthenticationRequest\u691c\u7d22 \u2502\n\u2502  - \u5b58\u5728\u3057\u306a\u3044 \u2192 invalid_grant \u30a8\u30e9\u30fc                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 3. Verifier\uff08\u30d3\u30b8\u30cd\u30b9\u30eb\u30fc\u30eb\u691c\u8a3c\uff09                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  - \u6709\u52b9\u671f\u9650\u30c1\u30a7\u30c3\u30af\uff085\u5206\u4ee5\u5185\uff09                         \u2502\n\u2502  - \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e00\u81f4\u30c1\u30a7\u30c3\u30af                            \u2502\n\u2502  - \u30e6\u30fc\u30b6\u30fc\u627f\u8a8d\u6e08\u307f\u30c1\u30a7\u30c3\u30af                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 4. \u627f\u8a8d\u72b6\u614b\u30c1\u30a7\u30c3\u30af                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  - \u627f\u8a8d\u5f85\u3061 \u2192 authorization_pending                  \u2502\n\u2502  - \u30e6\u30fc\u30b6\u30fc\u62d2\u5426 \u2192 access_denied                       \u2502\n\u2502  - \u627f\u8a8d\u5b8c\u4e86 \u2192 \u30c8\u30fc\u30af\u30f3\u767a\u884c\u3078                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193 \u627f\u8a8d\u5b8c\u4e86\u306e\u5834\u5408\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 5. \u30c8\u30fc\u30af\u30f3\u751f\u6210                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  - Access Token\u751f\u6210\uff08JWT\u3001\u30c7\u30d5\u30a9\u30eb\u30c81\u6642\u9593\u6709\u52b9\uff09        \u2502\n\u2502  - Refresh Token\u751f\u6210\uff08\u8a2d\u5b9a\u306b\u3088\u308b\uff09                     \u2502\n\u2502  - ID Token\u751f\u6210\uff08nonce/at_hash/c_hash\u542b\u3080\uff09          \u2502\n\u2502  - BackchannelAuthenticationRequest\u524a\u9664\uff08\u30ef\u30f3\u30bf\u30a4\u30e0\uff09  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193\nOAuthToken\uff08Access/Refresh/ID Token\uff09\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u30ec\u30b9\u30dd\u30f3\u30b9\u30d1\u30bf\u30fc\u30f3",children:"\u30ec\u30b9\u30dd\u30f3\u30b9\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,s.jsx)(n.h4,{id:"1-\u627f\u8a8d\u5f85\u3061authorization_pending",children:"1. \u627f\u8a8d\u5f85\u3061\uff08authorization_pending\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u30e6\u30fc\u30b6\u30fc\u304c\u307e\u3060\u30b9\u30de\u30db\u3067\u627f\u8a8d\u3057\u3066\u3044\u306a\u3044\u72b6\u614b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "authorization_pending",\n  "error_description": "The authorization request is still pending"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"HTTP Status"}),": ",(0,s.jsx)(n.code,{children:"400 Bad Request"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5bfe\u51e6"}),": ",(0,s.jsx)(n.code,{children:"interval"}),"\u79d2\u5f85\u6a5f\u3057\u3066\u30ea\u30c8\u30e9\u30a4\uff08\u30c7\u30d5\u30a9\u30eb\u30c85\u79d2\uff09"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"2-\u627f\u8a8d\u5b8c\u4e86\u30c8\u30fc\u30af\u30f3\u767a\u884c",children:"2. \u627f\u8a8d\u5b8c\u4e86\uff08\u30c8\u30fc\u30af\u30f3\u767a\u884c\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u30e6\u30fc\u30b6\u30fc\u304c\u30b9\u30de\u30db\u3067\u627f\u8a8d\u3057\u305f\u5f8c\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",\n  "token_type": "Bearer",\n  "expires_in": 3600,\n  "refresh_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",\n  "id_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",\n  "scope": "openid profile email"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"HTTP Status"}),": ",(0,s.jsx)(n.code,{children:"200 OK"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u91cd\u8981"}),": auth_req_id\u306f\u524a\u9664\u3055\u308c\u308b\uff08\u30ef\u30f3\u30bf\u30a4\u30e0\u4f7f\u7528\uff09"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"3-\u30e6\u30fc\u30b6\u30fc\u62d2\u5426access_denied",children:"3. \u30e6\u30fc\u30b6\u30fc\u62d2\u5426\uff08access_denied\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u30e6\u30fc\u30b6\u30fc\u304c\u30b9\u30de\u30db\u3067\u62d2\u5426\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u5834\u5408\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "access_denied",\n  "error_description": "The resource owner denied the request"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"HTTP Status"}),": ",(0,s.jsx)(n.code,{children:"400 Bad Request"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5bfe\u51e6"}),": \u65b0\u3057\u3044CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"4-\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8expired_token",children:"4. \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\uff08expired_token\uff09"}),"\n",(0,s.jsx)(n.p,{children:"auth_req_id\u306e\u6709\u52b9\u671f\u9650\uff085\u5206\uff09\u304c\u5207\u308c\u305f\u5834\u5408\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": "expired_token",\n  "error_description": "The auth_req_id has expired"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"HTTP Status"}),": ",(0,s.jsx)(n.code,{children:"400 Bad Request"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u5bfe\u51e6"}),": \u65b0\u3057\u3044CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u30dd\u30fc\u30ea\u30f3\u30b0\u4ed5\u69d8openid-connect-ciba\u6e96\u62e0",children:"\u30dd\u30fc\u30ea\u30f3\u30b0\u4ed5\u69d8\uff08OpenID Connect CIBA\u6e96\u62e0\uff09"}),"\n",(0,s.jsx)(n.h3,{id:"interval\u30dd\u30fc\u30ea\u30f3\u30b0\u9593\u9694",children:"interval\uff08\u30dd\u30fc\u30ea\u30f3\u30b0\u9593\u9694\uff09"}),"\n",(0,s.jsxs)(n.p,{children:["CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u8fd4\u3055\u308c\u308b",(0,s.jsx)(n.code,{children:"interval"}),"\u3092\u53b3\u5b88\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "auth_req_id": "xxx",\n  "expires_in": 300,\n  "interval": 5  // \u3053\u306e\u79d2\u6570\u3054\u3068\u306b\u30dd\u30fc\u30ea\u30f3\u30b0\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"RFC\u4ed5\u69d8"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f",(0,s.jsxs)(n.strong,{children:["\u6700\u4f4e\u3067\u3082",(0,s.jsx)(n.code,{children:"interval"}),"\u79d2"]}),"\u5f85\u6a5f\u3057\u3066\u304b\u3089\u30ea\u30c8\u30e9\u30a4"]}),"\n",(0,s.jsxs)(n.li,{children:["interval\u672a\u6e80\u3067\u30ea\u30af\u30a8\u30b9\u30c8 \u2192 ",(0,s.jsx)(n.code,{children:"slow_down"}),"\u30a8\u30e9\u30fc"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"slow_down"}),"\u53d7\u4fe1\u6642 \u2192 interval\u30925\u79d2\u5ef6\u9577"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4f8b"}),": interval=5\u306e\u5834\u5408"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"0\u79d2: CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\n5\u79d2: 1\u56de\u76ee\u306e\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8 \u2192 authorization_pending\n10\u79d2: 2\u56de\u76ee\u306e\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8 \u2192 authorization_pending\n15\u79d2: 3\u56de\u76ee\u306e\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8 \u2192 \u30c8\u30fc\u30af\u30f3\u767a\u884c\u6210\u529f\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"expires_in\u6709\u52b9\u671f\u9650",children:"expires_in\uff08\u6709\u52b9\u671f\u9650\uff09"}),"\n",(0,s.jsxs)(n.p,{children:["auth_req_id\u306f",(0,s.jsx)(n.code,{children:"expires_in"}),"\u79d2\u9593\u306e\u307f\u6709\u52b9\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "auth_req_id": "xxx",\n  "expires_in": 300  // 300\u79d2 = 5\u5206\u9593\u6709\u52b9\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u52d5\u4f5c"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"5\u5206\u4ee5\u5185\u306b\u30e6\u30fc\u30b6\u30fc\u627f\u8a8d \u2192 \u30c8\u30fc\u30af\u30f3\u767a\u884c\u53ef\u80fd"}),"\n",(0,s.jsxs)(n.li,{children:["5\u5206\u7d4c\u904e\u5f8c \u2192 ",(0,s.jsx)(n.code,{children:"expired_token"}),"\u30a8\u30e9\u30fc"]}),"\n",(0,s.jsx)(n.li,{children:"\u30c8\u30fc\u30af\u30f3\u767a\u884c\u5f8c \u2192 auth_req_id\u524a\u9664\uff08\u518d\u5229\u7528\u4e0d\u53ef\uff09"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"auth_req_id-\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb",children:"auth_req_id \u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb"}),"\n",(0,s.jsx)(n.h3,{id:"\u4f5c\u6210--\u4f7f\u7528--\u524a\u9664",children:"\u4f5c\u6210 \u2192 \u4f7f\u7528 \u2192 \u524a\u9664"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"1. CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\n   \u2192 BackchannelAuthenticationRequest\u4f5c\u6210\n   \u2192 auth_req_id\u751f\u6210\uff08UUID\uff09\n   \u2192 Redis + DB\u4fdd\u5b58\uff085\u5206TTL\uff09\n\n2. \u30e6\u30fc\u30b6\u30fc\u627f\u8a8d\u5f85\u3061\n   \u2192 \u30dd\u30fc\u30ea\u30f3\u30b0: authorization_pending\n   \u2192 AuthenticationTransaction\u66f4\u65b0\uff08\u627f\u8a8d\u72b6\u614b\uff09\n\n3. \u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\uff08\u627f\u8a8d\u5b8c\u4e86\u5f8c\uff09\n   \u2192 BackchannelAuthenticationRequest\u53d6\u5f97\n   \u2192 \u30c8\u30fc\u30af\u30f3\u751f\u6210\n   \u2192 BackchannelAuthenticationRequest\u524a\u9664  \u2190 \u30ef\u30f3\u30bf\u30a4\u30e0\n\n4. \u518d\u5ea6\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\n   \u2192 BackchannelAuthenticationRequest\u4e0d\u5b58\u5728\n   \u2192 invalid_grant \u30a8\u30e9\u30fc\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u91cd\u8981"}),": Authorization Code\u3068\u540c\u3058\u304f\u3001",(0,s.jsx)(n.strong,{children:"\u4f7f\u7528\u5f8c\u5373\u524a\u9664"}),"\u3055\u308c\u308b\uff08",(0,s.jsx)(n.code,{children:"used"}),"\u30d5\u30e9\u30b0\u3067\u306f\u306a\u3044\uff09"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"backchannelauthenticationrequest-vs-authenticationtransaction",children:"BackchannelAuthenticationRequest vs AuthenticationTransaction"}),"\n",(0,s.jsx)(n.p,{children:"2\u3064\u306e\u7570\u306a\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u4f7f\u308f\u308c\u307e\u3059\uff1a"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8"}),(0,s.jsx)(n.th,{children:"\u5f79\u5272"}),(0,s.jsx)(n.th,{children:"\u4f5c\u6210\u30bf\u30a4\u30df\u30f3\u30b0"}),(0,s.jsx)(n.th,{children:"\u524a\u9664\u30bf\u30a4\u30df\u30f3\u30b0"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"BackchannelAuthenticationRequest"})}),(0,s.jsx)(n.td,{children:"CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u60c5\u5831"}),(0,s.jsx)(n.td,{children:"CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u6642"}),(0,s.jsx)(n.td,{children:"\u30c8\u30fc\u30af\u30f3\u767a\u884c\u5f8c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"AuthenticationTransaction"})}),(0,s.jsx)(n.td,{children:"\u8a8d\u8a3c\u72b6\u614b\u7ba1\u7406"}),(0,s.jsx)(n.td,{children:"CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u6642"}),(0,s.jsx)(n.td,{children:"\u8a8d\u8a3c\u5b8c\u4e86 or \u5931\u6557 or \u30ed\u30c3\u30af\u6642"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"backchannelauthenticationrequest",children:"BackchannelAuthenticationRequest"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4fdd\u5b58\u3055\u308c\u308b\u60c5\u5831"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'- auth_req_id: UUID\n- client_id: \u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID\n- login_hint: \u30e6\u30fc\u30b6\u30fc\u30d2\u30f3\u30c8\n- binding_message: "Code: 1234"\n- scope: "openid profile email"\n- expiresAt: \u73fe\u5728\u6642\u523b+5\u5206\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u7528\u9014"}),": \u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306e\u691c\u8a3c\uff08\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e00\u81f4\u30fb\u6709\u52b9\u671f\u9650\u7b49\uff09"]}),"\n",(0,s.jsx)(n.h3,{id:"authenticationtransaction",children:"AuthenticationTransaction"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4fdd\u5b58\u3055\u308c\u308b\u60c5\u5831"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'- identifier: auth-req-12345\n- authorizationIdentifier: auth-req-12345\n- authenticationPolicy: \u8a8d\u8a3c\u30dd\u30ea\u30b7\u30fc\n- interactionResults: {"push_notification": {successCount: 0, attemptCount: 1}}\n- request.user: User(sub=user-12345)\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u7528\u9014"}),": \u30e6\u30fc\u30b6\u30fc\u627f\u8a8d\u72b6\u614b\u306e\u7ba1\u7406\uff08\u627f\u8a8d\u5f85\u3061\u30fb\u627f\u8a8d\u5b8c\u4e86\u30fb\u62d2\u5426\uff09"]}),"\n",(0,s.jsx)(n.h3,{id:"\u4f7f\u3044\u5206\u3051",children:"\u4f7f\u3044\u5206\u3051"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8:\n  BackchannelAuthenticationRequest\u4f5c\u6210\uff08auth_req_id\u767a\u884c\uff09\n  AuthenticationTransaction\u4f5c\u6210\uff08\u8a8d\u8a3c\u72b6\u614b\u7ba1\u7406\uff09\n  \u2193\n\u30e6\u30fc\u30b6\u30fc\u627f\u8a8d:\n  AuthenticationTransaction\u66f4\u65b0\uff08interactionResults\u66f4\u65b0\uff09\n  \u2193\n\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8:\n  BackchannelAuthenticationRequest\u691c\u8a3c\uff08\u6709\u52b9\u671f\u9650\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff09\n  AuthenticationTransaction\u78ba\u8a8d\uff08\u627f\u8a8d\u6e08\u307f\u304b\uff09\n  \u30c8\u30fc\u30af\u30f3\u767a\u884c\n  BackchannelAuthenticationRequest\u524a\u9664\n  AuthenticationTransaction\u524a\u9664\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",children:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8"}),"\n",(0,s.jsx)(n.p,{children:"CIBA\u5b9f\u88c5\u6642\u306e\u78ba\u8a8d\u9805\u76ee\uff1a"}),"\n",(0,s.jsx)(n.h3,{id:"entryserviceusecase\u5c64",children:"EntryService\uff08UseCase\u5c64\uff09"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","CibaRequest\u4f5c\u6210"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","UserHintResolvers\u4f7f\u7528\uff08login_hint\u89e3\u6c7a\uff09"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","AuthenticationTransaction\u4f5c\u6210"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u9001\u4fe1"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"core\u5c64cibaprotocol",children:"Core\u5c64\uff08CibaProtocol\uff09"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","login_hint\u691c\u8a3c"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","binding_message\u691c\u8a3c"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","BackchannelAuthenticationRequest\u751f\u6210"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"e2e\u30c6\u30b9\u30c8",children:"E2E\u30c6\u30b9\u30c8"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Poll mode\u30c6\u30b9\u30c8"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u30e6\u30fc\u30b6\u30fc\u627f\u8a8d\u30c6\u30b9\u30c8"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\u30e6\u30fc\u30b6\u30fc\u62d2\u5426\u30c6\u30b9\u30c8"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc",children:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc"}),"\n",(0,s.jsxs)(n.h3,{id:"\u30a8\u30e9\u30fc1-authorization_pending---\u8a8d\u8a3c\u5f85\u3061",children:["\u30a8\u30e9\u30fc1: ",(0,s.jsx)(n.code,{children:"authorization_pending"})," - \u8a8d\u8a3c\u5f85\u3061"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30e6\u30fc\u30b6\u30fc\u304c\u307e\u3060\u627f\u8a8d\u3057\u3066\u3044\u306a\u3044"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),": \u30dd\u30fc\u30ea\u30f3\u30b0\u7d99\u7d9a\uff08interval\u79d2\u5f85\u6a5f\uff09"]}),"\n",(0,s.jsxs)(n.h3,{id:"\u30a8\u30e9\u30fc2-access_denied---\u30e6\u30fc\u30b6\u30fc\u304c\u62d2\u5426",children:["\u30a8\u30e9\u30fc2: ",(0,s.jsx)(n.code,{children:"access_denied"})," - \u30e6\u30fc\u30b6\u30fc\u304c\u62d2\u5426"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30e6\u30fc\u30b6\u30fc\u304c\u30b9\u30de\u30db\u3067\u62d2\u5426\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),": \u65b0\u3057\u3044CIBA\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,s.jsx)(n.p,{children:"\u2705 CIBA Flow\u306e\u5b9f\u88c5\u3092\u7406\u89e3\u3057\u305f\uff01"}),"\n",(0,s.jsx)(n.h3,{id:"-\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",children:"\ud83d\udcd6 \u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/identity-verification",children:"07. Identity Verification\u5b9f\u88c5"})," - \u8eab\u5143\u78ba\u8a8d\u7533\u8fbc\u307f"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"-\u8a73\u7d30\u60c5\u5831",children:"\ud83d\udd17 \u8a73\u7d30\u60c5\u5831"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../../../content_10_ai_developer/ai-31-extension-ciba.md",children:"AI\u958b\u767a\u8005\u5411\u3051: CIBA Extension"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html",children:"OpenID Connect CIBA Core 1.0"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(1144).A+"",children:"CibaFlowEntryService.java"}),"\n",(0,s.jsx)(n.strong,{children:"\u6700\u7d42\u66f4\u65b0"}),": 2025-10-12"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},36607:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/LoginHintResolver-f16f40e9cee746e21db99a9f47323675.java"},67440:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/UserHintResolvers-76b8edb7b5b28c5c80d6ba5561fa97a9.java"},10338:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/CibaV1Api-0e6c1255b00ee2b3703fb4b3ac4f6779.java"},1144:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/CibaFlowEntryService-b729ba2685553d05a00e07077eb96868.java"},28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var t=i(96540);const s={},r=t.createContext(s);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);