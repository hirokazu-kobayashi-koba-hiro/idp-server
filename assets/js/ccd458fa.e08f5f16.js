"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5969],{87292:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"content_06_developer-guide/application-plane/authorization-flow","title":"Authorization Code Flow\u5b9f\u88c5\u30ac\u30a4\u30c9","description":"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684","source":"@site/docs/content_06_developer-guide/03-application-plane/02-authorization-flow.md","sourceDirName":"content_06_developer-guide/03-application-plane","slug":"/content_06_developer-guide/application-plane/authorization-flow","permalink":"/idp-server/docs/content_06_developer-guide/application-plane/authorization-flow","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_06_developer-guide/03-application-plane/02-authorization-flow.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"docs","previous":{"title":"Application Plane - OAuth/OIDC\u8a8d\u8a3c\u30d5\u30ed\u30fc\u6982\u8981","permalink":"/idp-server/docs/content_06_developer-guide/application-plane/overview"},"next":{"title":"Token Endpoint\u5b9f\u88c5\u30ac\u30a4\u30c9","permalink":"/idp-server/docs/content_06_developer-guide/application-plane/token-endpoint"}}');var r=i(74848),s=i(28453);const o={},d="Authorization Code Flow\u5b9f\u88c5\u30ac\u30a4\u30c9",c={},a=[{value:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",level:2},{value:"\u6240\u8981\u6642\u9593",id:"\u6240\u8981\u6642\u9593",level:3},{value:"\u524d\u63d0\u77e5\u8b58",id:"\u524d\u63d0\u77e5\u8b58",level:3},{value:"Authorization Code Flow\u3068\u306f",id:"authorization-code-flow\u3068\u306f",level:2},{value:"\u306a\u305c\u3053\u306e\u30d5\u30ed\u30fc\u304c\u5fc5\u8981\u306a\u306e\u304b\uff1f",id:"\u306a\u305c\u3053\u306e\u30d5\u30ed\u30fc\u304c\u5fc5\u8981\u306a\u306e\u304b",level:3},{value:"\u5b9f\u88c5\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5168\u4f53\u50cf",id:"\u5b9f\u88c5\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5168\u4f53\u50cf",level:2},{value:"30\u79d2\u3067\u7406\u89e3\u3059\u308b\u5168\u4f53\u50cf",id:"30\u79d2\u3067\u7406\u89e3\u3059\u308b\u5168\u4f53\u50cf",level:3},{value:"\u4e3b\u8981\u30af\u30e9\u30b9\u306e\u8cac\u52d9",id:"\u4e3b\u8981\u30af\u30e9\u30b9\u306e\u8cac\u52d9",level:3},{value:"\u4e3b\u8981\u30c9\u30e1\u30a4\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8",id:"\u4e3b\u8981\u30c9\u30e1\u30a4\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8",level:3},{value:"Core\u5c64\u306e\u8a73\u7d30\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",id:"core\u5c64\u306e\u8a73\u7d30\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",level:3},{value:"3\u3064\u306e\u30d5\u30a7\u30fc\u30ba\u306e\u51e6\u7406\u30d5\u30ed\u30fc",id:"3\u3064\u306e\u30d5\u30a7\u30fc\u30ba\u306e\u51e6\u7406\u30d5\u30ed\u30fc",level:2},{value:"Phase 1: Authorization Request\uff08\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\uff09",id:"phase-1-authorization-request\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8",level:3},{value:"Phase 2: User Authentication\uff08\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\uff09",id:"phase-2-user-authentication\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c",level:3},{value:"Phase 3: Authorization Approve\uff08\u8a8d\u53ef\u627f\u8a8d\uff09",id:"phase-3-authorization-approve\u8a8d\u53ef\u627f\u8a8d",level:3},{value:"\u30ea\u30af\u30a8\u30b9\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3",id:"\u30ea\u30af\u30a8\u30b9\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3",level:2},{value:"\u5fc5\u9808\u30d1\u30e9\u30e1\u30fc\u30bf",id:"\u5fc5\u9808\u30d1\u30e9\u30e1\u30fc\u30bf",level:3},{value:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",id:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",level:3},{value:"Validator: \u5165\u529b\u5f62\u5f0f\u30c1\u30a7\u30c3\u30af",id:"validator-\u5165\u529b\u5f62\u5f0f\u30c1\u30a7\u30c3\u30af",level:3},{value:"Verifier: \u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308b\u6bb5\u968e\u7684\u691c\u8a3c",id:"verifier-\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308b\u6bb5\u968e\u7684\u691c\u8a3c",level:3},{value:"OAuth2RequestVerifier \u306e\u691c\u8a3c\u8a73\u7d30",id:"oauth2requestverifier-\u306e\u691c\u8a3c\u8a73\u7d30",level:3},{value:"Validator vs Verifier \u306e\u9055\u3044\uff08\u5b9f\u88c5\u30d9\u30fc\u30b9\uff09",id:"validator-vs-verifier-\u306e\u9055\u3044\u5b9f\u88c5\u30d9\u30fc\u30b9",level:3},{value:"\u30c7\u30fc\u30bf\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb",id:"\u30c7\u30fc\u30bf\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb",level:2},{value:"Authorization Code \u306e\u4e00\u751f",id:"authorization-code-\u306e\u4e00\u751f",level:3},{value:"AuthorizationRequest \u306e\u4e00\u751f",id:"authorizationrequest-\u306e\u4e00\u751f",level:3},{value:"\u5b9f\u969b\u306b\u52d5\u304b\u3057\u3066\u307f\u308b",id:"\u5b9f\u969b\u306b\u52d5\u304b\u3057\u3066\u307f\u308b",level:2},{value:"\u524d\u63d0\u6761\u4ef6",id:"\u524d\u63d0\u6761\u4ef6",level:3},{value:"Step-by-Step\u5b9f\u884c",id:"step-by-step\u5b9f\u884c",level:3},{value:"1. Authorization Request\uff08\u30d6\u30e9\u30a6\u30b6\u3067\u5b9f\u884c\uff09",id:"1-authorization-request\u30d6\u30e9\u30a6\u30b6\u3067\u5b9f\u884c",level:4},{value:"2. User Authentication\uff08curl\u3067\u5b9f\u884c\uff09",id:"2-user-authenticationcurl\u3067\u5b9f\u884c",level:4},{value:"3. Authorization Approve\uff08curl\u3067\u5b9f\u884c\uff09",id:"3-authorization-approvecurl\u3067\u5b9f\u884c",level:4},{value:"4. Authorization Code\u62bd\u51fa",id:"4-authorization-code\u62bd\u51fa",level:4},{value:"5. Token Request",id:"5-token-request",level:4},{value:"\u30c7\u30d0\u30c3\u30b0\u306e\u30d2\u30f3\u30c8",id:"\u30c7\u30d0\u30c3\u30b0\u306e\u30d2\u30f3\u30c8",level:3},{value:"PAR\uff08Pushed Authorization Request\uff09",id:"parpushed-authorization-request",level:2},{value:"\u901a\u5e38\u306eAuthorization Request\u3068\u306e\u9055\u3044",id:"\u901a\u5e38\u306eauthorization-request\u3068\u306e\u9055\u3044",level:3},{value:"PAR\u4f7f\u7528\u30d5\u30ed\u30fc",id:"par\u4f7f\u7528\u30d5\u30ed\u30fc",level:3},{value:"E2E\u30c6\u30b9\u30c8\u4f8b",id:"e2e\u30c6\u30b9\u30c8\u4f8b",level:2},{value:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc\u3068\u5bfe\u51e6\u6cd5",id:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc\u3068\u5bfe\u51e6\u6cd5",level:2},{value:"\u30a8\u30e9\u30fc1: <code>invalid_request</code> - redirect_uri\u4e0d\u4e00\u81f4",id:"\u30a8\u30e9\u30fc1-invalid_request---redirect_uri\u4e0d\u4e00\u81f4",level:3},{value:"\u30a8\u30e9\u30fc2: <code>unsupported_response_type</code> - \u672a\u30b5\u30dd\u30fc\u30c8\u306eresponse_type",id:"\u30a8\u30e9\u30fc2-unsupported_response_type---\u672a\u30b5\u30dd\u30fc\u30c8\u306eresponse_type",level:3},{value:"\u30a8\u30e9\u30fc3: <code>invalid_scope</code> - \u7121\u52b9\u306ascope",id:"\u30a8\u30e9\u30fc3-invalid_scope---\u7121\u52b9\u306ascope",level:3},{value:"\u30a8\u30e9\u30fc4: \u8a8d\u8a3c\u672a\u5b8c\u4e86\u3067<code>/authorize</code>\u5b9f\u884c",id:"\u30a8\u30e9\u30fc4-\u8a8d\u8a3c\u672a\u5b8c\u4e86\u3067authorize\u5b9f\u884c",level:3},{value:"\u30a8\u30e9\u30fc5: Authorization Code\u671f\u9650\u5207\u308c",id:"\u30a8\u30e9\u30fc5-authorization-code\u671f\u9650\u5207\u308c",level:3},{value:"\u30a8\u30e9\u30fc6: Authorization Code\u518d\u5229\u7528",id:"\u30a8\u30e9\u30fc6-authorization-code\u518d\u5229\u7528",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2},{value:"\ud83d\udcd6 \u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",id:"-\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",level:3},{value:"\ud83d\udd17 \u8a73\u7d30\u60c5\u5831",id:"-\u8a73\u7d30\u60c5\u5831",level:3}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"authorization-code-flow\u5b9f\u88c5\u30ac\u30a4\u30c9",children:"Authorization Code Flow\u5b9f\u88c5\u30ac\u30a4\u30c9"})}),"\n",(0,r.jsx)(n.h2,{id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authorization Code Flow"}),"\uff08OAuth 2.0\u3067\u6700\u3082\u4e00\u822c\u7684\u306a\u8a8d\u53ef\u30d5\u30ed\u30fc\uff09\u306e\u5b9f\u88c5\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u76ee\u6a19\u3067\u3059\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u6240\u8981\u6642\u9593",children:"\u6240\u8981\u6642\u9593"}),"\n",(0,r.jsxs)(n.p,{children:["\u23f1\ufe0f ",(0,r.jsx)(n.strong,{children:"\u7d0445\u5206"})]}),"\n",(0,r.jsx)(n.h3,{id:"\u524d\u63d0\u77e5\u8b58",children:"\u524d\u63d0\u77e5\u8b58"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/overview",children:"01. Application Plane\u6982\u8981"})}),"\n",(0,r.jsxs)(n.li,{children:["OAuth 2.0\u57fa\u790e\u77e5\u8b58\uff08",(0,r.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc6749",children:"RFC 6749"}),"\uff09"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"authorization-code-flow\u3068\u306f",children:"Authorization Code Flow\u3068\u306f"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"3\u3064\u306e\u30b9\u30c6\u30c3\u30d7"}),"\u3067\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b\u8a8d\u53ef\u30d5\u30ed\u30fc\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"1. Authorization Request\uff08\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\uff09\n   \u2193\n2. User Authentication\uff08\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\uff09\n   \u2193\n3. Token Request\uff08\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\uff09\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"RFC 6749 Section 4.1\u6e96\u62e0"})}),"\n",(0,r.jsx)(n.h3,{id:"\u306a\u305c\u3053\u306e\u30d5\u30ed\u30fc\u304c\u5fc5\u8981\u306a\u306e\u304b",children:"\u306a\u305c\u3053\u306e\u30d5\u30ed\u30fc\u304c\u5fc5\u8981\u306a\u306e\u304b\uff1f"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u7406\u7531"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u3092\u30d6\u30e9\u30a6\u30b6\u306b\u9732\u51fa\u3057\u306a\u3044"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u304cURL\u306b\u542b\u307e\u308c\u306a\u3044\uff08\u30d6\u30e9\u30a6\u30b6\u5c65\u6b74\u306b\u6b8b\u3089\u306a\u3044\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u8a8d\u53ef\u30b3\u30fc\u30c9\u306f1\u56de\u9650\u308a\u4f7f\u7528\u53ef\u80fd\uff08\u30ea\u30d7\u30ec\u30a4\u653b\u6483\u9632\u6b62\uff09"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u4f7f\u7528\u5834\u9762"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff08\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u3067\u52d5\u4f5c\uff09"}),"\n",(0,r.jsx)(n.li,{children:"SPA\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff08PKCE\u4f75\u7528\uff09"}),"\n",(0,r.jsx)(n.li,{children:"\u30e2\u30d0\u30a4\u30eb\u30a2\u30d7\u30ea\uff08PKCE\u5fc5\u9808\uff09"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u5b9f\u88c5\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5168\u4f53\u50cf",children:"\u5b9f\u88c5\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5168\u4f53\u50cf"}),"\n",(0,r.jsx)(n.h3,{id:"30\u79d2\u3067\u7406\u89e3\u3059\u308b\u5168\u4f53\u50cf",children:"30\u79d2\u3067\u7406\u89e3\u3059\u308b\u5168\u4f53\u50cf"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"HTTP\u30ea\u30af\u30a8\u30b9\u30c8\n    \u2193\nController (OAuthV1Api) - HTTP\u51e6\u7406\n    \u2193\nEntryService (OAuthFlowEntryService) - \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u7ba1\u7406\n    \u2193\nCore\u5c64 (OAuthProtocol) - OAuth\u4ed5\u69d8\u6e96\u62e0\u30ed\u30b8\u30c3\u30af\n    \u2193\nRepository - \u30c7\u30fc\u30bf\u6c38\u7d9a\u5316\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4e3b\u8981\u30af\u30e9\u30b9\u306e\u8cac\u52d9",children:"\u4e3b\u8981\u30af\u30e9\u30b9\u306e\u8cac\u52d9"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30af\u30e9\u30b9"}),(0,r.jsx)(n.th,{children:"\u5f79\u5272"}),(0,r.jsx)(n.th,{children:"\u4e3b\u306a\u51e6\u7406"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"OAuthV1Api"})}),(0,r.jsx)(n.td,{children:"HTTP\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"}),(0,r.jsx)(n.td,{children:"\u30d1\u30e9\u30e1\u30fc\u30bf\u53d7\u3051\u53d6\u308a\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u8fd4\u5374"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"OAuthFlowEntryService"})}),(0,r.jsx)(n.td,{children:"\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3"}),(0,r.jsx)(n.td,{children:"\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3001\u30a4\u30d9\u30f3\u30c8\u767a\u884c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"OAuthProtocol"})}),(0,r.jsx)(n.td,{children:"OAuth\u4ed5\u69d8\u5b9f\u88c5"}),(0,r.jsx)(n.td,{children:"\u691c\u8a3c\u3001AuthorizationRequest\u4f5c\u6210\u3001Code\u767a\u884c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"OAuthRequestHandler"})}),(0,r.jsx)(n.td,{children:"\u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406"}),(0,r.jsx)(n.td,{children:"Validator\u3001Verifier\u5b9f\u884c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"OAuthAuthorizeHandler"})}),(0,r.jsx)(n.td,{children:"Code\u767a\u884c\u51e6\u7406"}),(0,r.jsx)(n.td,{children:"\u8a8d\u8a3c\u78ba\u8a8d\u3001Authorization Code\u751f\u6210"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u4e3b\u8981\u30c9\u30e1\u30a4\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8",children:"\u4e3b\u8981\u30c9\u30e1\u30a4\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8"}),(0,r.jsx)(n.th,{children:"\u8aac\u660e"}),(0,r.jsx)(n.th,{children:"\u4fdd\u5b58\u5834\u6240"}),(0,r.jsx)(n.th,{children:"\u6709\u52b9\u671f\u9650"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"AuthorizationRequest"})}),(0,r.jsx)(n.td,{children:"\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u60c5\u5831"}),(0,r.jsx)(n.td,{children:"DB"}),(0,r.jsx)(n.td,{children:"\u8a8d\u8a3c\u5b8c\u4e86\u5f8c\u524a\u9664"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"AuthenticationTransaction"})}),(0,r.jsx)(n.td,{children:"\u8a8d\u8a3c\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3"}),(0,r.jsx)(n.td,{children:"DB"}),(0,r.jsx)(n.td,{children:"\u8a8d\u8a3c\u5b8c\u4e86\u5f8c\u524a\u9664"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"AuthorizationCodeGrant"})}),(0,r.jsx)(n.td,{children:"\u8a8d\u53ef\u30b3\u30fc\u30c9"}),(0,r.jsx)(n.td,{children:"DB"}),(0,r.jsx)(n.td,{children:"10\u5206\uff08\u4f7f\u7528\u5f8c\u5373\u524a\u9664\uff09"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"OAuthSession"})}),(0,r.jsx)(n.td,{children:"\u30bb\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\uff08SSO\u7528\uff09"}),(0,r.jsx)(n.td,{children:"Redis"}),(0,r.jsx)(n.td,{children:"max_age\u8a2d\u5b9a\u306b\u3088\u308b"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"core\u5c64\u306e\u8a73\u7d30\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",children:"Core\u5c64\u306e\u8a73\u7d30\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"}),"\n",(0,r.jsx)(n.p,{children:"Phase 1\uff08Authorization Request\uff09\u306eCore\u5c64\u51e6\u7406\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"OAuthProtocol.request()\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 OAuthRequestHandler                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  1. OAuthRequestValidator\uff08\u5165\u529b\u5f62\u5f0f\u30c1\u30a7\u30c3\u30af\uff09         \u2502\n\u2502     - client_id\u5fc5\u9808                                 \u2502\n\u2502     - \u30d1\u30e9\u30e1\u30fc\u30bf\u91cd\u8907\u7981\u6b62                              \u2502\n\u2502                                                     \u2502\n\u2502  2. \u8a2d\u5b9a\u53d6\u5f97                                         \u2502\n\u2502     - AuthorizationServerConfiguration\u53d6\u5f97          \u2502\n\u2502     - ClientConfiguration\u53d6\u5f97                       \u2502\n\u2502                                                     \u2502\n\u2502  3. OAuthRequestContext\u4f5c\u6210                         \u2502\n\u2502     - \u30d1\u30e9\u30e1\u30fc\u30bf + \u8a2d\u5b9a\u3092\u7d71\u5408                         \u2502\n\u2502                                                     \u2502\n\u2502  4. OAuthRequestVerifier\uff08\u30d3\u30b8\u30cd\u30b9\u30eb\u30fc\u30eb\u691c\u8a3c\uff09        \u2502\n\u2502     \u251c\u2500 Base Verifier\uff08OAuth2/OIDC\uff09                 \u2502\n\u2502     \u2502   - response_type\u691c\u8a3c                         \u2502\n\u2502     \u2502   - redirect_uri\u691c\u8a3c                          \u2502\n\u2502     \u2502   - scope\u691c\u8a3c                                 \u2502\n\u2502     \u2502   - nonce\u5fc5\u9808\u30c1\u30a7\u30c3\u30af\uff08OIDC\uff09                  \u2502\n\u2502     \u2502                                               \u2502\n\u2502     \u2514\u2500 Extension Verifiers\uff08Plugin\uff09                \u2502\n\u2502         - RequestObjectVerifier\uff08JWT\u7f72\u540d\u691c\u8a3c\uff09       \u2502\n\u2502         - AuthorizationDetailsVerifier              \u2502\n\u2502         - JarmVerifier                              \u2502\n\u2502                                                     \u2502\n\u2502  5. AuthorizationRequest\u751f\u6210                        \u2502\n\u2502     - AuthorizationRequestIdentifier\uff08UUID\uff09        \u2502\n\u2502     - response_type, client_id, scope\u7b49             \u2502\n\u2502                                                     \u2502\n\u2502  6. AuthorizationRequest\u4fdd\u5b58\uff08DB\uff09                   \u2502\n\u2502     - AuthorizationRequestRepository.register()    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(67810).A+"",children:"OAuthRequestHandler.java"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"Phase 3\uff08Authorization Approve\uff09\u306eCore\u5c64\u51e6\u7406\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'OAuthProtocol.authorize()\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 OAuthAuthorizeHandler                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  1. OAuthAuthorizeRequestValidator                  \u2502\n\u2502     - AuthorizationRequestIdentifier\u5fc5\u9808            \u2502\n\u2502     - User\u5b58\u5728\u78ba\u8a8d                                   \u2502\n\u2502     - Authentication\u5b58\u5728\u78ba\u8a8d                         \u2502\n\u2502                                                     \u2502\n\u2502  2. AuthorizationRequest\u53d6\u5f97                        \u2502\n\u2502     - AuthorizationRequestRepository.get()          \u2502\n\u2502                                                     \u2502\n\u2502  3. \u8a2d\u5b9a\u53d6\u5f97                                         \u2502\n\u2502     - AuthorizationServerConfiguration\u53d6\u5f97          \u2502\n\u2502     - ClientConfiguration\u53d6\u5f97                       \u2502\n\u2502                                                     \u2502\n\u2502  4. OAuthAuthorizeContext\u4f5c\u6210                       \u2502\n\u2502     - AuthorizationRequest + User + Authentication  \u2502\n\u2502                                                     \u2502\n\u2502  5. AuthorizationResponseCreator\u9078\u629e\uff08Plugin\uff09       \u2502\n\u2502     - response_type="code" \u2192 CodeResponseCreator    \u2502\n\u2502     - response_type="token" \u2192 TokenResponseCreator  \u2502\n\u2502                                                     \u2502\n\u2502  6. AuthorizationResponse\u751f\u6210                       \u2502\n\u2502     - Authorization Code\u751f\u6210\uff08UUID\uff09                \u2502\n\u2502     - redirect_uri + "?code=xxx&state=yyy"          \u2502\n\u2502                                                     \u2502\n\u2502  7. AuthorizationCodeGrant\u4fdd\u5b58                      \u2502\n\u2502     - code, expiresAt\uff0810\u5206\uff09                       \u2502\n\u2502     - authorizationGrant\uff08user, scope\u7b49\uff09           \u2502\n\u2502     - DB\u4fdd\u5b58                                        \u2502\n\u2502                                                     \u2502\n\u2502  8. OAuthSession\u4fdd\u5b58                                \u2502\n\u2502     - user, authentication                          \u2502\n\u2502     - sessionKey: tenant-id:client-id               \u2502\n\u2502     - SSO\u7528\uff08\u6b21\u56de\u306e\u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\uff09                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(30500).A+"",children:"OAuthAuthorizeHandler.java"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3\u3064\u306e\u30d5\u30a7\u30fc\u30ba\u306e\u51e6\u7406\u30d5\u30ed\u30fc",children:"3\u3064\u306e\u30d5\u30a7\u30fc\u30ba\u306e\u51e6\u7406\u30d5\u30ed\u30fc"}),"\n",(0,r.jsx)(n.h3,{id:"phase-1-authorization-request\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8",children:"Phase 1: Authorization Request\uff08\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\uff09"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u76ee\u7684"}),": \u30e6\u30fc\u30b6\u30fc\u3092\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET /{tenant-id}/v1/authorizations?response_type=code&client_id=xxx&redirect_uri=...\n    \u2193\nOAuthFlowEntryService.request()\n    \u251c\u2500 Tenant\u53d6\u5f97\n    \u251c\u2500 OAuthProtocol.request() \u547c\u3073\u51fa\u3057\n    \u2502   \u251c\u2500 \u30d1\u30e9\u30e1\u30fc\u30bf\u691c\u8a3c\uff08Validator\uff09\n    \u2502   \u251c\u2500 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u691c\u8a3c\uff08Verifier\uff09\n    \u2502   \u251c\u2500 AuthorizationRequest\u751f\u6210\n    \u2502   \u2514\u2500 DB\u4fdd\u5b58\n    \u2502\n    \u2514\u2500 AuthenticationTransaction\u4f5c\u6210\n        \u2514\u2500 \u8a8d\u8a3c\u30dd\u30ea\u30b7\u30fc\u8a2d\u5b9a\uff08MFA\u5fc5\u9808\uff1f\u7b49\uff09\n\n\u2192 \u30ec\u30b9\u30dd\u30f3\u30b9: \u30ed\u30b0\u30a4\u30f3\u753b\u9762URL\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u4fdd\u5b58\u3055\u308c\u308b\u30c7\u30fc\u30bf"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AuthorizationRequest"}),": client_id, redirect_uri, scope\u7b49"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AuthenticationTransaction"}),": \u8a8d\u8a3c\u72b6\u614b\u7ba1\u7406\uff08status: PENDING\uff09"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"phase-2-user-authentication\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c",children:"Phase 2: User Authentication\uff08\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\uff09"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u76ee\u7684"}),": \u30e6\u30fc\u30b6\u30fc\u672c\u4eba\u78ba\u8a8d"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'POST /{tenant-id}/v1/authorizations/{authReqId}/password\n{\n  "username": "user@example.com",\n  "password": "secret"\n}\n    \u2193\nOAuthFlowEntryService.interact()\n    \u251c\u2500 AuthorizationRequest\u53d6\u5f97\n    \u251c\u2500 AuthenticationTransaction\u53d6\u5f97\n    \u251c\u2500 AuthenticationInteractor\u9078\u629e\n    \u2502   \u2514\u2500 PasswordAuthenticationInteractor\u7b49\n    \u2502\n    \u251c\u2500 AuthenticationInteractor.interact()\n    \u2502   \u251c\u2500 \u30d1\u30b9\u30ef\u30fc\u30c9\u691c\u8a3c\n    \u2502   \u2514\u2500 AuthenticationResult\u751f\u6210\n    \u2502\n    \u251c\u2500 AuthenticationTransaction\u66f4\u65b0\n    \u2502   \u2514\u2500 status: AUTHENTICATED\n    \u2502   \u2514\u2500 subject: userId\n    \u2502\n    \u2514\u2500 OAuthSession\u66f4\u65b0\n        \u2514\u2500 \u8a8d\u8a3c\u60c5\u5831\u4fdd\u5b58\n\n\u2192 \u30ec\u30b9\u30dd\u30f3\u30b9: \u8a8d\u8a3c\u5b8c\u4e86\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u8a73\u7d30"}),": ",(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/authentication",children:"04-authentication.md"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(6282).A+"#L164",children:"OAuthFlowEntryService.java:164"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"phase-3-authorization-approve\u8a8d\u53ef\u627f\u8a8d",children:"Phase 3: Authorization Approve\uff08\u8a8d\u53ef\u627f\u8a8d\uff09"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u76ee\u7684"}),": Authorization Code\u767a\u884c\u3068\u30e6\u30fc\u30b6\u30fc\u767b\u9332"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'POST /{tenant-id}/v1/authorizations/{authReqId}/authorize\n    \u2193\nOAuthFlowEntryService.authorize()\n    \u251c\u2500 Tenant\u53d6\u5f97\n    \u251c\u2500 OAuthProtocol\u53d6\u5f97\n    \u251c\u2500 AuthorizationRequest\u53d6\u5f97\n    \u251c\u2500 AuthenticationTransaction\u53d6\u5f97\n    \u2502   \u251c\u2500 user\u53d6\u5f97\uff08\u65e2\u306bAuthenticationTransaction\u306b\u542b\u307e\u308c\u308b\uff09\n    \u2502   \u251c\u2500 deniedScopes\u53d6\u5f97\n    \u2502   \u2514\u2500 isSuccess()\u5224\u5b9a \u2192 authentication or null\n    \u2502\n    \u251c\u2500 OAuthAuthorizeRequest\u4f5c\u6210\n    \u2502\n    \u2514\u2500 OAuthProtocol.authorize() \u547c\u3073\u51fa\u3057\n        \u2514\u2500 OAuthAuthorizeHandler.handle()\n            \u251c\u2500 Validation\uff08AuthorizationRequestIdentifier\u30fbUser\u30fbAuthentication\uff09\n            \u251c\u2500 AuthorizationRequest\u53d6\u5f97\uff08DB\uff09\n            \u251c\u2500 ClientConfiguration\u30fbAuthorizationServerConfiguration\u53d6\u5f97\n            \u251c\u2500 OAuthAuthorizeContext\u4f5c\u6210\n            \u251c\u2500 AuthorizationResponseCreator\u9078\u629e\n            \u2502   \u251c\u2500 response_type=code \u2192 CodeResponseCreator\n            \u2502   \u251c\u2500 response_type=token \u2192 TokenResponseCreator\n            \u2502   \u2514\u2500 response_type=id_token token \u2192 HybridResponseCreator\n            \u2502\n            \u251c\u2500 AuthorizationResponse\u751f\u6210\n            \u2502   \u251c\u2500 Authorization Code\u751f\u6210\uff08UUID\uff09\n            \u2502   \u2514\u2500 redirect_uri + "?code=abc123&state=xyz"\n            \u2502\n            \u251c\u2500 hasAuthorizationCode() \u2192 AuthorizationCodeGrant\u4fdd\u5b58\uff08DB\uff09\n            \u2502   - code: "abc123..."\n            \u2502   - expiresAt: \u73fe\u5728\u6642\u523b+10\u5206\n            \u2502   - authorizationRequestIdentifier\n            \u2502   - authorizationGrant\uff08user, scope, clientId\u7b49\uff09\n            \u2502\n            \u251c\u2500 hasAccessToken() \u2192 OAuthToken\u4fdd\u5b58\uff08DB\uff09\n            \u2502   \u203b Implicit/Hybrid Flow\u306e\u5834\u5408\n            \u2502\n            \u2514\u2500 OAuthSession\u4f5c\u6210\u30fb\u767b\u9332\uff08SSO\u7528\uff09\n                - user, authentication\n                - sessionKey: tenant-id:client-id\n\n    \u251c\u2500 (authorize\u6210\u529f\u306e\u5834\u5408)\n    \u2502   \u251c\u2500 userRegistrator.registerOrUpdate() - \u30e6\u30fc\u30b6\u30fc\u767b\u9332/\u66f4\u65b0\n    \u2502   \u251c\u2500 \u62db\u5f85\u5b8c\u4e86\u30a4\u30d9\u30f3\u30c8\u767a\u884c\uff08invitation_id\u304c\u3042\u308c\u3070\uff09\n    \u2502   \u251c\u2500 authenticationTransaction\u524a\u9664\uff08DB\uff09\n    \u2502   \u2514\u2500 oauth_authorize\u30a4\u30d9\u30f3\u30c8\u767a\u884c\n    \u2502\n    \u2514\u2500 (authorize\u5931\u6557\u306e\u5834\u5408)\n        \u2514\u2500 authorize_failure\u30a4\u30d9\u30f3\u30c8\u767a\u884c\n\n\u2192 \u30ec\u30b9\u30dd\u30f3\u30b9: 302 Redirect\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u88c5"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(6282).A+"#L283-L346",children:"OAuthFlowEntryService.java:283-346"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(30500).A+"#L77-L133",children:"OAuthAuthorizeHandler.java:77-133"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u4fdd\u5b58\u3055\u308c\u308b\u30c7\u30fc\u30bf"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AuthorizationCodeGrant"}),": code, expiresAt, authorizationRequestIdentifier, authorizationGrant","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6ce8\u610f"}),": ",(0,r.jsx)(n.code,{children:"used"}),"\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u5b58\u5728\u3057\u306a\u3044\uff08\u4f7f\u7528\u5f8c\u5373\u524a\u9664\u3059\u308b\u8a2d\u8a08\uff09"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30ea\u30af\u30a8\u30b9\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3",children:"\u30ea\u30af\u30a8\u30b9\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3"}),"\n",(0,r.jsx)(n.h3,{id:"\u5fc5\u9808\u30d1\u30e9\u30e1\u30fc\u30bf",children:"\u5fc5\u9808\u30d1\u30e9\u30e1\u30fc\u30bf"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,r.jsx)(n.th,{children:"\u5fc5\u9808"}),(0,r.jsx)(n.th,{children:"\u8aac\u660e"}),(0,r.jsx)(n.th,{children:"\u4f8b"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"response_type"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsxs)(n.td,{children:["\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30d7\uff08",(0,r.jsx)(n.code,{children:"code"}),"\u56fa\u5b9a\uff09"]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"code"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"client_id"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"my-web-app"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"redirect_uri"})}),(0,r.jsx)(n.td,{children:"\u6761\u4ef6\u4ed8\u304d"}),(0,r.jsx)(n.td,{children:"\u30ea\u30c0\u30a4\u30ec\u30af\u30c8URI\uff08\u8907\u6570\u767b\u9332\u6642\u306f\u5fc5\u9808\uff09"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"https://app.example.com/callback"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"scope"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u30a2\u30af\u30bb\u30b9\u30b9\u30b3\u30fc\u30d7"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"openid profile email"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"state"})}),(0,r.jsx)(n.td,{children:"\u63a8\u5968"}),(0,r.jsx)(n.td,{children:"CSRF\u5bfe\u7b56\u7528\u30e9\u30f3\u30c0\u30e0\u5024"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"random-xyz-123"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nonce"})}),(0,r.jsx)(n.td,{children:"\u63a8\u5968"}),(0,r.jsx)(n.td,{children:"\u30ea\u30d7\u30ec\u30a4\u653b\u6483\u5bfe\u7b56\uff08OIDC\uff09"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nonce-abc-456"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"RFC 6749 Section 4.1.1\u6e96\u62e0"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3",children:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(67810).A+"#L115-L139",children:"OAuthRequestHandler.java:115-139"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"OAuthRequest\uff08\u30d1\u30e9\u30e1\u30fc\u30bf\uff09\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 OAuthRequestValidator                \u2502 \u30b9\u30c6\u30c3\u30d71: \u5165\u529b\u5f62\u5f0f\u30c1\u30a7\u30c3\u30af\n\u2502  - client_id\u5fc5\u9808\u30c1\u30a7\u30c3\u30af               \u2502\n\u2502  - \u30d1\u30e9\u30e1\u30fc\u30bf\u91cd\u8907\u7981\u6b62                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193 OK\n\u8a2d\u5b9a\u53d6\u5f97\n    \u251c\u2500 AuthorizationServerConfiguration \uff08\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\uff09\n    \u2514\u2500 ClientConfiguration              \uff08\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a\uff09\n    \u2193\nOAuthRequestContext\u4f5c\u6210\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 OAuthRequestVerifier                 \u2502 \u30b9\u30c6\u30c3\u30d72: \u30d3\u30b8\u30cd\u30b9\u30eb\u30fc\u30eb\u691c\u8a3c\n\u2502  \u251c\u2500 Base Verifier\u9078\u629e                \u2502\n\u2502  \u2502   \u251c\u2500 OAuth2RequestVerifier        \u2502 \u2190 OAuth 2.0\u7528\n\u2502  \u2502   \u2514\u2500 OidcRequestVerifier           \u2502 \u2190 OIDC\u7528\n\u2502  \u2502                                    \u2502\n\u2502  \u2514\u2500 Extension Verifiers\uff08\u9806\u6b21\u5b9f\u884c\uff09    \u2502\n\u2502      \u251c\u2500 RequestObjectVerifier        \u2502 \u2190 Request Object (JWT)\n\u2502      \u251c\u2500 AuthorizationDetailsVerifier \u2502 \u2190 Authorization Details\n\u2502      \u2514\u2500 JarmVerifier                 \u2502 \u2190 JARM\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193 OK\nAuthorizationRequest\u4fdd\u5b58\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"validator-\u5165\u529b\u5f62\u5f0f\u30c1\u30a7\u30c3\u30af",children:"Validator: \u5165\u529b\u5f62\u5f0f\u30c1\u30a7\u30c3\u30af"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(49694).A+"",children:"OAuthRequestValidator.java"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u691c\u8a3c\u5185\u5bb9"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"client_id\u5fc5\u9808\u30c1\u30a7\u30c3\u30af"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u30d1\u30e9\u30e1\u30fc\u30bf\u91cd\u8907\u7981\u6b62"}),"\uff08RFC 6749 Section 3.1\uff09"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'// client_id\u5fc5\u9808\nif (!oAuthRequestParameters.hasClientId()) {\n  throw new OAuthBadRequestException(\n    "invalid_request",\n    "authorization request must contains client_id"\n  );\n}\n\n// \u540c\u3058\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u8907\u6570\u56de\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u304b\nList<String> duplicateKeys = oAuthRequestParameters.multiValueKeys();\nif (!duplicateKeys.isEmpty()) {\n  throw new OAuthBadRequestException(\n    "invalid_request",\n    "authorization request must not contains duplicate value"\n  );\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u4f8b\u5916"}),": ",(0,r.jsx)(n.code,{children:"OAuthBadRequestException"})," \u2192 ",(0,r.jsx)(n.strong,{children:"\u30a8\u30e9\u30fc\u30da\u30fc\u30b8\u8868\u793a"}),"\uff08\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u306a\u3044\uff09"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"verifier-\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308b\u6bb5\u968e\u7684\u691c\u8a3c",children:"Verifier: \u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308b\u6bb5\u968e\u7684\u691c\u8a3c"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(93488).A+"",children:"OAuthRequestVerifier.java"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30d7\u30e9\u30b0\u30a4\u30f3\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"OAuthRequestVerifier.verify(context)\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 1. Base Verifier\u9078\u629e\uff08\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u5225\uff09           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  AuthorizationProfile.OAUTH2                \u2502\n\u2502    \u2192 OAuth2RequestVerifier                  \u2502\n\u2502       \u251c\u2500 redirect_uri\u691c\u8a3c                   \u2502\n\u2502       \u2514\u2500 OAuthRequestBaseVerifier           \u2502\n\u2502           \u251c\u2500 response_type\u691c\u8a3c              \u2502\n\u2502           \u251c\u2500 \u30b5\u30fc\u30d0\u30fc\u5bfe\u5fdc\u30c1\u30a7\u30c3\u30af             \u2502\n\u2502           \u251c\u2500 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5bfe\u5fdc\u30c1\u30a7\u30c3\u30af          \u2502\n\u2502           \u2514\u2500 scope\u691c\u8a3c                      \u2502\n\u2502                                             \u2502\n\u2502  AuthorizationProfile.OIDC                  \u2502\n\u2502    \u2192 OidcRequestVerifier                    \u2502\n\u2502       \u251c\u2500 nonce\u5fc5\u9808\u30c1\u30a7\u30c3\u30af                   \u2502\n\u2502       \u2514\u2500 OidcRequestBaseVerifier            \u2502\n\u2502           \u2514\u2500 OIDC\u56fa\u6709\u306e\u691c\u8a3c                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 2. Extension Verifiers\uff08\u8a72\u5f53\u6642\u306e\u307f\u5b9f\u884c\uff09       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  RequestObjectVerifier                      \u2502\n\u2502    \u6761\u4ef6: request \u307e\u305f\u306f request_uri \u5b58\u5728     \u2502\n\u2502    \u691c\u8a3c: JWT\u7f72\u540d\u691c\u8a3c\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u6574\u5408\u6027        \u2502\n\u2502                                             \u2502\n\u2502  AuthorizationDetailsVerifier               \u2502\n\u2502    \u6761\u4ef6: authorization_details \u30d1\u30e9\u30e1\u30fc\u30bf\u5b58\u5728 \u2502\n\u2502    \u691c\u8a3c: JSON\u5f62\u5f0f\u3001\u5fc5\u9808\u30d5\u30a3\u30fc\u30eb\u30c9             \u2502\n\u2502                                             \u2502\n\u2502  JarmVerifier                               \u2502\n\u2502    \u6761\u4ef6: response_mode=jwt                  \u2502\n\u2502    \u691c\u8a3c: JARM\u8a2d\u5b9a\u306e\u59a5\u5f53\u6027                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30d7\u30e9\u30b0\u30a4\u30f3\u30ed\u30fc\u30c0\u30fc"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AuthorizationRequestVerifierPluginLoader.load()"})," - Base Verifier\u62e1\u5f35"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AuthorizationRequestExtensionVerifierPluginLoader.load()"})," - Extension Verifier\u62e1\u5f35"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"oauth2requestverifier-\u306e\u691c\u8a3c\u8a73\u7d30",children:"OAuth2RequestVerifier \u306e\u691c\u8a3c\u8a73\u7d30"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(91512).A+"",children:"OAuth2RequestVerifier.java"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"OAuth2RequestVerifier.verify(context)\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 redirect_uri\u691c\u8a3c\uff08RFC 6749 Section 3.1.2\uff09 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  redirect_uri\u6307\u5b9a\u3042\u308a\uff1f                     \u2502\n\u2502    YES                                     \u2502\n\u2502    \u251c\u2500 \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\uff08#\uff09\u542b\u3080\uff1f               \u2502\n\u2502    \u2502   YES \u2192 \u30a8\u30e9\u30fc                         \u2502\n\u2502    \u2502                                        \u2502\n\u2502    \u2514\u2500 \u767b\u9332URI\u3068\u5b8c\u5168\u4e00\u81f4\uff1f                   \u2502\n\u2502        NO \u2192 \u30a8\u30e9\u30fc                          \u2502\n\u2502                                            \u2502\n\u2502    NO                                      \u2502\n\u2502    \u2514\u2500 \u767b\u9332URI\u304c\u8907\u6570\uff1f                       \u2502\n\u2502        YES \u2192 \u30a8\u30e9\u30fc\uff08redirect_uri\u5fc5\u9808\uff09      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 OAuthRequestBaseVerifier\uff08\u5171\u901a\u691c\u8a3c\uff09        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  1. response_type\u5fc5\u9808\uff1f                     \u2502\n\u2502  2. response_type\u304c\u65e2\u77e5\u306e\u5024\uff1f               \u2502\n\u2502  3. \u30b5\u30fc\u30d0\u30fc\u304c\u30b5\u30dd\u30fc\u30c8\uff1f                     \u2502\n\u2502  4. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u4f7f\u7528\u53ef\u80fd\uff1f                 \u2502\n\u2502  5. scope\u304c\u6709\u52b9\uff1f                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u691c\u8a3c\u30ed\u30b8\u30c3\u30af\u306e\u30dd\u30a4\u30f3\u30c8"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["redirect_uri\u691c\u8a3c\u304c",(0,r.jsx)(n.strong,{children:"\u6700\u512a\u5148"}),"\uff08RFC 6749 Section 3.1.2.4\u6e96\u62e0\uff09"]}),"\n",(0,r.jsxs)(n.li,{children:["redirect_uri\u4e0d\u6b63 \u2192 ",(0,r.jsx)(n.code,{children:"OAuthBadRequestException"})," \u2192 ",(0,r.jsx)(n.strong,{children:"\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u306a\u3044"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u305d\u306e\u4ed6\u306e\u30a8\u30e9\u30fc \u2192 ",(0,r.jsx)(n.code,{children:"OAuthRedirectableBadRequestException"})," \u2192 ",(0,r.jsx)(n.strong,{children:"\u30a8\u30e9\u30fc\u3092\u30ea\u30c0\u30a4\u30ec\u30af\u30c8"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"validator-vs-verifier-\u306e\u9055\u3044\u5b9f\u88c5\u30d9\u30fc\u30b9",children:"Validator vs Verifier \u306e\u9055\u3044\uff08\u5b9f\u88c5\u30d9\u30fc\u30b9\uff09"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u89b3\u70b9"}),(0,r.jsx)(n.th,{children:"OAuthRequestValidator"}),(0,r.jsx)(n.th,{children:"OAuthRequestVerifier"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u5b9f\u884c\u30bf\u30a4\u30df\u30f3\u30b0"})}),(0,r.jsx)(n.td,{children:"\u30ea\u30af\u30a8\u30b9\u30c8\u53d7\u4fe1\u76f4\u5f8c"}),(0,r.jsx)(n.td,{children:"Context\u4f5c\u6210\u5f8c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u5fc5\u8981\u306a\u60c5\u5831"})}),(0,r.jsx)(n.td,{children:"\u30ea\u30af\u30a8\u30b9\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u307f"}),(0,r.jsx)(n.td,{children:"Tenant\u8a2d\u5b9a\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u691c\u8a3c\u5185\u5bb9"})}),(0,r.jsx)(n.td,{children:"\u5f62\u5f0f\u30c1\u30a7\u30c3\u30af\uff08client_id\u5b58\u5728\u3001\u91cd\u8907\u306a\u3057\uff09"}),(0,r.jsx)(n.td,{children:"\u30d3\u30b8\u30cd\u30b9\u30eb\u30fc\u30eb\uff08redirect_uri\u4e00\u81f4\u3001scope\u6709\u52b9\u6027\uff09"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u4f8b\u5916\u578b"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OAuthBadRequestException"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OAuthRedirectableBadRequestException"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u30a8\u30e9\u30fc\u51e6\u7406"})}),(0,r.jsx)(n.td,{children:"\u30a8\u30e9\u30fc\u30da\u30fc\u30b8\u8868\u793a"}),(0,r.jsxs)(n.td,{children:["\u30ea\u30c0\u30a4\u30ec\u30af\u30c8URI\u306e\u691c\u8a0e\u3067\u30a8\u30e9\u30fc\u306e\u5834\u5408\u306f\u30a8\u30e9\u30fc\u30da\u30fc\u30b8",(0,r.jsx)("br",{}),"\u30ea\u30c0\u30a4\u30ec\u30af\u30c8URI\u306e\u691c\u8a3c\u5f8c\u306f\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306b\u30a8\u30e9\u30fc\u3092\u8fd4\u5374"]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"RFC 6749 Section 3.1.2.4\u306e\u5b9f\u88c5"}),":"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["redirect_uri\u304c\u7121\u52b9\u306a\u5834\u5408\u306f\u3001",(0,r.jsx)(n.strong,{children:"\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u3066\u306f\u3044\u3051\u306a\u3044"}),"\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7406\u7531\uff09"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30c7\u30fc\u30bf\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb",children:"\u30c7\u30fc\u30bf\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb"}),"\n",(0,r.jsx)(n.h3,{id:"authorization-code-\u306e\u4e00\u751f",children:"Authorization Code \u306e\u4e00\u751f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"1. \u767a\u884c (authorize\u6642)\n   \u2514\u2500 DB\u4fdd\u5b58\u3001expiresAt=\u73fe\u5728\u6642\u523b+10\u5206\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\n      - \u8a2d\u5b9a: AuthorizationServerConfiguration.authorizationCodeValidDuration()\n      - \u30c7\u30d5\u30a9\u30eb\u30c8\u5024: 600\u79d2\uff0810\u5206\uff09\n\n2. \u4f7f\u7528 (Token Request\u6642)\n   \u251c\u2500 \u5b58\u5728\u78ba\u8a8d \u2705\n   \u251c\u2500 \u6709\u52b9\u671f\u9650\u30c1\u30a7\u30c3\u30af \u2705\n   \u251c\u2500 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e00\u81f4\u30c1\u30a7\u30c3\u30af \u2705\n   \u251c\u2500 redirect_uri\u4e00\u81f4\u30c1\u30a7\u30c3\u30af \u2705\n   \u2514\u2500 Access Token\u767a\u884c\n\n3. \u524a\u9664\n   \u2514\u2500 Token Request\u6210\u529f\u5f8c\u306b\u5373\u5ea7\u306b\u524a\u9664\uff08\u4f7f\u7528\u5f8c\u5373\u524a\u9664\uff09\n\n\u26a0\ufe0f \u91cd\u8981:\n- 1\u56de\u9650\u308a\u4f7f\u7528\u53ef\u80fd\uff08\u4f7f\u7528\u5f8c\u5373\u524a\u9664\uff09\n- used\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u5b58\u5728\u3057\u306a\u3044\uff08\u524a\u9664\u306b\u3088\u308b\u5b9f\u88c5\uff09\n- 10\u5206\u4ee5\u5185\u306b\u4f7f\u7528\u3057\u306a\u3044\u3068\u671f\u9650\u5207\u308c\u2192invalid_grant\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u88c5"}),": ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(92219).A+"",children:"AuthorizationServerExtensionConfiguration.java"})," - ",(0,r.jsx)(n.code,{children:"authorizationCodeValidDuration = 600"}),"\uff08\u79d2\uff09"]}),"\n",(0,r.jsx)(n.h3,{id:"authorizationrequest-\u306e\u4e00\u751f",children:"AuthorizationRequest \u306e\u4e00\u751f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'1. \u4f5c\u6210 (request\u6642)\n   \u2514\u2500 PostgreSQL/MySQL\u306e`authorization_request`\u30c6\u30fc\u30d6\u30eb\u306b\u4fdd\u5b58\n      - expires_at: \u73fe\u5728\u6642\u523b + 30\u5206\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3001\u8a2d\u5b9a\u5909\u66f4\u53ef\u80fd\uff09\n      - \u8a2d\u5b9a: AuthorizationServerConfiguration.oauthAuthorizationRequestExpiresIn()\n\n2. \u8a8d\u8a3c\u4e2d\n   \u2514\u2500 AuthenticationTransaction\u3067\u72b6\u614b\u7ba1\u7406\n      - status: PENDING \u2192 AUTHENTICATED\n\n3. Token Request\n   \u2514\u2500 Authorization Code\u4ea4\u63db\u6642\u306b\u5373\u5ea7\u306b\u524a\u9664\n      - AuthorizationCodeGrantRepository.delete()\n      - AuthorizationRequestRepository.delete()\n      - \u5b9f\u88c5: AuthorizationCodeGrantService.java:200-201\n\n4. \u671f\u9650\u5207\u308c\u30c7\u30fc\u30bf\u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\n   \u2514\u2500 \u624b\u52d5\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7API\u3067\u524a\u9664\n      POST /v1/admin/operations/cleanup\n      {"max_deletion_number": 10000}\n\n      \u26a0\ufe0f \u6ce8\u610f: \u81ea\u52d5\u524a\u9664\u6a5f\u80fd\u306f\u672a\u5b9f\u88c5\n      \u671f\u9650\u5207\u308c\u30c7\u30fc\u30bf\u306f\u624b\u52d5\u3067\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u5fc5\u8981\u3042\u308a\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u88c5"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4fdd\u5b58: ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(36095).A+"#L36-L38",children:"AuthorizationRequestDataSource.java:36-38"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u524a\u9664: ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(35642).A+"#L200-L201",children:"AuthorizationCodeGrantService.java:200-201"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u6709\u52b9\u671f\u9650\u8a2d\u5b9a: ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(92219).A+"",children:"AuthorizationServerExtensionConfiguration.java"})," - ",(0,r.jsx)(n.code,{children:"oauthAuthorizationRequestExpiresIn = 1800"}),"\uff08\u79d2\uff09"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u5b9f\u969b\u306b\u52d5\u304b\u3057\u3066\u307f\u308b",children:"\u5b9f\u969b\u306b\u52d5\u304b\u3057\u3066\u307f\u308b"}),"\n",(0,r.jsx)(n.h3,{id:"\u524d\u63d0\u6761\u4ef6",children:"\u524d\u63d0\u6761\u4ef6"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u30c6\u30ca\u30f3\u30c8\u4f5c\u6210\u6e08\u307f"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'TENANT_ID="18ffff8d-8d97-460f-a71b-33f2e8afd41e"\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u767b\u9332\u6e08\u307f"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'CLIENT_ID="my-web-app"\nCLIENT_SECRET="secret-12345"\nREDIRECT_URI="http://localhost:3000/callback"\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u6e08\u307f"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'USERNAME="test@example.com"\nPASSWORD="password123"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"step-by-step\u5b9f\u884c",children:"Step-by-Step\u5b9f\u884c"}),"\n",(0,r.jsx)(n.h4,{id:"1-authorization-request\u30d6\u30e9\u30a6\u30b6\u3067\u5b9f\u884c",children:"1. Authorization Request\uff08\u30d6\u30e9\u30a6\u30b6\u3067\u5b9f\u884c\uff09"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://localhost:8080/${TENANT_ID}/v1/authorizations?response_type=code&client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&scope=openid%20profile%20email&state=random-state-xyz\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u671f\u5f85\u3055\u308c\u308b\u52d5\u4f5c"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u308b"}),"\n",(0,r.jsxs)(n.li,{children:["URL\u306b",(0,r.jsx)(n.code,{children:"authorization_request_id"}),"\u304c\u542b\u307e\u308c\u308b"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u969b\u306eURL\u4f8b"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://localhost:8080/signin/index.html?id=abc-123-def&tenant_id=18ffff8d-8d97-460f-a71b-33f2e8afd41e\n"})}),"\n",(0,r.jsx)(n.h4,{id:"2-user-authenticationcurl\u3067\u5b9f\u884c",children:"2. User Authentication\uff08curl\u3067\u5b9f\u884c\uff09"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'AUTH_REQUEST_ID="abc-123-def"  # \u4e0a\u8a18URL\u304b\u3089\u53d6\u5f97\n\ncurl -X POST "http://localhost:8080/${TENANT_ID}/v1/authorizations/${AUTH_REQUEST_ID}/password" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "username": "test@example.com",\n    "password": "password123"\n  }\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6210\u529f\u30ec\u30b9\u30dd\u30f3\u30b9"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": "authenticated",\n  "next_step": "authorize"\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"3-authorization-approvecurl\u3067\u5b9f\u884c",children:"3. Authorization Approve\uff08curl\u3067\u5b9f\u884c\uff09"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8080/${TENANT_ID}/v1/authorizations/${AUTH_REQUEST_ID}/authorize" \\\n  -H "Content-Type: application/json" \\\n  -d \'{}\' \\\n  -i  # \u30d8\u30c3\u30c0\u30fc\u3082\u8868\u793a\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6210\u529f\u30ec\u30b9\u30dd\u30f3\u30b9"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"HTTP/1.1 302 Found\nLocation: http://localhost:3000/callback?code=eyJhbGc...&state=random-state-xyz\n"})}),"\n",(0,r.jsx)(n.h4,{id:"4-authorization-code\u62bd\u51fa",children:"4. Authorization Code\u62bd\u51fa"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Location\u30d8\u30c3\u30c0\u30fc\u304b\u3089 code\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u62bd\u51fa\nCODE="eyJhbGc..."\n'})}),"\n",(0,r.jsx)(n.h4,{id:"5-token-request",children:"5. Token Request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8080/${TENANT_ID}/v1/tokens" \\\n  -H "Content-Type: application/x-www-form-urlencoded" \\\n  -d "grant_type=authorization_code&code=${CODE}&client_id=${CLIENT_ID}&client_secret=${CLIENT_SECRET}&redirect_uri=${REDIRECT_URI}"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6210\u529f\u30ec\u30b9\u30dd\u30f3\u30b9"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",\n  "token_type": "Bearer",\n  "expires_in": 3600,\n  "refresh_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",\n  "id_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",\n  "scope": "openid profile email"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u30c7\u30d0\u30c3\u30b0\u306e\u30d2\u30f3\u30c8",children:"\u30c7\u30d0\u30c3\u30b0\u306e\u30d2\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"AuthorizationRequest\u306e\u78ba\u8a8d"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u76f4\u63a5\u78ba\u8a8d\uff08\u958b\u767a\u74b0\u5883\u306e\u307f\uff09\ndocker exec -it postgres psql -U idp_user -d idp_db -c \\\n  \"SELECT id, client_id, redirect_uri, scope, created_at FROM authorization_request WHERE tenant_id='${TENANT_ID}' ORDER BY created_at DESC LIMIT 5;\"\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u30ed\u30b0\u78ba\u8a8d"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# idp-server\u306e\u30ed\u30b0\u3092\u76e3\u8996\ndocker logs -f idp-server | grep -E "OAuthFlowEntryService|AuthorizationRequest"\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"parpushed-authorization-request",children:"PAR\uff08Pushed Authorization Request\uff09"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"RFC 9126\u6e96\u62e0\u306e\u62e1\u5f35\u6a5f\u80fd"})," - \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5f37\u5316\u7248Authorization Request"]}),"\n",(0,r.jsx)(n.h3,{id:"\u901a\u5e38\u306eauthorization-request\u3068\u306e\u9055\u3044",children:"\u901a\u5e38\u306eAuthorization Request\u3068\u306e\u9055\u3044"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u9805\u76ee"}),(0,r.jsx)(n.th,{children:"\u901a\u5e38\u306eGET"}),(0,r.jsx)(n.th,{children:"PAR\uff08POST\uff09"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u9001\u4fe1\u65b9\u6cd5"})}),(0,r.jsx)(n.td,{children:"URL\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,r.jsx)(n.td,{children:"POST\u30dc\u30c7\u30a3"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GET /v1/authorizations"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"POST /v1/authorizations/push"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3"})}),(0,r.jsx)(n.td,{children:"\u30d1\u30e9\u30e1\u30fc\u30bf\u304cURL\u9732\u51fa"}),(0,r.jsx)(n.td,{children:"\u30d0\u30c3\u30af\u30c1\u30e3\u30cd\u30eb\u3067\u5b89\u5168"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u30b5\u30a4\u30ba\u5236\u9650"})}),(0,r.jsx)(n.td,{children:"URL\u30b5\u30a4\u30ba\u5236\u9650\u3042\u308a"}),(0,r.jsx)(n.td,{children:"\u5236\u9650\u306a\u3057"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"FAPI\u8981\u4ef6"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"FAPI 2.0\u3067\u5fc5\u9808"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"par\u4f7f\u7528\u30d5\u30ed\u30fc",children:"PAR\u4f7f\u7528\u30d5\u30ed\u30fc"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Step 1: PAR\u5b9f\u884c\nPOST /{tenant-id}/v1/authorizations/push\n{\n  "response_type": "code",\n  "client_id": "xxx",\n  "redirect_uri": "https://...",\n  "scope": "openid profile"\n}\n    \u2193\n\u30ec\u30b9\u30dd\u30f3\u30b9:\n{\n  "request_uri": "urn:ietf:params:oauth:request_uri:abc123",\n  "expires_in": 90\n}\n\nStep 2: request_uri\u3067\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\nGET /{tenant-id}/v1/authorizations?client_id=xxx&request_uri=urn:ietf:params:oauth:request_uri:abc123\n    \u2193\n\uff08\u901a\u5e38\u306e\u30d5\u30ed\u30fc\u3068\u540c\u3058\uff09\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"e2e\u30c6\u30b9\u30c8\u4f8b",children:"E2E\u30c6\u30b9\u30c8\u4f8b"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u53c2\u8003\u30d5\u30a1\u30a4\u30eb"}),": ",(0,r.jsx)(n.code,{children:"e2e/src/tests/scenario/application/scenario-02-sso-oidc.test.js"})]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee5\u4e0b\u306f\u6559\u80b2\u7528\u306e\u7c21\u7565\u5316\u3057\u305f\u4f8b\u3067\u3059\u3002\u5b9f\u969b\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306f\u3088\u308a\u8907\u96d1\u306a\u8a2d\u5b9a\u3092\u542b\u307f\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const { v4: uuidv4 } = require('uuid');\nconst axios = require('axios');\n\ndescribe('Authorization Code Flow', () => {\n  let tenantId = '18ffff8d-8d97-460f-a71b-33f2e8afd41e';\n  let clientId = 'test-client';\n  let redirectUri = 'https://client.example.com/callback';\n\n  test('should complete authorization code flow', async () => {\n    // 1. Authorization Request\n    const authResponse = await axios.get(\n      `http://localhost:8080/${tenantId}/v1/authorizations`,\n      {\n        params: {\n          response_type: 'code',\n          client_id: clientId,\n          redirect_uri: redirectUri,\n          scope: 'openid profile email',\n          state: 'random-state'\n        },\n        maxRedirects: 0,\n        validateStatus: (status) => status === 302\n      }\n    );\n\n    // \u30ed\u30b0\u30a4\u30f3\u753b\u9762URL\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    expect(authResponse.status).toBe(302);\n    expect(authResponse.headers.location).toContain('/signin/index.html');\n\n    // authorization_request_id\u62bd\u51fa\n    const authReqId = new URL(authResponse.headers.location, 'http://localhost').searchParams.get('id');\n\n    // 2. User Authentication\uff08\u5225\u30c6\u30b9\u30c8\u3067\u5b9f\u65bd\uff09\n    await axios.post(\n      `http://localhost:8080/${tenantId}/v1/authentications/${authReqId}`,\n      {\n        type: 'password',\n        username: 'user@example.com',\n        password: 'password123'\n      }\n    );\n\n    // 3. Authorization Approve\n    const approveResponse = await axios.post(\n      `http://localhost:8080/${tenantId}/v1/authorizations/${authReqId}/approve`,\n      {},\n      {\n        maxRedirects: 0,\n        validateStatus: (status) => status === 302\n      }\n    );\n\n    // \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\uff08Authorization Code\u4ed8\u304d\uff09\n    expect(approveResponse.status).toBe(302);\n    const redirectUrl = new URL(approveResponse.headers.location);\n    expect(redirectUrl.origin + redirectUrl.pathname).toBe(redirectUri);\n\n    const code = redirectUrl.searchParams.get('code');\n    expect(code).toBeTruthy();\n\n    // 4. Token Request\uff08\u6b21\u306e\u30ac\u30a4\u30c9\u53c2\u7167\uff09\n    const tokenResponse = await axios.post(\n      `http://localhost:8080/${tenantId}/v1/tokens`,\n      new URLSearchParams({\n        grant_type: 'authorization_code',\n        code: code,\n        client_id: clientId,\n        client_secret: 'client-secret',\n        redirect_uri: redirectUri\n      }),\n      {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }\n    );\n\n    expect(tokenResponse.status).toBe(200);\n    expect(tokenResponse.data).toHaveProperty('access_token');\n    expect(tokenResponse.data).toHaveProperty('id_token');\n    expect(tokenResponse.data).toHaveProperty('token_type', 'Bearer');\n  });\n});\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc\u3068\u5bfe\u51e6\u6cd5",children:"\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc\u3068\u5bfe\u51e6\u6cd5"}),"\n",(0,r.jsxs)(n.h3,{id:"\u30a8\u30e9\u30fc1-invalid_request---redirect_uri\u4e0d\u4e00\u81f4",children:["\u30a8\u30e9\u30fc1: ",(0,r.jsx)(n.code,{children:"invalid_request"})," - redirect_uri\u4e0d\u4e00\u81f4"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u969b\u306e\u30a8\u30e9\u30fc"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET /{tenant-id}/v1/authorizations?response_type=code&client_id=my-app&redirect_uri=https://wrong-domain.com/callback\n    \u2193\n302 Redirect to \u30a8\u30e9\u30fc\u753b\u9762\n\u307e\u305f\u306f\nhttps://registered-uri.com/callback?error=invalid_request&error_description=redirect_uri+does+not+match+registered+URIs\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u767b\u9332\u6642\u306e",(0,r.jsx)(n.code,{children:"redirect_uris"}),"\u3068\u4e00\u81f4\u3057\u306a\u3044"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# 1. \u767b\u9332\u6e08\u307fredirect_uri\u3092\u78ba\u8a8d\ncurl -X GET "http://localhost:8080/v1/management/tenants/${TENANT_ID}/clients/${CLIENT_ID}" \\\n  -H "Authorization: Bearer ${ADMIN_TOKEN}" \\\n  | jq \'.redirect_uris\'\n\n# \u51fa\u529b\u4f8b:\n# ["https://app.example.com/callback", "http://localhost:3000/callback"]\n\n# 2. \u5b8c\u5168\u4e00\u81f4\u3059\u308bURI\u3092\u4f7f\u7528\uff08\u30d1\u30b9\u3001\u30dd\u30fc\u30c8\u3001\u30d7\u30ed\u30c8\u30b3\u30eb\u3059\u3079\u3066\u4e00\u81f4\u5fc5\u9808\uff09\nredirect_uri=https://app.example.com/callback  # \u2705\nredirect_uri=https://app.example.com/callback/ # \u274c \u672b\u5c3e\u30b9\u30e9\u30c3\u30b7\u30e5\u9055\u3044\nredirect_uri=http://app.example.com/callback   # \u274c http\u3068https\u306e\u9055\u3044\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"\u30a8\u30e9\u30fc2-unsupported_response_type---\u672a\u30b5\u30dd\u30fc\u30c8\u306eresponse_type",children:["\u30a8\u30e9\u30fc2: ",(0,r.jsx)(n.code,{children:"unsupported_response_type"})," - \u672a\u30b5\u30dd\u30fc\u30c8\u306eresponse_type"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u969b\u306e\u30a8\u30e9\u30fc"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "unsupported_response_type",\n  "error_description": "authorization server is unsupported response_type (token)"\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"response_type=token"}),"\uff08Implicit Flow\uff09\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7406\u7531\u3067\u7121\u52b9\u5316\u3055\u308c\u3066\u3044\u308b"]}),"\n",(0,r.jsx)(n.li,{children:"\u307e\u305f\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30bf\u30a4\u30d7\u304c\u8a31\u53ef\u3057\u3066\u3044\u306a\u3044"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Authorization Code Flow\u3092\u4f7f\u7528\nresponse_type=code  # \u2705 \u63a8\u5968\n\n# \u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308bresponse_type\u3092\u78ba\u8a8d\ncurl -X GET "http://localhost:8080/${TENANT_ID}/.well-known/openid-configuration" \\\n  | jq \'.response_types_supported\'\n\n# \u51fa\u529b\u4f8b:\n# ["code", "code id_token", "code token", "code id_token token"]\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"\u30a8\u30e9\u30fc3-invalid_scope---\u7121\u52b9\u306ascope",children:["\u30a8\u30e9\u30fc3: ",(0,r.jsx)(n.code,{children:"invalid_scope"})," - \u7121\u52b9\u306ascope"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u969b\u306e\u30a8\u30e9\u30fc"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"302 Redirect to:\nhttps://app.example.com/callback?error=invalid_scope&error_description=authorization+request+does+not+contains+valid+scope\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"scope\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u7a7a"}),"\n",(0,r.jsx)(n.li,{children:"\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044scope\u3092\u6307\u5b9a"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# 1. \u6700\u4f4e\u9650\u5fc5\u9808\u306escope\nscope=openid  # \u2705 OIDC\u306e\u5834\u5408\u306f\u5fc5\u9808\n\n# 2. \u8ffd\u52a0\u60c5\u5831\u304c\u5fc5\u8981\u306a\u5834\u5408\nscope=openid profile email  # \u2705 \u30b9\u30da\u30fc\u30b9\u533a\u5207\u308a\n\n# 3. \u30ab\u30b9\u30bf\u30e0scope\u306e\u78ba\u8a8d\uff08\u30c6\u30ca\u30f3\u30c8\u8a2d\u5b9a\u4f9d\u5b58\uff09\ncurl -X GET \"http://localhost:8080/${TENANT_ID}/.well-known/openid-configuration\" \\\n  | jq '.scopes_supported'\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"\u30a8\u30e9\u30fc4-\u8a8d\u8a3c\u672a\u5b8c\u4e86\u3067authorize\u5b9f\u884c",children:["\u30a8\u30e9\u30fc4: \u8a8d\u8a3c\u672a\u5b8c\u4e86\u3067",(0,r.jsx)(n.code,{children:"/authorize"}),"\u5b9f\u884c"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u969b\u306e\u30a8\u30e9\u30fc"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "authentication_required",\n  "error_description": "User authentication is not completed"\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": Phase 2\uff08\u8a8d\u8a3c\uff09\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u3066Phase 3\uff08Code\u767a\u884c\uff09\u3092\u5b9f\u884c"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6b63\u3057\u3044\u9806\u5e8f"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# \u274c \u9593\u9055\u3044\ncurl -X POST "http://localhost:8080/${TENANT_ID}/v1/authorizations/${AUTH_REQUEST_ID}/authorize"\n# \u2192 \u30a8\u30e9\u30fc: authentication_required\n\n# \u2705 \u6b63\u3057\u3044\n# Step 1: \u8a8d\u8a3c\u5b9f\u884c\ncurl -X POST "http://localhost:8080/${TENANT_ID}/v1/authorizations/${AUTH_REQUEST_ID}/password" \\\n  -d \'{"username": "user@example.com", "password": "secret"}\'\n\n# Step 2: \u8a8d\u8a3c\u5b8c\u4e86\u5f8c\u306bauthorize\u5b9f\u884c\ncurl -X POST "http://localhost:8080/${TENANT_ID}/v1/authorizations/${AUTH_REQUEST_ID}/authorize"\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\u30a8\u30e9\u30fc5-authorization-code\u671f\u9650\u5207\u308c",children:"\u30a8\u30e9\u30fc5: Authorization Code\u671f\u9650\u5207\u308c"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u969b\u306e\u30a8\u30e9\u30fc\uff08Token Request\u6642\uff09"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "invalid_grant",\n  "error_description": "authorization code is expired"\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": Authorization Code\u767a\u884c\u304b\u308910\u5206\u4ee5\u4e0a\u7d4c\u904e"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u89e3\u6c7a\u7b56"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Authorization Code\u767a\u884c\u5f8c\u3001\u3059\u3050\u306bToken Request\u5b9f\u884c\n# \u6709\u52b9\u671f\u9650: 10\u5206\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\n\n# \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3057\u305f\u5834\u5408\u306f\u3001\u6700\u521d\u304b\u3089\u3084\u308a\u76f4\u3057\n# \u2192 \u518d\u5ea6Authorization Request\u304b\u3089\u5b9f\u884c\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\u30a8\u30e9\u30fc6-authorization-code\u518d\u5229\u7528",children:"\u30a8\u30e9\u30fc6: Authorization Code\u518d\u5229\u7528"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b9f\u969b\u306e\u30a8\u30e9\u30fc"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "invalid_grant",\n  "error_description": "not found authorization code"\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u539f\u56e0"}),": \u540c\u3058Authorization Code\u30672\u56deToken Request\u5b9f\u884c"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u52d5\u4f5c"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"1\u56de\u76ee\u306eToken Request: \u2705 \u6210\u529f\uff08\u8a8d\u53ef\u30b3\u30fc\u30c9\u524a\u9664\uff09\n2\u56de\u76ee\u306eToken Request: \u274c \u30a8\u30e9\u30fc\uff08invalid_grant\uff09\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5bfe\u51e6"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Authorization Code\u306f1\u56de\u9650\u308a\u4f7f\u7528\u53ef\u80fd\n# \u518d\u5ea6\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001\u6700\u521d\u304b\u3089Authorization Flow\u3092\u5b9f\u884c\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,r.jsx)(n.p,{children:"\u2705 Authorization Code Flow\u306e\u5b9f\u88c5\u3092\u7406\u89e3\u3057\u305f\uff01"}),"\n",(0,r.jsx)(n.h3,{id:"-\u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",children:"\ud83d\udcd6 \u6b21\u306b\u8aad\u3080\u3079\u304d\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/token-endpoint",children:"03. Token Flow\u5b9f\u88c5"})," - \u30c8\u30fc\u30af\u30f3\u767a\u884c\u30fb\u691c\u8a3c"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/idp-server/docs/content_06_developer-guide/application-plane/authentication",children:"04. Authentication\u5b9f\u88c5"})," - \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-\u8a73\u7d30\u60c5\u5831",children:"\ud83d\udd17 \u8a73\u7d30\u60c5\u5831"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/idp-server/docs/content_10_ai_developer/ai-11-core#oauth---oauth-20%E3%82%B3%E3%82%A2",children:"AI\u958b\u767a\u8005\u5411\u3051: Core - OAuth"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc6749#section-4.1",children:"RFC 6749 Section 4.1"})," - Authorization Code Grant"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(6282).A+"",children:"OAuthFlowEntryService.java"}),"\n",(0,r.jsx)(n.strong,{children:"\u6700\u7d42\u66f4\u65b0"}),": 2025-10-12"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},36095:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/AuthorizationRequestDataSource-94d70d056fc86d00d23f7fd4d37b4629.java"},92219:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/AuthorizationServerExtensionConfiguration-0191c8f39681922fd80fa72529831fb0.java"},30500:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/OAuthAuthorizeHandler-f5f4a96ecfadca2404fa4990ec25f092.java"},67810:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/OAuthRequestHandler-9acdc99347940d5fd81b0b1c7d57f5b4.java"},49694:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/OAuthRequestValidator-6dff060a9b1c30d826f7236132c5d7fe.java"},91512:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/OAuth2RequestVerifier-f2bcdb77103598303fe4d8cff45a57be.java"},93488:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/OAuthRequestVerifier-7bd5b7fccd6e4f7b0a5ca4241bedbb87.java"},35642:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/AuthorizationCodeGrantService-51584ffaad2ed181451cdfb01295eae0.java"},6282:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/files/OAuthFlowEntryService-761866fc4d70d6c09291e153e2fc6fb6.java"},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>d});var t=i(96540);const r={},s=t.createContext(r);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);