"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[10781],{91801:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>t,contentTitle:()=>a,default:()=>u,frontMatter:()=>d,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"content_11_learning/postgresql/dev-05-query-optimization","title":"PostgreSQL \u30af\u30a8\u30ea\u6700\u9069\u5316","description":"\u6240\u8981\u6642\u9593","source":"@site/docs/content_11_learning/11-postgresql/dev-05-query-optimization.md","sourceDirName":"content_11_learning/11-postgresql","slug":"/content_11_learning/postgresql/dev-05-query-optimization","permalink":"/idp-server/docs/content_11_learning/postgresql/dev-05-query-optimization","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/11-postgresql/dev-05-query-optimization.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"PostgreSQL \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3","permalink":"/idp-server/docs/content_11_learning/postgresql/dev-04-transactions"},"next":{"title":"PostgreSQL \u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30fc\u30ea\u30f3\u30b0","permalink":"/idp-server/docs/content_11_learning/postgresql/dev-06-connection-pooling"}}');var i=s(74848),l=s(28453);const d={},a="PostgreSQL \u30af\u30a8\u30ea\u6700\u9069\u5316",t={},o=[{value:"\u6240\u8981\u6642\u9593",id:"\u6240\u8981\u6642\u9593",level:2},{value:"\u5b66\u3079\u308b\u3053\u3068",id:"\u5b66\u3079\u308b\u3053\u3068",level:2},{value:"\u524d\u63d0\u77e5\u8b58",id:"\u524d\u63d0\u77e5\u8b58",level:2},{value:"1. \u5b9f\u884c\u8a08\u753b\u306e\u57fa\u790e",id:"1-\u5b9f\u884c\u8a08\u753b\u306e\u57fa\u790e",level:2},{value:"1.1 EXPLAIN\u3068\u306f",id:"11-explain\u3068\u306f",level:3},{value:"1.2 \u5b9f\u884c\u8a08\u753b\u306e\u8aad\u307f\u65b9",id:"12-\u5b9f\u884c\u8a08\u753b\u306e\u8aad\u307f\u65b9",level:3},{value:"1.3 EXPLAIN ANALYZE\u306e\u8a73\u7d30",id:"13-explain-analyze\u306e\u8a73\u7d30",level:3},{value:"2. \u30b9\u30ad\u30e3\u30f3\u65b9\u6cd5",id:"2-\u30b9\u30ad\u30e3\u30f3\u65b9\u6cd5",level:2},{value:"2.1 \u4e3b\u306a\u30b9\u30ad\u30e3\u30f3\u30bf\u30a4\u30d7",id:"21-\u4e3b\u306a\u30b9\u30ad\u30e3\u30f3\u30bf\u30a4\u30d7",level:3},{value:"2.2 \u30b9\u30ad\u30e3\u30f3\u9078\u629e\u306e\u56f3\u89e3",id:"22-\u30b9\u30ad\u30e3\u30f3\u9078\u629e\u306e\u56f3\u89e3",level:3},{value:"2.3 \u5404\u30b9\u30ad\u30e3\u30f3\u306e\u5b9f\u4f8b",id:"23-\u5404\u30b9\u30ad\u30e3\u30f3\u306e\u5b9f\u4f8b",level:3},{value:"3. \u7d50\u5408\u65b9\u6cd5",id:"3-\u7d50\u5408\u65b9\u6cd5",level:2},{value:"3.1 \u4e3b\u306a\u7d50\u5408\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0",id:"31-\u4e3b\u306a\u7d50\u5408\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0",level:3},{value:"3.2 Nested Loop Join",id:"32-nested-loop-join",level:3},{value:"3.3 Hash Join",id:"33-hash-join",level:3},{value:"3.4 Merge Join",id:"34-merge-join",level:3},{value:"4. \u7d71\u8a08\u60c5\u5831",id:"4-\u7d71\u8a08\u60c5\u5831",level:2},{value:"4.1 \u7d71\u8a08\u60c5\u5831\u3068\u306f",id:"41-\u7d71\u8a08\u60c5\u5831\u3068\u306f",level:3},{value:"4.2 \u7d71\u8a08\u60c5\u5831\u306e\u66f4\u65b0",id:"42-\u7d71\u8a08\u60c5\u5831\u306e\u66f4\u65b0",level:3},{value:"4.3 \u7d71\u8a08\u60c5\u5831\u304c\u53e4\u3044\u5834\u5408\u306e\u554f\u984c",id:"43-\u7d71\u8a08\u60c5\u5831\u304c\u53e4\u3044\u5834\u5408\u306e\u554f\u984c",level:3},{value:"4.4 autovacuum \u3068\u7d71\u8a08\u60c5\u5831",id:"44-autovacuum-\u3068\u7d71\u8a08\u60c5\u5831",level:3},{value:"5. \u3088\u304f\u3042\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u554f\u984c",id:"5-\u3088\u304f\u3042\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u554f\u984c",level:2},{value:"5.1 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u306a\u3044",id:"51-\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u306a\u3044",level:3},{value:"\u539f\u56e01: \u95a2\u6570\u3084\u30ad\u30e3\u30b9\u30c8",id:"\u539f\u56e01-\u95a2\u6570\u3084\u30ad\u30e3\u30b9\u30c8",level:4},{value:"\u539f\u56e02: \u578b\u306e\u4e0d\u4e00\u81f4",id:"\u539f\u56e02-\u578b\u306e\u4e0d\u4e00\u81f4",level:4},{value:"\u539f\u56e03: LIKE \u30d1\u30bf\u30fc\u30f3",id:"\u539f\u56e03-like-\u30d1\u30bf\u30fc\u30f3",level:4},{value:"\u539f\u56e04: OR \u6761\u4ef6",id:"\u539f\u56e04-or-\u6761\u4ef6",level:4},{value:"5.2 N+1 \u554f\u984c",id:"52-n1-\u554f\u984c",level:3},{value:"5.3 \u5927\u91cf\u30c7\u30fc\u30bf\u306e OFFSET",id:"53-\u5927\u91cf\u30c7\u30fc\u30bf\u306e-offset",level:3},{value:"5.4 \u4e0d\u8981\u306a\u5217\u306e\u53d6\u5f97",id:"54-\u4e0d\u8981\u306a\u5217\u306e\u53d6\u5f97",level:3},{value:"5.5 \u30bd\u30fc\u30c8\u306e\u30dc\u30c8\u30eb\u30cd\u30c3\u30af",id:"55-\u30bd\u30fc\u30c8\u306e\u30dc\u30c8\u30eb\u30cd\u30c3\u30af",level:3},{value:"6. \u30af\u30a8\u30ea\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u5b9f\u8df5",id:"6-\u30af\u30a8\u30ea\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u5b9f\u8df5",level:2},{value:"6.1 EXPLAIN\u3067\u554f\u984c\u3092\u7279\u5b9a\u3059\u308b\u624b\u9806",id:"61-explain\u3067\u554f\u984c\u3092\u7279\u5b9a\u3059\u308b\u624b\u9806",level:3},{value:"6.2 \u554f\u984c\u306e\u3042\u308b\u30af\u30a8\u30ea\u306e\u4f8b",id:"62-\u554f\u984c\u306e\u3042\u308b\u30af\u30a8\u30ea\u306e\u4f8b",level:3},{value:"6.3 \u554f\u984c\u306e\u5206\u6790",id:"63-\u554f\u984c\u306e\u5206\u6790",level:3},{value:"6.4 \u6539\u5584\u5f8c",id:"64-\u6539\u5584\u5f8c",level:3},{value:"7. \u30d7\u30e9\u30f3\u30ca\u30fc\u306e\u5236\u5fa1",id:"7-\u30d7\u30e9\u30f3\u30ca\u30fc\u306e\u5236\u5fa1",level:2},{value:"7.1 \u30d7\u30e9\u30f3\u30ca\u30fc\u8a2d\u5b9a",id:"71-\u30d7\u30e9\u30f3\u30ca\u30fc\u8a2d\u5b9a",level:3},{value:"7.2 \u30d2\u30f3\u30c8\u306b\u3088\u308b\u30d7\u30e9\u30f3\u5236\u5fa1\uff08pg_hint_plan\uff09",id:"72-\u30d2\u30f3\u30c8\u306b\u3088\u308b\u30d7\u30e9\u30f3\u5236\u5fa1pg_hint_plan",level:3},{value:"8. \u76e3\u8996\u3068\u30ed\u30b0",id:"8-\u76e3\u8996\u3068\u30ed\u30b0",level:2},{value:"8.1 \u9045\u3044\u30af\u30a8\u30ea\u306e\u30ed\u30b0",id:"81-\u9045\u3044\u30af\u30a8\u30ea\u306e\u30ed\u30b0",level:3},{value:"8.2 pg_stat_statements",id:"82-pg_stat_statements",level:3},{value:"8.3 auto_explain",id:"83-auto_explain",level:3},{value:"9. \u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"9-\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:2},{value:"9.1 \u30af\u30a8\u30ea\u8a2d\u8a08",id:"91-\u30af\u30a8\u30ea\u8a2d\u8a08",level:3},{value:"9.2 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u8a2d\u8a08",id:"92-\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u8a2d\u8a08",level:3},{value:"9.3 \u5b9a\u671f\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9",id:"93-\u5b9a\u671f\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2}];function c(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"postgresql-\u30af\u30a8\u30ea\u6700\u9069\u5316",children:"PostgreSQL \u30af\u30a8\u30ea\u6700\u9069\u5316"})}),"\n",(0,i.jsx)(e.h2,{id:"\u6240\u8981\u6642\u9593",children:"\u6240\u8981\u6642\u9593"}),"\n",(0,i.jsx)(e.p,{children:"\u7d0450\u5206"}),"\n",(0,i.jsx)(e.h2,{id:"\u5b66\u3079\u308b\u3053\u3068",children:"\u5b66\u3079\u308b\u3053\u3068"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"EXPLAIN/EXPLAIN ANALYZE\u306e\u8aad\u307f\u65b9"}),"\n",(0,i.jsx)(e.li,{children:"\u5b9f\u884c\u8a08\u753b\u306e\u6700\u9069\u5316\u624b\u6cd5"}),"\n",(0,i.jsx)(e.li,{children:"\u7d71\u8a08\u60c5\u5831\u3068\u30d7\u30e9\u30f3\u30ca\u30fc\u306e\u52d5\u4f5c"}),"\n",(0,i.jsx)(e.li,{children:"\u3088\u304f\u3042\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u554f\u984c\u3068\u89e3\u6c7a\u7b56"}),"\n",(0,i.jsx)(e.li,{children:"\u30af\u30a8\u30ea\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u5b9f\u8df5\u30c6\u30af\u30cb\u30c3\u30af"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u524d\u63d0\u77e5\u8b58",children:"\u524d\u63d0\u77e5\u8b58"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"SQL\u306e\u57fa\u672c\u64cd\u4f5c"}),"\n",(0,i.jsx)(e.li,{children:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u57fa\u790e\u77e5\u8b58"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"1-\u5b9f\u884c\u8a08\u753b\u306e\u57fa\u790e",children:"1. \u5b9f\u884c\u8a08\u753b\u306e\u57fa\u790e"}),"\n",(0,i.jsx)(e.h3,{id:"11-explain\u3068\u306f",children:"1.1 EXPLAIN\u3068\u306f"}),"\n",(0,i.jsx)(e.p,{children:"EXPLAIN\u306f\u3001PostgreSQL\u304c\u30af\u30a8\u30ea\u3092\u3069\u306e\u3088\u3046\u306b\u5b9f\u884c\u3059\u308b\u304b\u3092\u8868\u793a\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\nEXPLAIN SELECT * FROM users WHERE id = 1;\n\n-- \u5b9f\u969b\u306b\u5b9f\u884c\u3057\u3066\u6642\u9593\u3082\u8a08\u6e2c\nEXPLAIN ANALYZE SELECT * FROM users WHERE id = 1;\n\n-- \u3088\u308a\u8a73\u7d30\u306a\u60c5\u5831\nEXPLAIN (ANALYZE, BUFFERS, FORMAT TEXT)\nSELECT * FROM users WHERE id = 1;\n"})}),"\n",(0,i.jsx)(e.h3,{id:"12-\u5b9f\u884c\u8a08\u753b\u306e\u8aad\u307f\u65b9",children:"1.2 \u5b9f\u884c\u8a08\u753b\u306e\u8aad\u307f\u65b9"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"                                    QUERY PLAN\n------------------------------------------------------------------------------------\n Index Scan using users_pkey on users  (cost=0.29..8.31 rows=1 width=100)\n   Index Cond: (id = 1)\n Planning Time: 0.080 ms\n Execution Time: 0.025 ms\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        \u5b9f\u884c\u8a08\u753b\u306e\u5404\u8981\u7d20                                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u8981\u7d20             \u2502 \u8aac\u660e                                                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Index Scan       \u2502 \u5b9f\u884c\u65b9\u6cd5\uff08\u30ce\u30fc\u30c9\u30bf\u30a4\u30d7\uff09                                      \u2502\n\u2502                  \u2502 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u305f\u691c\u7d22                                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 cost=0.29..8.31  \u2502 \u30b3\u30b9\u30c8\u898b\u7a4d\u3082\u308a                                               \u2502\n\u2502                  \u2502 0.29: \u6700\u521d\u306e\u884c\u3092\u8fd4\u3059\u307e\u3067\u306e\u30b3\u30b9\u30c8\uff08\u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30b3\u30b9\u30c8\uff09      \u2502\n\u2502                  \u2502 8.31: \u3059\u3079\u3066\u306e\u884c\u3092\u8fd4\u3059\u307e\u3067\u306e\u7dcf\u30b3\u30b9\u30c8                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 rows=1           \u2502 \u8fd4\u3055\u308c\u308b\u884c\u6570\u306e\u898b\u7a4d\u3082\u308a                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 width=100        \u2502 1\u884c\u3042\u305f\u308a\u306e\u5e73\u5747\u30d0\u30a4\u30c8\u6570                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Index Cond       \u2502 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6761\u4ef6                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"13-explain-analyze\u306e\u8a73\u7d30",children:"1.3 EXPLAIN ANALYZE\u306e\u8a73\u7d30"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"EXPLAIN (ANALYZE, BUFFERS) SELECT * FROM orders WHERE user_id = 123;\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"                                         QUERY PLAN\n--------------------------------------------------------------------------------------------\n Index Scan using orders_user_id_idx on orders  (cost=0.43..12.50 rows=5 width=200)\n                                                 (actual time=0.020..0.035 rows=7 loops=1)\n   Index Cond: (user_id = 123)\n   Buffers: shared hit=4\n Planning Time: 0.100 ms\n Execution Time: 0.055 ms\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    EXPLAIN ANALYZE\u306e\u8ffd\u52a0\u60c5\u5831                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u8981\u7d20                      \u2502 \u8aac\u660e                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 actual time=0.020..0.035 \u2502 \u5b9f\u969b\u306e\u5b9f\u884c\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09                             \u2502\n\u2502                          \u2502 \u6700\u521d\u306e\u884c\u307e\u3067..\u6700\u5f8c\u306e\u884c\u307e\u3067                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 rows=7                   \u2502 \u5b9f\u969b\u306b\u8fd4\u3055\u308c\u305f\u884c\u6570                                   \u2502\n\u2502                          \u2502 \u203b \u898b\u7a4d\u3082\u308a(rows=5)\u3068\u306e\u5dee\u306b\u6ce8\u76ee                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 loops=1                  \u2502 \u3053\u306e\u30ce\u30fc\u30c9\u304c\u5b9f\u884c\u3055\u308c\u305f\u56de\u6570                           \u2502\n\u2502                          \u2502 \u30cd\u30b9\u30c8\u30eb\u30fc\u30d7\u7d50\u5408\u3067\u306f\u8907\u6570\u56de\u5b9f\u884c\u3055\u308c\u308b                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Buffers: shared hit=4    \u2502 \u30d0\u30c3\u30d5\u30a1\u60c5\u5831                                         \u2502\n\u2502                          \u2502 hit: \u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u8aad\u307f\u53d6\u3063\u305f\u30d6\u30ed\u30c3\u30af\u6570              \u2502\n\u2502                          \u2502 read: \u30c7\u30a3\u30b9\u30af\u304b\u3089\u8aad\u307f\u53d6\u3063\u305f\u30d6\u30ed\u30c3\u30af\u6570               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"2-\u30b9\u30ad\u30e3\u30f3\u65b9\u6cd5",children:"2. \u30b9\u30ad\u30e3\u30f3\u65b9\u6cd5"}),"\n",(0,i.jsx)(e.h3,{id:"21-\u4e3b\u306a\u30b9\u30ad\u30e3\u30f3\u30bf\u30a4\u30d7",children:"2.1 \u4e3b\u306a\u30b9\u30ad\u30e3\u30f3\u30bf\u30a4\u30d7"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         \u30b9\u30ad\u30e3\u30f3\u65b9\u6cd5\u306e\u6bd4\u8f03                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u30b9\u30ad\u30e3\u30f3\u30bf\u30a4\u30d7        \u2502 \u8aac\u660e                                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Seq Scan             \u2502 \u30c6\u30fc\u30d6\u30eb\u5168\u4f53\u3092\u9806\u6b21\u8aad\u307f\u53d6\u308a                                \u2502\n\u2502                      \u2502 \u30d5\u30a3\u30eb\u30bf\u6761\u4ef6\u306b\u5408\u81f4\u3059\u308b\u884c\u3092\u8fd4\u3059                           \u2502\n\u2502                      \u2502 \u5927\u90e8\u5206\u306e\u884c\u3092\u8aad\u3080\u5834\u5408\u306b\u52b9\u7387\u7684                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Index Scan           \u2502 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u3066\u884c\u3092\u7279\u5b9a                             \u2502\n\u2502                      \u2502 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u30c6\u30fc\u30d6\u30eb\u306e\u4e21\u65b9\u306b\u30a2\u30af\u30bb\u30b9                   \u2502\n\u2502                      \u2502 \u5c11\u6570\u306e\u884c\u3092\u53d6\u5f97\u3059\u308b\u5834\u5408\u306b\u52b9\u7387\u7684                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Index Only Scan      \u2502 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u307f\u3067\u5b8c\u7d50                                   \u2502\n\u2502                      \u2502 \u30c6\u30fc\u30d6\u30eb\u30a2\u30af\u30bb\u30b9\u4e0d\u8981\uff08\u53ef\u8996\u6027\u78ba\u8a8d\u3092\u9664\u304f\uff09                 \u2502\n\u2502                      \u2502 \u30ab\u30d0\u30ea\u30f3\u30b0\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u5b9f\u73fe                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Bitmap Index Scan    \u2502 \u8907\u6570\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u7d44\u307f\u5408\u308f\u305b                           \u2502\n\u2502 + Bitmap Heap Scan   \u2502 \u307e\u305a\u30d3\u30c3\u30c8\u30de\u30c3\u30d7\u3092\u4f5c\u6210\u3001\u305d\u306e\u5f8c\u30c6\u30fc\u30d6\u30eb\u306b\u30a2\u30af\u30bb\u30b9         \u2502\n\u2502                      \u2502 \u4e2d\u7a0b\u5ea6\u306e\u884c\u6570\u3092\u53d6\u5f97\u3059\u308b\u5834\u5408\u306b\u52b9\u7387\u7684                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"22-\u30b9\u30ad\u30e3\u30f3\u9078\u629e\u306e\u56f3\u89e3",children:"2.2 \u30b9\u30ad\u30e3\u30f3\u9078\u629e\u306e\u56f3\u89e3"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    \u30b9\u30ad\u30e3\u30f3\u65b9\u6cd5\u306e\u9078\u629e\u57fa\u6e96                                        \u2502\n\u2502                                                                                 \u2502\n\u2502  \u53d6\u5f97\u884c\u6570 / \u7dcf\u884c\u6570 \u306e\u5272\u5408                                                       \u2502\n\u2502                                                                                 \u2502\n\u2502  0%        5%       20%                                   100%                  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                   \u2502\n\u2502  \u2502         \u2502         \u2502                                     \u2502                   \u2502\n\u2502  \u2502 Index   \u2502 Bitmap  \u2502         Seq Scan                    \u2502                   \u2502\n\u2502  \u2502 Scan    \u2502 Scan    \u2502         (\u5168\u4ef6\u30b9\u30ad\u30e3\u30f3\u304c\u52b9\u7387\u7684)       \u2502                   \u2502\n\u2502  \u2502         \u2502         \u2502                                     \u2502                   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\n\u2502                                                                                 \u2502\n\u2502  \u203b \u5b9f\u969b\u306e\u95be\u5024\u306f\u30c6\u30fc\u30d6\u30eb\u30b5\u30a4\u30ba\u3001\u30e9\u30f3\u30c0\u30e0I/O\u30b3\u30b9\u30c8\u306a\u3069\u3067\u5909\u52d5                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"23-\u5404\u30b9\u30ad\u30e3\u30f3\u306e\u5b9f\u4f8b",children:"2.3 \u5404\u30b9\u30ad\u30e3\u30f3\u306e\u5b9f\u4f8b"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- Seq Scan\uff08\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306a\u3057\u3001\u307e\u305f\u306f\u5927\u90e8\u5206\u3092\u53d6\u5f97\uff09\nEXPLAIN SELECT * FROM users WHERE created_at > '2024-01-01';\n-- \u2192 Seq Scan on users  (cost=0.00..1520.00 rows=50000 width=100)\n--     Filter: (created_at > '2024-01-01'::date)\n\n-- Index Scan\uff08\u5c11\u6570\u884c\u3092\u53d6\u5f97\uff09\nEXPLAIN SELECT * FROM users WHERE id = 123;\n-- \u2192 Index Scan using users_pkey on users  (cost=0.29..8.31 rows=1 width=100)\n--     Index Cond: (id = 123)\n\n-- Index Only Scan\uff08\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u542b\u307e\u308c\u308b\u5217\u306e\u307f\u53d6\u5f97\uff09\nEXPLAIN SELECT id, email FROM users WHERE email = 'test@example.com';\n-- \u2192 Index Only Scan using users_email_idx on users  (cost=0.29..4.31 rows=1 width=50)\n--     Index Cond: (email = 'test@example.com'::text)\n\n-- Bitmap Scan\uff08\u4e2d\u7a0b\u5ea6\u306e\u884c\u6570\u3001\u307e\u305f\u306f\u8907\u6570\u6761\u4ef6\uff09\nEXPLAIN SELECT * FROM orders WHERE status = 'pending' AND created_at > '2024-01-01';\n-- \u2192 Bitmap Heap Scan on orders  (cost=10.50..520.50 rows=200 width=150)\n--     Recheck Cond: ((status = 'pending') AND (created_at > '2024-01-01'))\n--     \u2192 BitmapAnd\n--           \u2192 Bitmap Index Scan on orders_status_idx\n--           \u2192 Bitmap Index Scan on orders_created_at_idx\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"3-\u7d50\u5408\u65b9\u6cd5",children:"3. \u7d50\u5408\u65b9\u6cd5"}),"\n",(0,i.jsx)(e.h3,{id:"31-\u4e3b\u306a\u7d50\u5408\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0",children:"3.1 \u4e3b\u306a\u7d50\u5408\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          \u7d50\u5408\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u30a2\u30eb\u30b4\u30ea\u30ba\u30e0          \u2502 \u7279\u5fb4                                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Nested Loop Join     \u2502 \u5916\u5074\u30c6\u30fc\u30d6\u30eb\u306e\u5404\u884c\u306b\u5bfe\u3057\u3066\u3001\u5185\u5074\u30c6\u30fc\u30d6\u30eb\u3092\u691c\u7d22           \u2502\n\u2502                      \u2502 \u5c0f\u3055\u3044\u30c6\u30fc\u30d6\u30eb\u540c\u58eb\u3001\u307e\u305f\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u3042\u308b\u5834\u5408\u306b\u52b9\u7387\u7684 \u2502\n\u2502                      \u2502 O(N \xd7 M) \u307e\u305f\u306f O(N \xd7 log M) \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f7f\u7528\u6642          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Hash Join            \u2502 \u5c0f\u3055\u3044\u65b9\u306e\u30c6\u30fc\u30d6\u30eb\u3067\u30cf\u30c3\u30b7\u30e5\u30c6\u30fc\u30d6\u30eb\u3092\u69cb\u7bc9               \u2502\n\u2502                      \u2502 \u5927\u304d\u3044\u65b9\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u306a\u304c\u3089\u30cf\u30c3\u30b7\u30e5\u3067\u691c\u7d22                 \u2502\n\u2502                      \u2502 \u7b49\u4fa1\u7d50\u5408\u3067\u52b9\u7387\u7684\u3001\u30e1\u30e2\u30ea\u3092\u4f7f\u7528                           \u2502\n\u2502                      \u2502 O(N + M)                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Merge Join           \u2502 \u4e21\u30c6\u30fc\u30d6\u30eb\u3092\u30bd\u30fc\u30c8\u3057\u3066\u9806\u6b21\u30de\u30fc\u30b8                         \u2502\n\u2502                      \u2502 \u5927\u304d\u306a\u30c6\u30fc\u30d6\u30eb\u540c\u58eb\u3001\u30bd\u30fc\u30c8\u6e08\u307f\u30c7\u30fc\u30bf\u3067\u52b9\u7387\u7684             \u2502\n\u2502                      \u2502 O(N log N + M log M + N + M)                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"32-nested-loop-join",children:"3.2 Nested Loop Join"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                       Nested Loop Join                                          \u2502\n\u2502                                                                                 \u2502\n\u2502  \u5916\u5074\u30c6\u30fc\u30d6\u30eb (users)         \u5185\u5074\u30c6\u30fc\u30d6\u30eb (orders)                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                              \u2502\n\u2502  \u2502 user_id = 1    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192\u2502 user_id = 1 \u306e  \u2502                              \u2502\n\u2502  \u2502                \u2502          \u2502 \u6ce8\u6587\u3092\u691c\u7d22      \u2502                              \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                              \u2502\n\u2502  \u2502 user_id = 2    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192\u2502 user_id = 2 \u306e  \u2502                              \u2502\n\u2502  \u2502                \u2502          \u2502 \u6ce8\u6587\u3092\u691c\u7d22      \u2502                              \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                              \u2502\n\u2502  \u2502 user_id = 3    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192\u2502 user_id = 3 \u306e  \u2502                              \u2502\n\u2502  \u2502                \u2502          \u2502 \u6ce8\u6587\u3092\u691c\u7d22      \u2502                              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                              \u2502\n\u2502                                                                                 \u2502\n\u2502  \u2192 \u5916\u5074\u306e\u5404\u884c\u306b\u5bfe\u3057\u3066\u5185\u5074\u3092\u691c\u7d22                                                 \u2502\n\u2502  \u2192 \u5185\u5074\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u3042\u308b\u3068\u9ad8\u901f                                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"EXPLAIN ANALYZE\nSELECT u.name, o.total\nFROM users u\nJOIN orders o ON u.id = o.user_id\nWHERE u.id = 123;\n\n-- \u2192 Nested Loop  (cost=0.72..16.77 rows=5 width=50) (actual time=0.030..0.045 rows=3)\n--     \u2192 Index Scan using users_pkey on users u  (cost=0.29..8.31 rows=1) (actual rows=1)\n--           Index Cond: (id = 123)\n--     \u2192 Index Scan using orders_user_id_idx on orders o  (cost=0.43..8.41 rows=5) (actual rows=3)\n--           Index Cond: (user_id = 123)\n"})}),"\n",(0,i.jsx)(e.h3,{id:"33-hash-join",children:"3.3 Hash Join"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           Hash Join                                             \u2502\n\u2502                                                                                 \u2502\n\u2502  1. \u30d3\u30eb\u30c9\u30d5\u30a7\u30fc\u30ba                     2. \u30d7\u30ed\u30fc\u30d6\u30d5\u30a7\u30fc\u30ba                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502 \u5c0f\u3055\u3044\u30c6\u30fc\u30d6\u30eb          \u2502          \u2502 \u5927\u304d\u3044\u30c6\u30fc\u30d6\u30eb          \u2502              \u2502\n\u2502  \u2502 (categories)           \u2502          \u2502 (products)             \u2502              \u2502\n\u2502  \u2502                        \u2502          \u2502                        \u2502              \u2502\n\u2502  \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502          \u2502 \u5404\u884c\u3092\u30b9\u30ad\u30e3\u30f3          \u2502              \u2502\n\u2502  \u2502 \u2502 \u30cf\u30c3\u30b7\u30e5\u30c6\u30fc\u30d6\u30eb    \u2502 \u2502 \u2190\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 \u30cf\u30c3\u30b7\u30e5\u3067\u691c\u7d22          \u2502              \u2502\n\u2502  \u2502 \u2502 category_id \u2192 \u884c   \u2502 \u2502          \u2502                        \u2502              \u2502\n\u2502  \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502          \u2502                        \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2502                                                                                 \u2502\n\u2502  \u2192 \u30e1\u30e2\u30ea\u4e0a\u306b\u30cf\u30c3\u30b7\u30e5\u30c6\u30fc\u30d6\u30eb\u3092\u69cb\u7bc9                                             \u2502\n\u2502  \u2192 work_mem \u304c\u91cd\u8981                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"EXPLAIN ANALYZE\nSELECT p.name, c.name as category\nFROM products p\nJOIN categories c ON p.category_id = c.id;\n\n-- \u2192 Hash Join  (cost=25.00..500.00 rows=10000 width=60) (actual time=2.5..25.0 rows=10000)\n--     Hash Cond: (p.category_id = c.id)\n--     \u2192 Seq Scan on products p  (cost=0.00..250.00 rows=10000 width=40)\n--     \u2192 Hash  (cost=15.00..15.00 rows=100 width=25) (actual time=0.5..0.5 rows=100)\n--           Buckets: 128  Batches: 1  Memory Usage: 12kB\n--           \u2192 Seq Scan on categories c  (cost=0.00..15.00 rows=100 width=25)\n"})}),"\n",(0,i.jsx)(e.h3,{id:"34-merge-join",children:"3.4 Merge Join"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          Merge Join                                             \u2502\n\u2502                                                                                 \u2502\n\u2502  \u30bd\u30fc\u30c8\u6e08\u307f\u30c6\u30fc\u30d6\u30ebA              \u30bd\u30fc\u30c8\u6e08\u307f\u30c6\u30fc\u30d6\u30ebB                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                           \u2502\n\u2502  \u2502 id: 1          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192\u2502 id: 1          \u2502 \u30de\u30c3\u30c1                     \u2502\n\u2502  \u2502 id: 2          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192\u2502 id: 2          \u2502 \u30de\u30c3\u30c1                     \u2502\n\u2502  \u2502 id: 3          \u2502             \u2502 id: 4          \u2502                            \u2502\n\u2502  \u2502 id: 5          \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192\u2502 id: 5          \u2502 \u30de\u30c3\u30c1                     \u2502\n\u2502  \u2502 id: 6          \u2502             \u2502 ...            \u2502                            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                           \u2502\n\u2502                                                                                 \u2502\n\u2502  \u2192 \u4e21\u30c6\u30fc\u30d6\u30eb\u3092\u540c\u6642\u306b\u8d70\u67fb                                                       \u2502\n\u2502  \u2192 \u30bd\u30fc\u30c8\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u304c\u524d\u63d0\uff08\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u307e\u305f\u306f\u660e\u793a\u7684\u30bd\u30fc\u30c8\uff09                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"4-\u7d71\u8a08\u60c5\u5831",children:"4. \u7d71\u8a08\u60c5\u5831"}),"\n",(0,i.jsx)(e.h3,{id:"41-\u7d71\u8a08\u60c5\u5831\u3068\u306f",children:"4.1 \u7d71\u8a08\u60c5\u5831\u3068\u306f"}),"\n",(0,i.jsx)(e.p,{children:"\u30d7\u30e9\u30f3\u30ca\u30fc\u304c\u6700\u9069\u306a\u5b9f\u884c\u8a08\u753b\u3092\u9078\u3076\u305f\u3081\u306e\u60c5\u5831\u3067\u3059\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u30c6\u30fc\u30d6\u30eb\u306e\u7d71\u8a08\u60c5\u5831\nSELECT\n    relname,\n    reltuples,      -- \u63a8\u5b9a\u884c\u6570\n    relpages,       -- \u30da\u30fc\u30b8\u6570\n    relallvisible   -- \u5168\u53ef\u8996\u30da\u30fc\u30b8\u6570\nFROM pg_class\nWHERE relname = 'users';\n\n-- \u5217\u306e\u7d71\u8a08\u60c5\u5831\nSELECT\n    attname,\n    n_distinct,     -- \u30e6\u30cb\u30fc\u30af\u5024\u306e\u63a8\u5b9a\u6570\uff08\u8ca0\u306e\u5024\u306f\u5272\u5408\uff09\n    null_frac,      -- NULL \u306e\u5272\u5408\n    avg_width,      -- \u5e73\u5747\u30d0\u30a4\u30c8\u5e45\n    most_common_vals,   -- \u6700\u983b\u5024\n    most_common_freqs   -- \u6700\u983b\u5024\u306e\u51fa\u73fe\u983b\u5ea6\nFROM pg_stats\nWHERE tablename = 'users' AND attname = 'status';\n"})}),"\n",(0,i.jsx)(e.h3,{id:"42-\u7d71\u8a08\u60c5\u5831\u306e\u66f4\u65b0",children:"4.2 \u7d71\u8a08\u60c5\u5831\u306e\u66f4\u65b0"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u7279\u5b9a\u30c6\u30fc\u30d6\u30eb\u306e\u7d71\u8a08\u60c5\u5831\u3092\u66f4\u65b0\nANALYZE users;\n\n-- \u5168\u30c6\u30fc\u30d6\u30eb\nANALYZE;\n\n-- \u7279\u5b9a\u5217\u306e\u307f\nANALYZE users (email, status);\n\n-- \u8a73\u7d30\u306a\u7d71\u8a08\u60c5\u5831\u3092\u53d6\u5f97\uff08\u30c7\u30d5\u30a9\u30eb\u30c8100\uff09\nALTER TABLE users ALTER COLUMN status SET STATISTICS 1000;\nANALYZE users;\n"})}),"\n",(0,i.jsx)(e.h3,{id:"43-\u7d71\u8a08\u60c5\u5831\u304c\u53e4\u3044\u5834\u5408\u306e\u554f\u984c",children:"4.3 \u7d71\u8a08\u60c5\u5831\u304c\u53e4\u3044\u5834\u5408\u306e\u554f\u984c"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    \u7d71\u8a08\u60c5\u5831\u304c\u53e4\u3044\u5834\u5408\u306e\u5f71\u97ff                                      \u2502\n\u2502                                                                                 \u2502\n\u2502  \u7d71\u8a08\u60c5\u5831: 100\u4e07\u884c                  \u5b9f\u969b: 1000\u4e07\u884c                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502  \u2502 \u63a8\u5b9a\u884c\u6570: 1000     \u2502              \u2502 \u5b9f\u969b\u884c\u6570: 10000   \u2502                      \u2502\n\u2502  \u2502                   \u2502              \u2502                   \u2502                      \u2502\n\u2502  \u2502 \u2192 Index Scan \u3092   \u2502              \u2502 \u2192 \u5b9f\u969b\u306b\u306f        \u2502                      \u2502\n\u2502  \u2502   \u9078\u629e            \u2502              \u2502   Seq Scan \u306e\u65b9\u304c \u2502                      \u2502\n\u2502  \u2502                   \u2502              \u2502   \u52b9\u7387\u7684\u3060\u3063\u305f    \u2502                      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2502                                                                                 \u2502\n\u2502  \u7d50\u679c: \u975e\u52b9\u7387\u306a\u5b9f\u884c\u8a08\u753b \u2192 \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u4f4e\u4e0b                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u898b\u7a4d\u3082\u308a\u3068\u5b9f\u969b\u306e\u5dee\u3092\u78ba\u8a8d\nEXPLAIN ANALYZE SELECT * FROM users WHERE status = 'active';\n\n-- rows=1000 \u304c\u898b\u7a4d\u3082\u308a\u3001actual rows=15000 \u304c\u5b9f\u969b\n-- \u5927\u304d\u306a\u5dee\u304c\u3042\u308b\u5834\u5408\u306f ANALYZE \u3092\u5b9f\u884c\n"})}),"\n",(0,i.jsx)(e.h3,{id:"44-autovacuum-\u3068\u7d71\u8a08\u60c5\u5831",children:"4.4 autovacuum \u3068\u7d71\u8a08\u60c5\u5831"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- autovacuum \u306e\u8a2d\u5b9a\u78ba\u8a8d\nSHOW autovacuum;\n\n-- \u30c6\u30fc\u30d6\u30eb\u3054\u3068\u306e\u6700\u7d42\u5206\u6790\u65e5\u6642\nSELECT\n    schemaname,\n    relname,\n    last_analyze,\n    last_autoanalyze,\n    n_live_tup,\n    n_dead_tup\nFROM pg_stat_user_tables\nORDER BY last_autoanalyze DESC NULLS LAST;\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"5-\u3088\u304f\u3042\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u554f\u984c",children:"5. \u3088\u304f\u3042\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u554f\u984c"}),"\n",(0,i.jsx)(e.h3,{id:"51-\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u306a\u3044",children:"5.1 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u306a\u3044"}),"\n",(0,i.jsx)(e.h4,{id:"\u539f\u56e01-\u95a2\u6570\u3084\u30ad\u30e3\u30b9\u30c8",children:"\u539f\u56e01: \u95a2\u6570\u3084\u30ad\u30e3\u30b9\u30c8"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u2717 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u306a\u3044\nSELECT * FROM users WHERE LOWER(email) = 'test@example.com';\nSELECT * FROM users WHERE created_at::date = '2024-01-01';\n\n-- \u2713 \u5f0f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\nCREATE INDEX users_email_lower_idx ON users (LOWER(email));\nCREATE INDEX users_created_date_idx ON users ((created_at::date));\n"})}),"\n",(0,i.jsx)(e.h4,{id:"\u539f\u56e02-\u578b\u306e\u4e0d\u4e00\u81f4",children:"\u539f\u56e02: \u578b\u306e\u4e0d\u4e00\u81f4"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- user_id \u304c INTEGER \u578b\u306e\u5834\u5408\n-- \u2717 \u578b\u5909\u63db\u304c\u767a\u751f\u3057\u3066\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u306a\u3044\nSELECT * FROM users WHERE user_id = '123';\n\n-- \u2713 \u6b63\u3057\u3044\u578b\u3092\u4f7f\u7528\nSELECT * FROM users WHERE user_id = 123;\n"})}),"\n",(0,i.jsx)(e.h4,{id:"\u539f\u56e03-like-\u30d1\u30bf\u30fc\u30f3",children:"\u539f\u56e03: LIKE \u30d1\u30bf\u30fc\u30f3"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u2717 \u524d\u65b9\u4e00\u81f4\u4ee5\u5916\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u306a\u3044\nSELECT * FROM users WHERE name LIKE '%\u7530\u4e2d%';\n\n-- \u2713 \u524d\u65b9\u4e00\u81f4\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u7528\u3055\u308c\u308b\nSELECT * FROM users WHERE name LIKE '\u7530\u4e2d%';\n\n-- \u2713 \u5168\u6587\u691c\u7d22\u306b\u306f GIN \u30a4\u30f3\u30c7\u30c3\u30af\u30b9 + pg_trgm\nCREATE EXTENSION IF NOT EXISTS pg_trgm;\nCREATE INDEX users_name_trgm_idx ON users USING gin (name gin_trgm_ops);\nSELECT * FROM users WHERE name LIKE '%\u7530\u4e2d%';  -- \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f7f\u7528\n"})}),"\n",(0,i.jsx)(e.h4,{id:"\u539f\u56e04-or-\u6761\u4ef6",children:"\u539f\u56e04: OR \u6761\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u2717 OR\u6761\u4ef6\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u306b\u304f\u3044\nSELECT * FROM users WHERE email = 'a@example.com' OR name = '\u7530\u4e2d';\n\n-- \u2713 UNION \u3067\u5206\u5272\nSELECT * FROM users WHERE email = 'a@example.com'\nUNION\nSELECT * FROM users WHERE name = '\u7530\u4e2d';\n"})}),"\n",(0,i.jsx)(e.h3,{id:"52-n1-\u554f\u984c",children:"5.2 N+1 \u554f\u984c"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u2717 N+1 \u554f\u984c\uff08\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u767a\u751f\uff09\n-- 1\u56de\u76ee: SELECT * FROM users WHERE status = 'active';\n-- N\u56de\u76ee: SELECT * FROM orders WHERE user_id = ? (\u30e6\u30fc\u30b6\u30fc\u3054\u3068)\n\n-- \u2713 JOIN \u30671\u30af\u30a8\u30ea\u306b\nSELECT u.*, o.*\nFROM users u\nLEFT JOIN orders o ON u.id = o.user_id\nWHERE u.status = 'active';\n\n-- \u2713 \u307e\u305f\u306f IN \u53e5\u3067\u307e\u3068\u3081\u3066\u53d6\u5f97\nSELECT * FROM orders WHERE user_id IN (1, 2, 3, ...);\n"})}),"\n",(0,i.jsx)(e.h3,{id:"53-\u5927\u91cf\u30c7\u30fc\u30bf\u306e-offset",children:"5.3 \u5927\u91cf\u30c7\u30fc\u30bf\u306e OFFSET"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u2717 \u6df1\u3044\u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\uff08OFFSET \u304c\u5927\u304d\u3044\u3068\u9045\u3044\uff09\nSELECT * FROM logs ORDER BY created_at DESC LIMIT 20 OFFSET 100000;\n-- \u2192 100000\u884c\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u305f\u3081\u306b\u5168\u90e8\u8aad\u3080\u5fc5\u8981\u304c\u3042\u308b\n\n-- \u2713 \u30ab\u30fc\u30bd\u30eb\u30d9\u30fc\u30b9\u306e\u30da\u30fc\u30b8\u30cd\u30fc\u30b7\u30e7\u30f3\nSELECT * FROM logs\nWHERE created_at < '2024-01-15 10:30:00'  -- \u524d\u56de\u306e\u6700\u5f8c\u306ecreated_at\nORDER BY created_at DESC\nLIMIT 20;\n\n-- \u2713 \u307e\u305f\u306f ROW_NUMBER() \u3092\u4f7f\u7528\uff08\u305f\u3060\u3057\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u5fc5\u8981\uff09\nWITH numbered AS (\n    SELECT *, ROW_NUMBER() OVER (ORDER BY created_at DESC) as rn\n    FROM logs\n)\nSELECT * FROM numbered WHERE rn BETWEEN 100001 AND 100020;\n"})}),"\n",(0,i.jsx)(e.h3,{id:"54-\u4e0d\u8981\u306a\u5217\u306e\u53d6\u5f97",children:"5.4 \u4e0d\u8981\u306a\u5217\u306e\u53d6\u5f97"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u2717 \u5168\u5217\u3092\u53d6\u5f97\nSELECT * FROM large_table WHERE id = 123;\n\n-- \u2713 \u5fc5\u8981\u306a\u5217\u306e\u307f\u53d6\u5f97\nSELECT id, name, status FROM large_table WHERE id = 123;\n-- \u2192 Index Only Scan \u304c\u53ef\u80fd\u306b\u306a\u308b\u5834\u5408\u3082\u3042\u308b\n"})}),"\n",(0,i.jsx)(e.h3,{id:"55-\u30bd\u30fc\u30c8\u306e\u30dc\u30c8\u30eb\u30cd\u30c3\u30af",children:"5.5 \u30bd\u30fc\u30c8\u306e\u30dc\u30c8\u30eb\u30cd\u30c3\u30af"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u5927\u91cf\u30c7\u30fc\u30bf\u306e\u30bd\u30fc\u30c8\u306f\u30e1\u30e2\u30ea\u3068\u30c7\u30a3\u30b9\u30af\u3092\u6d88\u8cbb\nEXPLAIN ANALYZE SELECT * FROM logs ORDER BY created_at DESC;\n\n-- \u2192 Sort Method: external merge Disk: xxxKB\n-- \u3053\u308c\u306fwork_mem\u3092\u8d85\u3048\u3066\u30c7\u30a3\u30b9\u30af\u30bd\u30fc\u30c8\u304c\u767a\u751f\u3057\u3066\u3044\u308b\n\n-- \u5bfe\u7b561: \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6d3b\u7528\nCREATE INDEX logs_created_at_desc_idx ON logs (created_at DESC);\n\n-- \u5bfe\u7b562: work_mem \u3092\u5897\u3084\u3059\uff08\u30bb\u30c3\u30b7\u30e7\u30f3\u5358\u4f4d\u3067\uff09\nSET work_mem = '256MB';\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"6-\u30af\u30a8\u30ea\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u5b9f\u8df5",children:"6. \u30af\u30a8\u30ea\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u5b9f\u8df5"}),"\n",(0,i.jsx)(e.h3,{id:"61-explain\u3067\u554f\u984c\u3092\u7279\u5b9a\u3059\u308b\u624b\u9806",children:"6.1 EXPLAIN\u3067\u554f\u984c\u3092\u7279\u5b9a\u3059\u308b\u624b\u9806"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   \u30af\u30a8\u30ea\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u624b\u9806                                        \u2502\n\u2502                                                                                 \u2502\n\u2502  1. EXPLAIN ANALYZE \u3067\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u3092\u53d6\u5f97                                         \u2502\n\u2502     \u2193                                                                           \u2502\n\u2502  2. \u6700\u3082\u30b3\u30b9\u30c8\u304c\u9ad8\u3044\u30ce\u30fc\u30c9\u3092\u7279\u5b9a                                                 \u2502\n\u2502     \u2193                                                                           \u2502\n\u2502  3. \u898b\u7a4d\u3082\u308a\u3068\u5b9f\u969b\u306e\u884c\u6570\u306e\u5dee\u3092\u78ba\u8a8d                                               \u2502\n\u2502     \u2193                                                                           \u2502\n\u2502  4. Seq Scan \u304c\u9069\u5207\u304b\u3069\u3046\u304b\u78ba\u8a8d                                                  \u2502\n\u2502     \u2193                                                                           \u2502\n\u2502  5. \u6539\u5584\u7b56\u3092\u9069\u7528                                                                 \u2502\n\u2502     - \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u8ffd\u52a0                                                           \u2502\n\u2502     - \u30af\u30a8\u30ea\u66f8\u304d\u63db\u3048                                                             \u2502\n\u2502     - \u7d71\u8a08\u60c5\u5831\u66f4\u65b0                                                               \u2502\n\u2502     \u2193                                                                           \u2502\n\u2502  6. EXPLAIN ANALYZE \u3067\u52b9\u679c\u3092\u78ba\u8a8d                                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"62-\u554f\u984c\u306e\u3042\u308b\u30af\u30a8\u30ea\u306e\u4f8b",children:"6.2 \u554f\u984c\u306e\u3042\u308b\u30af\u30a8\u30ea\u306e\u4f8b"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u554f\u984c\u306e\u3042\u308b\u30af\u30a8\u30ea\nEXPLAIN (ANALYZE, BUFFERS)\nSELECT o.*, u.name, u.email\nFROM orders o\nJOIN users u ON o.user_id = u.id\nWHERE o.status = 'pending'\n  AND o.created_at > NOW() - INTERVAL '7 days'\nORDER BY o.created_at DESC\nLIMIT 100;\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"                                        QUERY PLAN\n------------------------------------------------------------------------------------------\n Limit  (cost=15000.00..15000.25 rows=100 width=250)\n        (actual time=850.123..850.145 rows=100 loops=1)\n   Buffers: shared hit=50000 read=10000\n   \u2192  Sort  (cost=15000.00..15050.00 rows=20000 width=250)\n            (actual time=850.120..850.130 rows=100 loops=1)\n         Sort Key: o.created_at DESC\n         Sort Method: top-N heapsort  Memory: 50kB\n         Buffers: shared hit=50000 read=10000\n         \u2192  Hash Join  (cost=500.00..14000.00 rows=20000 width=250)\n                       (actual time=5.000..800.000 rows=18500 loops=1)\n               Hash Cond: (o.user_id = u.id)\n               Buffers: shared hit=50000 read=10000\n               \u2192  Seq Scan on orders o  (cost=0.00..12000.00 rows=20000 width=200)\n                                         (actual time=0.050..700.000 rows=18500 loops=1)\n                     Filter: ((status = 'pending') AND (created_at > ...))\n                     Rows Removed by Filter: 981500\n                     Buffers: shared hit=49000 read=10000\n               \u2192  Hash  (cost=300.00..300.00 rows=10000 width=50)\n                         (actual time=4.500..4.500 rows=10000 loops=1)\n                     Buckets: 16384  Batches: 1  Memory Usage: 600kB\n                     \u2192  Seq Scan on users u  (cost=0.00..300.00 rows=10000 width=50)\n Planning Time: 0.500 ms\n Execution Time: 850.500 ms\n"})}),"\n",(0,i.jsx)(e.h3,{id:"63-\u554f\u984c\u306e\u5206\u6790",children:"6.3 \u554f\u984c\u306e\u5206\u6790"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u554f\u984c\u70b9:\n1. orders \u30c6\u30fc\u30d6\u30eb\u3067 Seq Scan \u304c\u767a\u751f\n   - 100\u4e07\u884c\u304b\u308918500\u884c\u3092\u30d5\u30a3\u30eb\u30bf\n   - Rows Removed by Filter: 981500 \u2190 \u5927\u91cf\u306e\u884c\u304c\u6368\u3066\u3089\u308c\u3066\u3044\u308b\n\n2. \u30c7\u30a3\u30b9\u30afI/O \u304c\u591a\u3044\n   - Buffers: read=10000 \u2190 \u30c7\u30a3\u30b9\u30af\u304b\u3089\u306e\u8aad\u307f\u53d6\u308a\n\n\u89e3\u6c7a\u7b56:\n1. \u8907\u5408\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\n2. \u90e8\u5206\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u691c\u8a0e\n"})}),"\n",(0,i.jsx)(e.h3,{id:"64-\u6539\u5584\u5f8c",children:"6.4 \u6539\u5584\u5f8c"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u8907\u5408\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\nCREATE INDEX orders_status_created_at_idx ON orders (status, created_at DESC);\n\n-- \u6539\u5584\u5f8c\u306e\u30af\u30a8\u30ea\u3092\u78ba\u8a8d\nEXPLAIN (ANALYZE, BUFFERS)\nSELECT o.*, u.name, u.email\nFROM orders o\nJOIN users u ON o.user_id = u.id\nWHERE o.status = 'pending'\n  AND o.created_at > NOW() - INTERVAL '7 days'\nORDER BY o.created_at DESC\nLIMIT 100;\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"                                        QUERY PLAN\n------------------------------------------------------------------------------------------\n Limit  (cost=0.86..250.00 rows=100 width=250)\n        (actual time=0.050..5.500 rows=100 loops=1)\n   Buffers: shared hit=450\n   \u2192  Nested Loop  (cost=0.86..5000.00 rows=20000 width=250)\n                   (actual time=0.048..5.480 rows=100 loops=1)\n         Buffers: shared hit=450\n         \u2192  Index Scan using orders_status_created_at_idx on orders o\n              (cost=0.43..2500.00 rows=20000 width=200)\n              (actual time=0.025..0.200 rows=100 loops=1)\n               Index Cond: ((status = 'pending') AND (created_at > ...))\n               Buffers: shared hit=50\n         \u2192  Index Scan using users_pkey on users u\n              (cost=0.43..0.50 rows=1 width=50)\n              (actual time=0.040..0.040 rows=1 loops=100)\n               Index Cond: (id = o.user_id)\n               Buffers: shared hit=400\n Planning Time: 0.300 ms\n Execution Time: 5.600 ms\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u6539\u5584\u7d50\u679c:\n- \u5b9f\u884c\u6642\u9593: 850ms \u2192 5.6ms\uff08\u7d04150\u500d\u9ad8\u901f\u5316\uff09\n- \u30d0\u30c3\u30d5\u30a1\u8aad\u307f\u53d6\u308a: 60000 \u2192 450\uff0899%\u524a\u6e1b\uff09\n- Seq Scan \u2192 Index Scan \u306b\u5909\u66f4\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"7-\u30d7\u30e9\u30f3\u30ca\u30fc\u306e\u5236\u5fa1",children:"7. \u30d7\u30e9\u30f3\u30ca\u30fc\u306e\u5236\u5fa1"}),"\n",(0,i.jsx)(e.h3,{id:"71-\u30d7\u30e9\u30f3\u30ca\u30fc\u8a2d\u5b9a",children:"7.1 \u30d7\u30e9\u30f3\u30ca\u30fc\u8a2d\u5b9a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u7279\u5b9a\u306e\u30d7\u30e9\u30f3\u9078\u629e\u3092\u7121\u52b9\u5316\uff08\u30c7\u30d0\u30c3\u30b0\u7528\uff09\nSET enable_seqscan = off;      -- Seq Scan \u3092\u7121\u52b9\u5316\nSET enable_indexscan = off;    -- Index Scan \u3092\u7121\u52b9\u5316\nSET enable_hashjoin = off;     -- Hash Join \u3092\u7121\u52b9\u5316\nSET enable_nestloop = off;     -- Nested Loop \u3092\u7121\u52b9\u5316\nSET enable_mergejoin = off;    -- Merge Join \u3092\u7121\u52b9\u5316\n\n-- \u30b3\u30b9\u30c8\u898b\u7a4d\u3082\u308a\u30d1\u30e9\u30e1\u30fc\u30bf\nSET random_page_cost = 1.1;    -- SSD \u306e\u5834\u5408\uff08\u30c7\u30d5\u30a9\u30eb\u30c84.0\uff09\nSET seq_page_cost = 1.0;       -- \u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30ebI/O\u306e\u30b3\u30b9\u30c8\nSET effective_cache_size = '4GB';  -- \u5229\u7528\u53ef\u80fd\u306a\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30a4\u30ba\u898b\u7a4d\u3082\u308a\n"})}),"\n",(0,i.jsx)(e.h3,{id:"72-\u30d2\u30f3\u30c8\u306b\u3088\u308b\u30d7\u30e9\u30f3\u5236\u5fa1pg_hint_plan",children:"7.2 \u30d2\u30f3\u30c8\u306b\u3088\u308b\u30d7\u30e9\u30f3\u5236\u5fa1\uff08pg_hint_plan\uff09"}),"\n",(0,i.jsx)(e.p,{children:"pg_hint_plan \u62e1\u5f35\u3092\u4f7f\u3046\u3068\u3001\u7279\u5b9a\u306e\u30d7\u30e9\u30f3\u3092\u5f37\u5236\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- pg_hint_plan \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u62e1\u5f35\u304c\u5fc5\u8981\uff09\nCREATE EXTENSION pg_hint_plan;\n\n-- \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f7f\u7528\u3092\u5f37\u5236\n/*+ IndexScan(users users_email_idx) */\nSELECT * FROM users WHERE email = 'test@example.com';\n\n-- \u7d50\u5408\u9806\u5e8f\u3068\u7d50\u5408\u65b9\u6cd5\u3092\u5f37\u5236\n/*+ Leading(orders users) NestLoop(orders users) */\nSELECT * FROM orders o JOIN users u ON o.user_id = u.id;\n"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u6ce8\u610f"}),": pg_hint_plan \u306f\u672c\u756a\u74b0\u5883\u3067\u306e\u4f7f\u7528\u306b\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u30d7\u30e9\u30f3\u30ca\u30fc\u306e\u5224\u65ad\u304c\u9593\u9055\u3063\u3066\u3044\u308b\u6839\u672c\u539f\u56e0\u3092\u89e3\u6c7a\u3059\u308b\u65b9\u304c\u671b\u307e\u3057\u3044\u3067\u3059\u3002"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"8-\u76e3\u8996\u3068\u30ed\u30b0",children:"8. \u76e3\u8996\u3068\u30ed\u30b0"}),"\n",(0,i.jsx)(e.h3,{id:"81-\u9045\u3044\u30af\u30a8\u30ea\u306e\u30ed\u30b0",children:"8.1 \u9045\u3044\u30af\u30a8\u30ea\u306e\u30ed\u30b0"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- postgresql.conf \u306e\u8a2d\u5b9a\n-- log_min_duration_statement = 1000  -- 1\u79d2\u4ee5\u4e0a\u306e\u30af\u30a8\u30ea\u3092\u30ed\u30b0\n\n-- \u73fe\u5728\u306e\u8a2d\u5b9a\u78ba\u8a8d\nSHOW log_min_duration_statement;\n\n-- \u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u4e00\u6642\u7684\u306b\u5909\u66f4\nSET log_min_duration_statement = '500ms';\n"})}),"\n",(0,i.jsx)(e.h3,{id:"82-pg_stat_statements",children:"8.2 pg_stat_statements"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u62e1\u5f35\u6a5f\u80fd\u3092\u6709\u52b9\u5316\nCREATE EXTENSION pg_stat_statements;\n\n-- \u6700\u3082\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u3044\u308b\u30af\u30a8\u30eaTOP10\nSELECT\n    round(total_exec_time::numeric, 2) as total_time_ms,\n    calls,\n    round(mean_exec_time::numeric, 2) as mean_time_ms,\n    round((100 * total_exec_time / sum(total_exec_time) OVER ())::numeric, 2) as percent,\n    query\nFROM pg_stat_statements\nORDER BY total_exec_time DESC\nLIMIT 10;\n\n-- \u7d71\u8a08\u3092\u30ea\u30bb\u30c3\u30c8\nSELECT pg_stat_statements_reset();\n"})}),"\n",(0,i.jsx)(e.h3,{id:"83-auto_explain",children:"8.3 auto_explain"}),"\n",(0,i.jsx)(e.p,{children:"\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u8a08\u753b\u3092\u81ea\u52d5\u7684\u306b\u30ed\u30b0\u306b\u51fa\u529b\u3059\u308b\u62e1\u5f35\u3067\u3059\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- postgresql.conf \u3067\u306e\u8a2d\u5b9a\n-- shared_preload_libraries = 'auto_explain'\n-- auto_explain.log_min_duration = '1s'\n-- auto_explain.log_analyze = true\n-- auto_explain.log_buffers = true\n\n-- \u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u6709\u52b9\u5316\uff08\u8981\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\uff09\nLOAD 'auto_explain';\nSET auto_explain.log_min_duration = '500ms';\nSET auto_explain.log_analyze = true;\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"9-\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"9. \u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,i.jsx)(e.h3,{id:"91-\u30af\u30a8\u30ea\u8a2d\u8a08",children:"9.1 \u30af\u30a8\u30ea\u8a2d\u8a08"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      \u30af\u30a8\u30ea\u6700\u9069\u5316\u306e\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u25a1 \u5fc5\u8981\u306a\u5217\u306e\u307f\u3092 SELECT \u3059\u308b\uff08SELECT * \u3092\u907f\u3051\u308b\uff09                                \u2502\n\u2502 \u25a1 WHERE \u53e5\u306e\u6761\u4ef6\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u52b9\u304f\u304b\u78ba\u8a8d                                       \u2502\n\u2502 \u25a1 JOIN \u306e\u7d50\u5408\u6761\u4ef6\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u3042\u308b\u304b\u78ba\u8a8d                                      \u2502\n\u2502 \u25a1 ORDER BY \u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u3048\u308b\u304b\u78ba\u8a8d                                         \u2502\n\u2502 \u25a1 LIMIT \u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u5834\u5408\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u52b9\u7387\u5316\u3067\u304d\u308b\u304b\u78ba\u8a8d                    \u2502\n\u2502 \u25a1 \u95a2\u6570\u3084\u30ad\u30e3\u30b9\u30c8\u3067\u6761\u4ef6\u5217\u3092\u52a0\u5de5\u3057\u3066\u3044\u306a\u3044\u304b\u78ba\u8a8d                                  \u2502\n\u2502 \u25a1 EXPLAIN ANALYZE \u3067\u5b9f\u884c\u8a08\u753b\u3092\u78ba\u8a8d                                              \u2502\n\u2502 \u25a1 \u898b\u7a4d\u3082\u308a\u3068\u5b9f\u969b\u306e\u884c\u6570\u306b\u5927\u304d\u306a\u5dee\u304c\u306a\u3044\u304b\u78ba\u8a8d                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"92-\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u8a2d\u8a08",children:"9.2 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u8a2d\u8a08"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u8a2d\u8a08\u306e\u539f\u5247                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u25a1 \u983b\u7e41\u306b\u30d5\u30a3\u30eb\u30bf/\u30bd\u30fc\u30c8\u306b\u4f7f\u308f\u308c\u308b\u5217\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9                               \u2502\n\u2502 \u25a1 \u8907\u5408\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u9078\u629e\u6027\u306e\u9ad8\u3044\u5217\u3092\u5148\u982d\u306b                                      \u2502\n\u2502 \u25a1 \u66f4\u65b0\u983b\u5ea6\u304c\u9ad8\u3044\u30c6\u30fc\u30d6\u30eb\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6700\u5c0f\u9650\u306b                                \u2502\n\u2502 \u25a1 \u4f7f\u308f\u308c\u3066\u3044\u306a\u3044\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u524a\u9664                                              \u2502\n\u2502 \u25a1 \u90e8\u5206\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u306e\u307f\u30ab\u30d0\u30fc                                      \u2502\n\u2502 \u25a1 \u30ab\u30d0\u30ea\u30f3\u30b0\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067 Index Only Scan \u3092\u72d9\u3046                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(e.h3,{id:"93-\u5b9a\u671f\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9",children:"9.3 \u5b9a\u671f\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- \u7d71\u8a08\u60c5\u5831\u3092\u6700\u65b0\u306b\u4fdd\u3064\nANALYZE;\n\n-- \u4e0d\u8981\u306a\u30c7\u30c3\u30c9\u30bf\u30d7\u30eb\u3092\u56de\u53ce\nVACUUM ANALYZE;\n\n-- \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u80a5\u5927\u5316\u3092\u89e3\u6d88\nREINDEX CONCURRENTLY INDEX idx_name;\n\n-- \u4f7f\u308f\u308c\u3066\u3044\u306a\u3044\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u78ba\u8a8d\nSELECT\n    schemaname,\n    relname,\n    indexrelname,\n    idx_scan,\n    idx_tup_read,\n    idx_tup_fetch\nFROM pg_stat_user_indexes\nWHERE idx_scan = 0\nORDER BY pg_relation_size(indexrelid) DESC;\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"EXPLAIN ANALYZE"})," \u3067\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u8a08\u753b\u3092\u78ba\u8a8d\u3059\u308b"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u30b9\u30ad\u30e3\u30f3\u65b9\u6cd5"}),"\uff08Seq Scan, Index Scan, Bitmap Scan\uff09\u306e\u9078\u629e\u3092\u7406\u89e3\u3059\u308b"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7d50\u5408\u65b9\u6cd5"}),"\uff08Nested Loop, Hash Join, Merge Join\uff09\u306e\u7279\u6027\u3092\u7406\u89e3\u3059\u308b"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7d71\u8a08\u60c5\u5831"}),"\u3092\u6700\u65b0\u306b\u4fdd\u3061\u3001\u898b\u7a4d\u3082\u308a\u306e\u7cbe\u5ea6\u3092\u7dad\u6301\u3059\u308b"]}),"\n",(0,i.jsxs)(e.li,{children:["\u3088\u304f\u3042\u308b",(0,i.jsx)(e.strong,{children:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u554f\u984c"}),"\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u899a\u3048\u308b"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9"}),"\u3092\u9069\u5207\u306b\u8a2d\u8a08\u30fb\u6d3b\u7528\u3059\u308b"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"pg_stat_statements"})," \u3067\u9045\u3044\u30af\u30a8\u30ea\u3092\u76e3\u8996\u3059\u308b"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/postgresql/dev-06-connection-pooling",children:"dev-06-connection-pooling.md"}),": \u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30fc\u30ea\u30f3\u30b0"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/postgresql/dba-08-planner",children:"dba-08-planner.md"}),": \u30d7\u30e9\u30f3\u30ca\u30fc\u306e\u8a73\u7d30\u8a2d\u5b9a"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>d,x:()=>a});var r=s(96540);const i={},l=r.createContext(i);function d(n){const e=r.useContext(l);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:d(n.components),r.createElement(l.Provider,{value:e},n.children)}}}]);