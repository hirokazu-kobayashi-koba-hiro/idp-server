"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[8007],{69638:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"content_11_learning/networking/ssl-tls-certificates","title":"SSL/TLS\u8a3c\u660e\u66f8\u7ba1\u7406","description":"\u6240\u8981\u6642\u9593","source":"@site/docs/content_11_learning/15-networking/04-ssl-tls-certificates.md","sourceDirName":"content_11_learning/15-networking","slug":"/content_11_learning/networking/ssl-tls-certificates","permalink":"/idp-server/docs/content_11_learning/networking/ssl-tls-certificates","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/15-networking/04-ssl-tls-certificates.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"docs","previous":{"title":"\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b7\u30f3\u30b0","permalink":"/idp-server/docs/content_11_learning/networking/load-balancing"},"next":{"title":"HTTPS\u7d42\u7aef\uff08SSL/TLS Termination\uff09","permalink":"/idp-server/docs/content_11_learning/networking/https-termination"}}');var t=l(74848),r=l(28453);const i={},c="SSL/TLS\u8a3c\u660e\u66f8\u7ba1\u7406",o={},a=[{value:"\u6240\u8981\u6642\u9593",id:"\u6240\u8981\u6642\u9593",level:2},{value:"\u5b66\u3079\u308b\u3053\u3068",id:"\u5b66\u3079\u308b\u3053\u3068",level:2},{value:"\u524d\u63d0\u77e5\u8b58",id:"\u524d\u63d0\u77e5\u8b58",level:2},{value:"1. SSL/TLS\u8a3c\u660e\u66f8\u306e\u57fa\u790e",id:"1-ssltls\u8a3c\u660e\u66f8\u306e\u57fa\u790e",level:2},{value:"1.1 \u8a3c\u660e\u66f8\u306e\u5f79\u5272",id:"11-\u8a3c\u660e\u66f8\u306e\u5f79\u5272",level:3},{value:"1.2 \u8a3c\u660e\u66f8\u306e\u69cb\u9020",id:"12-\u8a3c\u660e\u66f8\u306e\u69cb\u9020",level:3},{value:"2. \u8a3c\u660e\u66f8\u306e\u7a2e\u985e",id:"2-\u8a3c\u660e\u66f8\u306e\u7a2e\u985e",level:2},{value:"2.1 \u691c\u8a3c\u30ec\u30d9\u30eb\u5225\u306e\u5206\u985e",id:"21-\u691c\u8a3c\u30ec\u30d9\u30eb\u5225\u306e\u5206\u985e",level:3},{value:"2.2 \u30b9\u30b3\u30fc\u30d7\u5225\u306e\u5206\u985e",id:"22-\u30b9\u30b3\u30fc\u30d7\u5225\u306e\u5206\u985e",level:3},{value:"2.3 \u8a3c\u660e\u66f8\u9078\u629e\u306e\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3",id:"23-\u8a3c\u660e\u66f8\u9078\u629e\u306e\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3",level:3},{value:"3. \u8a3c\u660e\u66f8\u306e\u53d6\u5f97\u65b9\u6cd5",id:"3-\u8a3c\u660e\u66f8\u306e\u53d6\u5f97\u65b9\u6cd5",level:2},{value:"3.1 \u8a3c\u660e\u66f8\u53d6\u5f97\u306e\u9078\u629e\u80a2",id:"31-\u8a3c\u660e\u66f8\u53d6\u5f97\u306e\u9078\u629e\u80a2",level:3},{value:"3.2 \u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\uff08\u958b\u767a/\u30c6\u30b9\u30c8\u7528\uff09",id:"32-\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\u958b\u767a\u30c6\u30b9\u30c8\u7528",level:3},{value:"4. Let&#39;s Encrypt\u306b\u3088\u308b\u8a3c\u660e\u66f8\u53d6\u5f97",id:"4-lets-encrypt\u306b\u3088\u308b\u8a3c\u660e\u66f8\u53d6\u5f97",level:2},{value:"4.1 Let&#39;s Encrypt\u306e\u6982\u8981",id:"41-lets-encrypt\u306e\u6982\u8981",level:3},{value:"4.2 Certbot\u306b\u3088\u308b\u8a3c\u660e\u66f8\u53d6\u5f97",id:"42-certbot\u306b\u3088\u308b\u8a3c\u660e\u66f8\u53d6\u5f97",level:3},{value:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",id:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",level:4},{value:"HTTP-01\u30c1\u30e3\u30ec\u30f3\u30b8\uff08Web\u30b5\u30fc\u30d0\u30fc\u5fc5\u8981\uff09",id:"http-01\u30c1\u30e3\u30ec\u30f3\u30b8web\u30b5\u30fc\u30d0\u30fc\u5fc5\u8981",level:4},{value:"DNS-01\u30c1\u30e3\u30ec\u30f3\u30b8\uff08\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u8a3c\u660e\u66f8\uff09",id:"dns-01\u30c1\u30e3\u30ec\u30f3\u30b8\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u8a3c\u660e\u66f8",level:4},{value:"DNS API \u30d7\u30e9\u30b0\u30a4\u30f3\uff08\u81ea\u52d5\u5316\uff09",id:"dns-api-\u30d7\u30e9\u30b0\u30a4\u30f3\u81ea\u52d5\u5316",level:4},{value:"4.3 \u8a3c\u660e\u66f8\u306e\u81ea\u52d5\u66f4\u65b0",id:"43-\u8a3c\u660e\u66f8\u306e\u81ea\u52d5\u66f4\u65b0",level:3},{value:"4.4 Nginx\u8a2d\u5b9a\u4f8b",id:"44-nginx\u8a2d\u5b9a\u4f8b",level:3},{value:"5. \u8a3c\u660e\u66f8\u306e\u691c\u8a3c\u3068\u30c7\u30d0\u30c3\u30b0",id:"5-\u8a3c\u660e\u66f8\u306e\u691c\u8a3c\u3068\u30c7\u30d0\u30c3\u30b0",level:2},{value:"5.1 OpenSSL\u306b\u3088\u308b\u8a3c\u660e\u66f8\u691c\u8a3c",id:"51-openssl\u306b\u3088\u308b\u8a3c\u660e\u66f8\u691c\u8a3c",level:3},{value:"6. \u8a3c\u660e\u66f8\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u7ba1\u7406",id:"6-\u8a3c\u660e\u66f8\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u7ba1\u7406",level:2},{value:"6.1 \u8a3c\u660e\u66f8\u66f4\u65b0\u6226\u7565",id:"61-\u8a3c\u660e\u66f8\u66f4\u65b0\u6226\u7565",level:3},{value:"6.2 \u8a3c\u660e\u66f8\u6709\u52b9\u671f\u9650\u306e\u76e3\u8996",id:"62-\u8a3c\u660e\u66f8\u6709\u52b9\u671f\u9650\u306e\u76e3\u8996",level:3},{value:"\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3088\u308b\u76e3\u8996",id:"\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3088\u308b\u76e3\u8996",level:4},{value:"7. SSL/TLS\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",id:"7-ssltls\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",level:2},{value:"7.1 \u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc\u3068\u5bfe\u51e6\u6cd5",id:"71-\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc\u3068\u5bfe\u51e6\u6cd5",level:3},{value:"\u30a8\u30e9\u30fc1: &quot;NET::ERR_CERT_COMMON_NAME_INVALID&quot;",id:"\u30a8\u30e9\u30fc1-neterr_cert_common_name_invalid",level:4},{value:"\u30a8\u30e9\u30fc2: &quot;NET::ERR_CERT_DATE_INVALID&quot;",id:"\u30a8\u30e9\u30fc2-neterr_cert_date_invalid",level:4},{value:"\u30a8\u30e9\u30fc3: &quot;NET::ERR_CERT_AUTHORITY_INVALID&quot;",id:"\u30a8\u30e9\u30fc3-neterr_cert_authority_invalid",level:4},{value:"7.2 \u8a3a\u65ad\u30c4\u30fc\u30eb",id:"72-\u8a3a\u65ad\u30c4\u30fc\u30eb",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u5b66\u3093\u3060\u3053\u3068",id:"\u5b66\u3093\u3060\u3053\u3068",level:3},{value:"\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8",id:"\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8",level:3},{value:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",id:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:3},{value:"\u53c2\u8003\u30ea\u30f3\u30af",id:"\u53c2\u8003\u30ea\u30f3\u30af",level:3}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"ssltls\u8a3c\u660e\u66f8\u7ba1\u7406",children:"SSL/TLS\u8a3c\u660e\u66f8\u7ba1\u7406"})}),"\n",(0,t.jsx)(e.h2,{id:"\u6240\u8981\u6642\u9593",children:"\u6240\u8981\u6642\u9593"}),"\n",(0,t.jsx)(e.p,{children:"\u7d0440\u5206"}),"\n",(0,t.jsx)(e.h2,{id:"\u5b66\u3079\u308b\u3053\u3068",children:"\u5b66\u3079\u308b\u3053\u3068"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"SSL/TLS\u8a3c\u660e\u66f8\u306e\u57fa\u672c\u6982\u5ff5\u3068\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb"}),"\n",(0,t.jsx)(e.li,{children:"\u8a3c\u660e\u66f8\u306e\u7a2e\u985e\u3068\u9078\u3073\u65b9\uff08DV\u3001OV\u3001EV\u3001\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\uff09"}),"\n",(0,t.jsx)(e.li,{children:"Let's Encrypt\u306b\u3088\u308b\u7121\u6599\u8a3c\u660e\u66f8\u306e\u53d6\u5f97\u3068\u81ea\u52d5\u66f4\u65b0"}),"\n",(0,t.jsx)(e.li,{children:"OpenSSL\u3092\u4f7f\u7528\u3057\u305f\u8a3c\u660e\u66f8\u691c\u8a3c"}),"\n",(0,t.jsx)(e.li,{children:"\u8a3c\u660e\u66f8\u306e\u66f4\u65b0\u3068\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u6226\u7565"}),"\n",(0,t.jsx)(e.li,{children:"SSL/TLS\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u524d\u63d0\u77e5\u8b58",children:"\u524d\u63d0\u77e5\u8b58"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/crypto/pki-certificates",children:"content_11_learning/12-crypto/pki-certificates.md"})," - PKI\u3068\u8a3c\u660e\u66f8\u306e\u57fa\u790e"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/http-rest/https-tls-basics",children:"content_11_learning/09-http-rest/https-tls-basics.md"})," - HTTPS/TLS\u57fa\u790e"]}),"\n",(0,t.jsx)(e.li,{children:"DNS\u306e\u57fa\u672c\u7406\u89e3"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"1-ssltls\u8a3c\u660e\u66f8\u306e\u57fa\u790e",children:"1. SSL/TLS\u8a3c\u660e\u66f8\u306e\u57fa\u790e"}),"\n",(0,t.jsx)(e.h3,{id:"11-\u8a3c\u660e\u66f8\u306e\u5f79\u5272",children:"1.1 \u8a3c\u660e\u66f8\u306e\u5f79\u5272"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              SSL/TLS\u8a3c\u660e\u66f8\u306e3\u3064\u306e\u5f79\u5272                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  1. \u8a8d\u8a3c\uff08Authentication\uff09                                   \u2502\n\u2502     - \u30b5\u30fc\u30d0\u30fc\u306e\u8eab\u5143\u3092\u8a3c\u660e                                   \u2502\n\u2502     - \u300c\u3053\u306e\u30b5\u30a4\u30c8\u306f\u672c\u5f53\u306bexample.com\u304b?\u300d                   \u2502\n\u2502                                                              \u2502\n\u2502  2. \u6697\u53f7\u5316\uff08Encryption\uff09                                     \u2502\n\u2502     - \u901a\u4fe1\u5185\u5bb9\u306e\u4fdd\u8b77                                         \u2502\n\u2502     - \u76d7\u8074\u9632\u6b62                                               \u2502\n\u2502                                                              \u2502\n\u2502  3. \u5b8c\u5168\u6027\uff08Integrity\uff09                                      \u2502\n\u2502     - \u30c7\u30fc\u30bf\u6539\u3056\u3093\u691c\u77e5                                       \u2502\n\u2502     - \u4e2d\u9593\u8005\u653b\u6483\uff08MITM\uff09\u9632\u6b62                                 \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(e.h3,{id:"12-\u8a3c\u660e\u66f8\u306e\u69cb\u9020",children:"1.2 \u8a3c\u660e\u66f8\u306e\u69cb\u9020"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              X.509\u8a3c\u660e\u66f8\u306e\u69cb\u9020                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  Certificate:                                                \u2502\n\u2502      Data:                                                   \u2502\n\u2502          Version: 3 (0x2)                                    \u2502\n\u2502          Serial Number: 1234567890abcdef                     \u2502\n\u2502          Signature Algorithm: sha256WithRSAEncryption        \u2502\n\u2502          Issuer: CN=DigiCert SHA2 Secure Server CA           \u2502\n\u2502          Validity                                            \u2502\n\u2502              Not Before: Jan 1 00:00:00 2025 GMT             \u2502\n\u2502              Not After : Jan 1 23:59:59 2026 GMT             \u2502\n\u2502          Subject: CN=example.com                             \u2502\n\u2502          Subject Public Key Info:                            \u2502\n\u2502              Public Key Algorithm: rsaEncryption             \u2502\n\u2502                  Public-Key: (2048 bit)                      \u2502\n\u2502                  Modulus: 00:c0:ff:ee:...                    \u2502\n\u2502                  Exponent: 65537 (0x10001)                   \u2502\n\u2502          X509v3 extensions:                                  \u2502\n\u2502              X509v3 Subject Alternative Name:                \u2502\n\u2502                  DNS:example.com, DNS:www.example.com        \u2502\n\u2502              X509v3 Key Usage:                               \u2502\n\u2502                  Digital Signature, Key Encipherment         \u2502\n\u2502              X509v3 Extended Key Usage:                      \u2502\n\u2502                  TLS Web Server Authentication               \u2502\n\u2502      Signature Algorithm: sha256WithRSAEncryption            \u2502\n\u2502          12:34:56:78:9a:bc:de:f0:...                         \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u91cd\u8981\u30d5\u30a3\u30fc\u30eb\u30c9"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Subject (CN - Common Name)\n  - \u8a3c\u660e\u66f8\u306e\u4e3b\u4f53\uff08\u30c9\u30e1\u30a4\u30f3\u540d\uff09\n  - \u4f8b: CN=example.com\n\nIssuer\n  - \u767a\u884c\u8005\uff08\u8a8d\u8a3c\u5c40\uff09\n  - \u4f8b: CN=Let's Encrypt Authority X3\n\nValidity (\u6709\u52b9\u671f\u9593)\n  - Not Before: \u6709\u52b9\u958b\u59cb\u65e5\u6642\n  - Not After: \u6709\u52b9\u7d42\u4e86\u65e5\u6642\n\nSubject Alternative Name (SAN)\n  - \u8907\u6570\u306e\u30c9\u30e1\u30a4\u30f3\u540d\u3092\u542b\u3081\u3089\u308c\u308b\n  - \u4f8b: example.com, www.example.com, api.example.com\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"2-\u8a3c\u660e\u66f8\u306e\u7a2e\u985e",children:"2. \u8a3c\u660e\u66f8\u306e\u7a2e\u985e"}),"\n",(0,t.jsx)(e.h3,{id:"21-\u691c\u8a3c\u30ec\u30d9\u30eb\u5225\u306e\u5206\u985e",children:"2.1 \u691c\u8a3c\u30ec\u30d9\u30eb\u5225\u306e\u5206\u985e"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u8a3c\u660e\u66f8\u306e\u691c\u8a3c\u30ec\u30d9\u30eb                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  1. DV (Domain Validation) \u8a3c\u660e\u66f8                           \u2502\n\u2502     - \u30c9\u30e1\u30a4\u30f3\u6240\u6709\u6a29\u306e\u307f\u691c\u8a3c                                 \u2502\n\u2502     - \u6570\u5206\u301c\u6570\u6642\u9593\u3067\u767a\u884c                                     \u2502\n\u2502     - \u6700\u3082\u5b89\u4fa1\uff08\u7121\u6599\u306e\u3082\u306e\u3082\u591a\u3044\uff09                           \u2502\n\u2502     - Let's Encrypt\u3001ZeroSSL\u7b49                              \u2502\n\u2502     \u7528\u9014: \u500b\u4eba\u30b5\u30a4\u30c8\u3001\u958b\u767a\u74b0\u5883\u3001\u307b\u3068\u3093\u3069\u306eWeb\u30b5\u30a4\u30c8          \u2502\n\u2502                                                              \u2502\n\u2502  2. OV (Organization Validation) \u8a3c\u660e\u66f8                     \u2502\n\u2502     - \u30c9\u30e1\u30a4\u30f3\u6240\u6709\u6a29 + \u7d44\u7e54\u306e\u5b9f\u5728\u6027\u3092\u691c\u8a3c                    \u2502\n\u2502     - \u6570\u65e5\u3067\u767a\u884c                                             \u2502\n\u2502     - \u4e2d\u7a0b\u5ea6\u306e\u4fa1\u683c                                           \u2502\n\u2502     \u7528\u9014: \u4f01\u696d\u30b5\u30a4\u30c8\u3001E\u30b3\u30de\u30fc\u30b9                              \u2502\n\u2502                                                              \u2502\n\u2502  3. EV (Extended Validation) \u8a3c\u660e\u66f8                         \u2502\n\u2502     - \u6700\u3082\u53b3\u683c\u306a\u691c\u8a3c\uff08\u6cd5\u4eba\u767b\u8a18\u7b49\u306e\u78ba\u8a8d\uff09                     \u2502\n\u2502     - \u6570\u65e5\u301c\u6570\u9031\u9593\u3067\u767a\u884c                                     \u2502\n\u2502     - \u9ad8\u4fa1                                                   \u2502\n\u2502     - \u30d6\u30e9\u30a6\u30b6\u306e\u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u306b\u7d44\u7e54\u540d\u8868\u793a\uff08\u53e4\u3044\u30d6\u30e9\u30a6\u30b6\uff09     \u2502\n\u2502     \u7528\u9014: \u91d1\u878d\u6a5f\u95a2\u3001\u5927\u898f\u6a21E\u30b3\u30de\u30fc\u30b9                          \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(e.h3,{id:"22-\u30b9\u30b3\u30fc\u30d7\u5225\u306e\u5206\u985e",children:"2.2 \u30b9\u30b3\u30fc\u30d7\u5225\u306e\u5206\u985e"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u8a3c\u660e\u66f8\u306e\u30b9\u30b3\u30fc\u30d7                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  1. \u5358\u4e00\u30c9\u30e1\u30a4\u30f3\u8a3c\u660e\u66f8                                       \u2502\n\u2502     - 1\u3064\u306eFQDN\u306e\u307f                                         \u2502\n\u2502     - \u4f8b: example.com                                       \u2502\n\u2502     - www.example.com \u306f\u5225\u8a3c\u660e\u66f8\u304c\u5fc5\u8981                      \u2502\n\u2502                                                              \u2502\n\u2502  2. \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u8a3c\u660e\u66f8                                     \u2502\n\u2502     - 1\u968e\u5c64\u306e\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u3092\u30ab\u30d0\u30fc                            \u2502\n\u2502     - \u4f8b: *.example.com                                     \u2502\n\u2502     - \u30ab\u30d0\u30fc: www.example.com, api.example.com              \u2502\n\u2502     - \u975e\u30ab\u30d0\u30fc: example.com, sub.api.example.com            \u2502\n\u2502                                                              \u2502\n\u2502  3. \u30de\u30eb\u30c1\u30c9\u30e1\u30a4\u30f3\u8a3c\u660e\u66f8 (SAN\u8a3c\u660e\u66f8)                         \u2502\n\u2502     - \u8907\u6570\u306e\u7570\u306a\u308b\u30c9\u30e1\u30a4\u30f3\u3092\u30ab\u30d0\u30fc                           \u2502\n\u2502     - \u4f8b: example.com, example.org, example.net             \u2502\n\u2502     - SAN\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u8907\u6570\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u8a18\u8f09                    \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(e.h3,{id:"23-\u8a3c\u660e\u66f8\u9078\u629e\u306e\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3",children:"2.3 \u8a3c\u660e\u66f8\u9078\u629e\u306e\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u30b7\u30ca\u30ea\u30aa\u5225\u306e\u63a8\u5968\u8a3c\u660e\u66f8:\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \u30e6\u30fc\u30b9\u30b1\u30fc\u30b9       \u2502 \u63a8\u5968\u8a3c\u660e\u66f8    \u2502 \u7406\u7531             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u500b\u4eba\u30d6\u30ed\u30b0         \u2502 DV           \u2502 \u30b3\u30b9\u30c8\u3001\u7c21\u4fbf\u6027   \u2502\n\u2502                    \u2502 (Let's Encrypt)\u2502                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u4f01\u696dWeb\u30b5\u30a4\u30c8      \u2502 DV or OV     \u2502 \u4fe1\u983c\u6027\u3068\u30b3\u30b9\u30c8   \u2502\n\u2502                    \u2502              \u2502 \u306e\u30d0\u30e9\u30f3\u30b9       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 E\u30b3\u30de\u30fc\u30b9          \u2502 OV or EV     \u2502 \u9867\u5ba2\u4fe1\u983c         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u91d1\u878d\u6a5f\u95a2           \u2502 EV           \u2502 \u6700\u9ad8\u30ec\u30d9\u30eb\u306e\u4fe1\u983c \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u591a\u6570\u306e\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3 \u2502 \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u2502 \u7ba1\u7406\u7c21\u7565\u5316       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"3-\u8a3c\u660e\u66f8\u306e\u53d6\u5f97\u65b9\u6cd5",children:"3. \u8a3c\u660e\u66f8\u306e\u53d6\u5f97\u65b9\u6cd5"}),"\n",(0,t.jsx)(e.h3,{id:"31-\u8a3c\u660e\u66f8\u53d6\u5f97\u306e\u9078\u629e\u80a2",children:"3.1 \u8a3c\u660e\u66f8\u53d6\u5f97\u306e\u9078\u629e\u80a2"}),"\n",(0,t.jsx)(e.p,{children:"SSL/TLS\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3059\u308b\u4e00\u822c\u7684\u306a\u65b9\u6cd5:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u8a3c\u660e\u66f8\u53d6\u5f97\u65b9\u6cd5\u306e\u6bd4\u8f03                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  1. \u5546\u7528\u8a8d\u8a3c\u5c40\uff08CA\uff09                                         \u2502\n\u2502     - DigiCert\u3001GlobalSign\u3001Sectigo\u7b49                      \u2502\n\u2502     - \u6709\u6599\uff08\u5e74\u9593\u6570\u5343\u5186\u301c\u6570\u4e07\u5186\uff09                             \u2502\n\u2502     - OV/EV\u8a3c\u660e\u66f8\u304c\u5fc5\u8981\u306a\u5834\u5408                                \u2502\n\u2502     - \u30b5\u30dd\u30fc\u30c8\u304c\u5145\u5b9f                                         \u2502\n\u2502                                                              \u2502\n\u2502  2. Let's Encrypt\uff08\u7121\u6599CA\uff09                                 \u2502\n\u2502     - \u5b8c\u5168\u7121\u6599\u306eDV\u8a3c\u660e\u66f8                                     \u2502\n\u2502     - \u81ea\u52d5\u5316\u5bfe\u5fdc\uff08ACME \u30d7\u30ed\u30c8\u30b3\u30eb\uff09                          \u2502\n\u2502     - \u6709\u52b9\u671f\u959390\u65e5\uff08\u81ea\u52d5\u66f4\u65b0\u63a8\u5968\uff09                           \u2502\n\u2502     - \u500b\u4eba\u30b5\u30a4\u30c8\u3001\u958b\u767a\u74b0\u5883\u306b\u6700\u9069                             \u2502\n\u2502                                                              \u2502\n\u2502  3. \u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8                                           \u2502\n\u2502     - OpenSSL\u3067\u81ea\u4f5c                                          \u2502\n\u2502     - \u958b\u767a/\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u307f                                    \u2502\n\u2502     - \u30d6\u30e9\u30a6\u30b6\u8b66\u544a\u304c\u8868\u793a\u3055\u308c\u308b                               \u2502\n\u2502     - \u672c\u756a\u74b0\u5883\u3067\u306f\u4f7f\u7528\u4e0d\u53ef                                   \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(e.h3,{id:"32-\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\u958b\u767a\u30c6\u30b9\u30c8\u7528",children:"3.2 \u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\uff08\u958b\u767a/\u30c6\u30b9\u30c8\u7528\uff09"}),"\n",(0,t.jsx)(e.p,{children:"OpenSSL\u3092\u4f7f\u7528\u3057\u3066\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# 1. \u79d8\u5bc6\u9375\u306e\u751f\u6210\nopenssl genrsa -out server.key 2048\n\n# 2. CSR\uff08\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\uff09\u306e\u751f\u6210\nopenssl req -new -key server.key -out server.csr\n# \u5bfe\u8a71\u5f62\u5f0f\u3067\u4ee5\u4e0b\u3092\u5165\u529b:\n# Country Name (2 letter code) []:JP\n# State or Province Name []:Tokyo\n# Locality Name []:Minato\n# Organization Name []:Example Corp\n# Organizational Unit Name []:IT Department\n# Common Name []:example.com\n# Email Address []:admin@example.com\n\n# 3. \u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306e\u751f\u6210\uff08\u6709\u52b9\u671f\u9593365\u65e5\uff09\nopenssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt\n\n# 4. \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3067\u751f\u6210\uff08\u5bfe\u8a71\u306a\u3057\uff09\nopenssl req -x509 -newkey rsa:2048 -keyout server.key -out server.crt -days 365 -nodes \\\n  -subj "/C=JP/ST=Tokyo/L=Minato/O=Example Corp/OU=IT/CN=example.com"\n\n# 5. SAN\u3092\u542b\u3080\u8a3c\u660e\u66f8\u306e\u751f\u6210\uff08\u8907\u6570\u30c9\u30e1\u30a4\u30f3\u5bfe\u5fdc\uff09\ncat > san.cnf <<EOF\n[req]\ndistinguished_name = req_distinguished_name\nreq_extensions = v3_req\nprompt = no\n\n[req_distinguished_name]\nC = JP\nST = Tokyo\nL = Minato\nO = Example Corp\nOU = IT\nCN = example.com\n\n[v3_req]\nsubjectAltName = @alt_names\n\n[alt_names]\nDNS.1 = example.com\nDNS.2 = www.example.com\nDNS.3 = api.example.com\nEOF\n\nopenssl req -x509 -newkey rsa:2048 -keyout server.key -out server.crt -days 365 -nodes -config san.cnf -extensions v3_req\n\n# \u6ce8\u610f: \u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306f\u958b\u767a/\u30c6\u30b9\u30c8\u5c02\u7528\u3002\u672c\u756a\u74b0\u5883\u3067\u306f\u4f7f\u7528\u3057\u306a\u3044\u3053\u3068\n'})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"4-lets-encrypt\u306b\u3088\u308b\u8a3c\u660e\u66f8\u53d6\u5f97",children:"4. Let's Encrypt\u306b\u3088\u308b\u8a3c\u660e\u66f8\u53d6\u5f97"}),"\n",(0,t.jsx)(e.h3,{id:"41-lets-encrypt\u306e\u6982\u8981",children:"4.1 Let's Encrypt\u306e\u6982\u8981"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Let's Encrypt"}),"\u306f\u3001\u7121\u6599\u3067DV\u8a3c\u660e\u66f8\u3092\u767a\u884c\u3059\u308b\u8a8d\u8a3c\u5c40\uff08CA\uff09\u3067\u3059\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u7279\u5fb4:\n- \u5b8c\u5168\u7121\u6599\n- \u81ea\u52d5\u5316\u5bfe\u5fdc\uff08ACME \u30d7\u30ed\u30c8\u30b3\u30eb\uff09\n- \u6709\u52b9\u671f\u9593: 90\u65e5\uff08\u77ed\u3044 \u2192 \u81ea\u52d5\u66f4\u65b0\u5fc5\u9808\uff09\n- DV\u8a3c\u660e\u66f8\u306e\u307f\n- \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u8a3c\u660e\u66f8\u5bfe\u5fdc\uff08DNS-01\u30c1\u30e3\u30ec\u30f3\u30b8\uff09\n"})}),"\n",(0,t.jsx)(e.h3,{id:"42-certbot\u306b\u3088\u308b\u8a3c\u660e\u66f8\u53d6\u5f97",children:"4.2 Certbot\u306b\u3088\u308b\u8a3c\u660e\u66f8\u53d6\u5f97"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Certbot"}),"\u306f\u3001Let's Encrypt\u306e\u516c\u5f0f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u3059\u3002"]}),"\n",(0,t.jsx)(e.h4,{id:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",children:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Ubuntu/Debian\nsudo apt update\nsudo apt install certbot python3-certbot-nginx\n\n# Amazon Linux 2\nsudo yum install certbot python3-certbot-nginx\n\n# macOS\nbrew install certbot\n"})}),"\n",(0,t.jsx)(e.h4,{id:"http-01\u30c1\u30e3\u30ec\u30f3\u30b8web\u30b5\u30fc\u30d0\u30fc\u5fc5\u8981",children:"HTTP-01\u30c1\u30e3\u30ec\u30f3\u30b8\uff08Web\u30b5\u30fc\u30d0\u30fc\u5fc5\u8981\uff09"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Nginx\u4f7f\u7528\u6642\nsudo certbot --nginx -d example.com -d www.example.com\n\n# \u5b9f\u884c\u6642\u306e\u8cea\u554f:\n# - \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08\u66f4\u65b0\u901a\u77e5\u7528\uff09\n# - \u5229\u7528\u898f\u7d04\u3078\u306e\u540c\u610f\n# - HTTP\u2192HTTPS\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u8a2d\u5b9a\n\n# \u8a3c\u660e\u66f8\u306e\u4fdd\u5b58\u5834\u6240:\n# /etc/letsencrypt/live/example.com/fullchain.pem  # \u8a3c\u660e\u66f8\n# /etc/letsencrypt/live/example.com/privkey.pem    # \u79d8\u5bc6\u9375\n# /etc/letsencrypt/live/example.com/chain.pem      # \u4e2d\u9593\u8a3c\u660e\u66f8\n# /etc/letsencrypt/live/example.com/cert.pem       # \u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u306e\u307f\n"})}),"\n",(0,t.jsx)(e.h4,{id:"dns-01\u30c1\u30e3\u30ec\u30f3\u30b8\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u8a3c\u660e\u66f8",children:"DNS-01\u30c1\u30e3\u30ec\u30f3\u30b8\uff08\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u8a3c\u660e\u66f8\uff09"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u8a3c\u660e\u66f8\u306e\u53d6\u5f97\nsudo certbot certonly \\\n  --manual \\\n  --preferred-challenges dns \\\n  -d *.example.com \\\n  -d example.com\n\n# \u5b9f\u884c\u3059\u308b\u3068\u3001TXT\u30ec\u30b3\u30fc\u30c9\u306e\u8ffd\u52a0\u3092\u6c42\u3081\u3089\u308c\u308b:\n# Please deploy a DNS TXT record under the name\n# _acme-challenge.example.com with the following value:\n#\n# 1234567890abcdefghijklmnopqrstuvwxyzABCDEF\n#\n# Before continuing, verify the record is deployed.\n\n# DNS\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306e\u7ba1\u7406\u753b\u9762\u307e\u305f\u306fAPI\u3067TXT\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\n# \u4f8b: TXT\u30ec\u30b3\u30fc\u30c9\n#   \u540d\u524d: _acme-challenge.example.com\n#   \u5024: 1234567890abcdefghijklmnopqrstuvwxyzABCDEF\n#   TTL: 60\n\n# DNS\u53cd\u6620\u78ba\u8a8d\ndig _acme-challenge.example.com TXT +short\n\n# Enter\u30ad\u30fc\u3067\u7d9a\u884c\n"})}),"\n",(0,t.jsx)(e.h4,{id:"dns-api-\u30d7\u30e9\u30b0\u30a4\u30f3\u81ea\u52d5\u5316",children:"DNS API \u30d7\u30e9\u30b0\u30a4\u30f3\uff08\u81ea\u52d5\u5316\uff09"}),"\n",(0,t.jsx)(e.p,{children:"\u591a\u304f\u306eDNS\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u304cCertbot\u7528\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# DNS\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u4f8b\uff09\n# Cloudflare: sudo pip3 install certbot-dns-cloudflare\n# DigitalOcean: sudo pip3 install certbot-dns-digitalocean\n# \u305d\u306e\u4ed6\u591a\u6570\u306eDNS\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u5bfe\u5fdc\u30d7\u30e9\u30b0\u30a4\u30f3\u3042\u308a\n\n# DNS API\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u8a2d\u5b9a\uff08\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308a\u7570\u306a\u308b\uff09\n# \u4f8b: ~/.secrets/cloudflare.ini \u306b\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u3092\u4fdd\u5b58\n\n# \u8a3c\u660e\u66f8\u53d6\u5f97\uff08DNS-01\u81ea\u52d5\u5316\uff09\nsudo certbot certonly \\\n  --dns-cloudflare \\\n  --dns-cloudflare-credentials ~/.secrets/cloudflare.ini \\\n  -d *.example.com \\\n  -d example.com\n\n# \u5b8c\u5168\u81ea\u52d5\u5316\uff08DNS\u691c\u8a3c\u30ec\u30b3\u30fc\u30c9\u306e\u8ffd\u52a0/\u524a\u9664\u3082\u81ea\u52d5\uff09\n"})}),"\n",(0,t.jsx)(e.h3,{id:"43-\u8a3c\u660e\u66f8\u306e\u81ea\u52d5\u66f4\u65b0",children:"4.3 \u8a3c\u660e\u66f8\u306e\u81ea\u52d5\u66f4\u65b0"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# \u66f4\u65b0\u306e\u30c6\u30b9\u30c8\uff08dry-run\uff09\nsudo certbot renew --dry-run\n\n# \u81ea\u52d5\u66f4\u65b0\u306e\u8a2d\u5b9a\uff08cron\uff09\nsudo crontab -e\n\n# \u6bce\u65e5\u5348\u524d2\u6642\u306b\u66f4\u65b0\u30c1\u30a7\u30c3\u30af\n0 2 * * * certbot renew --quiet --post-hook "systemctl reload nginx"\n\n# systemd timer\u4f7f\u7528\uff08\u63a8\u5968\uff09\nsudo systemctl enable certbot-renew.timer\nsudo systemctl start certbot-renew.timer\n\n# \u30bf\u30a4\u30de\u30fc\u78ba\u8a8d\nsudo systemctl list-timers | grep certbot\n'})}),"\n",(0,t.jsx)(e.h3,{id:"44-nginx\u8a2d\u5b9a\u4f8b",children:"4.4 Nginx\u8a2d\u5b9a\u4f8b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-nginx",children:"# /etc/nginx/sites-available/example.com\n\nserver {\n    listen 80;\n    server_name example.com www.example.com;\n\n    # Let's Encrypt HTTP-01\u30c1\u30e3\u30ec\u30f3\u30b8\u7528\n    location /.well-known/acme-challenge/ {\n        root /var/www/html;\n    }\n\n    # \u305d\u306e\u4ed6\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306fHTTPS\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    location / {\n        return 301 https://$server_name$request_uri;\n    }\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name example.com www.example.com;\n\n    # Let's Encrypt\u8a3c\u660e\u66f8\n    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n\n    # SSL\u8a2d\u5b9a\uff08\u5f37\u56fa\u306a\u6697\u53f7\u5316\uff09\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384';\n    ssl_prefer_server_ciphers on;\n    ssl_session_cache shared:SSL:10m;\n    ssl_session_timeout 10m;\n\n    # HSTS\uff08HTTP Strict Transport Security\uff09\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n\n    location / {\n        proxy_pass http://localhost:8080;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"5-\u8a3c\u660e\u66f8\u306e\u691c\u8a3c\u3068\u30c7\u30d0\u30c3\u30b0",children:"5. \u8a3c\u660e\u66f8\u306e\u691c\u8a3c\u3068\u30c7\u30d0\u30c3\u30b0"}),"\n",(0,t.jsx)(e.h3,{id:"51-openssl\u306b\u3088\u308b\u8a3c\u660e\u66f8\u691c\u8a3c",children:"5.1 OpenSSL\u306b\u3088\u308b\u8a3c\u660e\u66f8\u691c\u8a3c"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# \u8a3c\u660e\u66f8\u306e\u5185\u5bb9\u78ba\u8a8d\nopenssl x509 -in certificate.pem -text -noout\n\n# \u79d8\u5bc6\u9375\u306e\u78ba\u8a8d\nopenssl rsa -in private-key.pem -check\n\n# \u8a3c\u660e\u66f8\u3068\u79d8\u5bc6\u9375\u306e\u4e00\u81f4\u78ba\u8a8d\ncert_modulus=$(openssl x509 -noout -modulus -in certificate.pem | openssl md5)\nkey_modulus=$(openssl rsa -noout -modulus -in private-key.pem | openssl md5)\n\nif [ "$cert_modulus" = "$key_modulus" ]; then\n    echo "\u8a3c\u660e\u66f8\u3068\u79d8\u5bc6\u9375\u306f\u4e00\u81f4\u3057\u3066\u3044\u307e\u3059"\nelse\n    echo "\u8a3c\u660e\u66f8\u3068\u79d8\u5bc6\u9375\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093"\nfi\n\n# \u8a3c\u660e\u66f8\u30c1\u30a7\u30fc\u30f3\u306e\u691c\u8a3c\nopenssl verify -CAfile certificate-chain.pem certificate.pem\n'})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"6-\u8a3c\u660e\u66f8\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u7ba1\u7406",children:"6. \u8a3c\u660e\u66f8\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u7ba1\u7406"}),"\n",(0,t.jsx)(e.h3,{id:"61-\u8a3c\u660e\u66f8\u66f4\u65b0\u6226\u7565",children:"6.1 \u8a3c\u660e\u66f8\u66f4\u65b0\u6226\u7565"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              \u8a3c\u660e\u66f8\u66f4\u65b0\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  \u3010\u8a08\u753b\u7684\u66f4\u65b0\u3011                                              \u2502\n\u2502  1. \u6709\u52b9\u671f\u9650\u306e60\u65e5\u524d\u306b\u30a2\u30e9\u30fc\u30c8                               \u2502\n\u2502  2. \u6709\u52b9\u671f\u9650\u306e30\u65e5\u524d\u306b\u66f4\u65b0\u958b\u59cb                               \u2502\n\u2502  3. \u6709\u52b9\u671f\u9650\u306e7\u65e5\u524d\u306b\u6700\u7d42\u78ba\u8a8d                                \u2502\n\u2502                                                              \u2502\n\u2502  \u3010Let's Encrypt\uff08\u81ea\u52d5\u66f4\u65b0\uff09\u3011                               \u2502\n\u2502  - certbot renew \u306e\u81ea\u52d5\u5316\uff08cron/systemd timer\uff09             \u2502\n\u2502  - \u6709\u52b9\u671f\u965030\u65e5\u524d\u304b\u3089\u66f4\u65b0\u53ef\u80fd                                \u2502\n\u2502  - \u66f4\u65b0\u5f8c\u306e\u30b5\u30fc\u30d3\u30b9\u518d\u8d77\u52d5\uff08--post-hook\uff09                     \u2502\n\u2502                                                              \u2502\n\u2502  \u3010\u5916\u90e8CA\u8a3c\u660e\u66f8\u3011                                            \u2502\n\u2502  - \u624b\u52d5\u66f4\u65b0\u30d7\u30ed\u30bb\u30b9\u306e\u6587\u66f8\u5316                                  \u2502\n\u2502  - EventBridge\u30a2\u30e9\u30fc\u30c8\u8a2d\u5b9a                                   \u2502\n\u2502  - \u30a4\u30f3\u30dd\u30fc\u30c8\u8a3c\u660e\u66f8\u306e\u66f4\u65b0\u624b\u9806\u78ba\u7acb                            \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(e.h3,{id:"62-\u8a3c\u660e\u66f8\u6709\u52b9\u671f\u9650\u306e\u76e3\u8996",children:"6.2 \u8a3c\u660e\u66f8\u6709\u52b9\u671f\u9650\u306e\u76e3\u8996"}),"\n",(0,t.jsx)(e.h4,{id:"\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3088\u308b\u76e3\u8996",children:"\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3088\u308b\u76e3\u8996"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# check-certificate-expiry.sh\n\nDOMAIN="example.com"\nWARN_DAYS=30\n\n# \u8a3c\u660e\u66f8\u306e\u6709\u52b9\u671f\u9650\u53d6\u5f97\nexpiry_date=$(echo | openssl s_client -servername $DOMAIN -connect $DOMAIN:443 2>/dev/null | \\\n              openssl x509 -noout -enddate | cut -d= -f2)\n\n# \u30a8\u30dd\u30c3\u30af\u79d2\u306b\u5909\u63db\nexpiry_epoch=$(date -d "$expiry_date" +%s)\ncurrent_epoch=$(date +%s)\ndays_until_expiry=$(( ($expiry_epoch - $current_epoch) / 86400 ))\n\necho "\u8a3c\u660e\u66f8\u306e\u6709\u52b9\u671f\u9650: $expiry_date"\necho "\u6b8b\u308a\u65e5\u6570: $days_until_expiry \u65e5"\n\nif [ $days_until_expiry -lt $WARN_DAYS ]; then\n    echo "\u8b66\u544a: \u8a3c\u660e\u66f8\u306e\u6709\u52b9\u671f\u9650\u304c\u8fd1\u3065\u3044\u3066\u3044\u307e\u3059\uff01"\n    # \u30a2\u30e9\u30fc\u30c8\u9001\u4fe1\uff08Slack\u3001\u30e1\u30fc\u30eb\u7b49\uff09\n    exit 1\nelse\n    echo "\u8a3c\u660e\u66f8\u306f\u6b63\u5e38\u3067\u3059"\n    exit 0\nfi\n'})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"7-ssltls\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",children:"7. SSL/TLS\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"}),"\n",(0,t.jsx)(e.h3,{id:"71-\u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc\u3068\u5bfe\u51e6\u6cd5",children:"7.1 \u3088\u304f\u3042\u308b\u30a8\u30e9\u30fc\u3068\u5bfe\u51e6\u6cd5"}),"\n",(0,t.jsx)(e.h4,{id:"\u30a8\u30e9\u30fc1-neterr_cert_common_name_invalid",children:'\u30a8\u30e9\u30fc1: "NET::ERR_CERT_COMMON_NAME_INVALID"'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u539f\u56e0: \u8a3c\u660e\u66f8\u306eCN/SAN\u3068\u30a2\u30af\u30bb\u30b9URL\u304c\u4e00\u81f4\u3057\u306a\u3044\n\n\u4f8b:\n\u8a3c\u660e\u66f8: CN=example.com, SAN=example.com, www.example.com\n\u30a2\u30af\u30bb\u30b9: https://api.example.com  \u2190 SAN\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\n\n\u5bfe\u51e6\u6cd5:\n1. \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u8a3c\u660e\u66f8\u3092\u4f7f\u7528\uff08*.example.com\uff09\n2. SAN\u306bapi.example.com\u3092\u8ffd\u52a0\u3057\u305f\u8a3c\u660e\u66f8\u3092\u518d\u767a\u884c\n3. SNI\uff08Server Name Indication\uff09\u3067\u8907\u6570\u8a3c\u660e\u66f8\u3092\u8a2d\u5b9a\n"})}),"\n",(0,t.jsx)(e.h4,{id:"\u30a8\u30e9\u30fc2-neterr_cert_date_invalid",children:'\u30a8\u30e9\u30fc2: "NET::ERR_CERT_DATE_INVALID"'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u539f\u56e0: \u8a3c\u660e\u66f8\u306e\u6709\u52b9\u671f\u9650\u5207\u308c\u3001\u307e\u305f\u306f\u958b\u59cb\u524d\n\n\u5bfe\u51e6\u6cd5:\n1. \u8a3c\u660e\u66f8\u306e\u6709\u52b9\u671f\u9650\u3092\u78ba\u8a8d\n   openssl x509 -in cert.pem -noout -dates\n\n2. \u30b5\u30fc\u30d0\u30fc\u306e\u6642\u523b\u3092\u78ba\u8a8d\uff08NTP\u540c\u671f\uff09\n   date\n   timedatectl status\n\n3. \u8a3c\u660e\u66f8\u3092\u66f4\u65b0\n"})}),"\n",(0,t.jsx)(e.h4,{id:"\u30a8\u30e9\u30fc3-neterr_cert_authority_invalid",children:'\u30a8\u30e9\u30fc3: "NET::ERR_CERT_AUTHORITY_INVALID"'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u539f\u56e0: \u8a3c\u660e\u66f8\u30c1\u30a7\u30fc\u30f3\u304c\u4e0d\u5b8c\u5168\u3001\u307e\u305f\u306f\u4fe1\u983c\u3067\u304d\u306a\u3044CA\n\n\u5bfe\u51e6\u6cd5:\n1. \u4e2d\u9593\u8a3c\u660e\u66f8\u3092\u542b\u3081\u308b\n   cat server.crt intermediate.crt > fullchain.crt\n\n2. \u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u4fe1\u983c\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\n\n3. Let's Encrypt\u306e\u5834\u5408\u3001fullchain.pem\u3092\u4f7f\u7528\n   ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\n"})}),"\n",(0,t.jsx)(e.h3,{id:"72-\u8a3a\u65ad\u30c4\u30fc\u30eb",children:"7.2 \u8a3a\u65ad\u30c4\u30fc\u30eb"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# 1. OpenSSL s_client\uff08\u8a73\u7d30\u306a\u63a5\u7d9a\u60c5\u5831\uff09\nopenssl s_client -connect example.com:443 -servername example.com\n\n# \u8a3c\u660e\u66f8\u30c1\u30a7\u30fc\u30f3\u8868\u793a\nopenssl s_client -showcerts -connect example.com:443 </dev/null\n\n# \u7279\u5b9a\u306eTLS\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30c6\u30b9\u30c8\nopenssl s_client -connect example.com:443 -tls1_2\nopenssl s_client -connect example.com:443 -tls1_3\n\n# 2. \u8a3c\u660e\u66f8\u306e\u8a73\u7d30\u78ba\u8a8d\necho | openssl s_client -servername example.com -connect example.com:443 2>/dev/null | \\\n  openssl x509 -noout -text\n\n# 3. \u6709\u52b9\u671f\u9650\u78ba\u8a8d\necho | openssl s_client -servername example.com -connect example.com:443 2>/dev/null | \\\n  openssl x509 -noout -dates\n\n# 4. SSL Labs\uff08\u30aa\u30f3\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\uff09\n# https://www.ssllabs.com/ssltest/analyze.html?d=example.com\n\n# 5. testssl.sh\uff08\u5305\u62ec\u7684\u306a\u30c6\u30b9\u30c8\u30c4\u30fc\u30eb\uff09\ngit clone https://github.com/drwetter/testssl.sh.git\ncd testssl.sh\n./testssl.sh example.com\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,t.jsx)(e.h3,{id:"\u5b66\u3093\u3060\u3053\u3068",children:"\u5b66\u3093\u3060\u3053\u3068"}),"\n",(0,t.jsx)(e.p,{children:"\u672c\u7ae0\u3067\u306f\u3001SSL/TLS\u8a3c\u660e\u66f8\u306e\u5b9f\u8df5\u7684\u306a\u7ba1\u7406\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3057\u305f:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"SSL/TLS\u8a3c\u660e\u66f8\u306e\u5f79\u5272\u3068\u69cb\u9020"}),"\n",(0,t.jsx)(e.li,{children:"\u8a3c\u660e\u66f8\u306e\u7a2e\u985e\uff08DV\u3001OV\u3001EV\u3001\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\uff09\u3068\u9078\u629e\u57fa\u6e96"}),"\n",(0,t.jsx)(e.li,{children:"\u5546\u7528CA\u3001Let's Encrypt\u3001\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306e\u4f7f\u3044\u5206\u3051"}),"\n",(0,t.jsx)(e.li,{children:"Let's Encrypt\u306b\u3088\u308b\u8a3c\u660e\u66f8\u53d6\u5f97\u3068Certbot\u306e\u4f7f\u7528"}),"\n",(0,t.jsx)(e.li,{children:"OpenSSL\u3092\u4f7f\u7528\u3057\u305f\u8a3c\u660e\u66f8\u691c\u8a3c"}),"\n",(0,t.jsx)(e.li,{children:"\u8a3c\u660e\u66f8\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u7ba1\u7406\u3068\u66f4\u65b0\u6226\u7565"}),"\n",(0,t.jsx)(e.li,{children:"SSL/TLS\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u624b\u6cd5"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8",children:"\u91cd\u8981\u306a\u30dd\u30a4\u30f3\u30c8"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"1. \u672c\u756a\u74b0\u5883\u3067\u306e\u8a3c\u660e\u66f8\u9078\u629e\n   - \u5546\u7528\u30b5\u30a4\u30c8: Let's Encrypt\uff08\u7121\u6599DV\u8a3c\u660e\u66f8\uff09\n   - \u4f01\u696d\u30b5\u30a4\u30c8: \u5546\u7528CA\uff08OV/EV\u8a3c\u660e\u66f8\uff09\n   - \u958b\u767a/\u30c6\u30b9\u30c8: \u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\n\n2. Let's Encrypt\u306e\u904b\u7528\n   - \u6709\u52b9\u671f\u965090\u65e5\uff08\u77ed\u3044\uff09\n   - certbot renew\u306e\u81ea\u52d5\u5316\u5fc5\u9808\uff08cron/systemd timer\uff09\n   - DNS-01\u30c1\u30e3\u30ec\u30f3\u30b8\u3067\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u8a3c\u660e\u66f8\n\n3. \u8a3c\u660e\u66f8\u76e3\u8996\u306e\u5fb9\u5e95\n   - \u6709\u52b9\u671f\u9650\u306e30\u65e5\u524d\u306b\u30a2\u30e9\u30fc\u30c8\n   - cron\u306b\u3088\u308b\u81ea\u52d5\u76e3\u8996\u30b9\u30af\u30ea\u30d7\u30c8\n   - \u8a3c\u660e\u66f8\u30c1\u30a7\u30fc\u30f3\u306e\u691c\u8a3c\n\n4. \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u5b9a\n   - TLSv1.2\u4ee5\u4e0a\u306e\u307f\u8a31\u53ef\n   - \u5f37\u56fa\u306a\u6697\u53f7\u30b9\u30a4\u30fc\u30c8\u8a2d\u5b9a\n   - HSTS\u6709\u52b9\u5316\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",children:"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u25a1 Let's Encrypt\u81ea\u52d5\u66f4\u65b0\u306e\u8a2d\u5b9a\uff08cron/systemd timer\uff09\n\u25a1 \u8a3c\u660e\u66f8\u6709\u52b9\u671f\u9650\u306e\u76e3\u8996\u30b9\u30af\u30ea\u30d7\u30c8\u914d\u7f6e\n\u25a1 \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u8a3c\u660e\u66f8\u306e\u9069\u5207\u306a\u5229\u7528\n\u25a1 \u8a3c\u660e\u66f8\u3068\u79d8\u5bc6\u9375\u306e\u5b89\u5168\u306a\u4fdd\u7ba1\uff08\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3600\uff09\n\u25a1 TLS\u8a2d\u5b9a\u306e\u5b9a\u671f\u7684\u306a\u898b\u76f4\u3057\uff08SSL Labs\u7b49\uff09\n\u25a1 \u8a3c\u660e\u66f8\u30c1\u30a7\u30fc\u30f3\u306e\u5b8c\u5168\u6027\u78ba\u8a8d\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/networking/api-gateway-networking",children:"05-api-gateway-networking.md"})," - \u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u3068API Gateway"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/networking/network-troubleshooting",children:"06-network-troubleshooting.md"})," - \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/crypto/tls-ssl",children:"content_11_learning/12-crypto/tls-ssl.md"})," - TLS/SSL\u30d7\u30ed\u30c8\u30b3\u30eb\u8a73\u7d30"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"\u53c2\u8003\u30ea\u30f3\u30af",children:"\u53c2\u8003\u30ea\u30f3\u30af"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://letsencrypt.org/docs/",children:"Let's Encrypt Documentation"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://certbot.eff.org/docs/",children:"Certbot Documentation"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://www.openssl.org/docs/",children:"OpenSSL Documentation"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://www.ssllabs.com/",children:"SSL Labs"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://ssl-config.mozilla.org/",children:"Mozilla SSL Configuration Generator"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},28453:(n,e,l)=>{l.d(e,{R:()=>i,x:()=>c});var s=l(96540);const t={},r=s.createContext(t);function i(n){const e=s.useContext(r);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:i(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);