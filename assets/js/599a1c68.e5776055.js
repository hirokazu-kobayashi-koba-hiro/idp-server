"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[8369],{6896:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"content_04_protocols/protocol-04-ciba-rar","title":"CIBA + Rich Authorization Requests (RAR)","description":"\ud83c\udfaf \u3053\u306e\u6a5f\u80fd\u3092\u4e00\u8a00\u3067\u8aac\u660e\u3059\u308b\u3068","source":"@site/docs/content_04_protocols/protocol-04-ciba-rar.md","sourceDirName":"content_04_protocols","slug":"/content_04_protocols/protocol-04-ciba-rar","permalink":"/idp-server/docs/content_04_protocols/protocol-04-ciba-rar","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_04_protocols/protocol-04-ciba-rar.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\u30a4\u30f3\u30c8\u30ed\u30b9\u30da\u30af\u30b7\u30e7\u30f3","permalink":"/idp-server/docs/content_04_protocols/protocol-03-introspection"},"next":{"title":"FAPI CIBA Profile - \u30d7\u30ed\u30c8\u30b3\u30eb\u4ed5\u69d8","permalink":"/idp-server/docs/content_04_protocols/protocol-05-fapi-ciba"}}');var t=i(74848),r=i(28453);const d={},l="CIBA + Rich Authorization Requests (RAR)",c={},a=[{value:"\ud83c\udfaf \u3053\u306e\u6a5f\u80fd\u3092\u4e00\u8a00\u3067\u8aac\u660e\u3059\u308b\u3068",id:"-\u3053\u306e\u6a5f\u80fd\u3092\u4e00\u8a00\u3067\u8aac\u660e\u3059\u308b\u3068",level:2},{value:"\ud83d\udca1 \u306a\u305c\u3053\u306e\u6a5f\u80fd\u304c\u5fc5\u8981\u306a\u306e\u304b",id:"-\u306a\u305c\u3053\u306e\u6a5f\u80fd\u304c\u5fc5\u8981\u306a\u306e\u304b",level:2},{value:"\u5f93\u6765\u306e\u65b9\u6cd5\uff08\u30b9\u30b3\u30fc\u30d7\uff09\u306e\u554f\u984c\u70b9",id:"\u5f93\u6765\u306e\u65b9\u6cd5\u30b9\u30b3\u30fc\u30d7\u306e\u554f\u984c\u70b9",level:3},{value:"RAR\u3067\u89e3\u6c7a\u3067\u304d\u308b\u3053\u3068",id:"rar\u3067\u89e3\u6c7a\u3067\u304d\u308b\u3053\u3068",level:3},{value:"\ud83d\udc64 \u3053\u3093\u306a\u4eba\u30fb\u3053\u3093\u306a\u5834\u9762\u3067\u4fbf\u5229",id:"-\u3053\u3093\u306a\u4eba\u3053\u3093\u306a\u5834\u9762\u3067\u4fbf\u5229",level:2},{value:"\ud83d\udcf1 \u30e6\u30fc\u30b6\u30fc\u304b\u3089\u898b\u308b\u3068\u3053\u3046\u898b\u3048\u308b",id:"-\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u898b\u308b\u3068\u3053\u3046\u898b\u3048\u308b",level:2},{value:"\ud83d\udcda \u7528\u8a9e\u96c6\uff08\u521d\u3081\u3066\u306e\u65b9\u5411\u3051\uff09",id:"-\u7528\u8a9e\u96c6\u521d\u3081\u3066\u306e\u65b9\u5411\u3051",level:2},{value:"\ud83c\udd9a \u30b9\u30b3\u30fc\u30d7 vs RAR \u306e\u6bd4\u8f03",id:"-\u30b9\u30b3\u30fc\u30d7-vs-rar-\u306e\u6bd4\u8f03",level:2},{value:"\u5f93\u6765\u306e\u30b9\u30b3\u30fc\u30d7\u3060\u3051\u306e\u5834\u5408",id:"\u5f93\u6765\u306e\u30b9\u30b3\u30fc\u30d7\u3060\u3051\u306e\u5834\u5408",level:3},{value:"RAR\u3092\u4f7f\u3063\u305f\u5834\u5408",id:"rar\u3092\u4f7f\u3063\u305f\u5834\u5408",level:3},{value:"\u6982\u8981\uff08\u6280\u8853\u8005\u5411\u3051\uff09",id:"\u6982\u8981\u6280\u8853\u8005\u5411\u3051",level:2},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff08\u8a73\u7d30\uff09",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8a73\u7d30",level:2},{value:"RFC 9396 \u6e96\u62e0",id:"rfc-9396-\u6e96\u62e0",level:2},{value:"\u30b5\u30dd\u30fc\u30c8\u6a5f\u80fd",id:"\u30b5\u30dd\u30fc\u30c8\u6a5f\u80fd",level:3},{value:"\u691c\u8a3c\u30ed\u30b8\u30c3\u30af",id:"\u691c\u8a3c\u30ed\u30b8\u30c3\u30af",level:3},{value:"\u30b7\u30fc\u30b1\u30f3\u30b9",id:"\u30b7\u30fc\u30b1\u30f3\u30b9",level:2},{value:"authorization_details \u30d1\u30e9\u30e1\u30fc\u30bf",id:"authorization_details-\u30d1\u30e9\u30e1\u30fc\u30bf",level:2},{value:"\u57fa\u672c\u69cb\u9020",id:"\u57fa\u672c\u69cb\u9020",level:3},{value:"\u30d5\u30a3\u30fc\u30eb\u30c9\u5b9a\u7fa9",id:"\u30d5\u30a3\u30fc\u30eb\u30c9\u5b9a\u7fa9",level:3},{value:"Request Object\u7d71\u5408",id:"request-object\u7d71\u5408",level:2},{value:"\ud83d\udd10 \u521d\u3081\u3066\u306e\u65b9\u5411\u3051\uff1aRequest Object\u3063\u3066\u4f55\uff1f",id:"-\u521d\u3081\u3066\u306e\u65b9\u5411\u3051request-object\u3063\u3066\u4f55",level:3},{value:"RFC 9396 Section 3 \u6e96\u62e0\uff08\u6280\u8853\u8005\u5411\u3051\uff09",id:"rfc-9396-section-3-\u6e96\u62e0\u6280\u8853\u8005\u5411\u3051",level:3},{value:"\u30d1\u30e9\u30e1\u30fc\u30bf\u512a\u5148\u9806\u4f4d",id:"\u30d1\u30e9\u30e1\u30fc\u30bf\u512a\u5148\u9806\u4f4d",level:3},{value:"\u691c\u8a3c\u30bf\u30a4\u30df\u30f3\u30b0",id:"\u691c\u8a3c\u30bf\u30a4\u30df\u30f3\u30b0",level:3},{value:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",id:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",level:2},{value:"invalid_authorization_details \u30a8\u30e9\u30fc",id:"invalid_authorization_details-\u30a8\u30e9\u30fc",level:3},{value:"\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u4f8b",id:"\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u4f8b",level:3},{value:"\u8a2d\u5b9a",id:"\u8a2d\u5b9a",level:2},{value:"\ud83d\udd27 \u521d\u3081\u3066\u306e\u65b9\u5411\u3051\uff1a\u8a2d\u5b9a\u306e\u6d41\u308c",id:"-\u521d\u3081\u3066\u306e\u65b9\u5411\u3051\u8a2d\u5b9a\u306e\u6d41\u308c",level:3},{value:"\u30b9\u30c6\u30c3\u30d71: \u30b5\u30fc\u30d0\u30fc\u5074\u3067\u300c\u3069\u3093\u306a\u7a2e\u985e\u306e\u6a29\u9650\u3092\u6271\u3046\u304b\u300d\u3092\u6c7a\u3081\u308b",id:"\u30b9\u30c6\u30c3\u30d71-\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u3069\u3093\u306a\u7a2e\u985e\u306e\u6a29\u9650\u3092\u6271\u3046\u304b\u3092\u6c7a\u3081\u308b",level:4},{value:"\u30b9\u30c6\u30c3\u30d72: \u30a2\u30d7\u30ea\uff08\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff09\u3054\u3068\u306b\u300c\u3069\u306e\u6a29\u9650\u3092\u4f7f\u3048\u308b\u304b\u300d\u3092\u6c7a\u3081\u308b",id:"\u30b9\u30c6\u30c3\u30d72-\u30a2\u30d7\u30ea\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3054\u3068\u306b\u3069\u306e\u6a29\u9650\u3092\u4f7f\u3048\u308b\u304b\u3092\u6c7a\u3081\u308b",level:4},{value:"Authorization Server\u8a2d\u5b9a\uff08\u30b5\u30fc\u30d0\u30fc\u5168\u4f53\u306e\u8a2d\u5b9a\uff09",id:"authorization-server\u8a2d\u5b9a\u30b5\u30fc\u30d0\u30fc\u5168\u4f53\u306e\u8a2d\u5b9a",level:3},{value:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a\uff08\u30a2\u30d7\u30ea\u3054\u3068\u306e\u8a2d\u5b9a\uff09",id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a\u30a2\u30d7\u30ea\u3054\u3068\u306e\u8a2d\u5b9a",level:3},{value:"\ud83d\udca1 \u306a\u305c2\u6bb5\u968e\u5fc5\u8981\u306a\u306e\uff1f",id:"-\u306a\u305c2\u6bb5\u968e\u5fc5\u8981\u306a\u306e",level:3},{value:"\u5b9f\u88c5\u4f8b",id:"\u5b9f\u88c5\u4f8b",level:2},{value:"\ud83d\ude80 \u521d\u3081\u3066\u306e\u65b9\u5411\u3051\uff1a\u5b9f\u88c5\u306e3\u30b9\u30c6\u30c3\u30d7",id:"-\u521d\u3081\u3066\u306e\u65b9\u5411\u3051\u5b9f\u88c5\u306e3\u30b9\u30c6\u30c3\u30d7",level:3},{value:"\u30b9\u30c6\u30c3\u30d71: authorization_details\u3092\u4f5c\u308b",id:"\u30b9\u30c6\u30c3\u30d71-authorization_details\u3092\u4f5c\u308b",level:4},{value:"\u30b9\u30c6\u30c3\u30d72: \u30ea\u30af\u30a8\u30b9\u30c8\u306b\u542b\u3081\u3066\u9001\u308b",id:"\u30b9\u30c6\u30c3\u30d72-\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u542b\u3081\u3066\u9001\u308b",level:4},{value:"\u30b9\u30c6\u30c3\u30d73: \u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b",id:"\u30b9\u30c6\u30c3\u30d73-\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b",level:4},{value:"\ud83d\udcdd HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u751f\u306e\u5f62\uff08\u4e0a\u7d1a\u8005\u5411\u3051\uff09",id:"-http\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u751f\u306e\u5f62\u4e0a\u7d1a\u8005\u5411\u3051",level:3},{value:"Backchannel Authentication Request",id:"backchannel-authentication-request",level:4},{value:"Token Response",id:"token-response",level:3},{value:"Access Token\u30da\u30a4\u30ed\u30fc\u30c9",id:"access-token\u30da\u30a4\u30ed\u30fc\u30c9",level:3},{value:"\u8907\u6570authorization_details",id:"\u8907\u6570authorization_details",level:2},{value:"\u8907\u6570\u30ea\u30bd\u30fc\u30b9\u30bf\u30a4\u30d7",id:"\u8907\u6570\u30ea\u30bd\u30fc\u30b9\u30bf\u30a4\u30d7",level:3},{value:"\u540c\u4e00\u30bf\u30a4\u30d7\u306e\u8907\u6570\u30a8\u30f3\u30c8\u30ea",id:"\u540c\u4e00\u30bf\u30a4\u30d7\u306e\u8907\u6570\u30a8\u30f3\u30c8\u30ea",level:3},{value:"\u30e6\u30fc\u30b6\u30fc\u4f53\u9a13",id:"\u30e6\u30fc\u30b6\u30fc\u4f53\u9a13",level:2},{value:"\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u3067\u306e\u8868\u793a",id:"\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u3067\u306e\u8868\u793a",level:3},{value:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8003\u616e\u4e8b\u9805",id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8003\u616e\u4e8b\u9805",level:2},{value:"1. type\u691c\u8a3c\u306e\u91cd\u8981\u6027",id:"1-type\u691c\u8a3c\u306e\u91cd\u8981\u6027",level:3},{value:"2. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c",id:"2-\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c",level:3},{value:"3. \u30e6\u30fc\u30b6\u30fc\u540c\u610f",id:"3-\u30e6\u30fc\u30b6\u30fc\u540c\u610f",level:3},{value:"\u53c2\u8003\u8cc7\u6599",id:"\u53c2\u8003\u8cc7\u6599",level:2}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"ciba--rich-authorization-requests-rar",children:"CIBA + Rich Authorization Requests (RAR)"})}),"\n",(0,t.jsx)(e.h2,{id:"-\u3053\u306e\u6a5f\u80fd\u3092\u4e00\u8a00\u3067\u8aac\u660e\u3059\u308b\u3068",children:"\ud83c\udfaf \u3053\u306e\u6a5f\u80fd\u3092\u4e00\u8a00\u3067\u8aac\u660e\u3059\u308b\u3068"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\u300c\u30b9\u30de\u30db\u3067\u8a8d\u8a3c\u3059\u308b\u3068\u304d\u306b\u3001\u3082\u3063\u3068\u7d30\u304b\u304f\u300e\u4f55\u3092\u3069\u3053\u307e\u3067\u8a31\u53ef\u3059\u308b\u304b\u300f\u3092\u6307\u5b9a\u3067\u304d\u308b\u6a5f\u80fd\u300d"})}),"\n",(0,t.jsx)(e.p,{children:"\u5f93\u6765\u306f\u300c\u30e1\u30fc\u30eb\u3092\u898b\u308b\u6a29\u9650\u300d\u306e\u3088\u3046\u306a\u5927\u96d1\u628a\u306a\u6307\u5b9a\u3057\u304b\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u304c\u3001RAR\u3092\u4f7f\u3048\u3070\u300c\u3069\u306e\u30d5\u30a9\u30eb\u30c0\u306e\u3001\u3069\u306e\u30e1\u30fc\u30eb\u3092\u3001\u3044\u3064\u307e\u3067\u898b\u3089\u308c\u308b\u304b\u300d\u307e\u3067\u7d30\u304b\u304f\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"-\u306a\u305c\u3053\u306e\u6a5f\u80fd\u304c\u5fc5\u8981\u306a\u306e\u304b",children:"\ud83d\udca1 \u306a\u305c\u3053\u306e\u6a5f\u80fd\u304c\u5fc5\u8981\u306a\u306e\u304b"}),"\n",(0,t.jsx)(e.h3,{id:"\u5f93\u6765\u306e\u65b9\u6cd5\u30b9\u30b3\u30fc\u30d7\u306e\u554f\u984c\u70b9",children:"\u5f93\u6765\u306e\u65b9\u6cd5\uff08\u30b9\u30b3\u30fc\u30d7\uff09\u306e\u554f\u984c\u70b9"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u30a2\u30d7\u30ea\u300c\u304a\u5ba2\u69d8\u306e\u53e3\u5ea7\u60c5\u5831\u3092\u898b\u308b\u6a29\u9650\u3092\u304f\u3060\u3055\u3044\u300d\n\u3042\u306a\u305f\u300cOK\uff08\u5168\u53e3\u5ea7\u306e\u5168\u60c5\u5831\u304c\u898b\u3089\u308c\u308b\uff09\u300d\u2190 \u7c97\u3059\u304e\u308b\uff01\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u274c \u300c\u53e3\u5ea7\u3092\u898b\u308b\u300d\u6a29\u9650\u3057\u304b\u306a\u304f\u3001",(0,t.jsx)(e.strong,{children:"\u3069\u306e\u53e3\u5ea7"}),"\u304b\u306f\u6307\u5b9a\u3067\u304d\u306a\u3044"]}),"\n",(0,t.jsxs)(e.li,{children:["\u274c \u300c\u8aad\u3080\u300d\u6a29\u9650\u3060\u3051\u3067\u3001",(0,t.jsx)(e.strong,{children:"\u4f55\u3092\u8aad\u3080\u304b"}),"\u306f\u5236\u5fa1\u3067\u304d\u306a\u3044"]}),"\n",(0,t.jsx)(e.li,{children:"\u274c \u8907\u6570\u306e\u7d30\u304b\u3044\u6a29\u9650\u304c\u5fc5\u8981\u306a\u3068\u304d\u3001\u4f55\u5ea6\u3082\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u5fc5\u8981"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"rar\u3067\u89e3\u6c7a\u3067\u304d\u308b\u3053\u3068",children:"RAR\u3067\u89e3\u6c7a\u3067\u304d\u308b\u3053\u3068"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u30a2\u30d7\u30ea\u300c\u500b\u4eba\u53e3\u5ea712345\u306e\u6b8b\u9ad8\u3060\u3051\u898b\u308b\u6a29\u9650\u3092\u304f\u3060\u3055\u3044\u300d\n\u3042\u306a\u305f\u300cOK\uff08\u500b\u4eba\u53e3\u5ea7\u306e\u6b8b\u9ad8\u3060\u3051\u304c\u898b\u3089\u308c\u308b\uff09\u300d\u2190 \u5b89\u5fc3\uff01\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u2705 ",(0,t.jsx)(e.strong,{children:"\u3069\u306e\u30ea\u30bd\u30fc\u30b9"}),"\u306b\u5bfe\u3059\u308b\u6a29\u9650\u304b\u3092\u660e\u793a"]}),"\n",(0,t.jsxs)(e.li,{children:["\u2705 ",(0,t.jsx)(e.strong,{children:"\u4f55\u304c\u3067\u304d\u308b\u304b"}),"\uff08\u8aad\u3080\u3001\u66f8\u304f\u3001\u524a\u9664\u306a\u3069\uff09\u3092\u7d30\u304b\u304f\u6307\u5b9a"]}),"\n",(0,t.jsxs)(e.li,{children:["\u2705 \u8907\u6570\u306e\u7570\u306a\u308b\u6a29\u9650\u3092",(0,t.jsx)(e.strong,{children:"1\u56de\u306e\u30ea\u30af\u30a8\u30b9\u30c8"}),"\u3067\u307e\u3068\u3081\u3066\u8981\u6c42"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"-\u3053\u3093\u306a\u4eba\u3053\u3093\u306a\u5834\u9762\u3067\u4fbf\u5229",children:"\ud83d\udc64 \u3053\u3093\u306a\u4eba\u30fb\u3053\u3093\u306a\u5834\u9762\u3067\u4fbf\u5229"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u4f7f\u3046\u4eba"}),(0,t.jsx)(e.th,{children:"\u4f7f\u3046\u5834\u9762"}),(0,t.jsx)(e.th,{children:"\u30e1\u30ea\u30c3\u30c8"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"\u9280\u884c\u30a2\u30d7\u30ea\u958b\u767a\u8005"})}),(0,t.jsx)(e.td,{children:"\u6c7a\u6e08\u30a2\u30d7\u30ea\u3067\u632f\u8fbc\u3092\u5b9f\u884c"}),(0,t.jsx)(e.td,{children:"\u300c\u53e3\u5ea7A \u304b\u3089 1,000\u5186\u3092\u53e3\u5ea7B \u306b\u632f\u8fbc\u300d\u3068\u3044\u3046\u5177\u4f53\u7684\u306a\u6a29\u9650\u3092\u8981\u6c42"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"\u4f1a\u8a08\u30bd\u30d5\u30c8\u958b\u767a\u8005"})}),(0,t.jsx)(e.td,{children:"\u8907\u6570\u306e\u53e3\u5ea7\u60c5\u5831\u3092\u53d6\u5f97"}),(0,t.jsx)(e.td,{children:"\u300c\u500b\u4eba\u53e3\u5ea7\u306e\u6b8b\u9ad8\u300d\u3068\u300c\u4f1a\u793e\u53e3\u5ea7\u306e\u53d6\u5f15\u5c65\u6b74\u300d\u3092\u540c\u6642\u306b\u8981\u6c42"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"\u533b\u7642\u30a2\u30d7\u30ea\u958b\u767a\u8005"})}),(0,t.jsx)(e.td,{children:"\u60a3\u8005\u306e\u533b\u7642\u8a18\u9332\u3078\u30a2\u30af\u30bb\u30b9"}),(0,t.jsx)(e.td,{children:"\u300c2024\u5e74\u306e\u8840\u6db2\u691c\u67fb\u7d50\u679c\u3060\u3051\u300d\u3068\u3044\u3046\u9650\u5b9a\u7684\u306a\u30a2\u30af\u30bb\u30b9"})]})]})]}),"\n",(0,t.jsx)(e.h2,{id:"-\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u898b\u308b\u3068\u3053\u3046\u898b\u3048\u308b",children:"\ud83d\udcf1 \u30e6\u30fc\u30b6\u30fc\u304b\u3089\u898b\u308b\u3068\u3053\u3046\u898b\u3048\u308b"}),"\n",(0,t.jsx)(e.p,{children:"\u30b9\u30de\u30db\u306b\u5c4a\u304f\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u753b\u9762\u306e\u30a4\u30e1\u30fc\u30b8\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n  \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\u30a2\u30d7\u30ea\u540d: \u5bb6\u8a08\u7c3f\u30a2\u30d7\u30ea\n\n\ud83d\udccb \u8981\u6c42\u3055\u308c\u308b\u6a29\u9650\u306e\u8a73\u7d30:\n\n\u3010\u500b\u4eba\u53e3\u5ea7 (\u53e3\u5ea7\u756a\u53f7: ****1234)\u3011\n\u2713 \u6b8b\u9ad8\u306e\u78ba\u8a8d\n\u2713 \u904e\u53bb3\u30f6\u6708\u306e\u53d6\u5f15\u5c65\u6b74\u306e\u95b2\u89a7\n\n\u3010\u4f1a\u793e\u53e3\u5ea7 (\u53e3\u5ea7\u756a\u53f7: ****5678)\u3011\n\u2713 \u5165\u91d1\u5c65\u6b74\u306e\u95b2\u89a7\u306e\u307f\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n  [\u8a31\u53ef\u3059\u308b] [\u62d2\u5426\u3059\u308b]\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u5f93\u6765\u306e\u65b9\u6cd5\u3060\u3068"}),": \u300c\u3059\u3079\u3066\u306e\u53e3\u5ea7\u60c5\u5831\u3092\u898b\u308b\u6a29\u9650\u300d\u3068\u3044\u3046\u66d6\u6627\u306a\u8868\u793a\u3060\u3051"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"RAR\u3092\u4f7f\u3046\u3068"}),": \u4e0a\u8a18\u306e\u3088\u3046\u306b\u5177\u4f53\u7684\u306b\u300c\u4f55\u3092\u30fb\u3069\u3053\u307e\u3067\u300d\u304c\u8868\u793a\u3055\u308c\u308b"]}),"\n",(0,t.jsx)(e.h2,{id:"-\u7528\u8a9e\u96c6\u521d\u3081\u3066\u306e\u65b9\u5411\u3051",children:"\ud83d\udcda \u7528\u8a9e\u96c6\uff08\u521d\u3081\u3066\u306e\u65b9\u5411\u3051\uff09"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u7528\u8a9e"}),(0,t.jsx)(e.th,{children:"\u7c21\u5358\u306a\u8aac\u660e"}),(0,t.jsx)(e.th,{children:"\u5177\u4f53\u4f8b"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"CIBA"})}),(0,t.jsx)(e.td,{children:"\u30b9\u30de\u30db\u306a\u3069\u306e\u5225\u306e\u30c7\u30d0\u30a4\u30b9\u3067\u8a8d\u8a3c\u3059\u308b\u4ed5\u7d44\u307f"}),(0,t.jsx)(e.td,{children:"PC\u3067\u300c\u30ed\u30b0\u30a4\u30f3\u300d\u2192\u30b9\u30de\u30db\u306b\u901a\u77e5\u2192\u30b9\u30de\u30db\u3067\u627f\u8a8d\u2192PC\u3067\u30ed\u30b0\u30a4\u30f3\u5b8c\u4e86"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"OAuth 2.0"})}),(0,t.jsx)(e.td,{children:"\u30a2\u30d7\u30ea\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u6e21\u3055\u305a\u306b\u6a29\u9650\u3092\u4e0e\u3048\u308b\u6a19\u6e96\u7684\u306a\u65b9\u6cd5"}),(0,t.jsx)(e.td,{children:"\u300cGoogle\u306e\u9023\u7d61\u5148\u3092\u898b\u308b\u6a29\u9650\u3092XX\u30a2\u30d7\u30ea\u306b\u6e21\u3059\u300d"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"\u30b9\u30b3\u30fc\u30d7"})}),(0,t.jsx)(e.td,{children:"\u5f93\u6765\u306e\u7c97\u3044\u6a29\u9650\u6307\u5b9a\u65b9\u6cd5"}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:'"read:email"'})," = \u30e1\u30fc\u30eb\u8aad\u3080\u6a29\u9650\uff08\u3069\u306e\u30e1\u30fc\u30eb\u304b\u306f\u6307\u5b9a\u3067\u304d\u306a\u3044\uff09"]})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"RAR"})}),(0,t.jsx)(e.td,{children:"\u7d30\u304b\u3044\u6a29\u9650\u6307\u5b9a\u304c\u3067\u304d\u308b\u65b0\u3057\u3044\u65b9\u6cd5"}),(0,t.jsx)(e.td,{children:"\u300c\u500b\u4eba\u30d5\u30a9\u30eb\u30c0\u306e\u672a\u8aad\u30e1\u30fc\u30eb\u3060\u3051\u300d\u3068\u3044\u3046\u5177\u4f53\u7684\u306a\u6307\u5b9a\u304c\u53ef\u80fd"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"authorization_details"})}),(0,t.jsx)(e.td,{children:"RAR\u3067\u6a29\u9650\u306e\u8a73\u7d30\u3092\u8a18\u8ff0\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,t.jsx)(e.td,{children:"\u300c\u4f55\u3092\u3001\u3069\u3053\u307e\u3067\u3001\u3069\u3046\u3059\u308b\u304b\u300d\u3092 JSON \u5f62\u5f0f\u3067\u8a18\u8ff0"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Request Object"})}),(0,t.jsx)(e.td,{children:"\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u3092JWT\u5f62\u5f0f\u3067\u7f72\u540d\u4ed8\u304d\u3067\u9001\u308b\u65b9\u6cd5"}),(0,t.jsx)(e.td,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u9ad8\u3081\u308b\u305f\u3081\u306e\u6280\u8853\uff08\u6539\u3056\u3093\u9632\u6b62\uff09"})]})]})]}),"\n",(0,t.jsx)(e.h2,{id:"-\u30b9\u30b3\u30fc\u30d7-vs-rar-\u306e\u6bd4\u8f03",children:"\ud83c\udd9a \u30b9\u30b3\u30fc\u30d7 vs RAR \u306e\u6bd4\u8f03"}),"\n",(0,t.jsx)(e.h3,{id:"\u5f93\u6765\u306e\u30b9\u30b3\u30fc\u30d7\u3060\u3051\u306e\u5834\u5408",children:"\u5f93\u6765\u306e\u30b9\u30b3\u30fc\u30d7\u3060\u3051\u306e\u5834\u5408"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "scope": "read:accounts"\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u7d50\u679c"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u274c \u5168\u3066\u306e\u53e3\u5ea7\u304c\u898b\u3048\u308b"}),"\n",(0,t.jsx)(e.li,{children:"\u274c \u6b8b\u9ad8\u3082\u53d6\u5f15\u5c65\u6b74\u3082\u5168\u90e8\u898b\u3048\u308b"}),"\n",(0,t.jsx)(e.li,{children:"\u274c \u500b\u4eba\u53e3\u5ea7\u3082\u4f1a\u793e\u53e3\u5ea7\u3082\u533a\u5225\u306a\u3057"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"rar\u3092\u4f7f\u3063\u305f\u5834\u5408",children:"RAR\u3092\u4f7f\u3063\u305f\u5834\u5408"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "scope": "openid profile",\n  "authorization_details": [\n    {\n      "type": "account_information",\n      "account_id": "personal-account-1234",\n      "actions": ["read_balance"],\n      "valid_until": "2024-12-31"\n    }\n  ]\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u7d50\u679c"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u2705 \u500b\u4eba\u53e3\u5ea71234\u3060\u3051\u304c\u5bfe\u8c61"}),"\n",(0,t.jsx)(e.li,{children:"\u2705 \u6b8b\u9ad8\u306e\u95b2\u89a7\u306e\u307f\u8a31\u53ef\uff08\u53d6\u5f15\u5c65\u6b74\u306f\u898b\u3048\u306a\u3044\uff09"}),"\n",(0,t.jsx)(e.li,{children:"\u2705 2024\u5e74\u672b\u307e\u3067\u6709\u52b9"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u6982\u8981\u6280\u8853\u8005\u5411\u3051",children:"\u6982\u8981\uff08\u6280\u8853\u8005\u5411\u3051\uff09"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"idp-server"})," \u306f\u3001CIBA (Client Initiated Backchannel Authentication) \u30d5\u30ed\u30fc\u306b\u304a\u3044\u3066 ",(0,t.jsx)(e.a,{href:"https://www.rfc-editor.org/rfc/rfc9396.html",children:"RFC 9396 - OAuth 2.0 Rich Authorization Requests"})," \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["Rich Authorization Requests (RAR) \u306b\u3088\u308a\u3001\u5f93\u6765\u306e\u30b9\u30b3\u30fc\u30d7\u30d9\u30fc\u30b9\u306e\u8a8d\u53ef\u306b\u52a0\u3048\u3066\u3001\u304d\u3081\u7d30\u304b\u3044\u8a8d\u53ef\u8981\u6c42\u3092 ",(0,t.jsx)(e.code,{children:"authorization_details"})," \u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u8868\u73fe\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(e.h2,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u8a73\u7d30",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\uff08\u8a73\u7d30\uff09"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u91d1\u878d\u53d6\u5f15"}),": \u6c7a\u6e08\u91d1\u984d\u30fb\u901a\u8ca8\u30fb\u53d7\u53d6\u4eba\u306a\u3069\u306e\u8a73\u7d30\u306a\u53d6\u5f15\u60c5\u5831\u306e\u8a8d\u53ef"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u30c7\u30fc\u30bf\u30a2\u30af\u30bb\u30b9"}),": \u7279\u5b9a\u306e\u30ea\u30bd\u30fc\u30b9\uff08\u53e3\u5ea7\u30fb\u30d5\u30a1\u30a4\u30eb\u7b49\uff09\u3078\u306e\u9650\u5b9a\u7684\u306a\u30a2\u30af\u30bb\u30b9\u6a29\u9650"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u8907\u6570\u30ea\u30bd\u30fc\u30b9"}),": \u7570\u306a\u308b\u7a2e\u985e\u306e\u8a8d\u53ef\u30921\u3064\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u307e\u3068\u3081\u3066\u8981\u6c42"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"rfc-9396-\u6e96\u62e0",children:"RFC 9396 \u6e96\u62e0"}),"\n",(0,t.jsx)(e.h3,{id:"\u30b5\u30dd\u30fc\u30c8\u6a5f\u80fd",children:"\u30b5\u30dd\u30fc\u30c8\u6a5f\u80fd"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u6a5f\u80fd"}),(0,t.jsx)(e.th,{children:"RFC 9396 Section"}),(0,t.jsx)(e.th,{children:"\u30b5\u30dd\u30fc\u30c8\u72b6\u6cc1"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"authorization_details"})," \u30d1\u30e9\u30e1\u30fc\u30bf"]}),(0,t.jsx)(e.td,{children:"Section 2"}),(0,t.jsx)(e.td,{children:"\u2705 \u5b8c\u5168\u5bfe\u5fdc"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Request Object\u7d71\u5408"}),(0,t.jsx)(e.td,{children:"Section 3"}),(0,t.jsx)(e.td,{children:"\u2705 \u5b8c\u5168\u5bfe\u5fdc"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"\u7121\u52b9\u306atype\u62d2\u5426"}),(0,t.jsx)(e.td,{children:"Section 4, 5"}),(0,t.jsx)(e.td,{children:"\u2705 \u5b8c\u5168\u5bfe\u5fdc"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"\u30c8\u30fc\u30af\u30f3\u30ec\u30b9\u30dd\u30f3\u30b9\u8fd4\u5374"}),(0,t.jsx)(e.td,{children:"Section 7"}),(0,t.jsx)(e.td,{children:"\u2705 \u5b8c\u5168\u5bfe\u5fdc"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"\u8907\u6570authorization_details\u51e6\u7406"}),(0,t.jsx)(e.td,{children:"Section 2"}),(0,t.jsx)(e.td,{children:"\u2705 \u5b8c\u5168\u5bfe\u5fdc"})]})]})]}),"\n",(0,t.jsx)(e.h3,{id:"\u691c\u8a3c\u30ed\u30b8\u30c3\u30af",children:"\u691c\u8a3c\u30ed\u30b8\u30c3\u30af"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"idp-server"})," \u306f RFC 9396 \u306b\u6e96\u62e0\u3057\u305f\u4ee5\u4e0b\u306e\u691c\u8a3c\u3092\u5b9f\u65bd\u3057\u307e\u3059\uff1a"]}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"type\u5fc5\u9808\u30c1\u30a7\u30c3\u30af"}),": \u5404authorization_detail\u306b\u306f ",(0,t.jsx)(e.code,{children:"type"})," \u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u5fc5\u9808"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u30b5\u30dd\u30fc\u30c8\u6e08\u307ftype\u691c\u8a3c"}),": Authorization Server\u8a2d\u5b9a\u3067\u5b9a\u7fa9\u3055\u308c\u305ftype\u306e\u307f\u8a31\u53ef"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u53ef\u691c\u8a3c"}),": \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u8a8d\u53ef\u3055\u308c\u305ftype\u306e\u307f\u8a31\u53ef"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u691c\u8a3c\u306b\u5931\u6557\u3057\u305f\u5834\u5408\u3001",(0,t.jsx)(e.code,{children:"invalid_authorization_details"})," \u30a8\u30e9\u30fc\u304c\u8fd4\u5374\u3055\u308c\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(e.h2,{id:"\u30b7\u30fc\u30b1\u30f3\u30b9",children:"\u30b7\u30fc\u30b1\u30f3\u30b9"}),"\n",(0,t.jsx)(e.mermaid,{value:"sequenceDiagram\n    participant Client as \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n    participant idp as idp-server\n    participant Device as \u30e6\u30fc\u30b6\u30fc\u7aef\u672b\n\n    Client ->> idp: 1. Backchannel Authentication Request<br/>(authorization_details\u542b\u3080)\n    idp --\x3e> idp: 2. authorization_details\u691c\u8a3c\n    alt \u691c\u8a3c\u6210\u529f\n        idp ->> Device: 3. \u8a8d\u8a3c\u901a\u77e5\uff08\u8a73\u7d30\u306a\u8a8d\u53ef\u5185\u5bb9\u8868\u793a\uff09\n        Device ->> idp: 4. \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c\u30fb\u8a8d\u53ef\n        Client ->> idp: 5. Token Request (polling)\n        idp --\x3e> Client: 6. Token Response<br/>(authorization_details\u542b\u3080)\n    else \u691c\u8a3c\u5931\u6557\n        idp --\x3e> Client: Error: invalid_authorization_details\n    end"}),"\n",(0,t.jsx)(e.h2,{id:"authorization_details-\u30d1\u30e9\u30e1\u30fc\u30bf",children:"authorization_details \u30d1\u30e9\u30e1\u30fc\u30bf"}),"\n",(0,t.jsx)(e.h3,{id:"\u57fa\u672c\u69cb\u9020",children:"\u57fa\u672c\u69cb\u9020"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "authorization_details": [\n    {\n      "type": "account_information",\n      "actions": ["list_accounts", "read_balances"],\n      "locations": ["https://example.com/accounts"]\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u30d5\u30a3\u30fc\u30eb\u30c9\u5b9a\u7fa9",children:"\u30d5\u30a3\u30fc\u30eb\u30c9\u5b9a\u7fa9"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u30d5\u30a3\u30fc\u30eb\u30c9"}),(0,t.jsx)(e.th,{children:"\u5fc5\u9808"}),(0,t.jsx)(e.th,{children:"\u8aac\u660e"}),(0,t.jsx)(e.th,{children:"\u4f8b"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"type"})}),(0,t.jsx)(e.td,{children:"\u2705"}),(0,t.jsx)(e.td,{children:"\u8a8d\u53ef\u8a73\u7d30\u306e\u30bf\u30a4\u30d7\u8b58\u5225\u5b50"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'"account_information"'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"actions"})}),(0,t.jsx)(e.td,{children:"\u274c"}),(0,t.jsx)(e.td,{children:"\u5b9f\u884c\u53ef\u80fd\u306a\u30a2\u30af\u30b7\u30e7\u30f3"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'["read", "write"]'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"locations"})}),(0,t.jsx)(e.td,{children:"\u274c"}),(0,t.jsx)(e.td,{children:"\u30ea\u30bd\u30fc\u30b9\u306eURL"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'["https://api.example.com"]'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"datatypes"})}),(0,t.jsx)(e.td,{children:"\u274c"}),(0,t.jsx)(e.td,{children:"\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'["balance", "transaction"]'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"identifier"})}),(0,t.jsx)(e.td,{children:"\u274c"}),(0,t.jsx)(e.td,{children:"\u30ea\u30bd\u30fc\u30b9\u8b58\u5225\u5b50"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'"account-123"'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"privileges"})}),(0,t.jsx)(e.td,{children:"\u274c"}),(0,t.jsx)(e.td,{children:"\u30a2\u30af\u30bb\u30b9\u6a29\u9650"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'["read-only"]'})})]})]})]}),"\n",(0,t.jsx)(e.h2,{id:"request-object\u7d71\u5408",children:"Request Object\u7d71\u5408"}),"\n",(0,t.jsx)(e.h3,{id:"-\u521d\u3081\u3066\u306e\u65b9\u5411\u3051request-object\u3063\u3066\u4f55",children:"\ud83d\udd10 \u521d\u3081\u3066\u306e\u65b9\u5411\u3051\uff1aRequest Object\u3063\u3066\u4f55\uff1f"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u7c21\u5358\u306b\u8a00\u3046\u3068"}),":\n\u30ea\u30af\u30a8\u30b9\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3092JWT\u5f62\u5f0f\u3067\u7f72\u540d\u3057\u3066\u9001\u308b\u65b9\u6cd5\u3067\u3059\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u306a\u305c\u4f7f\u3046\u306e\uff1f"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\ud83d\udd12 ",(0,t.jsx)(e.strong,{children:"\u6539\u3056\u3093\u9632\u6b62"}),": \u7f72\u540d\u304c\u3042\u308b\u306e\u3067\u3001\u9014\u4e2d\u3067\u66f8\u304d\u63db\u3048\u3089\u308c\u306a\u3044"]}),"\n",(0,t.jsxs)(e.li,{children:["\ud83d\udd10 ",(0,t.jsx)(e.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5411\u4e0a"}),": \u7279\u306b\u91d1\u878d\u7cfb\u30a2\u30d7\u30ea\u3067\u91cd\u8981"]}),"\n",(0,t.jsxs)(e.li,{children:["\ud83d\udce6 ",(0,t.jsx)(e.strong,{children:"\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u307e\u3068\u3081\u3066\u9001\u308c\u308b"}),": 1\u3064\u306eJWT\u306b\u5168\u90e8\u5165\u308c\u3089\u308c\u308b"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u30a4\u30e1\u30fc\u30b8"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u3010\u666e\u901a\u306e\u65b9\u6cd5\u3011\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u500b\u5225\u306b\u9001\u308b\n\u2193\n\u9014\u4e2d\u3067\u8ab0\u304b\u304c\u66f8\u304d\u63db\u3048\u3089\u308c\u308b\u304b\u3082...\n\n\u3010Request Object\u3011\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3092JWT\u3067\u7f72\u540d\u3057\u3066\u9001\u308b\n\u2193\n\u7f72\u540d\u304c\u3042\u308b\u306e\u3067\u6539\u3056\u3093\u3067\u304d\u306a\u3044\uff01\u5b89\u5168\uff01\n"})}),"\n",(0,t.jsx)(e.h3,{id:"rfc-9396-section-3-\u6e96\u62e0\u6280\u8853\u8005\u5411\u3051",children:"RFC 9396 Section 3 \u6e96\u62e0\uff08\u6280\u8853\u8005\u5411\u3051\uff09"}),"\n",(0,t.jsxs)(e.p,{children:["Request Object (JWT) \u5185\u3067 ",(0,t.jsx)(e.code,{children:"authorization_details"})," \u3092\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u5b9f\u88c5\u4f8b"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'// \u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u3066JWT\u3092\u4f5c\u6210\nconst jwt = require(\'jsonwebtoken\');\nconst fs = require(\'fs\');\n\n// \u79d8\u5bc6\u9375\u3092\u8aad\u307f\u8fbc\u3080\nconst privateKey = fs.readFileSync(\'path/to/private-key.pem\');\n\n// Request Object\u3092\u4f5c\u6210\nconst requestObject = jwt.sign(\n  {\n    // \u901a\u5e38\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\n    client_id: "household-app-123",\n    scope: "openid profile",\n    binding_message: "999",\n    user_code: "userCode001",\n    login_hint: "sub:user123,idp:idp-server",\n\n    // authorization_details\u3082\u3053\u3053\u306b\u542b\u3081\u3089\u308c\u308b\uff01\n    authorization_details: [\n      {\n        "type": "payment_initiation",\n        "actions": ["initiate"],\n        "instructedAmount": {\n          "currency": "EUR",\n          "amount": "123.50"\n        },\n        "creditorAccount": {\n          "iban": "DE02100100109307118603"\n        }\n      }\n    ],\n\n    // JWT\u306e\u6a19\u6e96\u30af\u30ec\u30fc\u30e0\n    aud: "https://idp.example.com",\n    iss: "household-app-123",\n    exp: Math.floor(Date.now() / 1000) + 3600,  // 1\u6642\u9593\u5f8c\u306b\u671f\u9650\u5207\u308c\n    iat: Math.floor(Date.now() / 1000),\n    jti: "unique-request-id-12345"\n  },\n  privateKey,\n  { algorithm: \'ES256\' }  // \u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\n);\n\n// \u30ea\u30af\u30a8\u30b9\u30c8\u306b\u542b\u3081\u3066\u9001\u308b\nconst response = await axios.post(\n  \'https://idp.example.com/backchannel-authentication\',\n  {\n    client_id: \'household-app-123\',\n    client_secret: \'your-secret\',\n    request: requestObject  // \u2190 JWT\u5f62\u5f0f\u306eRequest Object\n  }\n);\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u30d1\u30e9\u30e1\u30fc\u30bf\u512a\u5148\u9806\u4f4d",children:"\u30d1\u30e9\u30e1\u30fc\u30bf\u512a\u5148\u9806\u4f4d"}),"\n",(0,t.jsx)(e.p,{children:"RFC 9396 Section 3 \u306b\u5f93\u3044\u3001\u4ee5\u4e0b\u306e\u512a\u5148\u9806\u4f4d\u304c\u9069\u7528\u3055\u308c\u307e\u3059\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Request Object\u5185\u306eauthorization_details > \u901a\u5e38\u30d1\u30e9\u30e1\u30fc\u30bf\u306eauthorization_details\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u5177\u4f53\u4f8b"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'// \u30ea\u30af\u30a8\u30b9\u30c8\u306e\u4f8b\n{\n  client_id: "app123",\n  authorization_details: \'[{"type":"A"}]\',  // \u901a\u5e38\u30d1\u30e9\u30e1\u30fc\u30bf\n  request: "eyJ..."  // JWT\uff08\u4e2d\u8eab: authorization_details: [{"type":"B"}]\uff09\n}\n\n// \u2192 Request Object\u5185\u306e "type":"B" \u304c\u512a\u5148\u3055\u308c\u308b\uff01\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u691c\u8a3c\u30bf\u30a4\u30df\u30f3\u30b0",children:"\u691c\u8a3c\u30bf\u30a4\u30df\u30f3\u30b0"}),"\n",(0,t.jsx)(e.p,{children:"Request Object\u306e\u30d1\u30fc\u30b9\u5f8c\u3001\u901a\u5e38\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u540c\u3058\u691c\u8a3c\u30ed\u30b8\u30c3\u30af\u304c\u81ea\u52d5\u7684\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u51e6\u7406\u306e\u6d41\u308c"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"1. Request Object\u3092\u30c7\u30b3\u30fc\u30c9\u30fb\u691c\u8a3c\n2. \u901a\u5e38\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u30de\u30fc\u30b8\uff08Request Object\u304c\u512a\u5148\uff09\n3. authorization_details\u3092\u691c\u8a3c\n   - type\u304c\u5fc5\u9808\u304b\n   - \u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308btype\u304b\n   - \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u8a8d\u53ef\u3055\u308c\u3066\u3044\u308btype\u304b\n4. OK \u2192 \u8a8d\u8a3c\u51e6\u7406\u3078\n   NG \u2192 invalid_authorization_details \u30a8\u30e9\u30fc\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0",children:"\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0"}),"\n",(0,t.jsx)(e.h3,{id:"invalid_authorization_details-\u30a8\u30e9\u30fc",children:"invalid_authorization_details \u30a8\u30e9\u30fc"}),"\n",(0,t.jsxs)(e.p,{children:["\u4ee5\u4e0b\u306e\u5834\u5408\u3001",(0,t.jsx)(e.code,{children:"invalid_authorization_details"})," \u30a8\u30e9\u30fc\u304c\u8fd4\u5374\u3055\u308c\u307e\u3059\uff1a"]}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u30a8\u30e9\u30fc\u30b1\u30fc\u30b9"}),(0,t.jsx)(e.th,{children:"error_description \u4f8b"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"type\u30d5\u30a3\u30fc\u30eb\u30c9\u6b20\u640d"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'"authorization details does not contains type"'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"\u672a\u30b5\u30dd\u30fc\u30c8type"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'"unsupported authorization details type (custom_type)"'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"\u672a\u8a8d\u53eftype"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'"unauthorized authorization details type (invalid_type)"'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"\u914d\u5217\u5f62\u5f0f\u9055\u53cd"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'"authorization_details must be array"'})})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"\u7a7a\u914d\u5217"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:'"authorization_details is unspecified"'})})]})]})]}),"\n",(0,t.jsx)(e.h3,{id:"\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u4f8b",children:"\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u4f8b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "error": "invalid_authorization_details",\n  "error_description": "unauthorized authorization details type (invalid_type)"\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u8a2d\u5b9a",children:"\u8a2d\u5b9a"}),"\n",(0,t.jsx)(e.h3,{id:"-\u521d\u3081\u3066\u306e\u65b9\u5411\u3051\u8a2d\u5b9a\u306e\u6d41\u308c",children:"\ud83d\udd27 \u521d\u3081\u3066\u306e\u65b9\u5411\u3051\uff1a\u8a2d\u5b9a\u306e\u6d41\u308c"}),"\n",(0,t.jsx)(e.p,{children:"RAR\u3092\u4f7f\u3046\u306b\u306f\u30012\u6bb5\u968e\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\uff1a"}),"\n",(0,t.jsx)(e.h4,{id:"\u30b9\u30c6\u30c3\u30d71-\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u3069\u3093\u306a\u7a2e\u985e\u306e\u6a29\u9650\u3092\u6271\u3046\u304b\u3092\u6c7a\u3081\u308b",children:"\u30b9\u30c6\u30c3\u30d71: \u30b5\u30fc\u30d0\u30fc\u5074\u3067\u300c\u3069\u3093\u306a\u7a2e\u985e\u306e\u6a29\u9650\u3092\u6271\u3046\u304b\u300d\u3092\u6c7a\u3081\u308b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u4f8b: \u3053\u306e\u30b5\u30fc\u30d0\u30fc\u3067\u306f\u300c\u53e3\u5ea7\u60c5\u5831\u300d\u3068\u300c\u6c7a\u6e08\u300d\u306e\u6a29\u9650\u3092\u6271\u3044\u307e\u3059\n"})}),"\n",(0,t.jsx)(e.h4,{id:"\u30b9\u30c6\u30c3\u30d72-\u30a2\u30d7\u30ea\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3054\u3068\u306b\u3069\u306e\u6a29\u9650\u3092\u4f7f\u3048\u308b\u304b\u3092\u6c7a\u3081\u308b",children:"\u30b9\u30c6\u30c3\u30d72: \u30a2\u30d7\u30ea\uff08\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff09\u3054\u3068\u306b\u300c\u3069\u306e\u6a29\u9650\u3092\u4f7f\u3048\u308b\u304b\u300d\u3092\u6c7a\u3081\u308b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u4f8b: \u300c\u5bb6\u8a08\u7c3f\u30a2\u30d7\u30ea\u300d\u306f\u300c\u53e3\u5ea7\u60c5\u5831\u300d\u3060\u3051\u4f7f\u3048\u308b\n    \u300c\u6c7a\u6e08\u30a2\u30d7\u30ea\u300d\u306f\u300c\u53e3\u5ea7\u60c5\u5831\u300d\u3068\u300c\u6c7a\u6e08\u300d\u306e\u4e21\u65b9\u4f7f\u3048\u308b\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u3053\u308c\u306b\u3088\u308a\u3001",(0,t.jsx)(e.strong,{children:"\u4e0d\u6b63\u306a\u30a2\u30d7\u30ea\u304c\u52dd\u624b\u306b\u6c7a\u6e08\u6a29\u9650\u3092\u8981\u6c42\u3067\u304d\u306a\u3044"}),"\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002"]}),"\n",(0,t.jsx)(e.h3,{id:"authorization-server\u8a2d\u5b9a\u30b5\u30fc\u30d0\u30fc\u5168\u4f53\u306e\u8a2d\u5b9a",children:"Authorization Server\u8a2d\u5b9a\uff08\u30b5\u30fc\u30d0\u30fc\u5168\u4f53\u306e\u8a2d\u5b9a\uff09"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u4f55\u3092\u8a2d\u5b9a\u3059\u308b\u304b"}),": \u3053\u306e\u30b5\u30fc\u30d0\u30fc\u304c\u6271\u3048\u308b ",(0,t.jsx)(e.code,{children:"type"})," \u306e\u7a2e\u985e"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u3069\u3053\u3067\u8a2d\u5b9a\u3059\u308b\u304b"}),": \u30c6\u30ca\u30f3\u30c8\u8a2d\u5b9a\uff08Management API \u307e\u305f\u306f \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\uff09"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u8a2d\u5b9a\u4f8b"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "supported_authorization_details_types": [\n    "account_information",    // \u53e3\u5ea7\u60c5\u5831\u3078\u306e\u30a2\u30af\u30bb\u30b9\n    "payment_initiation"      // \u6c7a\u6e08\u306e\u5b9f\u884c\n  ]\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u610f\u5473"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u3053\u306e\u30b5\u30fc\u30d0\u30fc\u3067\u306f ",(0,t.jsx)(e.code,{children:"account_information"})," \u3068 ",(0,t.jsx)(e.code,{children:"payment_initiation"})," \u3068\u3044\u30462\u7a2e\u985e\u306e\u8a73\u7d30\u6a29\u9650\u3092\u6271\u3048\u307e\u3059"]}),"\n",(0,t.jsxs)(e.li,{children:["\u3053\u308c\u4ee5\u5916\u306e ",(0,t.jsx)(e.code,{children:"type"})," \uff08\u4f8b: ",(0,t.jsx)(e.code,{children:"medical_record"}),"\uff09\u304c\u6765\u305f\u3089\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a\u30a2\u30d7\u30ea\u3054\u3068\u306e\u8a2d\u5b9a",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a\uff08\u30a2\u30d7\u30ea\u3054\u3068\u306e\u8a2d\u5b9a\uff09"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u4f55\u3092\u8a2d\u5b9a\u3059\u308b\u304b"}),": \u3053\u306e\u30a2\u30d7\u30ea\u304c\u4f7f\u3048\u308b ",(0,t.jsx)(e.code,{children:"type"})," \u306e\u7a2e\u985e"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u3069\u3053\u3067\u8a2d\u5b9a\u3059\u308b\u304b"}),": \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a\uff08Management API \u307e\u305f\u306f \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\uff09"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u8a2d\u5b9a\u4f8b"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "client_id": "household-app-123",\n  "client_name": "\u5bb6\u8a08\u7c3f\u30a2\u30d7\u30ea",\n  "authorization_details_types": [\n    "account_information"     // \u3053\u306e\u30a2\u30d7\u30ea\u306f\u53e3\u5ea7\u60c5\u5831\u3060\u3051\u898b\u3089\u308c\u308b\n  ]\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u610f\u5473"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u3053\u306e\u5bb6\u8a08\u7c3f\u30a2\u30d7\u30ea\u306f ",(0,t.jsx)(e.code,{children:"account_information"})," \uff08\u53e3\u5ea7\u60c5\u5831\u306e\u95b2\u89a7\uff09\u3060\u3051\u4f7f\u3048\u307e\u3059"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"payment_initiation"})," \uff08\u6c7a\u6e08\u5b9f\u884c\uff09\u306f\u4f7f\u3048\u307e\u305b\u3093 \u2192 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5411\u4e0a"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"-\u306a\u305c2\u6bb5\u968e\u5fc5\u8981\u306a\u306e",children:"\ud83d\udca1 \u306a\u305c2\u6bb5\u968e\u5fc5\u8981\u306a\u306e\uff1f"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'\u3010\u60aa\u3044\u4f8b\u3011\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u3060\u3051\u306e\u5834\u5408\n\u2192 \u5168\u3066\u306e\u30a2\u30d7\u30ea\u304c\u5168\u3066\u306e\u6a29\u9650\u3092\u8981\u6c42\u3067\u304d\u3066\u3057\u307e\u3046\n\n\u3010\u826f\u3044\u4f8b\u3011\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a + \u30a2\u30d7\u30ea\u8a2d\u5b9a\n\u2192 \u30b5\u30fc\u30d0\u30fc: "\u6271\u3048\u308b\u6a29\u9650\u306e\u7a2e\u985e"\u3092\u5236\u9650\n\u2192 \u30a2\u30d7\u30ea: "\u3053\u306e\u30a2\u30d7\u30ea\u304c\u4f7f\u3048\u308b\u6a29\u9650"\u3092\u3055\u3089\u306b\u5236\u9650\n\u2192 \u4e8c\u91cd\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c1\u30a7\u30c3\u30af\uff01\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u5b9f\u88c5\u4f8b",children:"\u5b9f\u88c5\u4f8b"}),"\n",(0,t.jsx)(e.h3,{id:"-\u521d\u3081\u3066\u306e\u65b9\u5411\u3051\u5b9f\u88c5\u306e3\u30b9\u30c6\u30c3\u30d7",children:"\ud83d\ude80 \u521d\u3081\u3066\u306e\u65b9\u5411\u3051\uff1a\u5b9f\u88c5\u306e3\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,t.jsx)(e.h4,{id:"\u30b9\u30c6\u30c3\u30d71-authorization_details\u3092\u4f5c\u308b",children:"\u30b9\u30c6\u30c3\u30d71: authorization_details\u3092\u4f5c\u308b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'// JavaScript\u306e\u4f8b\nconst authorizationDetails = [\n  {\n    type: "account_information",          // \u6a29\u9650\u306e\u7a2e\u985e\n    actions: ["list_accounts", "read_balances"],  // \u4f55\u304c\u3067\u304d\u308b\u304b\n    locations: ["https://example.com/accounts"]   // \u3069\u3053\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u304b\n  }\n];\n'})}),"\n",(0,t.jsx)(e.h4,{id:"\u30b9\u30c6\u30c3\u30d72-\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u542b\u3081\u3066\u9001\u308b",children:"\u30b9\u30c6\u30c3\u30d72: \u30ea\u30af\u30a8\u30b9\u30c8\u306b\u542b\u3081\u3066\u9001\u308b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"// Node.js / JavaScript \u3067\u306e\u4f8b\nconst axios = require('axios');\n\nconst response = await axios.post(\n  'https://idp.example.com/backchannel-authentication',\n  {\n    client_id: 'your-app-id',\n    client_secret: 'your-app-secret',\n    scope: 'openid profile',\n    login_hint: 'sub:user123,idp:idp-server',\n    binding_message: '999',\n    user_code: 'code001',\n    authorization_details: JSON.stringify(authorizationDetails)  // \u2190 \u3053\u3053\uff01\n  }\n);\n\nconsole.log('auth_req_id:', response.data.auth_req_id);\n"})}),"\n",(0,t.jsx)(e.h4,{id:"\u30b9\u30c6\u30c3\u30d73-\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b",children:"\u30b9\u30c6\u30c3\u30d73: \u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:"// \u30dd\u30fc\u30ea\u30f3\u30b0\u3067\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\nconst tokenResponse = await axios.post(\n  'https://idp.example.com/token',\n  {\n    grant_type: 'urn:openid:params:grant-type:ciba',\n    auth_req_id: response.data.auth_req_id,\n    client_id: 'your-app-id',\n    client_secret: 'your-app-secret'\n  }\n);\n\n// authorization_details\u304c\u542b\u307e\u308c\u3066\u3044\u308b\nconsole.log('access_token:', tokenResponse.data.access_token);\nconsole.log('authorization_details:', tokenResponse.data.authorization_details);\n"})}),"\n",(0,t.jsx)(e.h3,{id:"-http\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u751f\u306e\u5f62\u4e0a\u7d1a\u8005\u5411\u3051",children:"\ud83d\udcdd HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u751f\u306e\u5f62\uff08\u4e0a\u7d1a\u8005\u5411\u3051\uff09"}),"\n",(0,t.jsx)(e.h4,{id:"backchannel-authentication-request",children:"Backchannel Authentication Request"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"POST /backchannel-authentication HTTP/1.1\nHost: idp.example.com\nContent-Type: application/x-www-form-urlencoded\n\nclient_id=client123\n&client_secret=secret\n&scope=openid+profile\n&login_hint=sub:user123,idp:idp-server\n&binding_message=999\n&user_code=code001\n&authorization_details=%5B%7B%22type%22%3A%22account_information%22%2C%22actions%22%3A%5B%22list_accounts%22%5D%7D%5D\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"URL\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u90e8\u5206"}),"\u3092\u4eba\u9593\u304c\u8aad\u3081\u308b\u5f62\u306b\uff1a"]}),"\n",(0,t.jsxs)(e.p,{children:["\u30c7\u30b3\u30fc\u30c9\u5f8c\u306e ",(0,t.jsx)(e.code,{children:"authorization_details"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'[\n  {\n    "type": "account_information",\n    "actions": ["list_accounts"]\n  }\n]\n'})}),"\n",(0,t.jsx)(e.h3,{id:"token-response",children:"Token Response"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "access_token": "eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9...",\n  "token_type": "Bearer",\n  "expires_in": 3600,\n  "id_token": "eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9...",\n  "authorization_details": [\n    {\n      "type": "account_information",\n      "actions": ["list_accounts"],\n      "locations": ["https://example.com/accounts"]\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"access-token\u30da\u30a4\u30ed\u30fc\u30c9",children:"Access Token\u30da\u30a4\u30ed\u30fc\u30c9"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "sub": "user123",\n  "aud": "client123",\n  "iss": "https://idp.example.com",\n  "exp": 1234567890,\n  "iat": 1234564290,\n  "authorization_details": [\n    {\n      "type": "account_information",\n      "actions": ["list_accounts"],\n      "locations": ["https://example.com/accounts"]\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u8907\u6570authorization_details",children:"\u8907\u6570authorization_details"}),"\n",(0,t.jsx)(e.p,{children:"RFC 9396 Section 2 \u306b\u5f93\u3044\u3001\u8907\u6570\u306eauthorization_details\u30921\u3064\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002"}),"\n",(0,t.jsx)(e.h3,{id:"\u8907\u6570\u30ea\u30bd\u30fc\u30b9\u30bf\u30a4\u30d7",children:"\u8907\u6570\u30ea\u30bd\u30fc\u30b9\u30bf\u30a4\u30d7"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "authorization_details": [\n    {\n      "type": "account_information",\n      "actions": ["list_accounts", "read_balances"]\n    },\n    {\n      "type": "payment_initiation",\n      "actions": ["initiate"],\n      "instructedAmount": {\n        "currency": "EUR",\n        "amount": "100.00"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u540c\u4e00\u30bf\u30a4\u30d7\u306e\u8907\u6570\u30a8\u30f3\u30c8\u30ea",children:"\u540c\u4e00\u30bf\u30a4\u30d7\u306e\u8907\u6570\u30a8\u30f3\u30c8\u30ea"}),"\n",(0,t.jsx)(e.p,{children:"\u540c\u3058type\u306eauthorization_details\u3092\u8907\u6570\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "authorization_details": [\n    {\n      "type": "account_information",\n      "actions": ["list_accounts"],\n      "locations": ["https://example.com/accounts/personal"]\n    },\n    {\n      "type": "account_information",\n      "actions": ["read_balances"],\n      "locations": ["https://example.com/accounts/business"]\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u30e6\u30fc\u30b6\u30fc\u4f53\u9a13",children:"\u30e6\u30fc\u30b6\u30fc\u4f53\u9a13"}),"\n",(0,t.jsx)(e.h3,{id:"\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u3067\u306e\u8868\u793a",children:"\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\u3067\u306e\u8868\u793a"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"authorization_details"})," \u306e\u60c5\u5831\u306f\u8a8d\u8a3c\u30c7\u30d0\u30a4\u30b9\uff08\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u7b49\uff09\u306e\u8a8d\u8a3c\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u307e\u3059\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n  \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8: \u9280\u884c\u30a2\u30d7\u30ea\n\n\u8a8d\u53ef\u5185\u5bb9:\n\u2022 \u53e3\u5ea7\u60c5\u5831\u306e\u95b2\u89a7\n  - \u53e3\u5ea7\u4e00\u89a7\u306e\u53d6\u5f97\n  - \u6b8b\u9ad8\u306e\u78ba\u8a8d\n\n\u30ea\u30bd\u30fc\u30b9:\n\u2022 https://example.com/accounts\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n  [\u8a8d\u53ef\u3059\u308b] [\u62d2\u5426\u3059\u308b]\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8003\u616e\u4e8b\u9805",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8003\u616e\u4e8b\u9805"}),"\n",(0,t.jsx)(e.h3,{id:"1-type\u691c\u8a3c\u306e\u91cd\u8981\u6027",children:"1. type\u691c\u8a3c\u306e\u91cd\u8981\u6027"}),"\n",(0,t.jsxs)(e.p,{children:["\u672a\u691c\u8a3c\u306etype\u3092\u8a31\u53ef\u3059\u308b\u3068\u3001\u610f\u56f3\u3057\u306a\u3044\u30ea\u30bd\u30fc\u30b9\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002",(0,t.jsx)(e.code,{children:"idp-server"})," \u306f\u4ee5\u4e0b\u306e\u691c\u8a3c\u3092\u5b9f\u65bd\u3057\u307e\u3059\uff1a"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Authorization Server\u8a2d\u5b9a\u3067\u306e\u660e\u793a\u7684\u306atype\u5b9a\u7fa9"}),"\n",(0,t.jsx)(e.li,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3054\u3068\u306e\u8a8d\u53eftype\u5236\u9650"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"2-\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c",children:"2. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"authorization_details"})," \u3092\u542b\u3080Backchannel Authentication Request\u306f\u3001\u5fc5\u305a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059\u3002"]}),"\n",(0,t.jsx)(e.h3,{id:"3-\u30e6\u30fc\u30b6\u30fc\u540c\u610f",children:"3. \u30e6\u30fc\u30b6\u30fc\u540c\u610f"}),"\n",(0,t.jsx)(e.p,{children:"\u8a73\u7d30\u306a\u8a8d\u53ef\u5185\u5bb9\u306f\u30e6\u30fc\u30b6\u30fc\u306b\u660e\u793a\u7684\u306b\u8868\u793a\u3055\u308c\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u540c\u610f\u3092\u5f97\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"\u53c2\u8003\u8cc7\u6599",children:"\u53c2\u8003\u8cc7\u6599"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://www.rfc-editor.org/rfc/rfc9396.html",children:"RFC 9396 - OAuth 2.0 Rich Authorization Requests"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html",children:"OpenID Connect CIBA Core 1.0"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"/idp-server/docs/content_04_protocols/protocol-02-ciba-flow",children:"CIBA \u30d5\u30ed\u30fc\u57fa\u672c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}},28453:(n,e,i)=>{i.d(e,{R:()=>d,x:()=>l});var s=i(96540);const t={},r=s.createContext(t);function d(n){const e=s.useContext(r);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:d(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);