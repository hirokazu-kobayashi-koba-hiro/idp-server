"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[57065],{98845:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>d,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"content_11_learning/linux/cgroups","title":"Linux Cgroups","description":"\u30b3\u30f3\u30c6\u30ca\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650\u306e\u57fa\u76e4\u3068\u306a\u308bCgroups\uff08Control Groups\uff09\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002","source":"@site/docs/content_11_learning/14-linux/cgroups.md","sourceDirName":"content_11_learning/14-linux","slug":"/content_11_learning/linux/cgroups","permalink":"/idp-server/docs/content_11_learning/linux/cgroups","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/14-linux/cgroups.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Linux Namespaces","permalink":"/idp-server/docs/content_11_learning/linux/namespaces"},"next":{"title":"OverlayFS","permalink":"/idp-server/docs/content_11_learning/linux/overlay-filesystem"}}');var c=s(74848),o=s(28453);const d={},i="Linux Cgroups",l={},u=[{value:"\u76ee\u6b21",id:"\u76ee\u6b21",level:2},{value:"Cgroups\u3068\u306f",id:"cgroups\u3068\u306f",level:2},{value:"Cgroups\u306e\u6982\u5ff5",id:"cgroups\u306e\u6982\u5ff5",level:3},{value:"Cgroups\u3067\u3067\u304d\u308b\u3053\u3068",id:"cgroups\u3067\u3067\u304d\u308b\u3053\u3068",level:3},{value:"Cgroups\u306e\u30d0\u30fc\u30b8\u30e7\u30f3",id:"cgroups\u306e\u30d0\u30fc\u30b8\u30e7\u30f3",level:2},{value:"cgroup v1 vs v2",id:"cgroup-v1-vs-v2",level:3},{value:"\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d",id:"\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d",level:3},{value:"\u30ea\u30bd\u30fc\u30b9\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9",id:"\u30ea\u30bd\u30fc\u30b9\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9",level:2},{value:"\u4e3b\u306a\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9",id:"\u4e3b\u306a\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9",level:3},{value:"cgroup v2 \u3067\u306e\u30d5\u30a1\u30a4\u30eb",id:"cgroup-v2-\u3067\u306e\u30d5\u30a1\u30a4\u30eb",level:3},{value:"CPU\u5236\u9650",id:"cpu\u5236\u9650",level:2},{value:"cgroup v2 \u3067\u306eCPU\u5236\u9650",id:"cgroup-v2-\u3067\u306ecpu\u5236\u9650",level:3},{value:"cgroup v1 \u3067\u306eCPU\u5236\u9650",id:"cgroup-v1-\u3067\u306ecpu\u5236\u9650",level:3},{value:"CPU\u30bb\u30c3\u30c8\uff08\u7279\u5b9aCPU\u3078\u306e\u5272\u308a\u5f53\u3066\uff09",id:"cpu\u30bb\u30c3\u30c8\u7279\u5b9acpu\u3078\u306e\u5272\u308a\u5f53\u3066",level:3},{value:"\u30e1\u30e2\u30ea\u5236\u9650",id:"\u30e1\u30e2\u30ea\u5236\u9650",level:2},{value:"cgroup v2 \u3067\u306e\u30e1\u30e2\u30ea\u5236\u9650",id:"cgroup-v2-\u3067\u306e\u30e1\u30e2\u30ea\u5236\u9650",level:3},{value:"cgroup v1 \u3067\u306e\u30e1\u30e2\u30ea\u5236\u9650",id:"cgroup-v1-\u3067\u306e\u30e1\u30e2\u30ea\u5236\u9650",level:3},{value:"OOM\uff08Out of Memory\uff09",id:"oomout-of-memory",level:3},{value:"I/O\u5236\u9650",id:"io\u5236\u9650",level:2},{value:"cgroup v2 \u3067\u306eI/O\u5236\u9650",id:"cgroup-v2-\u3067\u306eio\u5236\u9650",level:3},{value:"cgroup v1 \u3067\u306eI/O\u5236\u9650",id:"cgroup-v1-\u3067\u306eio\u5236\u9650",level:3},{value:"\u30b3\u30f3\u30c6\u30ca\u3068Cgroups",id:"\u30b3\u30f3\u30c6\u30ca\u3068cgroups",level:2},{value:"Docker\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650",id:"docker\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650",level:3},{value:"\u30b3\u30f3\u30c6\u30ca\u306ecgroup\u78ba\u8a8d",id:"\u30b3\u30f3\u30c6\u30ca\u306ecgroup\u78ba\u8a8d",level:3},{value:"Kubernetes\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650",id:"kubernetes\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650",level:3},{value:"\u30ea\u30bd\u30fc\u30b9\u76e3\u8996",id:"\u30ea\u30bd\u30fc\u30b9\u76e3\u8996",level:3},{value:"\u5b9f\u8df5: \u624b\u52d5\u3067cgroup\u3092\u4f5c\u6210",id:"\u5b9f\u8df5-\u624b\u52d5\u3067cgroup\u3092\u4f5c\u6210",level:2},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"Cgroups\u306e\u4e3b\u306a\u6a5f\u80fd",id:"cgroups\u306e\u4e3b\u306a\u6a5f\u80fd",level:3},{value:"Docker\u3067\u306e\u6307\u5b9a",id:"docker\u3067\u306e\u6307\u5b9a",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:3},{value:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9",id:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9",level:2}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"linux-cgroups",children:"Linux Cgroups"})}),"\n",(0,c.jsx)(n.p,{children:"\u30b3\u30f3\u30c6\u30ca\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650\u306e\u57fa\u76e4\u3068\u306a\u308bCgroups\uff08Control Groups\uff09\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3059\u3002"}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\u76ee\u6b21",children:"\u76ee\u6b21"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"#cgroups%E3%81%A8%E3%81%AF",children:"Cgroups\u3068\u306f"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"#cgroups%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3",children:"Cgroups\u306e\u30d0\u30fc\u30b8\u30e7\u30f3"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"#%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AD%E3%83%BC%E3%83%A9",children:"\u30ea\u30bd\u30fc\u30b9\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"#cpu%E5%88%B6%E9%99%90",children:"CPU\u5236\u9650"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"#%E3%83%A1%E3%83%A2%E3%83%AA%E5%88%B6%E9%99%90",children:"\u30e1\u30e2\u30ea\u5236\u9650"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"#io%E5%88%B6%E9%99%90",children:"I/O\u5236\u9650"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%81%A8cgroups",children:"\u30b3\u30f3\u30c6\u30ca\u3068Cgroups"})}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"cgroups\u3068\u306f",children:"Cgroups\u3068\u306f"}),"\n",(0,c.jsx)(n.h3,{id:"cgroups\u306e\u6982\u5ff5",children:"Cgroups\u306e\u6982\u5ff5"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Cgroups \u306e\u5f79\u5272                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  Cgroups = \u30d7\u30ed\u30bb\u30b9\u30b0\u30eb\u30fc\u30d7\u306b\u5bfe\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u5236\u9650\u30fb\u8a08\u6e2c         \u2502\n\u2502                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                    Linux Kernel                      \u2502   \u2502\n\u2502  \u2502                                                      \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502   \u2502\n\u2502  \u2502  \u2502              Cgroup \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9               \u2502 \u2502   \u2502\n\u2502  \u2502  \u2502  CPU | Memory | Block I/O | Network | ...     \u2502 \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502         \u2502              \u2502              \u2502                     \u2502\n\u2502         \u25bc              \u25bc              \u25bc                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502  Cgroup A \u2502  \u2502  Cgroup B \u2502  \u2502  Cgroup C \u2502              \u2502\n\u2502  \u2502           \u2502  \u2502           \u2502  \u2502           \u2502              \u2502\n\u2502  \u2502  CPU: 50% \u2502  \u2502  CPU: 30% \u2502  \u2502  CPU: 20% \u2502              \u2502\n\u2502  \u2502  Mem: 1GB \u2502  \u2502  Mem: 2GB \u2502  \u2502  Mem: 512MB\u2502              \u2502\n\u2502  \u2502           \u2502  \u2502           \u2502  \u2502           \u2502              \u2502\n\u2502  \u2502  Process1 \u2502  \u2502  Process3 \u2502  \u2502  Process5 \u2502              \u2502\n\u2502  \u2502  Process2 \u2502  \u2502  Process4 \u2502  \u2502           \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2502                                                              \u2502\n\u2502  Namespace: \u30ea\u30bd\u30fc\u30b9\u306e\u300c\u5206\u96e2\u300d\uff08\u898b\u3048\u65b9\uff09                     \u2502\n\u2502  Cgroups:   \u30ea\u30bd\u30fc\u30b9\u306e\u300c\u5236\u9650\u300d\uff08\u4f7f\u7528\u91cf\uff09                     \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,c.jsx)(n.h3,{id:"cgroups\u3067\u3067\u304d\u308b\u3053\u3068",children:"Cgroups\u3067\u3067\u304d\u308b\u3053\u3068"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"\u6a5f\u80fd"}),(0,c.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"\u30ea\u30bd\u30fc\u30b9\u5236\u9650"}),(0,c.jsx)(n.td,{children:"CPU\u3001\u30e1\u30e2\u30ea\u3001I/O\u306e\u4f7f\u7528\u91cf\u3092\u5236\u9650"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"\u512a\u5148\u9806\u4f4d\u4ed8\u3051"}),(0,c.jsx)(n.td,{children:"CPU\u3084I/O\u306e\u512a\u5148\u5ea6\u3092\u8a2d\u5b9a"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"\u30a2\u30ab\u30a6\u30f3\u30c6\u30a3\u30f3\u30b0"}),(0,c.jsx)(n.td,{children:"\u30ea\u30bd\u30fc\u30b9\u4f7f\u7528\u91cf\u306e\u8a08\u6e2c"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"\u5236\u5fa1"}),(0,c.jsx)(n.td,{children:"\u30d7\u30ed\u30bb\u30b9\u30b0\u30eb\u30fc\u30d7\u306e\u4e00\u62ec\u64cd\u4f5c\uff08\u51cd\u7d50\u306a\u3069\uff09"})]})]})]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"cgroups\u306e\u30d0\u30fc\u30b8\u30e7\u30f3",children:"Cgroups\u306e\u30d0\u30fc\u30b8\u30e7\u30f3"}),"\n",(0,c.jsx)(n.h3,{id:"cgroup-v1-vs-v2",children:"cgroup v1 vs v2"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                cgroup v1 vs v2                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  cgroup v1 (legacy):                                        \u2502\n\u2502  /sys/fs/cgroup/                                            \u2502\n\u2502  \u251c\u2500\u2500 cpu/              \u2190 \u5404\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u72ec\u7acb              \u2502\n\u2502  \u2502   \u2514\u2500\u2500 docker/                                            \u2502\n\u2502  \u251c\u2500\u2500 memory/                                                \u2502\n\u2502  \u2502   \u2514\u2500\u2500 docker/                                            \u2502\n\u2502  \u251c\u2500\u2500 blkio/                                                 \u2502\n\u2502  \u2502   \u2514\u2500\u2500 docker/                                            \u2502\n\u2502  \u2514\u2500\u2500 ...                                                    \u2502\n\u2502                                                              \u2502\n\u2502  cgroup v2 (unified):                                       \u2502\n\u2502  /sys/fs/cgroup/                                            \u2502\n\u2502  \u2514\u2500\u2500 system.slice/     \u2190 \u7d71\u4e00\u3055\u308c\u305f\u968e\u5c64\u69cb\u9020                \u2502\n\u2502      \u2514\u2500\u2500 docker.service/                                    \u2502\n\u2502          \u251c\u2500\u2500 cpu.max                                        \u2502\n\u2502          \u251c\u2500\u2500 memory.max                                     \u2502\n\u2502          \u2514\u2500\u2500 io.max                                         \u2502\n\u2502                                                              \u2502\n\u2502  v2\u306e\u5229\u70b9:                                                   \u2502\n\u2502  \u30fb\u5358\u4e00\u306e\u968e\u5c64\u69cb\u9020\uff08\u7ba1\u7406\u304c\u7c21\u5358\uff09                              \u2502\n\u2502  \u30fb\u30d7\u30ed\u30bb\u30b9\u306f1\u3064\u306ecgroup\u306b\u306e\u307f\u6240\u5c5e                          \u2502\n\u2502  \u30fb\u3088\u308a\u7cbe\u5bc6\u306a\u30ea\u30bd\u30fc\u30b9\u5236\u5fa1                                    \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d",children:"\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# \u30de\u30a6\u30f3\u30c8\u72b6\u6cc1\u78ba\u8a8d\nmount | grep cgroup\n\n# v2\u306e\u5834\u5408\n# cgroup2 on /sys/fs/cgroup type cgroup2 (rw,nosuid,nodev,noexec,relatime)\n\n# v1\u306e\u5834\u5408\uff08\u8907\u6570\u306ecgroup\u30de\u30a6\u30f3\u30c8\uff09\n# cgroup on /sys/fs/cgroup/cpu type cgroup (rw,nosuid,nodev,noexec,relatime,cpu)\n# cgroup on /sys/fs/cgroup/memory type cgroup (rw,nosuid,nodev,noexec,relatime,memory)\n\n# \u7d71\u4e00cgroup v2\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u304b\ncat /sys/fs/cgroup/cgroup.controllers\n# cpu memory io ...\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\u30ea\u30bd\u30fc\u30b9\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9",children:"\u30ea\u30bd\u30fc\u30b9\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9"}),"\n",(0,c.jsx)(n.h3,{id:"\u4e3b\u306a\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9",children:"\u4e3b\u306a\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9"}),(0,c.jsx)(n.th,{children:"\u8aac\u660e"}),(0,c.jsx)(n.th,{children:"\u5236\u5fa1\u5bfe\u8c61"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"cpu"}),(0,c.jsx)(n.td,{children:"CPU\u6642\u9593\u306e\u5272\u308a\u5f53\u3066"}),(0,c.jsx)(n.td,{children:"CPU\u4f7f\u7528\u7387"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"cpuset"}),(0,c.jsx)(n.td,{children:"CPU\u3068\u30e1\u30e2\u30ea\u30ce\u30fc\u30c9\u306e\u5272\u308a\u5f53\u3066"}),(0,c.jsx)(n.td,{children:"CPU\u30d4\u30cb\u30f3\u30b0"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"memory"}),(0,c.jsx)(n.td,{children:"\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u5236\u9650"}),(0,c.jsx)(n.td,{children:"RAM, swap"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"io (blkio)"}),(0,c.jsx)(n.td,{children:"\u30d6\u30ed\u30c3\u30afI/O\u5236\u9650"}),(0,c.jsx)(n.td,{children:"\u30c7\u30a3\u30b9\u30afI/O"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"pids"}),(0,c.jsx)(n.td,{children:"\u30d7\u30ed\u30bb\u30b9\u6570\u5236\u9650"}),(0,c.jsx)(n.td,{children:"fork bomb\u9632\u6b62"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"devices"}),(0,c.jsx)(n.td,{children:"\u30c7\u30d0\u30a4\u30b9\u30a2\u30af\u30bb\u30b9\u5236\u5fa1"}),(0,c.jsx)(n.td,{children:"/dev/*"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"freezer"}),(0,c.jsx)(n.td,{children:"\u30d7\u30ed\u30bb\u30b9\u306e\u4e00\u6642\u505c\u6b62"}),(0,c.jsx)(n.td,{children:"\u4e00\u62ec\u505c\u6b62"})]})]})]}),"\n",(0,c.jsx)(n.h3,{id:"cgroup-v2-\u3067\u306e\u30d5\u30a1\u30a4\u30eb",children:"cgroup v2 \u3067\u306e\u30d5\u30a1\u30a4\u30eb"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# cgroup v2 \u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\nls /sys/fs/cgroup/\n\n# \u4e3b\u306a\u30d5\u30a1\u30a4\u30eb\n# cgroup.controllers   - \u5229\u7528\u53ef\u80fd\u306a\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n# cgroup.subtree_control - \u5b50cgroup\u3067\u6709\u52b9\u306a\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n# cgroup.procs         - \u3053\u306ecgroup\u306e\u30d7\u30ed\u30bb\u30b9\u4e00\u89a7\n# cpu.max              - CPU\u5236\u9650\n# memory.max           - \u30e1\u30e2\u30ea\u5236\u9650\n# io.max               - I/O\u5236\u9650\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"cpu\u5236\u9650",children:"CPU\u5236\u9650"}),"\n",(0,c.jsx)(n.h3,{id:"cgroup-v2-\u3067\u306ecpu\u5236\u9650",children:"cgroup v2 \u3067\u306eCPU\u5236\u9650"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'# cgroup\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nsudo mkdir /sys/fs/cgroup/mygroup\n\n# CPU\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u6709\u52b9\u5316\uff08\u89aa\u3067\u8a2d\u5b9a\uff09\necho "+cpu" | sudo tee /sys/fs/cgroup/cgroup.subtree_control\n\n# CPU\u5236\u9650\u8a2d\u5b9a\uff0850%\u306b\u5236\u9650\uff09\n# \u5f62\u5f0f: $MAX $PERIOD (\u30de\u30a4\u30af\u30ed\u79d2)\n# 100000/100000 = 100%\n# 50000/100000 = 50%\necho "50000 100000" | sudo tee /sys/fs/cgroup/mygroup/cpu.max\n\n# \u30d7\u30ed\u30bb\u30b9\u3092cgroup\u306b\u8ffd\u52a0\necho $$ | sudo tee /sys/fs/cgroup/mygroup/cgroup.procs\n\n# CPU\u4f7f\u7528\u7387\u3092\u78ba\u8a8d\u3057\u306a\u304c\u3089\u30c6\u30b9\u30c8\nwhile true; do :; done &\ntop -p $!\n'})}),"\n",(0,c.jsx)(n.h3,{id:"cgroup-v1-\u3067\u306ecpu\u5236\u9650",children:"cgroup v1 \u3067\u306eCPU\u5236\u9650"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# cgroup\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nsudo mkdir /sys/fs/cgroup/cpu/mygroup\n\n# CPU\u5236\u9650\uff0850%\uff09\necho 50000 | sudo tee /sys/fs/cgroup/cpu/mygroup/cpu.cfs_quota_us\necho 100000 | sudo tee /sys/fs/cgroup/cpu/mygroup/cpu.cfs_period_us\n\n# \u30d7\u30ed\u30bb\u30b9\u8ffd\u52a0\necho $PID | sudo tee /sys/fs/cgroup/cpu/mygroup/tasks\n"})}),"\n",(0,c.jsx)(n.h3,{id:"cpu\u30bb\u30c3\u30c8\u7279\u5b9acpu\u3078\u306e\u5272\u308a\u5f53\u3066",children:"CPU\u30bb\u30c3\u30c8\uff08\u7279\u5b9aCPU\u3078\u306e\u5272\u308a\u5f53\u3066\uff09"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'# cgroup v2\necho "0-1" | sudo tee /sys/fs/cgroup/mygroup/cpuset.cpus\necho "0" | sudo tee /sys/fs/cgroup/mygroup/cpuset.mems\n\n# cgroup v1\necho "0-1" | sudo tee /sys/fs/cgroup/cpuset/mygroup/cpuset.cpus\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\u30e1\u30e2\u30ea\u5236\u9650",children:"\u30e1\u30e2\u30ea\u5236\u9650"}),"\n",(0,c.jsx)(n.h3,{id:"cgroup-v2-\u3067\u306e\u30e1\u30e2\u30ea\u5236\u9650",children:"cgroup v2 \u3067\u306e\u30e1\u30e2\u30ea\u5236\u9650"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'# \u30e1\u30e2\u30ea\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u6709\u52b9\u5316\necho "+memory" | sudo tee /sys/fs/cgroup/cgroup.subtree_control\n\n# \u30e1\u30e2\u30ea\u5236\u9650\uff08512MB\uff09\necho "536870912" | sudo tee /sys/fs/cgroup/mygroup/memory.max\n\n# Swap\u5236\u9650\necho "0" | sudo tee /sys/fs/cgroup/mygroup/memory.swap.max\n\n# \u73fe\u5728\u306e\u4f7f\u7528\u91cf\u78ba\u8a8d\ncat /sys/fs/cgroup/mygroup/memory.current\n\n# \u8a73\u7d30\u7d71\u8a08\ncat /sys/fs/cgroup/mygroup/memory.stat\n'})}),"\n",(0,c.jsx)(n.h3,{id:"cgroup-v1-\u3067\u306e\u30e1\u30e2\u30ea\u5236\u9650",children:"cgroup v1 \u3067\u306e\u30e1\u30e2\u30ea\u5236\u9650"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'# cgroup\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nsudo mkdir /sys/fs/cgroup/memory/mygroup\n\n# \u30e1\u30e2\u30ea\u5236\u9650\uff08512MB\uff09\necho "536870912" | sudo tee /sys/fs/cgroup/memory/mygroup/memory.limit_in_bytes\n\n# Swap\u5236\u9650\necho "536870912" | sudo tee /sys/fs/cgroup/memory/mygroup/memory.memsw.limit_in_bytes\n\n# \u73fe\u5728\u306e\u4f7f\u7528\u91cf\ncat /sys/fs/cgroup/memory/mygroup/memory.usage_in_bytes\n'})}),"\n",(0,c.jsx)(n.h3,{id:"oomout-of-memory",children:"OOM\uff08Out of Memory\uff09"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'# OOM\u767a\u751f\u6642\u306e\u52d5\u4f5c\n# cgroup v2\ncat /sys/fs/cgroup/mygroup/memory.events\n# oom \u767a\u751f\u56de\u6570\u3001oom_kill \u767a\u751f\u56de\u6570\n\n# OOM Killer \u306e\u30ed\u30b0\u78ba\u8a8d\ndmesg | grep -i "out of memory"\ndmesg | grep -i "killed process"\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"io\u5236\u9650",children:"I/O\u5236\u9650"}),"\n",(0,c.jsx)(n.h3,{id:"cgroup-v2-\u3067\u306eio\u5236\u9650",children:"cgroup v2 \u3067\u306eI/O\u5236\u9650"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'# I/O\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u6709\u52b9\u5316\necho "+io" | sudo tee /sys/fs/cgroup/cgroup.subtree_control\n\n# \u30c7\u30d0\u30a4\u30b9\u78ba\u8a8d\nlsblk\n# sda \u306a\u3069\n\n# I/O\u5236\u9650\uff08\u30c7\u30d0\u30a4\u30b9\u3054\u3068\uff09\n# \u5f62\u5f0f: MAJ:MIN rbps=bytes wbps=bytes\n# \u8aad\u307f\u53d6\u308a100MB/s\u3001\u66f8\u304d\u8fbc\u307f50MB/s\u306b\u5236\u9650\necho "8:0 rbps=104857600 wbps=52428800" | sudo tee /sys/fs/cgroup/mygroup/io.max\n\n# IOPS\u5236\u9650\necho "8:0 riops=1000 wiops=500" | sudo tee /sys/fs/cgroup/mygroup/io.max\n\n# \u7d71\u8a08\u78ba\u8a8d\ncat /sys/fs/cgroup/mygroup/io.stat\n'})}),"\n",(0,c.jsx)(n.h3,{id:"cgroup-v1-\u3067\u306eio\u5236\u9650",children:"cgroup v1 \u3067\u306eI/O\u5236\u9650"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'# \u8aad\u307f\u53d6\u308a\u5e2f\u57df\u5e45\u5236\u9650\necho "8:0 104857600" | sudo tee /sys/fs/cgroup/blkio/mygroup/blkio.throttle.read_bps_device\n\n# \u66f8\u304d\u8fbc\u307f\u5e2f\u57df\u5e45\u5236\u9650\necho "8:0 52428800" | sudo tee /sys/fs/cgroup/blkio/mygroup/blkio.throttle.write_bps_device\n\n# IOPS\u5236\u9650\necho "8:0 1000" | sudo tee /sys/fs/cgroup/blkio/mygroup/blkio.throttle.read_iops_device\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\u30b3\u30f3\u30c6\u30ca\u3068cgroups",children:"\u30b3\u30f3\u30c6\u30ca\u3068Cgroups"}),"\n",(0,c.jsx)(n.h3,{id:"docker\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650",children:"Docker\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# \u30e1\u30e2\u30ea\u5236\u9650\ndocker run --memory 512m nginx\ndocker run --memory 512m --memory-swap 512m nginx  # swap\u542b\u3080\n\n# CPU\u5236\u9650\ndocker run --cpus 1.5 nginx         # 1.5 CPU\u5206\ndocker run --cpu-shares 512 nginx   # \u76f8\u5bfe\u7684\u306a\u91cd\u307f\ndocker run --cpuset-cpus 0,1 nginx  # \u7279\u5b9aCPU\n\n# I/O\u5236\u9650\ndocker run --device-read-bps /dev/sda:100mb nginx\ndocker run --device-write-bps /dev/sda:100mb nginx\n\n# PID\u5236\u9650\uff08fork bomb\u9632\u6b62\uff09\ndocker run --pids-limit 100 nginx\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\u30b3\u30f3\u30c6\u30ca\u306ecgroup\u78ba\u8a8d",children:"\u30b3\u30f3\u30c6\u30ca\u306ecgroup\u78ba\u8a8d"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\ndocker run -d --name test --memory 512m --cpus 1 nginx\n\n# \u30b3\u30f3\u30c6\u30ca\u306ecgroup\u78ba\u8a8d\ndocker inspect test | jq '.[0].HostConfig.CgroupParent'\n\n# cgroup v2\u306e\u5834\u5408\nCONTAINER_ID=$(docker inspect -f '{{.Id}}' test)\nls /sys/fs/cgroup/system.slice/docker-${CONTAINER_ID}.scope/\n\n# \u30e1\u30e2\u30ea\u5236\u9650\u78ba\u8a8d\ncat /sys/fs/cgroup/system.slice/docker-${CONTAINER_ID}.scope/memory.max\n\n# CPU\u5236\u9650\u78ba\u8a8d\ncat /sys/fs/cgroup/system.slice/docker-${CONTAINER_ID}.scope/cpu.max\n\n# \u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\ndocker rm -f test\n"})}),"\n",(0,c.jsx)(n.h3,{id:"kubernetes\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650",children:"Kubernetes\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: resource-demo\nspec:\n  containers:\n  - name: app\n    image: nginx\n    resources:\n      requests:        # \u6700\u4f4e\u9650\u5fc5\u8981\u306a\u30ea\u30bd\u30fc\u30b9\n        memory: "256Mi"\n        cpu: "250m"    # 0.25 CPU\n      limits:          # \u4e0a\u9650\n        memory: "512Mi"\n        cpu: "500m"    # 0.5 CPU\n'})}),"\n",(0,c.jsx)(n.h3,{id:"\u30ea\u30bd\u30fc\u30b9\u76e3\u8996",children:"\u30ea\u30bd\u30fc\u30b9\u76e3\u8996"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# docker stats\ndocker stats\n\n# \u51fa\u529b\u4f8b\n# CONTAINER ID   NAME   CPU %   MEM USAGE / LIMIT   MEM %   NET I/O   BLOCK I/O\n# abc123         test   0.50%   50MiB / 512MiB      9.77%   1kB/2kB   0B/0B\n\n# \u30b3\u30f3\u30c6\u30ca\u5185\u304b\u3089\u306e\u78ba\u8a8d\ndocker exec test cat /sys/fs/cgroup/memory.max\n\n# Kubernetes\nkubectl top pods\nkubectl describe pod pod-name\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\u5b9f\u8df5-\u624b\u52d5\u3067cgroup\u3092\u4f5c\u6210",children:"\u5b9f\u8df5: \u624b\u52d5\u3067cgroup\u3092\u4f5c\u6210"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# cgroup v2 \u3067\u306e\u624b\u52d5\u4f5c\u6210\u4f8b\n\n# 1. cgroup\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nsudo mkdir /sys/fs/cgroup/mycontainer\n\n# 2. \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u6709\u52b9\u5316\uff08\u89aa\u3067\u8a2d\u5b9a\uff09\necho "+cpu +memory +io" | sudo tee /sys/fs/cgroup/cgroup.subtree_control\n\n# 3. CPU\u5236\u9650\uff0850%\uff09\necho "50000 100000" | sudo tee /sys/fs/cgroup/mycontainer/cpu.max\n\n# 4. \u30e1\u30e2\u30ea\u5236\u9650\uff08256MB\uff09\necho "268435456" | sudo tee /sys/fs/cgroup/mycontainer/memory.max\n\n# 5. \u30d7\u30ed\u30bb\u30b9\u3092\u8ffd\u52a0\necho $$ | sudo tee /sys/fs/cgroup/mycontainer/cgroup.procs\n\n# 6. \u5236\u9650\u5185\u3067\u30d7\u30ed\u30bb\u30b9\u5b9f\u884c\nstress --cpu 2 --vm 1 --vm-bytes 128M --timeout 10s\n\n# 7. \u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\nsudo rmdir /sys/fs/cgroup/mycontainer\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,c.jsx)(n.h3,{id:"cgroups\u306e\u4e3b\u306a\u6a5f\u80fd",children:"Cgroups\u306e\u4e3b\u306a\u6a5f\u80fd"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"\u6a5f\u80fd"}),(0,c.jsx)(n.th,{children:"\u8aac\u660e"}),(0,c.jsx)(n.th,{children:"\u30d5\u30a1\u30a4\u30eb\uff08v2\uff09"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"CPU\u5236\u9650"}),(0,c.jsx)(n.td,{children:"CPU\u4f7f\u7528\u7387\u306e\u4e0a\u9650"}),(0,c.jsx)(n.td,{children:"cpu.max"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"CPU\u30bb\u30c3\u30c8"}),(0,c.jsx)(n.td,{children:"\u4f7f\u7528\u3059\u308bCPU\u30b3\u30a2\u306e\u6307\u5b9a"}),(0,c.jsx)(n.td,{children:"cpuset.cpus"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"\u30e1\u30e2\u30ea\u5236\u9650"}),(0,c.jsx)(n.td,{children:"\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u306e\u4e0a\u9650"}),(0,c.jsx)(n.td,{children:"memory.max"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"I/O\u5236\u9650"}),(0,c.jsx)(n.td,{children:"\u30c7\u30a3\u30b9\u30afI/O\u5e2f\u57df\u5e45\u306e\u5236\u9650"}),(0,c.jsx)(n.td,{children:"io.max"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"PID\u5236\u9650"}),(0,c.jsx)(n.td,{children:"\u30d7\u30ed\u30bb\u30b9\u6570\u306e\u4e0a\u9650"}),(0,c.jsx)(n.td,{children:"pids.max"})]})]})]}),"\n",(0,c.jsx)(n.h3,{id:"docker\u3067\u306e\u6307\u5b9a",children:"Docker\u3067\u306e\u6307\u5b9a"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"\u30aa\u30d7\u30b7\u30e7\u30f3"}),(0,c.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"--memory"}),(0,c.jsx)(n.td,{children:"\u30e1\u30e2\u30ea\u4e0a\u9650"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"--cpus"}),(0,c.jsx)(n.td,{children:"CPU\u6570"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"--cpuset-cpus"}),(0,c.jsx)(n.td,{children:"\u4f7f\u7528\u3059\u308bCPU"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"--device-read-bps"}),(0,c.jsx)(n.td,{children:"\u8aad\u307f\u53d6\u308a\u5e2f\u57df"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"--pids-limit"}),(0,c.jsx)(n.td,{children:"\u30d7\u30ed\u30bb\u30b9\u6570\u4e0a\u9650"})]})]})]}),"\n",(0,c.jsx)(n.h3,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"/idp-server/docs/content_11_learning/linux/namespaces",children:"Namespaces"})," - \u30ea\u30bd\u30fc\u30b9\u306e\u5206\u96e2"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"/idp-server/docs/content_11_learning/linux/overlay-filesystem",children:"OverlayFS"})," - \u30b3\u30f3\u30c6\u30ca\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0"]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9",children:"\u53c2\u8003\u30ea\u30bd\u30fc\u30b9"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://docs.kernel.org/admin-guide/cgroup-v2.html",children:"cgroups v2 Documentation"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/using-cgroups-v2-to-control-distribution-of-cpu-time-for-applications_managing-monitoring-and-updating-the-kernel",children:"Red Hat - Resource Management Guide"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://docs.docker.com/config/containers/resource_constraints/",children:"Docker Resource Constraints"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(t,{...e})}):t(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>i});var r=s(96540);const c={},o=r.createContext(c);function d(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);