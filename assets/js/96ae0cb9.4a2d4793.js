"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5128],{56614:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>o,frontMatter:()=>c,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"content_11_learning/security/security-headers","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u5b8c\u5168\u30ac\u30a4\u30c9","description":"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684","source":"@site/docs/content_11_learning/06-security/06-security-headers.md","sourceDirName":"content_11_learning/06-security","slug":"/content_11_learning/security/security-headers","permalink":"/idp-server/docs/content_11_learning/security/security-headers","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/06-security/06-security-headers.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{},"sidebar":"docs","previous":{"title":"\u30c8\u30fc\u30af\u30f3\u4fdd\u5b58\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","permalink":"/idp-server/docs/content_11_learning/security/token-storage-security"},"next":{"title":"\u30bb\u30c3\u30b7\u30e7\u30f3\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","permalink":"/idp-server/docs/content_11_learning/security/session-security"}}');var i=r(74848),l=r(28453);const c={},t="\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u5b8c\u5168\u30ac\u30a4\u30c9",d={},h=[{value:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",level:2},{value:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u4e00\u89a7",id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u4e00\u89a7",level:2},{value:"HSTS (HTTP Strict Transport Security)",id:"hsts-http-strict-transport-security",level:2},{value:"\u76ee\u7684",id:"\u76ee\u7684",level:3},{value:"\u8a2d\u5b9a\u4f8b",id:"\u8a2d\u5b9a\u4f8b",level:3},{value:"\u30d1\u30e9\u30e1\u30fc\u30bf\u89e3\u8aac",id:"\u30d1\u30e9\u30e1\u30fc\u30bf\u89e3\u8aac",level:3},{value:"\u6bb5\u968e\u7684\u5c0e\u5165",id:"\u6bb5\u968e\u7684\u5c0e\u5165",level:3},{value:"\u6ce8\u610f\u70b9",id:"\u6ce8\u610f\u70b9",level:3},{value:"CSP (Content-Security-Policy)",id:"csp-content-security-policy",level:2},{value:"\u76ee\u7684",id:"\u76ee\u7684-1",level:3},{value:"\u57fa\u672c\u69cb\u6587",id:"\u57fa\u672c\u69cb\u6587",level:3},{value:"\u4e3b\u8981\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6",id:"\u4e3b\u8981\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6",level:3},{value:"\u30bd\u30fc\u30b9\u5024",id:"\u30bd\u30fc\u30b9\u5024",level:3},{value:"ID/\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u5411\u3051\u63a8\u5968\u8a2d\u5b9a",id:"id\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u5411\u3051\u63a8\u5968\u8a2d\u5b9a",level:3},{value:"\u30ec\u30dd\u30fc\u30c8\u30e2\u30fc\u30c9",id:"\u30ec\u30dd\u30fc\u30c8\u30e2\u30fc\u30c9",level:3},{value:"X-Content-Type-Options",id:"x-content-type-options",level:2},{value:"\u76ee\u7684",id:"\u76ee\u7684-2",level:3},{value:"\u653b\u6483\u30b7\u30ca\u30ea\u30aa",id:"\u653b\u6483\u30b7\u30ca\u30ea\u30aa",level:3},{value:"\u8a2d\u5b9a",id:"\u8a2d\u5b9a",level:3},{value:"\u52b9\u679c",id:"\u52b9\u679c",level:3},{value:"X-Frame-Options",id:"x-frame-options",level:2},{value:"\u76ee\u7684",id:"\u76ee\u7684-3",level:3},{value:"\u653b\u6483\u30b7\u30ca\u30ea\u30aa",id:"\u653b\u6483\u30b7\u30ca\u30ea\u30aa-1",level:3},{value:"\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3",id:"\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3",level:3},{value:"CSP\u3068\u306e\u95a2\u4fc2",id:"csp\u3068\u306e\u95a2\u4fc2",level:3},{value:"Referrer-Policy",id:"referrer-policy",level:2},{value:"\u76ee\u7684",id:"\u76ee\u7684-4",level:3},{value:"\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3",id:"\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3-1",level:3},{value:"ID/\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u306e\u63a8\u5968",id:"id\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u306e\u63a8\u5968",level:3},{value:"\u306a\u305c\u91cd\u8981\u304b",id:"\u306a\u305c\u91cd\u8981\u304b",level:3},{value:"Cache-Control",id:"cache-control",level:2},{value:"\u76ee\u7684",id:"\u76ee\u7684-5",level:3},{value:"\u8a8d\u8a3c\u95a2\u9023\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u8a2d\u5b9a",id:"\u8a8d\u8a3c\u95a2\u9023\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u8a2d\u5b9a",level:3},{value:"\u5404\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u610f\u5473",id:"\u5404\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u610f\u5473",level:3},{value:"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u5225\u306e\u8a2d\u5b9a\u4f8b",id:"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u5225\u306e\u8a2d\u5b9a\u4f8b",level:3},{value:"Permissions-Policy\uff08\u65e7Feature-Policy\uff09",id:"permissions-policy\u65e7feature-policy",level:2},{value:"\u76ee\u7684",id:"\u76ee\u7684-6",level:3},{value:"\u8a2d\u5b9a\u4f8b",id:"\u8a2d\u5b9a\u4f8b-1",level:3},{value:"ID/\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u306e\u6d3b\u7528",id:"id\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u306e\u6d3b\u7528",level:3},{value:"\u5b9f\u88c5\u4f8b\uff1aSpring Security",id:"\u5b9f\u88c5\u4f8bspring-security",level:2},{value:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u30c1\u30a7\u30c3\u30af\u30c4\u30fc\u30eb",id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u30c1\u30a7\u30c3\u30af\u30c4\u30fc\u30eb",level:2},{value:"\u30aa\u30f3\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb",id:"\u30aa\u30f3\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb",level:3},{value:"curl\u3067\u306e\u78ba\u8a8d",id:"curl\u3067\u306e\u78ba\u8a8d",level:3},{value:"\u307e\u3068\u3081\uff1a\u6700\u5c0f\u63a8\u5968\u8a2d\u5b9a",id:"\u307e\u3068\u3081\u6700\u5c0f\u63a8\u5968\u8a2d\u5b9a",level:2},{value:"\u767a\u5c55: CSP Nonce\u65b9\u5f0f",id:"\u767a\u5c55-csp-nonce\u65b9\u5f0f",level:2},{value:"\u4ed5\u7d44\u307f",id:"\u4ed5\u7d44\u307f",level:3},{value:"\u52d5\u4f5c",id:"\u52d5\u4f5c",level:3},{value:"\u6ce8\u610f\u70b9",id:"\u6ce8\u610f\u70b9-1",level:3},{value:"\u53c2\u8003\u8cc7\u6599",id:"\u53c2\u8003\u8cc7\u6599",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u5b8c\u5168\u30ac\u30a4\u30c9",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u5b8c\u5168\u30ac\u30a4\u30c9"})}),"\n",(0,i.jsx)(n.h2,{id:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684",children:"\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684"}),"\n",(0,i.jsxs)(n.p,{children:["Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4fdd\u8b77\u3059\u308b\u305f\u3081\u306e",(0,i.jsx)(n.strong,{children:"HTTP\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc"}),"\u3092\u7406\u89e3\u3057\u3001ID/\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u306e\u9069\u5207\u306a\u8a2d\u5b9a\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u4e00\u89a7",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u4e00\u89a7"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u30d8\u30c3\u30c0\u30fc"}),(0,i.jsx)(n.th,{children:"\u76ee\u7684"}),(0,i.jsx)(n.th,{children:"\u91cd\u8981\u5ea6"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Strict-Transport-Security"}),(0,i.jsx)(n.td,{children:"HTTPS\u5f37\u5236"}),(0,i.jsx)(n.td,{children:"\u25ce \u5fc5\u9808"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Content-Security-Policy"}),(0,i.jsx)(n.td,{children:"XSS\u5bfe\u7b56"}),(0,i.jsx)(n.td,{children:"\u25ce \u5fc5\u9808"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"X-Content-Type-Options"}),(0,i.jsx)(n.td,{children:"MIME\u30b9\u30cb\u30c3\u30d5\u30a3\u30f3\u30b0\u9632\u6b62"}),(0,i.jsx)(n.td,{children:"\u25ce \u5fc5\u9808"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"X-Frame-Options"}),(0,i.jsx)(n.td,{children:"\u30af\u30ea\u30c3\u30af\u30b8\u30e3\u30c3\u30ad\u30f3\u30b0\u9632\u6b62"}),(0,i.jsx)(n.td,{children:"\u25cb \u63a8\u5968"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"X-XSS-Protection"}),(0,i.jsx)(n.td,{children:"\u30d6\u30e9\u30a6\u30b6XSS\u30d5\u30a3\u30eb\u30bf"}),(0,i.jsx)(n.td,{children:"\u25b3 \u30ec\u30ac\u30b7\u30fc"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Referrer-Policy"}),(0,i.jsx)(n.td,{children:"\u30ea\u30d5\u30a1\u30e9\u30fc\u60c5\u5831\u5236\u5fa1"}),(0,i.jsx)(n.td,{children:"\u25cb \u63a8\u5968"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Permissions-Policy"}),(0,i.jsx)(n.td,{children:"\u30d6\u30e9\u30a6\u30b6\u6a5f\u80fd\u5236\u9650"}),(0,i.jsx)(n.td,{children:"\u25cb \u63a8\u5968"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Cache-Control"}),(0,i.jsx)(n.td,{children:"\u30ad\u30e3\u30c3\u30b7\u30e5\u5236\u5fa1"}),(0,i.jsx)(n.td,{children:"\u25ce \u5fc5\u9808"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"hsts-http-strict-transport-security",children:"HSTS (HTTP Strict Transport Security)"}),"\n",(0,i.jsx)(n.h3,{id:"\u76ee\u7684",children:"\u76ee\u7684"}),"\n",(0,i.jsx)(n.p,{children:"\u30d6\u30e9\u30a6\u30b6\u306bHTTPS\u63a5\u7d9a\u3092\u5f37\u5236\u3057\u3001\u4e2d\u9593\u8005\u653b\u6483\u3092\u9632\u6b62\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8a2d\u5b9a\u4f8b",children:"\u8a2d\u5b9a\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Strict-Transport-Security: max-age=31536000; includeSubDomains; preload\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u30d1\u30e9\u30e1\u30fc\u30bf\u89e3\u8aac",children:"\u30d1\u30e9\u30e1\u30fc\u30bf\u89e3\u8aac"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,i.jsx)(n.th,{children:"\u8aac\u660e"}),(0,i.jsx)(n.th,{children:"\u63a8\u5968\u5024"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"max-age"}),(0,i.jsx)(n.td,{children:"HTTPS\u5f37\u5236\u671f\u9593\uff08\u79d2\uff09"}),(0,i.jsx)(n.td,{children:"31536000\uff081\u5e74\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"includeSubDomains"}),(0,i.jsx)(n.td,{children:"\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u306b\u3082\u9069\u7528"}),(0,i.jsx)(n.td,{children:"\u6709\u52b9\u5316\u63a8\u5968"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"preload"}),(0,i.jsx)(n.td,{children:"\u30d6\u30e9\u30a6\u30b6\u30d7\u30ea\u30ed\u30fc\u30c9\u30ea\u30b9\u30c8\u306b\u767b\u9332"}),(0,i.jsx)(n.td,{children:"\u614e\u91cd\u306b\u691c\u8a0e"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"\u6bb5\u968e\u7684\u5c0e\u5165",children:"\u6bb5\u968e\u7684\u5c0e\u5165"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"# Step 1: \u77ed\u3044\u671f\u9593\u3067\u30c6\u30b9\u30c8\uff085\u5206\uff09\nStrict-Transport-Security: max-age=300\n\n# Step 2: \u671f\u9593\u3092\u5ef6\u9577\uff081\u9031\u9593\uff09\nStrict-Transport-Security: max-age=604800\n\n# Step 3: \u672c\u756a\u8a2d\u5b9a\uff081\u5e74\uff09\nStrict-Transport-Security: max-age=31536000; includeSubDomains\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u6ce8\u610f\u70b9",children:"\u6ce8\u610f\u70b9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u26a0\ufe0f HSTS\u306e\u6ce8\u610f\u70b9:\n- \u4e00\u5ea6\u8a2d\u5b9a\u3059\u308b\u3068\u3001max-age\u671f\u9593\u4e2d\u306fHTTP\u63a5\u7d9a\u4e0d\u53ef\n- \u8a3c\u660e\u66f8\u306e\u554f\u984c\u304c\u3042\u308b\u3068\u30b5\u30a4\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u304f\u306a\u308b\n- preload\u306f\u53d6\u308a\u6d88\u3057\u304c\u56f0\u96e3\uff08\u6570\u30f6\u6708\u304b\u304b\u308b\uff09\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"csp-content-security-policy",children:"CSP (Content-Security-Policy)"}),"\n",(0,i.jsx)(n.h3,{id:"\u76ee\u7684-1",children:"\u76ee\u7684"}),"\n",(0,i.jsx)(n.p,{children:"XSS\uff08\u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30b9\u30af\u30ea\u30d7\u30c6\u30a3\u30f3\u30b0\uff09\u653b\u6483\u3092\u9632\u6b62\u3002\u8a31\u53ef\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u306e\u307f\u8aad\u307f\u8fbc\u307f\u53ef\u80fd\u306b\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u57fa\u672c\u69cb\u6587",children:"\u57fa\u672c\u69cb\u6587"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Content-Security-Policy: directive-name 'value' source-list;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3b\u8981\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6",children:"\u4e3b\u8981\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6"}),(0,i.jsx)(n.th,{children:"\u5236\u5fa1\u5bfe\u8c61"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"default-src"}),(0,i.jsx)(n.td,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30ea\u30bd\u30fc\u30b9"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"script-src"}),(0,i.jsx)(n.td,{children:"JavaScript"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"style-src"}),(0,i.jsx)(n.td,{children:"CSS"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"img-src"}),(0,i.jsx)(n.td,{children:"\u753b\u50cf"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"font-src"}),(0,i.jsx)(n.td,{children:"\u30d5\u30a9\u30f3\u30c8"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"connect-src"}),(0,i.jsx)(n.td,{children:"XHR/Fetch/WebSocket"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"frame-src"}),(0,i.jsx)(n.td,{children:"iframe"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"frame-ancestors"}),(0,i.jsx)(n.td,{children:"\u81ea\u30b5\u30a4\u30c8\u3092iframe\u3067\u57cb\u3081\u8fbc\u3081\u308b\u30b5\u30a4\u30c8"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"form-action"}),(0,i.jsx)(n.td,{children:"\u30d5\u30a9\u30fc\u30e0\u9001\u4fe1\u5148"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"base-uri"}),(0,i.jsx)(n.td,{children:"base\u8981\u7d20\u306eURL"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"\u30bd\u30fc\u30b9\u5024",children:"\u30bd\u30fc\u30b9\u5024"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5024"}),(0,i.jsx)(n.th,{children:"\u610f\u5473"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"'none'"}),(0,i.jsx)(n.td,{children:"\u4f55\u3082\u8a31\u53ef\u3057\u306a\u3044"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"'self'"}),(0,i.jsx)(n.td,{children:"\u540c\u4e00\u30aa\u30ea\u30b8\u30f3\u306e\u307f"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"'unsafe-inline'"}),(0,i.jsx)(n.td,{children:"\u30a4\u30f3\u30e9\u30a4\u30f3\u30b9\u30af\u30ea\u30d7\u30c8/\u30b9\u30bf\u30a4\u30eb\uff08\u975e\u63a8\u5968\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"'unsafe-eval'"}),(0,i.jsx)(n.td,{children:"eval()\u7b49\uff08\u975e\u63a8\u5968\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"'nonce-xxx'"}),(0,i.jsx)(n.td,{children:"\u7279\u5b9a\u306enonce\u3092\u6301\u3064\u8981\u7d20\u306e\u307f"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"'strict-dynamic'"}),(0,i.jsx)(n.td,{children:"nonce\u3067\u8a31\u53ef\u3055\u308c\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u304b\u3089\u306e\u8aad\u307f\u8fbc\u307f\u3092\u8a31\u53ef"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"https:"}),(0,i.jsx)(n.td,{children:"HTTPS\u306e\u307f"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"data:"}),(0,i.jsx)(n.td,{children:"data: URI"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"id\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u5411\u3051\u63a8\u5968\u8a2d\u5b9a",children:"ID/\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u5411\u3051\u63a8\u5968\u8a2d\u5b9a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Content-Security-Policy:\n  default-src 'self';\n  script-src 'self' 'nonce-{random}';\n  style-src 'self' 'nonce-{random}';\n  img-src 'self' data:;\n  font-src 'self';\n  connect-src 'self';\n  frame-ancestors 'none';\n  form-action 'self';\n  base-uri 'self';\n  upgrade-insecure-requests;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u30ec\u30dd\u30fc\u30c8\u30e2\u30fc\u30c9",children:"\u30ec\u30dd\u30fc\u30c8\u30e2\u30fc\u30c9"}),"\n",(0,i.jsx)(n.p,{children:"\u672c\u756a\u9069\u7528\u524d\u306b\u30c6\u30b9\u30c8:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Content-Security-Policy-Report-Only:\n  default-src 'self';\n  report-uri /csp-violation-report;\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"x-content-type-options",children:"X-Content-Type-Options"}),"\n",(0,i.jsx)(n.h3,{id:"\u76ee\u7684-2",children:"\u76ee\u7684"}),"\n",(0,i.jsx)(n.p,{children:"\u30d6\u30e9\u30a6\u30b6\u306eMIME\u30bf\u30a4\u30d7\u30b9\u30cb\u30c3\u30d5\u30a3\u30f3\u30b0\u3092\u9632\u6b62\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u653b\u6483\u30b7\u30ca\u30ea\u30aa",children:"\u653b\u6483\u30b7\u30ca\u30ea\u30aa"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"1. \u653b\u6483\u8005\u304cJavaScript\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\uff08\u62e1\u5f35\u5b50\u306f.txt\uff09\n2. \u30b5\u30fc\u30d0\u30fc\u304cContent-Type: text/plain\u3067\u914d\u4fe1\n3. \u30d6\u30e9\u30a6\u30b6\u304c\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u89e3\u6790\u3057\u3001JavaScript\u3068\u3057\u3066\u5b9f\u884c\n4. XSS\u653b\u6483\u6210\u529f\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u8a2d\u5b9a",children:"\u8a2d\u5b9a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"X-Content-Type-Options: nosniff\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u52b9\u679c",children:"\u52b9\u679c"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u30d6\u30e9\u30a6\u30b6\u306fContent-Type\u30d8\u30c3\u30c0\u30fc\u3092\u53b3\u5bc6\u306b\u89e3\u91c8"}),"\n",(0,i.jsx)(n.li,{children:"text/plain\u306e\u30d5\u30a1\u30a4\u30eb\u3092JavaScript\u3068\u3057\u3066\u5b9f\u884c\u3057\u306a\u3044"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"x-frame-options",children:"X-Frame-Options"}),"\n",(0,i.jsx)(n.h3,{id:"\u76ee\u7684-3",children:"\u76ee\u7684"}),"\n",(0,i.jsx)(n.p,{children:"\u30af\u30ea\u30c3\u30af\u30b8\u30e3\u30c3\u30ad\u30f3\u30b0\u653b\u6483\u3092\u9632\u6b62\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u653b\u6483\u30b7\u30ca\u30ea\u30aa-1",children:"\u653b\u6483\u30b7\u30ca\u30ea\u30aa"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"1. \u653b\u6483\u8005\u304c\u60aa\u610f\u306e\u3042\u308b\u30b5\u30a4\u30c8\u3092\u4f5c\u6210\n2. \u900f\u660e\u306aiframe\u3067\u9280\u884c\u30b5\u30a4\u30c8\u3092\u57cb\u3081\u8fbc\u3080\n3. \u30e6\u30fc\u30b6\u30fc\u306f\u898b\u3048\u3066\u3044\u308b\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\n4. \u5b9f\u969b\u306b\u306f\u9280\u884c\u30b5\u30a4\u30c8\u306e\u300c\u9001\u91d1\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3",children:"\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"# \u5168\u3066\u306eiframe\u57cb\u3081\u8fbc\u307f\u3092\u7981\u6b62\nX-Frame-Options: DENY\n\n# \u540c\u4e00\u30aa\u30ea\u30b8\u30f3\u304b\u3089\u306e\u57cb\u3081\u8fbc\u307f\u306e\u307f\u8a31\u53ef\nX-Frame-Options: SAMEORIGIN\n"})}),"\n",(0,i.jsx)(n.h3,{id:"csp\u3068\u306e\u95a2\u4fc2",children:"CSP\u3068\u306e\u95a2\u4fc2"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"# CSP\u306eframe-ancestors\u304c\u3088\u308a\u65b0\u3057\u3044\u65b9\u5f0f\nContent-Security-Policy: frame-ancestors 'none'\n\n# \u4e92\u63db\u6027\u306e\u305f\u3081\u4e21\u65b9\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\nX-Frame-Options: DENY\nContent-Security-Policy: frame-ancestors 'none'\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"referrer-policy",children:"Referrer-Policy"}),"\n",(0,i.jsx)(n.h3,{id:"\u76ee\u7684-4",children:"\u76ee\u7684"}),"\n",(0,i.jsx)(n.p,{children:"\u30ea\u30d5\u30a1\u30e9\u30fc\u60c5\u5831\u306e\u9001\u4fe1\u3092\u5236\u5fa1\u3057\u3001URL\u306b\u542b\u307e\u308c\u308b\u6a5f\u5bc6\u60c5\u5831\u306e\u6f0f\u6d29\u3092\u9632\u6b62\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3-1",children:"\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5024"}),(0,i.jsx)(n.th,{children:"\u52d5\u4f5c"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"no-referrer"}),(0,i.jsx)(n.td,{children:"\u30ea\u30d5\u30a1\u30e9\u30fc\u3092\u9001\u4fe1\u3057\u306a\u3044"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"no-referrer-when-downgrade"}),(0,i.jsx)(n.td,{children:"HTTPS\u304b\u3089HTTP\u3078\u306e\u9077\u79fb\u6642\u306f\u9001\u4fe1\u3057\u306a\u3044"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"same-origin"}),(0,i.jsx)(n.td,{children:"\u540c\u4e00\u30aa\u30ea\u30b8\u30f3\u306b\u306e\u307f\u9001\u4fe1"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"origin"}),(0,i.jsx)(n.td,{children:"\u30aa\u30ea\u30b8\u30f3\u306e\u307f\u9001\u4fe1\uff08\u30d1\u30b9\u60c5\u5831\u306a\u3057\uff09"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"strict-origin"}),(0,i.jsx)(n.td,{children:"HTTPS\u306e\u5834\u5408\u306e\u307f\u30aa\u30ea\u30b8\u30f3\u3092\u9001\u4fe1"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"origin-when-cross-origin"}),(0,i.jsx)(n.td,{children:"\u30af\u30ed\u30b9\u30aa\u30ea\u30b8\u30f3\u306f\u30aa\u30ea\u30b8\u30f3\u306e\u307f\u3001\u540c\u4e00\u30aa\u30ea\u30b8\u30f3\u306f\u5b8c\u5168URL"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"strict-origin-when-cross-origin"}),(0,i.jsx)(n.td,{children:"\u63a8\u5968\u8a2d\u5b9a"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"id\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u306e\u63a8\u5968",children:"ID/\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u306e\u63a8\u5968"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Referrer-Policy: strict-origin-when-cross-origin\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u306a\u305c\u91cd\u8981\u304b",children:"\u306a\u305c\u91cd\u8981\u304b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u554f\u984c\u306e\u3042\u308bURL\u4f8b:\nhttps://idp.example.com/reset-password?token=abc123\n\n\u3053\u306eURL\u304c\u30ea\u30d5\u30a1\u30e9\u30fc\u3068\u3057\u3066\u5916\u90e8\u30b5\u30a4\u30c8\u306b\u9001\u4fe1\u3055\u308c\u308b\u3068\u3001\n\u30d1\u30b9\u30ef\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8\u30c8\u30fc\u30af\u30f3\u304c\u6f0f\u6d29\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"cache-control",children:"Cache-Control"}),"\n",(0,i.jsx)(n.h3,{id:"\u76ee\u7684-5",children:"\u76ee\u7684"}),"\n",(0,i.jsx)(n.p,{children:"\u8a8d\u8a3c\u60c5\u5831\u3084\u30bb\u30f3\u30b7\u30c6\u30a3\u30d6\u306a\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u308b\u3053\u3068\u3092\u9632\u6b62\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8a8d\u8a3c\u95a2\u9023\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u8a2d\u5b9a",children:"\u8a8d\u8a3c\u95a2\u9023\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u8a2d\u5b9a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Cache-Control: no-store, no-cache, must-revalidate, private\nPragma: no-cache\nExpires: 0\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5404\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u610f\u5473",children:"\u5404\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u610f\u5473"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6"}),(0,i.jsx)(n.th,{children:"\u610f\u5473"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"no-store"}),(0,i.jsx)(n.td,{children:"\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u4fdd\u5b58\u3057\u306a\u3044"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"no-cache"}),(0,i.jsx)(n.td,{children:"\u518d\u691c\u8a3c\u306a\u3057\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f7f\u7528\u3057\u306a\u3044"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"must-revalidate"}),(0,i.jsx)(n.td,{children:"\u671f\u9650\u5207\u308c\u5f8c\u306f\u5fc5\u305a\u518d\u691c\u8a3c"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"private"}),(0,i.jsx)(n.td,{children:"\u5171\u6709\u30ad\u30e3\u30c3\u30b7\u30e5\uff08CDN\u7b49\uff09\u306b\u4fdd\u5b58\u3057\u306a\u3044"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u5225\u306e\u8a2d\u5b9a\u4f8b",children:"\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u5225\u306e\u8a2d\u5b9a\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// \u30c8\u30fc\u30af\u30f3\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\n@PostMapping("/token")\npublic ResponseEntity<?> token() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setCacheControl("no-store");\n    headers.setPragma("no-cache");\n    return new ResponseEntity<>(tokenResponse, headers, HttpStatus.OK);\n}\n\n// \u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\n@GetMapping("/userinfo")\npublic ResponseEntity<?> userinfo() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setCacheControl("no-store, private");\n    return new ResponseEntity<>(userInfo, headers, HttpStatus.OK);\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"permissions-policy\u65e7feature-policy",children:"Permissions-Policy\uff08\u65e7Feature-Policy\uff09"}),"\n",(0,i.jsx)(n.h3,{id:"\u76ee\u7684-6",children:"\u76ee\u7684"}),"\n",(0,i.jsx)(n.p,{children:"\u30d6\u30e9\u30a6\u30b6\u6a5f\u80fd\uff08\u30ab\u30e1\u30e9\u3001\u30de\u30a4\u30af\u3001\u4f4d\u7f6e\u60c5\u5831\u7b49\uff09\u306e\u4f7f\u7528\u3092\u5236\u9650\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8a2d\u5b9a\u4f8b-1",children:"\u8a2d\u5b9a\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Permissions-Policy:\n  camera=(),\n  microphone=(),\n  geolocation=(),\n  payment=(),\n  usb=()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"id\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u306e\u6d3b\u7528",children:"ID/\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u306e\u6d3b\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"# WebAuthn\u4f7f\u7528\u6642\u306f\u30ab\u30e1\u30e9/\u30de\u30a4\u30af\u3092\u8a31\u53ef\u3057\u306a\u3044\u8a2d\u5b9a\nPermissions-Policy:\n  camera=(),\n  microphone=(),\n  geolocation=(),\n  publickey-credentials-get=(self),\n  publickey-credentials-create=(self)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u5b9f\u88c5\u4f8bspring-security",children:"\u5b9f\u88c5\u4f8b\uff1aSpring Security"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .headers(headers -> headers\n                // HSTS\n                .httpStrictTransportSecurity(hsts -> hsts\n                    .maxAgeInSeconds(31536000)\n                    .includeSubDomains(true)\n                )\n                // X-Content-Type-Options\n                .contentTypeOptions(Customizer.withDefaults())\n                // X-Frame-Options\n                .frameOptions(frame -> frame.deny())\n                // CSP\n                .contentSecurityPolicy(csp -> csp\n                    .policyDirectives(\n                        "default-src \'self\'; " +\n                        "script-src \'self\'; " +\n                        "frame-ancestors \'none\'"\n                    )\n                )\n                // Referrer-Policy\n                .referrerPolicy(referrer -> referrer\n                    .policy(ReferrerPolicyHeaderWriter.ReferrerPolicy.STRICT_ORIGIN_WHEN_CROSS_ORIGIN)\n                )\n                // Permissions-Policy\n                .permissionsPolicy(permissions -> permissions\n                    .policy("camera=(), microphone=(), geolocation=()")\n                )\n            );\n        return http.build();\n    }\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u30c1\u30a7\u30c3\u30af\u30c4\u30fc\u30eb",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d8\u30c3\u30c0\u30fc\u30c1\u30a7\u30c3\u30af\u30c4\u30fc\u30eb"}),"\n",(0,i.jsx)(n.h3,{id:"\u30aa\u30f3\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb",children:"\u30aa\u30f3\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://securityheaders.com/",children:"Security Headers"})," - \u30d8\u30c3\u30c0\u30fc\u8a55\u4fa1"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://observatory.mozilla.org/",children:"Mozilla Observatory"})," - \u7dcf\u5408\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a55\u4fa1"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://csp-evaluator.withgoogle.com/",children:"CSP Evaluator"})," - CSP\u8a2d\u5b9a\u8a55\u4fa1"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"curl\u3067\u306e\u78ba\u8a8d",children:"curl\u3067\u306e\u78ba\u8a8d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -I https://your-idp.example.com | grep -E "^(Strict-Transport|Content-Security|X-Content-Type|X-Frame|Referrer|Cache-Control)"\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u307e\u3068\u3081\u6700\u5c0f\u63a8\u5968\u8a2d\u5b9a",children:"\u307e\u3068\u3081\uff1a\u6700\u5c0f\u63a8\u5968\u8a2d\u5b9a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"Strict-Transport-Security: max-age=31536000; includeSubDomains\nContent-Security-Policy: default-src 'self'; frame-ancestors 'none'\nX-Content-Type-Options: nosniff\nX-Frame-Options: DENY\nReferrer-Policy: strict-origin-when-cross-origin\nCache-Control: no-store\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u767a\u5c55-csp-nonce\u65b9\u5f0f",children:"\u767a\u5c55: CSP Nonce\u65b9\u5f0f"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u3053\u306e\u5185\u5bb9\u306f\u767a\u5c55\u7684\u306a\u30c8\u30d4\u30c3\u30af\u3067\u3059\u3002CSP\u306e\u57fa\u790e\u3092\u7406\u89e3\u3057\u3066\u304b\u3089\u5b66\u7fd2\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u30a4\u30f3\u30e9\u30a4\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b89\u5168\u306b\u4f7f\u7528\u3059\u308b\u305f\u3081\u306e\u9ad8\u5ea6\u306a\u624b\u6cd5\u3067\u3059\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4ed5\u7d44\u307f",children:"\u4ed5\u7d44\u307f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'\x3c!-- \u30b5\u30fc\u30d0\u30fc\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3054\u3068\u306b\u30e9\u30f3\u30c0\u30e0\u306anonce\u3092\u751f\u6210 --\x3e\n<script nonce="abc123xyz">\n  // \u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u307f\u5b9f\u884c\u53ef\u80fd\n<\/script>\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"\x3c!-- CSP\u30d8\u30c3\u30c0\u30fc --\x3e\nContent-Security-Policy: script-src 'nonce-abc123xyz'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u52d5\u4f5c",children:"\u52d5\u4f5c"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u30b5\u30fc\u30d0\u30fc\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3054\u3068\u306b\u4e00\u610f\u306enonce\u5024\u3092\u751f\u6210"}),"\n",(0,i.jsx)(n.li,{children:"HTML\u306escript\u30bf\u30b0\u306bnonce\u5c5e\u6027\u3092\u4ed8\u4e0e"}),"\n",(0,i.jsx)(n.li,{children:"CSP\u30d8\u30c3\u30c0\u30fc\u3067\u540c\u3058nonce\u5024\u3092\u6307\u5b9a"}),"\n",(0,i.jsx)(n.li,{children:"nonce\u5024\u304c\u4e00\u81f4\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u307f\u5b9f\u884c\u3092\u8a31\u53ef"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u6ce8\u610f\u70b9-1",children:"\u6ce8\u610f\u70b9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"- nonce\u306f\u6697\u53f7\u5b66\u7684\u306b\u5b89\u5168\u306a\u30e9\u30f3\u30c0\u30e0\u5024\uff08128\u30d3\u30c3\u30c8\u4ee5\u4e0a\uff09\n- \u30ea\u30af\u30a8\u30b9\u30c8\u3054\u3068\u306b\u65b0\u3057\u3044nonce\u3092\u751f\u6210\uff08\u4f7f\u3044\u56de\u3057\u7981\u6b62\uff09\n- strict-dynamic\u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u67d4\u8edf\u6027\u5411\u4e0a\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u53c2\u8003\u8cc7\u6599",children:"\u53c2\u8003\u8cc7\u6599"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://owasp.org/www-project-secure-headers/",children:"OWASP Secure Headers Project"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers",children:"MDN HTTP Headers"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://content-security-policy.com/",children:"Content Security Policy Reference"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u6700\u7d42\u66f4\u65b0"}),": 2025-12-25\n",(0,i.jsx)(n.strong,{children:"\u5bfe\u8c61"}),": Web\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u521d\u5fc3\u8005\u301c\u4e2d\u7d1a\u8005"]})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>t});var s=r(96540);const i={},l=s.createContext(i);function c(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);