"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[39368],{20110:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>t,contentTitle:()=>d,default:()=>o,frontMatter:()=>c,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"content_11_learning/microservices/service-communication","title":"\u30b5\u30fc\u30d3\u30b9\u9593\u901a\u4fe1\u30d1\u30bf\u30fc\u30f3","description":"---","source":"@site/docs/content_11_learning/26-microservices/02-service-communication.md","sourceDirName":"content_11_learning/26-microservices","slug":"/content_11_learning/microservices/service-communication","permalink":"/idp-server/docs/content_11_learning/microservices/service-communication","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/26-microservices/02-service-communication.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docs","previous":{"title":"\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u57fa\u790e","permalink":"/idp-server/docs/content_11_learning/microservices/microservices-fundamentals"},"next":{"title":"\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306e\u30c7\u30fc\u30bf\u7ba1\u7406","permalink":"/idp-server/docs/content_11_learning/microservices/data-management"}}');var s=r(74848),l=r(28453);const c={sidebar_position:2},d="\u30b5\u30fc\u30d3\u30b9\u9593\u901a\u4fe1\u30d1\u30bf\u30fc\u30f3",t={},h=[{value:"\u6982\u8981",id:"\u6982\u8981",level:2},{value:"\u901a\u4fe1\u65b9\u5f0f\u306e\u5206\u985e",id:"\u901a\u4fe1\u65b9\u5f0f\u306e\u5206\u985e",level:2},{value:"\u540c\u671f vs \u975e\u540c\u671f",id:"\u540c\u671f-vs-\u975e\u540c\u671f",level:3},{value:"\u540c\u671f\u901a\u4fe1",id:"\u540c\u671f\u901a\u4fe1",level:2},{value:"REST API",id:"rest-api",level:3},{value:"gRPC",id:"grpc",level:3},{value:"GraphQL",id:"graphql",level:3},{value:"\u975e\u540c\u671f\u901a\u4fe1",id:"\u975e\u540c\u671f\u901a\u4fe1",level:2},{value:"\u30e1\u30c3\u30bb\u30fc\u30b8\u30ad\u30e5\u30fc",id:"\u30e1\u30c3\u30bb\u30fc\u30b8\u30ad\u30e5\u30fc",level:3},{value:"Pub/Sub\uff08Publish/Subscribe\uff09",id:"pubsubpublishsubscribe",level:3},{value:"\u30a4\u30d9\u30f3\u30c8\u30bd\u30fc\u30b7\u30f3\u30b0",id:"\u30a4\u30d9\u30f3\u30c8\u30bd\u30fc\u30b7\u30f3\u30b0",level:3},{value:"\u901a\u4fe1\u30d1\u30bf\u30fc\u30f3\u306e\u9078\u629e",id:"\u901a\u4fe1\u30d1\u30bf\u30fc\u30f3\u306e\u9078\u629e",level:2},{value:"\u7528\u9014\u5225\u306e\u63a8\u5968",id:"\u7528\u9014\u5225\u306e\u63a8\u5968",level:3},{value:"\u30b5\u30fc\u30d3\u30b9\u9593\u8a8d\u8a3c",id:"\u30b5\u30fc\u30d3\u30b9\u9593\u8a8d\u8a3c",level:2},{value:"mTLS\uff08\u76f8\u4e92TLS\uff09",id:"mtls\u76f8\u4e92tls",level:3},{value:"API \u30ad\u30fc / JWT",id:"api-\u30ad\u30fc--jwt",level:3},{value:"\u30b5\u30fc\u30ad\u30c3\u30c8\u30d6\u30ec\u30fc\u30ab\u30fc\u30d1\u30bf\u30fc\u30f3",id:"\u30b5\u30fc\u30ad\u30c3\u30c8\u30d6\u30ec\u30fc\u30ab\u30fc\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u969c\u5bb3\u306e\u9023\u9396\u3092\u9632\u3050",id:"\u969c\u5bb3\u306e\u9023\u9396\u3092\u9632\u3050",level:3},{value:"\u30ea\u30c8\u30e9\u30a4\u30d1\u30bf\u30fc\u30f3",id:"\u30ea\u30c8\u30e9\u30a4\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u4e00\u6642\u7684\u306a\u969c\u5bb3\u3078\u306e\u5bfe\u5fdc",id:"\u4e00\u6642\u7684\u306a\u969c\u5bb3\u3078\u306e\u5bfe\u5fdc",level:3},{value:"\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a",id:"\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a",level:2},{value:"\u63a8\u5968\u5024",id:"\u63a8\u5968\u5024",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u901a\u4fe1\u65b9\u5f0f\u306e\u9078\u629e\u57fa\u6e96",id:"\u901a\u4fe1\u65b9\u5f0f\u306e\u9078\u629e\u57fa\u6e96",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2},{value:"\u53c2\u8003\u30ea\u30f3\u30af",id:"\u53c2\u8003\u30ea\u30f3\u30af",level:2}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u30b5\u30fc\u30d3\u30b9\u9593\u901a\u4fe1\u30d1\u30bf\u30fc\u30f3",children:"\u30b5\u30fc\u30d3\u30b9\u9593\u901a\u4fe1\u30d1\u30bf\u30fc\u30f3"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u6982\u8981",children:"\u6982\u8981"}),"\n",(0,s.jsx)(e.p,{children:"\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3067\u306f\u3001\u30b5\u30fc\u30d3\u30b9\u9593\u306e\u901a\u4fe1\u65b9\u5f0f\u304c\u91cd\u8981\u306a\u8a2d\u8a08\u8981\u7d20\u3067\u3059\u3002\u672c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306f\u3001\u540c\u671f\u901a\u4fe1\u3068\u975e\u540c\u671f\u901a\u4fe1\u306e\u30d1\u30bf\u30fc\u30f3\u3001\u305d\u308c\u305e\u308c\u306e\u7279\u5fb4\u3068\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002"}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u901a\u4fe1\u65b9\u5f0f\u306e\u5206\u985e",children:"\u901a\u4fe1\u65b9\u5f0f\u306e\u5206\u985e"}),"\n",(0,s.jsx)(e.h3,{id:"\u540c\u671f-vs-\u975e\u540c\u671f",children:"\u540c\u671f vs \u975e\u540c\u671f"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u540c\u671f\u901a\u4fe1                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u30b5\u30fc\u30d3\u30b9A \u2192 \u30ea\u30af\u30a8\u30b9\u30c8 \u2192 \u30b5\u30fc\u30d3\u30b9B     \u2502\n\u2502            \u2190 \u30ec\u30b9\u30dd\u30f3\u30b9 \u2190               \u2502\n\u2502                                         \u2502\n\u2502  \u7279\u5fb4:                                   \u2502\n\u2502  - \u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u5f85\u3064                     \u2502\n\u2502  - \u5373\u5ea7\u306b\u7d50\u679c\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u4f7f\u7528         \u2502\n\u2502  - \u5b9f\u88c5\u304c\u30b7\u30f3\u30d7\u30eb                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u975e\u540c\u671f\u901a\u4fe1                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u30b5\u30fc\u30d3\u30b9A \u2192 \u30e1\u30c3\u30bb\u30fc\u30b8 \u2192 \u30ad\u30e5\u30fc        \u2502\n\u2502                              \u2193          \u2502\n\u2502                          \u30b5\u30fc\u30d3\u30b9B      \u2502\n\u2502                          (\u5f8c\u3067\u51e6\u7406)      \u2502\n\u2502                                         \u2502\n\u2502  \u7279\u5fb4:                                   \u2502\n\u2502  - \u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u5f85\u305f\u306a\u3044                 \u2502\n\u2502  - \u758e\u7d50\u5408                               \u2502\n\u2502  - \u8907\u96d1\u6027\u304c\u5897\u3059                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u540c\u671f\u901a\u4fe1",children:"\u540c\u671f\u901a\u4fe1"}),"\n",(0,s.jsx)(e.h3,{id:"rest-api",children:"REST API"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u57fa\u672c\u30d1\u30bf\u30fc\u30f3"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"GET    /users/{id}        # \u30e6\u30fc\u30b6\u30fc\u53d6\u5f97\nPOST   /users             # \u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\nPUT    /users/{id}        # \u30e6\u30fc\u30b6\u30fc\u66f4\u65b0\nDELETE /users/{id}        # \u30e6\u30fc\u30b6\u30fc\u524a\u9664\n\n\u901a\u4fe1:\nHTTP/1.1 \u307e\u305f\u306f HTTP/2\n\u30c7\u30fc\u30bf\u5f62\u5f0f: JSON\n\n\u5229\u70b9:\n\u2713 \u5e83\u304f\u4f7f\u308f\u308c\u3066\u3044\u308b\n\u2713 \u30c7\u30d0\u30c3\u30b0\u304c\u5bb9\u6613\n\u2713 \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u76f4\u63a5\u30c6\u30b9\u30c8\u53ef\u80fd\n\u2713 \u30c4\u30fc\u30eb\u30b5\u30dd\u30fc\u30c8\u304c\u8c4a\u5bcc\n\n\u8ab2\u984c:\n\u26a0 \u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\uff08\u30c6\u30ad\u30b9\u30c8\u30d9\u30fc\u30b9\uff09\n\u26a0 \u30b9\u30ad\u30fc\u30de\u304c\u975e\u660e\u793a\u7684\n\u26a0 \u30d0\u30fc\u30b8\u30e7\u30cb\u30f3\u30b0\u304c\u5fc5\u8981\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"grpc",children:"gRPC"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u7279\u5fb4"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Protocol Buffers \u3067\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9:\n\n// user.proto\nservice UserService {\n  rpc GetUser(GetUserRequest) returns (User);\n  rpc CreateUser(CreateUserRequest) returns (User);\n}\n\nmessage User {\n  string id = 1;\n  string name = 2;\n  string email = 3;\n}\n\n\u901a\u4fe1:\nHTTP/2\n\u30c7\u30fc\u30bf\u5f62\u5f0f: Protocol Buffers\uff08\u30d0\u30a4\u30ca\u30ea\uff09\n\n\u5229\u70b9:\n\u2713 \u9ad8\u901f\uff08\u30d0\u30a4\u30ca\u30ea\uff09\n\u2713 \u578b\u5b89\u5168\uff08\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\uff09\n\u2713 \u53cc\u65b9\u5411\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\n\u2713 \u591a\u8a00\u8a9e\u30b5\u30dd\u30fc\u30c8\n\n\u8ab2\u984c:\n\u26a0 \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u76f4\u63a5\u547c\u3073\u51fa\u3057\u56f0\u96e3\n\u26a0 \u30c7\u30d0\u30c3\u30b0\u30c4\u30fc\u30eb\u304c\u9650\u5b9a\u7684\n\u26a0 \u5b66\u7fd2\u66f2\u7dda\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"graphql",children:"GraphQL"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u7279\u5fb4"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3092\u6307\u5b9a:\n\nquery {\n  user(id: "123") {\n    name\n    email\n    posts {\n      title\n    }\n  }\n}\n\n\u5229\u70b9:\n\u2713 \u904e\u4e0d\u8db3\u306a\u3044\u30c7\u30fc\u30bf\u53d6\u5f97\n\u2713 \u8907\u6570\u30ea\u30bd\u30fc\u30b9\u30921\u30ea\u30af\u30a8\u30b9\u30c8\u3067\n\u2713 \u578b\u30b7\u30b9\u30c6\u30e0\n\u2713 \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a\u304c\u52b9\u7387\u7684\n\n\u8ab2\u984c:\n\u26a0 \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u8907\u96d1\u6027\n\u26a0 N+1\u30af\u30a8\u30ea\u554f\u984c\n\u26a0 \u30ad\u30e3\u30c3\u30b7\u30f3\u30b0\u6226\u7565\u304c\u8907\u96d1\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u975e\u540c\u671f\u901a\u4fe1",children:"\u975e\u540c\u671f\u901a\u4fe1"}),"\n",(0,s.jsx)(e.h3,{id:"\u30e1\u30c3\u30bb\u30fc\u30b8\u30ad\u30e5\u30fc",children:"\u30e1\u30c3\u30bb\u30fc\u30b8\u30ad\u30e5\u30fc"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Point-to-Point\uff081\u5bfe1\uff09"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Producer \u2192 Queue \u2192 Consumer\n\n\u4f8b: RabbitMQ\n\n\u5229\u70b9:\n- \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u9806\u5e8f\u4fdd\u8a3c\n- \u78ba\u5b9f\u306a\u914d\u4fe1\uff08ACK\uff09\n- \u8ca0\u8377\u306e\u5e73\u6e96\u5316\n\n\u7528\u9014:\n- \u30bf\u30b9\u30af\u30ad\u30e5\u30fc\n- \u30b8\u30e7\u30d6\u51e6\u7406\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"pubsubpublishsubscribe",children:"Pub/Sub\uff08Publish/Subscribe\uff09"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"1\u5bfe\u591a\u306e\u914d\u4fe1"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Publisher \u2192 Topic \u2192 Subscriber A\n                  \u2192 Subscriber B\n                  \u2192 Subscriber C\n\n\u4f8b: Apache Kafka, Google Pub/Sub\n\n\u5229\u70b9:\n- \u758e\u7d50\u5408\n- \u8907\u6570\u30b5\u30fc\u30d3\u30b9\u304c\u540c\u3058\u30a4\u30d9\u30f3\u30c8\u3092\u51e6\u7406\n- \u30b9\u30b1\u30fc\u30e9\u30d6\u30eb\n\n\u7528\u9014:\n- \u30a4\u30d9\u30f3\u30c8\u99c6\u52d5\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\n- \u30ed\u30b0\u96c6\u7d04\n- \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u5206\u6790\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"\u30a4\u30d9\u30f3\u30c8\u30bd\u30fc\u30b7\u30f3\u30b0",children:"\u30a4\u30d9\u30f3\u30c8\u30bd\u30fc\u30b7\u30f3\u30b0"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u72b6\u614b\u306e\u5909\u66f4\u3092\u30a4\u30d9\u30f3\u30c8\u3068\u3057\u3066\u8a18\u9332:\n\n\u30a4\u30d9\u30f3\u30c8\u30b9\u30c8\u30a2:\n\u251c\u2500 UserCreated (id=123, name=Alice)\n\u251c\u2500 EmailUpdated (id=123, email=new@example.com)\n\u2514\u2500 UserDeleted (id=123)\n\n\u73fe\u5728\u306e\u72b6\u614b = \u5168\u30a4\u30d9\u30f3\u30c8\u306e\u518d\u751f\u7d50\u679c\n\n\u5229\u70b9:\n- \u5b8c\u5168\u306a\u76e3\u67fb\u30ed\u30b0\n- \u6642\u9593\u3092\u9061\u308c\u308b\n- \u30a4\u30d9\u30f3\u30c8\u99c6\u52d5\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3068\u306e\u89aa\u548c\u6027\n\n\u8ab2\u984c:\n- \u30b9\u30c8\u30ec\u30fc\u30b8\u5897\u52a0\n- \u30a4\u30d9\u30f3\u30c8\u518d\u751f\u306e\u30b3\u30b9\u30c8\n- \u30b9\u30ad\u30fc\u30de\u9032\u5316\u306e\u7ba1\u7406\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u901a\u4fe1\u30d1\u30bf\u30fc\u30f3\u306e\u9078\u629e",children:"\u901a\u4fe1\u30d1\u30bf\u30fc\u30f3\u306e\u9078\u629e"}),"\n",(0,s.jsx)(e.h3,{id:"\u7528\u9014\u5225\u306e\u63a8\u5968",children:"\u7528\u9014\u5225\u306e\u63a8\u5968"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u5fdc\u7b54\u304c\u5fc5\u8981:\n\u2514\u2500 REST API \u307e\u305f\u306f gRPC\n\n\u9ad8\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u3001\u30d0\u30c3\u30c1\u51e6\u7406:\n\u2514\u2500 \u30e1\u30c3\u30bb\u30fc\u30b8\u30ad\u30e5\u30fc\n\n\u30a4\u30d9\u30f3\u30c8\u901a\u77e5\u3001\u8907\u6570\u30b5\u30fc\u30d3\u30b9\u3078\u306e\u914d\u4fe1:\n\u2514\u2500 Pub/Sub\n\n\u76e3\u67fb\u30ed\u30b0\u3001\u72b6\u614b\u5fa9\u5143\u304c\u5fc5\u8981:\n\u2514\u2500 \u30a4\u30d9\u30f3\u30c8\u30bd\u30fc\u30b7\u30f3\u30b0\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30b5\u30fc\u30d3\u30b9\u9593\u8a8d\u8a3c",children:"\u30b5\u30fc\u30d3\u30b9\u9593\u8a8d\u8a3c"}),"\n",(0,s.jsx)(e.h3,{id:"mtls\u76f8\u4e92tls",children:"mTLS\uff08\u76f8\u4e92TLS\uff09"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u30b5\u30fc\u30d3\u30b9A \u2190\u2192 \u8a3c\u660e\u66f8\u691c\u8a3c \u2190\u2192 \u30b5\u30fc\u30d3\u30b9B\n\n\u4ed5\u7d44\u307f:\n1. \u30b5\u30fc\u30d3\u30b9A \u304c\u8a3c\u660e\u66f8\u3092\u63d0\u793a\n2. \u30b5\u30fc\u30d3\u30b9B \u304c\u691c\u8a3c\n3. \u30b5\u30fc\u30d3\u30b9B \u304c\u8a3c\u660e\u66f8\u3092\u63d0\u793a\n4. \u30b5\u30fc\u30d3\u30b9A \u304c\u691c\u8a3c\n5. \u6697\u53f7\u5316\u901a\u4fe1\u958b\u59cb\n\n\u5229\u70b9:\n- \u5f37\u56fa\u306a\u8a8d\u8a3c\n- \u901a\u4fe1\u306e\u6697\u53f7\u5316\n- \u30b5\u30fc\u30d3\u30b9\u30e1\u30c3\u30b7\u30e5\u3067\u81ea\u52d5\u5316\u53ef\u80fd\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"api-\u30ad\u30fc--jwt",children:"API \u30ad\u30fc / JWT"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u30ea\u30af\u30a8\u30b9\u30c8:\nAuthorization: Bearer <JWT>\n\n\u30b5\u30fc\u30d3\u30b9B:\n1. JWT \u306e\u7f72\u540d\u691c\u8a3c\n2. \u6709\u52b9\u671f\u9650\u78ba\u8a8d\n3. \u30b9\u30b3\u30fc\u30d7\u78ba\u8a8d\n4. \u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\n\n\u5229\u70b9:\n- \u5b9f\u88c5\u304c\u30b7\u30f3\u30d7\u30eb\n- \u5e83\u304f\u4f7f\u308f\u308c\u3066\u3044\u308b\n\n\u8ab2\u984c:\n- \u30ad\u30fc\u306e\u7ba1\u7406\n- \u30c8\u30fc\u30af\u30f3\u306e\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30b5\u30fc\u30ad\u30c3\u30c8\u30d6\u30ec\u30fc\u30ab\u30fc\u30d1\u30bf\u30fc\u30f3",children:"\u30b5\u30fc\u30ad\u30c3\u30c8\u30d6\u30ec\u30fc\u30ab\u30fc\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,s.jsx)(e.h3,{id:"\u969c\u5bb3\u306e\u9023\u9396\u3092\u9632\u3050",children:"\u969c\u5bb3\u306e\u9023\u9396\u3092\u9632\u3050"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u901a\u5e38\u6642:\n\u30b5\u30fc\u30d3\u30b9A \u2192 \u30b5\u30fc\u30d3\u30b9B\uff08\u6b63\u5e38\uff09\n           \u2190 \u30ec\u30b9\u30dd\u30f3\u30b9\n\n\u969c\u5bb3\u6642:\n\u30b5\u30fc\u30d3\u30b9A \u2192 \u30b5\u30fc\u30d3\u30b9B\uff08\u30a8\u30e9\u30fc\uff09\n           \u2190 \u30a8\u30e9\u30fc\uff08\u7e70\u308a\u8fd4\u3057\uff09\n\n\u30b5\u30fc\u30ad\u30c3\u30c8\u30d6\u30ec\u30fc\u30ab\u30fc\u4f5c\u52d5:\n\u30b5\u30fc\u30d3\u30b9A \u2192 \u30b5\u30fc\u30ad\u30c3\u30c8\u30d6\u30ec\u30fc\u30ab\u30fc\n           \u2192 \u5373\u5ea7\u306b\u30a8\u30e9\u30fc\u8fd4\u5374\uff08\u30b5\u30fc\u30d3\u30b9B\u3092\u547c\u3070\u306a\u3044\uff09\n\n\u4e00\u5b9a\u6642\u9593\u5f8c:\n\u2514\u2500 \u518d\u8a66\u884c\uff08Half-Open\u72b6\u614b\uff09\n   \u2514\u2500 \u6210\u529f \u2192 \u56de\u8def\u9589\u3058\u308b\n   \u2514\u2500 \u5931\u6557 \u2192 \u56de\u8def\u958b\u3044\u305f\u307e\u307e\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5b9f\u88c5\u4f8b\uff08Resilience4j\uff09"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'@CircuitBreaker(name = "userService", fallbackMethod = "fallback")\npublic User getUser(String id) {\n    return userServiceClient.getUser(id);\n}\n\npublic User fallback(String id, Exception e) {\n    // \u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u8fd4\u3059\u3001\u307e\u305f\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\n    return cache.get(id);\n}\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30ea\u30c8\u30e9\u30a4\u30d1\u30bf\u30fc\u30f3",children:"\u30ea\u30c8\u30e9\u30a4\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,s.jsx)(e.h3,{id:"\u4e00\u6642\u7684\u306a\u969c\u5bb3\u3078\u306e\u5bfe\u5fdc",children:"\u4e00\u6642\u7684\u306a\u969c\u5bb3\u3078\u306e\u5bfe\u5fdc"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u6307\u6570\u30d0\u30c3\u30af\u30aa\u30d5:\n\n\u8a66\u884c1: \u5373\u5ea7\n\u8a66\u884c2: 1\u79d2\u5f8c\n\u8a66\u884c3: 2\u79d2\u5f8c\n\u8a66\u884c4: 4\u79d2\u5f8c\n\u8a66\u884c5: 8\u79d2\u5f8c\n  \u2193\n\u6700\u5927\u30ea\u30c8\u30e9\u30a4\u56de\u6570\u5230\u9054 \u2192 \u30a8\u30e9\u30fc\n\n\u8003\u616e\u4e8b\u9805:\n- \u51aa\u7b49\u6027\uff08\u540c\u3058\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u8907\u6570\u56de\u5b9f\u884c\u3057\u3066\u3082\u5b89\u5168\uff09\n- \u30b8\u30c3\u30bf\u30fc\uff08\u30ea\u30c8\u30e9\u30a4\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u30e9\u30f3\u30c0\u30e0\u5316\uff09\n- \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a",children:"\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a"}),"\n",(0,s.jsx)(e.h3,{id:"\u63a8\u5968\u5024",children:"\u63a8\u5968\u5024"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u30b5\u30fc\u30d3\u30b9\u306e\u7a2e\u985e\u306b\u3088\u3063\u3066\u8abf\u6574:\n\n\u540c\u671fAPI\u547c\u3073\u51fa\u3057:\n\u251c\u2500 \u63a5\u7d9a\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8: 1-3\u79d2\n\u251c\u2500 \u8aad\u307f\u53d6\u308a\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8: 5-30\u79d2\n\u2514\u2500 \u5408\u8a08: \u901a\u5e3830\u79d2\u4ee5\u5185\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30a8\u30ea:\n\u251c\u2500 \u63a5\u7d9a\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8: 5\u79d2\n\u2514\u2500 \u30af\u30a8\u30ea\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8: 10-60\u79d2\n\n\u5916\u90e8API:\n\u2514\u2500 \u4fdd\u5b88\u7684\u306b\u8a2d\u5b9a\uff0860\u79d2\u7b49\uff09\n\n\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u8a2d\u5b9a\u306e\u539f\u5247:\n- \u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u77ed\u3081\u306b\n- \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30d1\u30b9\u306f\u7279\u306b\u77ed\u304f\n- \u6bb5\u968e\u7684\u306b\u7de9\u548c\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,s.jsx)(e.h3,{id:"\u901a\u4fe1\u65b9\u5f0f\u306e\u9078\u629e\u57fa\u6e96",children:"\u901a\u4fe1\u65b9\u5f0f\u306e\u9078\u629e\u57fa\u6e96"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u540c\u671f\u901a\u4fe1\uff08REST/gRPC\uff09:\n- \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u5fdc\u7b54\u304c\u5fc5\u8981\n- \u30b7\u30f3\u30d7\u30eb\u306a\u5b9f\u88c5\n- \u7d50\u5408\u5ea6\u304c\u3084\u3084\u9ad8\u3044\n\n\u975e\u540c\u671f\u901a\u4fe1\uff08\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\uff09:\n- \u758e\u7d50\u5408\u304c\u91cd\u8981\n- \u9ad8\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\n- \u8907\u96d1\u6027\u304c\u5897\u3059\n\n\u5b9f\u969b\u306f\u4e21\u65b9\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u7528\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/microservices/data-management",children:"03-data-management.md"})," - \u30c7\u30fc\u30bf\u7ba1\u7406\u6226\u7565"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/microservices/observability",children:"04-observability.md"})," - \u89b3\u6e2c\u6027"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u53c2\u8003\u30ea\u30f3\u30af",children:"\u53c2\u8003\u30ea\u30f3\u30af"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://grpc.io/docs/",children:"gRPC Documentation"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://kafka.apache.org/documentation/",children:"Apache Kafka Documentation"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://martinfowler.com/bliki/CircuitBreaker.html",children:"Circuit Breaker Pattern (Martin Fowler)"})}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u6700\u7d42\u66f4\u65b0"}),": 2026-01-24"]})]})}function o(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},28453:(n,e,r)=>{r.d(e,{R:()=>c,x:()=>d});var i=r(96540);const s={},l=i.createContext(s);function c(n){const e=i.useContext(l);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),i.createElement(l.Provider,{value:e},n.children)}}}]);