"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1562],{13013:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>t,contentTitle:()=>a,default:()=>j,frontMatter:()=>d,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"content_11_learning/jvm/jvm-05-gc-tuning","title":"GC\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0","description":"\u306f\u3058\u3081\u306b","source":"@site/docs/content_11_learning/20-jvm/jvm-05-gc-tuning.md","sourceDirName":"content_11_learning/20-jvm","slug":"/content_11_learning/jvm/jvm-05-gc-tuning","permalink":"/idp-server/docs/content_11_learning/jvm/jvm-05-gc-tuning","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/20-jvm/jvm-05-gc-tuning.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\u30ac\u30d9\u30fc\u30b8\u30b3\u30ec\u30af\u30b7\u30e7\u30f3","permalink":"/idp-server/docs/content_11_learning/jvm/jvm-04-gc"},"next":{"title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9","permalink":"/idp-server/docs/content_11_learning/jvm/jvm-06-performance"}}');var s=l(74848),i=l(28453);const d={},a="GC\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0",t={},c=[{value:"\u306f\u3058\u3081\u306b",id:"\u306f\u3058\u3081\u306b",level:2},{value:"\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u76ee\u6a19",id:"\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u76ee\u6a19",level:2},{value:"3\u3064\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5",id:"3\u3064\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5",level:3},{value:"\u76ee\u6a19\u8a2d\u5b9a\u306e\u4f8b",id:"\u76ee\u6a19\u8a2d\u5b9a\u306e\u4f8b",level:3},{value:"\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u624b\u9806",id:"\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u624b\u9806",level:2},{value:"\u30b9\u30c6\u30c3\u30d71: \u73fe\u72b6\u306e\u628a\u63e1",id:"\u30b9\u30c6\u30c3\u30d71-\u73fe\u72b6\u306e\u628a\u63e1",level:3},{value:"\u30b9\u30c6\u30c3\u30d72: \u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u306e\u6e2c\u5b9a",id:"\u30b9\u30c6\u30c3\u30d72-\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u306e\u6e2c\u5b9a",level:3},{value:"\u30b9\u30c6\u30c3\u30d73: \u4eee\u8aac\u3068\u691c\u8a3c",id:"\u30b9\u30c6\u30c3\u30d73-\u4eee\u8aac\u3068\u691c\u8a3c",level:3},{value:"\u30d2\u30fc\u30d7\u30b5\u30a4\u30ba\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0",id:"\u30d2\u30fc\u30d7\u30b5\u30a4\u30ba\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0",level:2},{value:"\u9069\u5207\u306a\u30d2\u30fc\u30d7\u30b5\u30a4\u30ba",id:"\u9069\u5207\u306a\u30d2\u30fc\u30d7\u30b5\u30a4\u30ba",level:3},{value:"\u30b5\u30a4\u30ba\u6c7a\u5b9a\u306e\u6307\u91dd",id:"\u30b5\u30a4\u30ba\u6c7a\u5b9a\u306e\u6307\u91dd",level:3},{value:"Live Data Set\u306e\u6e2c\u5b9a",id:"live-data-set\u306e\u6e2c\u5b9a",level:3},{value:"G1 GC \u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0",id:"g1-gc-\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0",level:2},{value:"\u4e3b\u8981\u30d1\u30e9\u30e1\u30fc\u30bf",id:"\u4e3b\u8981\u30d1\u30e9\u30e1\u30fc\u30bf",level:3},{value:"\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5f71\u97ff",id:"\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5f71\u97ff",level:3},{value:"\u3088\u304f\u3042\u308b\u554f\u984c\u3068\u5bfe\u7b56",id:"\u3088\u304f\u3042\u308b\u554f\u984c\u3068\u5bfe\u7b56",level:3},{value:"ZGC \u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0",id:"zgc-\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0",level:2},{value:"\u57fa\u672c\u8a2d\u5b9a",id:"\u57fa\u672c\u8a2d\u5b9a",level:3},{value:"ZGC\u56fa\u6709\u306e\u30d1\u30e9\u30e1\u30fc\u30bf",id:"zgc\u56fa\u6709\u306e\u30d1\u30e9\u30e1\u30fc\u30bf",level:3},{value:"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3068\u53ef\u8996\u5316",id:"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3068\u53ef\u8996\u5316",level:2},{value:"jstat \u306b\u3088\u308b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u76e3\u8996",id:"jstat-\u306b\u3088\u308b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u76e3\u8996",level:3},{value:"GC\u30ed\u30b0\u306e\u5206\u6790",id:"gc\u30ed\u30b0\u306e\u5206\u6790",level:3},{value:"Prometheus\u306b\u3088\u308b\u76e3\u8996",id:"prometheus\u306b\u3088\u308b\u76e3\u8996",level:3},{value:"\u672c\u756a\u74b0\u5883\u306e\u63a8\u5968\u8a2d\u5b9a",id:"\u672c\u756a\u74b0\u5883\u306e\u63a8\u5968\u8a2d\u5b9a",level:2},{value:"Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff084GB \u30d2\u30fc\u30d7\uff09",id:"web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f34gb-\u30d2\u30fc\u30d7",level:3},{value:"\u4f4e\u30ec\u30a4\u30c6\u30f3\u30b7API\uff088GB \u30d2\u30fc\u30d7\uff09",id:"\u4f4e\u30ec\u30a4\u30c6\u30f3\u30b7api8gb-\u30d2\u30fc\u30d7",level:3},{value:"\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3",id:"\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:2}];function h(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"gc\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0",children:"GC\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0"})}),"\n",(0,s.jsx)(e.h2,{id:"\u306f\u3058\u3081\u306b",children:"\u306f\u3058\u3081\u306b"}),"\n",(0,s.jsx)(e.p,{children:"GC\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76ee\u6a19\uff08\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u3001\u30ec\u30a4\u30c6\u30f3\u30b7\u3001\u30d5\u30c3\u30c8\u30d7\u30ea\u30f3\u30c8\uff09\u306b\u5408\u308f\u305b\u3066GC\u306e\u52d5\u4f5c\u3092\u6700\u9069\u5316\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u672c\u7ae0\u3067\u306f\u3001\u5b9f\u8df5\u7684\u306a\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u624b\u6cd5\u3092\u89e3\u8aac\u3057\u307e\u3059\u3002"}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u76ee\u6a19",children:"\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u76ee\u6a19"}),"\n",(0,s.jsx)(e.h3,{id:"3\u3064\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5",children:"3\u3064\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                GC\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502                        \u30b9\u30eb\u30fc\u30d7\u30c3\u30c8                                  \u2502\n\u2502                            \u25b2                                         \u2502\n\u2502                           \u2571 \u2572                                        \u2502\n\u2502                          \u2571   \u2572                                       \u2502\n\u2502                         \u2571     \u2572                                      \u2502\n\u2502                        \u2571   \u25cf   \u2572     \u2190 \u7406\u60f3\u306e\u30d0\u30e9\u30f3\u30b9\u70b9             \u2502\n\u2502                       \u2571         \u2572                                    \u2502\n\u2502                      \u2571           \u2572                                   \u2502\n\u2502                     \u25bc             \u25bc                                  \u2502\n\u2502              \u30ec\u30a4\u30c6\u30f3\u30b7 \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 \u30d5\u30c3\u30c8\u30d7\u30ea\u30f3\u30c8                   \u2502\n\u2502                                                                      \u2502\n\u2502  \u30b9\u30eb\u30fc\u30d7\u30c3\u30c8: \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u51e6\u7406\u80fd\u529b                           \u2502\n\u2502  \u30ec\u30a4\u30c6\u30f3\u30b7  : GC\u505c\u6b62\u6642\u9593\uff08\u5fdc\u7b54\u6642\u9593\u306b\u5f71\u97ff\uff09                         \u2502\n\u2502  \u30d5\u30c3\u30c8\u30d7\u30ea\u30f3\u30c8: \u30e1\u30e2\u30ea\u4f7f\u7528\u91cf                                       \u2502\n\u2502                                                                      \u2502\n\u2502  \u203b 3\u3064\u5168\u3066\u3092\u540c\u6642\u306b\u6700\u9069\u5316\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044                         \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u76ee\u6a19\u8a2d\u5b9a\u306e\u4f8b",children:"\u76ee\u6a19\u8a2d\u5b9a\u306e\u4f8b"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3"}),(0,s.jsx)(e.th,{children:"\u512a\u5148\u76ee\u6a19"}),(0,s.jsx)(e.th,{children:"GC\u9078\u629e"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u30d0\u30c3\u30c1\u51e6\u7406"}),(0,s.jsx)(e.td,{children:"\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8"}),(0,s.jsx)(e.td,{children:"Parallel GC"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Web\u30a2\u30d7\u30ea"}),(0,s.jsx)(e.td,{children:"\u30ec\u30a4\u30c6\u30f3\u30b7"}),(0,s.jsx)(e.td,{children:"G1 GC"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0API"}),(0,s.jsx)(e.td,{children:"\u8d85\u4f4e\u30ec\u30a4\u30c6\u30f3\u30b7"}),(0,s.jsx)(e.td,{children:"ZGC / Shenandoah"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u7d44\u307f\u8fbc\u307f"}),(0,s.jsx)(e.td,{children:"\u30d5\u30c3\u30c8\u30d7\u30ea\u30f3\u30c8"}),(0,s.jsx)(e.td,{children:"Serial GC"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u624b\u9806",children:"\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u624b\u9806"}),"\n",(0,s.jsx)(e.h3,{id:"\u30b9\u30c6\u30c3\u30d71-\u73fe\u72b6\u306e\u628a\u63e1",children:"\u30b9\u30c6\u30c3\u30d71: \u73fe\u72b6\u306e\u628a\u63e1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# GC\u30ed\u30b0\u3092\u6709\u52b9\u5316\njava \\\n  -Xlog:gc*:file=gc.log:time,uptime,level,tags:filecount=5,filesize=100m \\\n  -jar app.jar\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u30b9\u30c6\u30c3\u30d72-\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u306e\u6e2c\u5b9a",children:"\u30b9\u30c6\u30c3\u30d72: \u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u306e\u6e2c\u5b9a"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u30e1\u30c8\u30ea\u30af\u30b9"}),(0,s.jsx)(e.th,{children:"\u6e2c\u5b9a\u65b9\u6cd5"}),(0,s.jsx)(e.th,{children:"\u76ee\u6a19\u4f8b"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"GC\u505c\u6b62\u6642\u9593"}),(0,s.jsx)(e.td,{children:"GC\u30ed\u30b0\u5206\u6790"}),(0,s.jsx)(e.td,{children:"p99 200ms\u672a\u6e80"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"GC\u983b\u5ea6"}),(0,s.jsx)(e.td,{children:"GC\u30ed\u30b0\u306eGC\u56de\u6570/\u6642\u9593"}),(0,s.jsx)(e.td,{children:"1\u56de/\u79d2\u672a\u6e80"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8"}),(0,s.jsx)(e.td,{children:"1 - (GC\u6642\u9593/\u7dcf\u5b9f\u884c\u6642\u9593)"}),(0,s.jsx)(e.td,{children:"95%\u4ee5\u4e0a"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u30d2\u30fc\u30d7\u4f7f\u7528\u7387"}),(0,s.jsx)(e.td,{children:"jstat -gc"}),(0,s.jsx)(e.td,{children:"70-80%\u3067\u5b89\u5b9a"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"\u30b9\u30c6\u30c3\u30d73-\u4eee\u8aac\u3068\u691c\u8a3c",children:"\u30b9\u30c6\u30c3\u30d73: \u4eee\u8aac\u3068\u691c\u8a3c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   \u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u30b5\u30a4\u30af\u30eb                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  1. \u554f\u984c\u306e\u7279\u5b9a                                                       \u2502\n\u2502     \u2193                                                                \u2502\n\u2502  2. \u539f\u56e0\u306e\u4eee\u8aac                                                       \u2502\n\u2502     \u2193                                                                \u2502\n\u2502  3. \u30d1\u30e9\u30e1\u30fc\u30bf\u5909\u66f4\uff081\u3064\u305a\u3064\uff09                                        \u2502\n\u2502     \u2193                                                                \u2502\n\u2502  4. \u8ca0\u8377\u30c6\u30b9\u30c8                                                       \u2502\n\u2502     \u2193                                                                \u2502\n\u2502  5. \u52b9\u679c\u306e\u6e2c\u5b9a                                                       \u2502\n\u2502     \u2193                                                                \u2502\n\u2502  6. \u6539\u5584\u3057\u305f\uff1f \u2500\u2500\u2500 No \u2500\u2192 2\u306b\u623b\u308b                                     \u2502\n\u2502     \u2502                                                                \u2502\n\u2502     \u2514\u2500 Yes \u2192 \u6b21\u306e\u554f\u984c\u3078                                              \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30d2\u30fc\u30d7\u30b5\u30a4\u30ba\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0",children:"\u30d2\u30fc\u30d7\u30b5\u30a4\u30ba\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0"}),"\n",(0,s.jsx)(e.h3,{id:"\u9069\u5207\u306a\u30d2\u30fc\u30d7\u30b5\u30a4\u30ba",children:"\u9069\u5207\u306a\u30d2\u30fc\u30d7\u30b5\u30a4\u30ba"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u521d\u671f\u30b5\u30a4\u30ba\u3068\u6700\u5927\u30b5\u30a4\u30ba\u3092\u540c\u3058\u306b\u8a2d\u5b9a\uff08\u52d5\u7684\u30ea\u30b5\u30a4\u30ba\u56de\u907f\uff09\njava -Xms4g -Xmx4g -jar app.jar\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u30b5\u30a4\u30ba\u6c7a\u5b9a\u306e\u6307\u91dd",children:"\u30b5\u30a4\u30ba\u6c7a\u5b9a\u306e\u6307\u91dd"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   \u30d2\u30fc\u30d7\u30b5\u30a4\u30ba\u306e\u6c7a\u5b9a                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  \u5c0f\u3055\u3059\u304e\u308b\u5834\u5408                                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  \u30fbGC\u983b\u5ea6\u304c\u9ad8\u3044                                                \u2502 \u2502\n\u2502  \u2502  \u30fbPromotion Failure\uff08\u6607\u683c\u5931\u6557\uff09                               \u2502 \u2502\n\u2502  \u2502  \u30fbOutOfMemoryError                                            \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                      \u2502\n\u2502  \u5927\u304d\u3059\u304e\u308b\u5834\u5408                                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  \u30fbGC\u505c\u6b62\u6642\u9593\u304c\u9577\u304f\u306a\u308b\uff08\u7279\u306bFull GC\uff09                         \u2502 \u2502\n\u2502  \u2502  \u30fb\u30e1\u30e2\u30ea\u306e\u7121\u99c4                                                \u2502 \u2502\n\u2502  \u2502  \u30fbOS \u306e\u30b9\u30ef\u30c3\u30d7\u767a\u751f\u30ea\u30b9\u30af                                     \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                      \u2502\n\u2502  \u9069\u5207\u306a\u30b5\u30a4\u30ba                                                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  \u30fbLive Data Set\uff08\u5e38\u6642\u4f7f\u7528\u4e2d\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09\u306e3\u301c4\u500d           \u2502 \u2502\n\u2502  \u2502  \u30fbFull GC\u5f8c\u306e\u30d2\u30fc\u30d7\u4f7f\u7528\u91cf\u3092\u6e2c\u5b9a\u3057\u3066\u6c7a\u5b9a                       \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(e.h3,{id:"live-data-set\u306e\u6e2c\u5b9a",children:"Live Data Set\u306e\u6e2c\u5b9a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Full GC\u3092\u5f37\u5236\u5b9f\u884c\u3057\u3066Live Data Set\u3092\u6e2c\u5b9a\njcmd <pid> GC.run\n\n# GC\u30ed\u30b0\u304b\u3089\u78ba\u8a8d\uff08Full GC\u5f8c\u306e\u30d2\u30fc\u30d7\u4f7f\u7528\u91cf\uff09\n# [gc] GC(5) Pause Full ... 2048M->512M(4096M)\n#                                    \u2191\n#                        \u3053\u308c\u304cLive Data Set\uff08\u7d04512MB\uff09\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"g1-gc-\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0",children:"G1 GC \u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0"}),"\n",(0,s.jsx)(e.h3,{id:"\u4e3b\u8981\u30d1\u30e9\u30e1\u30fc\u30bf",children:"\u4e3b\u8981\u30d1\u30e9\u30e1\u30fc\u30bf"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"java \\\n  -XX:+UseG1GC \\\n  # \u505c\u6b62\u6642\u9593\u76ee\u6a19\uff08\u30c7\u30d5\u30a9\u30eb\u30c8: 200ms\uff09\n  -XX:MaxGCPauseMillis=100 \\\n\n  # \u30d2\u30fc\u30d7\u5360\u6709\u7387\u304c\u3053\u306e\u5024\u3092\u8d85\u3048\u308b\u3068\u4e26\u884c\u30de\u30fc\u30af\u958b\u59cb\n  -XX:InitiatingHeapOccupancyPercent=45 \\\n\n  # \u30ea\u30fc\u30b8\u30e7\u30f3\u30b5\u30a4\u30ba\uff081MB\u301c32MB\u3001\u901a\u5e38\u306f\u81ea\u52d5\uff09\n  -XX:G1HeapRegionSize=16m \\\n\n  # \u4e26\u884c\u30de\u30fc\u30af\u30b9\u30ec\u30c3\u30c9\u6570\n  -XX:ConcGCThreads=4 \\\n\n  # \u4e26\u5217GC\u30b9\u30ec\u30c3\u30c9\u6570\n  -XX:ParallelGCThreads=8 \\\n\n  -jar app.jar\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5f71\u97ff",children:"\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5f71\u97ff"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,s.jsx)(e.th,{children:"\u5024\u3092\u4e0a\u3052\u308b\u3068"}),(0,s.jsx)(e.th,{children:"\u5024\u3092\u4e0b\u3052\u308b\u3068"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"MaxGCPauseMillis"}),(0,s.jsx)(e.td,{children:"GC\u983b\u5ea6\u5897\u3001\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u4f4e\u4e0b"}),(0,s.jsx)(e.td,{children:"\u505c\u6b62\u6642\u9593\u9577\u3001\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u5411\u4e0a"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"InitiatingHeapOccupancyPercent"}),(0,s.jsx)(e.td,{children:"\u30de\u30fc\u30af\u958b\u59cb\u9045\u5ef6\u3001Full GC\u30ea\u30b9\u30af"}),(0,s.jsx)(e.td,{children:"\u30de\u30fc\u30af\u983b\u5ea6\u5897\u3001\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u5897"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"ParallelGCThreads"}),(0,s.jsx)(e.td,{children:"CPU\u4f7f\u7528\u5897\u3001GC\u9ad8\u901f\u5316"}),(0,s.jsx)(e.td,{children:"GC\u9045\u5ef6"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"\u3088\u304f\u3042\u308b\u554f\u984c\u3068\u5bfe\u7b56",children:"\u3088\u304f\u3042\u308b\u554f\u984c\u3068\u5bfe\u7b56"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   G1 GC \u306e\u554f\u984c\u3068\u5bfe\u7b56                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  \u554f\u984c: Mixed GC \u304c\u8ffd\u3044\u3064\u304b\u306a\u3044\uff08To-space exhausted\uff09                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  \u5bfe\u7b56:                                                          \u2502 \u2502\n\u2502  \u2502  \u30fb-XX:G1ReservePercent=15  \uff08\u4e88\u5099\u9818\u57df\u3092\u5897\u3084\u3059\uff09               \u2502 \u2502\n\u2502  \u2502  \u30fb-XX:G1MixedGCCountTarget=8  \uff08Mixed GC\u56de\u6570\u5897\uff09              \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                      \u2502\n\u2502  \u554f\u984c: Humongous \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u591a\u3044                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  \u5bfe\u7b56:                                                          \u2502 \u2502\n\u2502  \u2502  \u30fb-XX:G1HeapRegionSize=32m  \uff08\u30ea\u30fc\u30b8\u30e7\u30f3\u30b5\u30a4\u30ba\u5897\uff09            \u2502 \u2502\n\u2502  \u2502  \u30fb\u30a2\u30d7\u30ea\u3067\u306e\u5927\u304d\u306a\u914d\u5217\u306e\u4f7f\u7528\u3092\u898b\u76f4\u3059                          \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                      \u2502\n\u2502  \u554f\u984c: Full GC \u304c\u767a\u751f\u3059\u308b                                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  \u5bfe\u7b56:                                                          \u2502 \u2502\n\u2502  \u2502  \u30fb\u30d2\u30fc\u30d7\u30b5\u30a4\u30ba\u3092\u5897\u3084\u3059                                        \u2502 \u2502\n\u2502  \u2502  \u30fb-XX:InitiatingHeapOccupancyPercent \u3092\u4e0b\u3052\u308b                 \u2502 \u2502\n\u2502  \u2502  \u30fb-XX:G1ReservePercent \u3092\u4e0a\u3052\u308b                               \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"zgc-\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0",children:"ZGC \u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0"}),"\n",(0,s.jsx)(e.h3,{id:"\u57fa\u672c\u8a2d\u5b9a",children:"\u57fa\u672c\u8a2d\u5b9a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"java \\\n  -XX:+UseZGC \\\n  -XX:+ZGenerational \\        # \u4e16\u4ee3\u5225ZGC\uff08Java 21+\u63a8\u5968\uff09\n  -Xms8g -Xmx8g \\\n  -jar app.jar\n"})}),"\n",(0,s.jsx)(e.h3,{id:"zgc\u56fa\u6709\u306e\u30d1\u30e9\u30e1\u30fc\u30bf",children:"ZGC\u56fa\u6709\u306e\u30d1\u30e9\u30e1\u30fc\u30bf"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u4e26\u884cGC\u30b9\u30ec\u30c3\u30c9\u6570\uff08\u30c7\u30d5\u30a9\u30eb\u30c8: CPU\u6570\u306e25%\uff09\n-XX:ConcGCThreads=4\n\n# Uncommit\u9045\u5ef6\uff08\u672a\u4f7f\u7528\u30e1\u30e2\u30ea\u3092OS\u306b\u8fd4\u3059\u307e\u3067\u306e\u6642\u9593\uff09\n-XX:ZUncommitDelay=300  # \u79d2\n\n# \u30bd\u30d5\u30c8\u6700\u5927\u30d2\u30fc\u30d7\uff08\u3053\u306e\u5024\u3092\u8d85\u3048\u308b\u3068\u3088\u308a\u7a4d\u6975\u7684\u306bGC\uff09\n-XX:SoftMaxHeapSize=6g\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3068\u53ef\u8996\u5316",children:"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3068\u53ef\u8996\u5316"}),"\n",(0,s.jsx)(e.h3,{id:"jstat-\u306b\u3088\u308b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u76e3\u8996",children:"jstat \u306b\u3088\u308b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u76e3\u8996"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u30d2\u30fc\u30d7\u4f7f\u7528\u72b6\u6cc1\uff081\u79d2\u9593\u9694\uff09\njstat -gc <pid> 1000\n\n# \u51fa\u529b\u4f8b\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC\n5120.0 5120.0  0.0   5012.3  41984.0  28736.2   87552.0    43210.5   52224.0\n\n# \u5217\u306e\u610f\u5473\n# S0C/S1C: Survivor 0/1 \u5bb9\u91cf\uff08KB\uff09\n# S0U/S1U: Survivor 0/1 \u4f7f\u7528\u91cf\uff08KB\uff09\n# EC/EU: Eden \u5bb9\u91cf/\u4f7f\u7528\u91cf\uff08KB\uff09\n# OC/OU: Old \u5bb9\u91cf/\u4f7f\u7528\u91cf\uff08KB\uff09\n# MC: Metaspace \u5bb9\u91cf\uff08KB\uff09\n"})}),"\n",(0,s.jsx)(e.h3,{id:"gc\u30ed\u30b0\u306e\u5206\u6790",children:"GC\u30ed\u30b0\u306e\u5206\u6790"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# GC\u30ed\u30b0\u304b\u3089GC\u7d71\u8a08\u3092\u62bd\u51fa\ngrep "Pause Young" gc.log | awk \'{print $NF}\' | sort -n | tail -10\n\n# \u505c\u6b62\u6642\u9593\u306e\u30d1\u30fc\u30bb\u30f3\u30bf\u30a4\u30eb\u8a08\u7b97\ngrep "Pause" gc.log | \\\n  awk -F\'[()]\' \'{gsub("ms","",$4); print $4}\' | \\\n  sort -n | \\\n  awk \'{a[NR]=$1} END {\n    print "Min:", a[1];\n    print "p50:", a[int(NR*0.5)];\n    print "p95:", a[int(NR*0.95)];\n    print "p99:", a[int(NR*0.99)];\n    print "Max:", a[NR]\n  }\'\n'})}),"\n",(0,s.jsx)(e.h3,{id:"prometheus\u306b\u3088\u308b\u76e3\u8996",children:"Prometheus\u306b\u3088\u308b\u76e3\u8996"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"# JMX Exporter\u8a2d\u5b9a\nrules:\n  - pattern: 'java.lang<type=GarbageCollector, name=(.*)><>CollectionCount'\n    name: jvm_gc_collection_count\n    labels:\n      gc: \"$1\"\n\n  - pattern: 'java.lang<type=GarbageCollector, name=(.*)><>CollectionTime'\n    name: jvm_gc_collection_time_ms\n    labels:\n      gc: \"$1\"\n\n  - pattern: 'java.lang<type=Memory><HeapMemoryUsage>used'\n    name: jvm_heap_used_bytes\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u672c\u756a\u74b0\u5883\u306e\u63a8\u5968\u8a2d\u5b9a",children:"\u672c\u756a\u74b0\u5883\u306e\u63a8\u5968\u8a2d\u5b9a"}),"\n",(0,s.jsx)(e.h3,{id:"web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f34gb-\u30d2\u30fc\u30d7",children:"Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff084GB \u30d2\u30fc\u30d7\uff09"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"java \\\n  # \u30e1\u30e2\u30ea\n  -Xms4g -Xmx4g \\\n  -XX:MaxMetaspaceSize=256m \\\n\n  # G1 GC\n  -XX:+UseG1GC \\\n  -XX:MaxGCPauseMillis=200 \\\n  -XX:InitiatingHeapOccupancyPercent=45 \\\n\n  # GC\u30ed\u30b0\n  -Xlog:gc*:file=/var/log/app/gc.log:time,uptime,level,tags:filecount=10,filesize=100m \\\n\n  # OOM\u5bfe\u7b56\n  -XX:+HeapDumpOnOutOfMemoryError \\\n  -XX:HeapDumpPath=/var/log/app/heapdump.hprof \\\n\n  # JMX\uff08\u76e3\u8996\u7528\uff09\n  -Dcom.sun.management.jmxremote \\\n  -Dcom.sun.management.jmxremote.port=9010 \\\n  -Dcom.sun.management.jmxremote.authenticate=false \\\n  -Dcom.sun.management.jmxremote.ssl=false \\\n\n  -jar app.jar\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u4f4e\u30ec\u30a4\u30c6\u30f3\u30b7api8gb-\u30d2\u30fc\u30d7",children:"\u4f4e\u30ec\u30a4\u30c6\u30f3\u30b7API\uff088GB \u30d2\u30fc\u30d7\uff09"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"java \\\n  # \u30e1\u30e2\u30ea\n  -Xms8g -Xmx8g \\\n  -XX:MaxMetaspaceSize=256m \\\n\n  # ZGC\uff08\u4e16\u4ee3\u5225\uff09\n  -XX:+UseZGC \\\n  -XX:+ZGenerational \\\n  -XX:SoftMaxHeapSize=6g \\\n\n  # GC\u30ed\u30b0\n  -Xlog:gc*:file=/var/log/app/gc.log:time,uptime,level,tags:filecount=10,filesize=100m \\\n\n  # OOM\u5bfe\u7b56\n  -XX:+HeapDumpOnOutOfMemoryError \\\n  -XX:HeapDumpPath=/var/log/app/heapdump.hprof \\\n\n  -jar app.jar\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3",children:"\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   GC\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                      \u2502\n\u2502  \u274c \u672c\u756a\u74b0\u5883\u3067\u3044\u304d\u306a\u308a\u30d1\u30e9\u30e1\u30fc\u30bf\u5909\u66f4                                 \u2502\n\u2502     \u2192 \u5fc5\u305a\u30b9\u30c6\u30fc\u30b8\u30f3\u30b0\u74b0\u5883\u3067\u8ca0\u8377\u30c6\u30b9\u30c8                              \u2502\n\u2502                                                                      \u2502\n\u2502  \u274c \u8907\u6570\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u540c\u6642\u306b\u5909\u66f4                                       \u2502\n\u2502     \u2192 1\u3064\u305a\u3064\u5909\u66f4\u3057\u3066\u52b9\u679c\u3092\u6e2c\u5b9a                                     \u2502\n\u2502                                                                      \u2502\n\u2502  \u274c System.gc() \u3092\u30b3\u30fc\u30c9\u5185\u3067\u547c\u3073\u51fa\u3057                                 \u2502\n\u2502     \u2192 GC\u30bf\u30a4\u30df\u30f3\u30b0\u306fJVM\u306b\u4efb\u305b\u308b                                     \u2502\n\u2502                                                                      \u2502\n\u2502  \u274c -XX:+DisableExplicitGC \u3067 System.gc() \u3092\u7121\u52b9\u5316                   \u2502\n\u2502     \u2192 NIO \u306e Direct Buffer \u89e3\u653e\u306b\u5f71\u97ff\u3059\u308b\u5834\u5408\u3042\u308a                   \u2502\n\u2502                                                                      \u2502\n\u2502  \u274c \u30d2\u30fc\u30d7\u3092\u7269\u7406\u30e1\u30e2\u30ea\u4ee5\u4e0a\u306b\u8a2d\u5b9a                                     \u2502\n\u2502     \u2192 \u30b9\u30ef\u30c3\u30d7\u767a\u751f\u3067\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u5927\u5e45\u4f4e\u4e0b                          \u2502\n\u2502                                                                      \u2502\n\u2502  \u274c GC\u30ed\u30b0\u306a\u3057\u3067\u672c\u756a\u904b\u7528                                             \u2502\n\u2502     \u2192 \u554f\u984c\u767a\u751f\u6642\u306b\u539f\u56e0\u7a76\u660e\u4e0d\u53ef                                      \u2502\n\u2502                                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u9805\u76ee"}),(0,s.jsx)(e.th,{children:"\u30dd\u30a4\u30f3\u30c8"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u76ee\u6a19\u8a2d\u5b9a"}),(0,s.jsx)(e.td,{children:"\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8/\u30ec\u30a4\u30c6\u30f3\u30b7/\u30d5\u30c3\u30c8\u30d7\u30ea\u30f3\u30c8\u306e\u512a\u5148\u9806\u4f4d"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3"}),(0,s.jsx)(e.td,{children:"\u307e\u305a\u73fe\u72b6\u3092\u6e2c\u5b9a\u3057\u3066\u304b\u3089\u6700\u9069\u5316"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u5909\u66f4\u306f1\u3064\u305a\u3064"}),(0,s.jsx)(e.td,{children:"\u52b9\u679c\u3092\u6b63\u78ba\u306b\u6e2c\u5b9a\u3059\u308b\u305f\u3081"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"G1 GC"}),(0,s.jsx)(e.td,{children:"MaxGCPauseMillis \u3067\u505c\u6b62\u6642\u9593\u76ee\u6a19\u3092\u8a2d\u5b9a"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"ZGC"}),(0,s.jsx)(e.td,{children:"\u8d85\u4f4e\u30ec\u30a4\u30c6\u30f3\u30b7\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u9078\u629e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u76e3\u8996"}),(0,s.jsx)(e.td,{children:"GC\u30ed\u30b0\u3001JMX\u3001Prometheus\u3067\u5e38\u6642\u76e3\u8996"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/jvm/jvm-06-performance",children:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9"})," - GC\u4ee5\u5916\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6700\u9069\u5316"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/idp-server/docs/content_11_learning/jvm/jvm-07-troubleshooting",children:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"})," - \u554f\u984c\u767a\u751f\u6642\u306e\u8abf\u67fb\u65b9\u6cd5"]}),"\n"]})]})}function j(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},28453:(n,e,l)=>{l.d(e,{R:()=>d,x:()=>a});var r=l(96540);const s={},i=r.createContext(s);function d(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:d(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);