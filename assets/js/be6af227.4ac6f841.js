"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1940],{33693:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>h,contentTitle:()=>c,default:()=>j,frontMatter:()=>r,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"content_11_learning/oauth-oidc-rfc/advanced/fapi1-baseline","title":"FAPI 1.0 Baseline Profile","description":"FAPI 1.0 Baseline Profile \u306f\u3001\u91d1\u878d API \u5411\u3051\u306e OAuth 2.0 / OIDC \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u57fa\u672c\u30ec\u30d9\u30eb\u3067\u3059\u3002","source":"@site/docs/content_11_learning/16-oauth-oidc-rfc/advanced/fapi1-baseline.md","sourceDirName":"content_11_learning/16-oauth-oidc-rfc/advanced","slug":"/content_11_learning/oauth-oidc-rfc/advanced/fapi1-baseline","permalink":"/idp-server/docs/content_11_learning/oauth-oidc-rfc/advanced/fapi1-baseline","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/16-oauth-oidc-rfc/advanced/fapi1-baseline.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"FAPI 1.0 Advanced Profile","permalink":"/idp-server/docs/content_11_learning/oauth-oidc-rfc/advanced/fapi1-advanced"},"next":{"title":"FAPI 2.0 Security Profile","permalink":"/idp-server/docs/content_11_learning/oauth-oidc-rfc/advanced/fapi2-security"}}');var d=i(74848),s=i(28453);const r={},c="FAPI 1.0 Baseline Profile",h={},t=[{value:"\u76ee\u6b21",id:"\u76ee\u6b21",level:2},{value:"\u7b2c1\u90e8: \u6982\u8981\u7de8",id:"\u7b2c1\u90e8-\u6982\u8981\u7de8",level:2},{value:"FAPI \u3068\u306f\uff1f",id:"fapi-\u3068\u306f",level:3},{value:"\u306a\u305c FAPI \u304c\u5fc5\u8981\u306a\u306e\u304b\uff1f",id:"\u306a\u305c-fapi-\u304c\u5fc5\u8981\u306a\u306e\u304b",level:3},{value:"\u80cc\u666f\u3068\u6b74\u53f2",id:"\u80cc\u666f\u3068\u6b74\u53f2",level:4},{value:"\u8105\u5a01\u30e2\u30c7\u30eb",id:"\u8105\u5a01\u30e2\u30c7\u30eb",level:4},{value:"Baseline vs Advanced",id:"baseline-vs-advanced",level:3},{value:"\u5b9f\u969b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9",id:"\u5b9f\u969b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9",level:3},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b91: \u6b8b\u9ad8\u7167\u4f1a\u30a2\u30d7\u30ea\uff08Baseline \u9069\u7528\uff09",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b91-\u6b8b\u9ad8\u7167\u4f1a\u30a2\u30d7\u30eabaseline-\u9069\u7528",level:4},{value:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b92: \u9001\u91d1\u30a2\u30d7\u30ea\uff08Advanced \u5fc5\u8981\uff09",id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b92-\u9001\u91d1\u30a2\u30d7\u30eaadvanced-\u5fc5\u8981",level:4},{value:"FAPI 1.0 \u3068\u4ed6\u306e\u4ed5\u69d8\u3068\u306e\u95a2\u4fc2",id:"fapi-10-\u3068\u4ed6\u306e\u4ed5\u69d8\u3068\u306e\u95a2\u4fc2",level:3},{value:"\u7b2c2\u90e8: \u8a73\u7d30\u7de8",id:"\u7b2c2\u90e8-\u8a73\u7d30\u7de8",level:2},{value:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\u306e\u8981\u4ef6",id:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\u306e\u8981\u4ef6",level:3},{value:"\u5fc5\u9808\u8981\u4ef6",id:"\u5fc5\u9808\u8981\u4ef6",level:4},{value:"\u63a8\u5968\u8981\u4ef6",id:"\u63a8\u5968\u8981\u4ef6",level:4},{value:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c",id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c",level:3},{value:"private_key_jwt \u306e\u8a73\u7d30",id:"private_key_jwt-\u306e\u8a73\u7d30",level:4},{value:"PKCE\uff08Proof Key for Code Exchange\uff09",id:"pkceproof-key-for-code-exchange",level:3},{value:"PKCE\u306e\u4ed5\u7d44\u307f",id:"pkce\u306e\u4ed5\u7d44\u307f",level:4},{value:"PKCE \u306e\u5b9f\u88c5\u4f8b",id:"pkce-\u306e\u5b9f\u88c5\u4f8b",level:4},{value:"ID \u30c8\u30fc\u30af\u30f3\u306e\u8981\u4ef6",id:"id-\u30c8\u30fc\u30af\u30f3\u306e\u8981\u4ef6",level:3},{value:"s_hash \u3068 c_hash \u306e\u8a08\u7b97",id:"s_hash-\u3068-c_hash-\u306e\u8a08\u7b97",level:4},{value:"\u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0",id:"\u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0",level:3},{value:"\u306a\u305c PS256 / ES256 \u304c\u63a8\u5968\u3055\u308c\u308b\u304b\uff1f",id:"\u306a\u305c-ps256--es256-\u304c\u63a8\u5968\u3055\u308c\u308b\u304b",level:4},{value:"redirect_uri \u306e\u691c\u8a3c",id:"redirect_uri-\u306e\u691c\u8a3c",level:3},{value:"\u5b9f\u88c5\u4f8b",id:"\u5b9f\u88c5\u4f8b",level:4},{value:"\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u4f8b",id:"\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u4f8b",level:3},{value:"\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u4f8b",id:"\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u4f8b",level:3},{value:"\u30ea\u30bd\u30fc\u30b9\u30b5\u30fc\u30d0\u30fc\u306e\u8981\u4ef6",id:"\u30ea\u30bd\u30fc\u30b9\u30b5\u30fc\u30d0\u30fc\u306e\u8981\u4ef6",level:3},{value:"\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u691c\u8a3c\u306e\u5b9f\u88c5\u4f8b",id:"\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u691c\u8a3c\u306e\u5b9f\u88c5\u4f8b",level:4},{value:"\u7b2c3\u90e8: \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3",id:"\u7b2c3\u90e8-\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3",level:2},{value:"\u8105\u5a01\u30e2\u30c7\u30eb\u3068\u653b\u6483\u30b7\u30ca\u30ea\u30aa",id:"\u8105\u5a01\u30e2\u30c7\u30eb\u3068\u653b\u6483\u30b7\u30ca\u30ea\u30aa",level:3},{value:"1. PKCE \u306e\u5fc5\u9808\u5316",id:"1-pkce-\u306e\u5fc5\u9808\u5316",level:4},{value:"2. state \u306e\u691c\u8a3c",id:"2-state-\u306e\u691c\u8a3c",level:4},{value:"3. nonce \u306e\u691c\u8a3c",id:"3-nonce-\u306e\u691c\u8a3c",level:4},{value:"4. redirect_uri \u306e\u5b8c\u5168\u4e00\u81f4\u691c\u8a3c",id:"4-redirect_uri-\u306e\u5b8c\u5168\u4e00\u81f4\u691c\u8a3c",level:4},{value:"\u3088\u304f\u3042\u308bFAPI\u8981\u4ef6\u9055\u53cd\u3068\u30a8\u30e9\u30fc",id:"\u3088\u304f\u3042\u308bfapi\u8981\u4ef6\u9055\u53cd\u3068\u30a8\u30e9\u30fc",level:3},{value:"\u9055\u53cd1: PKCE Plain \u30e1\u30bd\u30c3\u30c9\u306e\u4f7f\u7528",id:"\u9055\u53cd1-pkce-plain-\u30e1\u30bd\u30c3\u30c9\u306e\u4f7f\u7528",level:4},{value:"\u9055\u53cd2: state \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u672a\u691c\u8a3c",id:"\u9055\u53cd2-state-\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u672a\u691c\u8a3c",level:4},{value:"\u9055\u53cd3: nonce \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u672a\u691c\u8a3c",id:"\u9055\u53cd3-nonce-\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u672a\u691c\u8a3c",level:4},{value:"\u9055\u53cd4: redirect_uri \u306e\u90e8\u5206\u4e00\u81f4\u691c\u8a3c",id:"\u9055\u53cd4-redirect_uri-\u306e\u90e8\u5206\u4e00\u81f4\u691c\u8a3c",level:4},{value:"\u9055\u53cd5: client_secret \u306eURL\u30d1\u30e9\u30e1\u30fc\u30bf\u9001\u4fe1",id:"\u9055\u53cd5-client_secret-\u306eurl\u30d1\u30e9\u30e1\u30fc\u30bf\u9001\u4fe1",level:4},{value:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",level:3},{value:"1. PKCE \u306e\u9069\u5207\u306a\u5b9f\u88c5",id:"1-pkce-\u306e\u9069\u5207\u306a\u5b9f\u88c5",level:4},{value:"2. \u30c8\u30fc\u30af\u30f3\u6709\u52b9\u671f\u9650\u306e\u8a2d\u5b9a",id:"2-\u30c8\u30fc\u30af\u30f3\u6709\u52b9\u671f\u9650\u306e\u8a2d\u5b9a",level:4},{value:"3. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u306e\u5f37\u5316",id:"3-\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u306e\u5f37\u5316",level:4},{value:"4. \u76e3\u67fb\u3068\u30ed\u30b0",id:"4-\u76e3\u67fb\u3068\u30ed\u30b0",level:4},{value:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7406\u89e3\u5ea6\u30c1\u30a7\u30c3\u30af",id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7406\u89e3\u5ea6\u30c1\u30a7\u30c3\u30af",level:3},{value:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\uff08AS\uff09",id:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fcas",level:4},{value:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff08RP\uff09",id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8rp",level:4},{value:"\u53c2\u8003\u30ea\u30f3\u30af",id:"\u53c2\u8003\u30ea\u30f3\u30af",level:2},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2}];function x(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components},{Details:i}=e;return i||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"fapi-10-baseline-profile",children:"FAPI 1.0 Baseline Profile"})}),"\n",(0,d.jsx)(e.p,{children:"FAPI 1.0 Baseline Profile \u306f\u3001\u91d1\u878d API \u5411\u3051\u306e OAuth 2.0 / OIDC \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u57fa\u672c\u30ec\u30d9\u30eb\u3067\u3059\u3002"}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u76ee\u6b21",children:"\u76ee\u6b21"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"#%E7%AC%AC1%E9%83%A8-%E6%A6%82%E8%A6%81%E7%B7%A8",children:"\u7b2c1\u90e8: \u6982\u8981\u7de8"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"#%E7%AC%AC2%E9%83%A8-%E8%A9%B3%E7%B4%B0%E7%B7%A8",children:"\u7b2c2\u90e8: \u8a73\u7d30\u7de8"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"#%E7%AC%AC3%E9%83%A8-%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3",children:"\u7b2c3\u90e8: \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3"})}),"\n"]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u7b2c1\u90e8-\u6982\u8981\u7de8",children:"\u7b2c1\u90e8: \u6982\u8981\u7de8"}),"\n",(0,d.jsx)(e.h3,{id:"fapi-\u3068\u306f",children:"FAPI \u3068\u306f\uff1f"}),"\n",(0,d.jsxs)(e.p,{children:["FAPI\uff08Financial-grade API\uff09\u306f\u3001OpenID Foundation \u304c\u7b56\u5b9a\u3057\u305f",(0,d.jsx)(e.strong,{children:"\u91d1\u878d\u30b0\u30ec\u30fc\u30c9"}),"\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"FAPI \u306e\u76ee\u7684:\n  - \u91d1\u878d\u6a5f\u95a2\u306e API \u3092\u5b89\u5168\u306b\u516c\u958b\n  - \u30aa\u30fc\u30d7\u30f3\u30d0\u30f3\u30ad\u30f3\u30b0\u3001PSD2 \u3078\u306e\u5bfe\u5fdc\n  - \u9ad8\u5ea6\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8981\u4ef6\u306e\u6a19\u6e96\u5316\n\nFAPI 1.0 \u306e\u69cb\u6210:\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502        FAPI 1.0 Advanced            \u2502 \u2190 \u3088\u308a\u9ad8\u3044\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\n  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n  \u2502        FAPI 1.0 Baseline            \u2502 \u2190 \u57fa\u672c\u30ec\u30d9\u30eb\n  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n  \u2502     OAuth 2.0 / OpenID Connect      \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,d.jsx)(e.h3,{id:"\u306a\u305c-fapi-\u304c\u5fc5\u8981\u306a\u306e\u304b",children:"\u306a\u305c FAPI \u304c\u5fc5\u8981\u306a\u306e\u304b\uff1f"}),"\n",(0,d.jsx)(e.h4,{id:"\u80cc\u666f\u3068\u6b74\u53f2",children:"\u80cc\u666f\u3068\u6b74\u53f2"}),"\n",(0,d.jsx)(e.p,{children:"2015\u5e74\u9803\u3001\u6b27\u5dde\u3067PSD2\uff08\u6c7a\u6e08\u30b5\u30fc\u30d3\u30b9\u6307\u4ee4\u7b2c2\u7248\uff09\u304c\u5236\u5b9a\u3055\u308c\u3001\u9280\u884c\u306b\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u3078\u306eAPI\u516c\u958b\u304c\u7fa9\u52d9\u4ed8\u3051\u3089\u308c\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u6a19\u6e96\u7684\u306aOAuth 2.0 / OpenID Connect\u3067\u306f\u3001\u91d1\u878d\u696d\u754c\u306e\u53b3\u3057\u3044\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8981\u4ef6\u3092\u6e80\u305f\u3059\u306b\u306f\u4e0d\u5341\u5206\u3067\u3057\u305f\u3002"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u8ab2\u984c"}),(0,d.jsx)(e.th,{children:"\u6a19\u6e96 OAuth 2.0"}),(0,d.jsx)(e.th,{children:"FAPI \u306e\u89e3\u6c7a\u7b56"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u8a8d\u53ef\u30b3\u30fc\u30c9\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30b7\u30e7\u30f3"}),(0,d.jsx)(e.td,{children:"\u8106\u5f31"}),(0,d.jsx)(e.td,{children:"PKCE \u5fc5\u9808"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u306e\u5f31\u3055"}),(0,d.jsx)(e.td,{children:"client_secret\uff08\u9759\u7684\uff09"}),(0,d.jsx)(e.td,{children:"private_key_jwt / mTLS \u63a8\u5968"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"ID Token \u306e\u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0"}),(0,d.jsx)(e.td,{children:"RS256 \u8a31\u53ef"}),(0,d.jsx)(e.td,{children:"PS256 / ES256 \u63a8\u5968"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"redirect_uri \u306e\u66d6\u6627\u306a\u691c\u8a3c"}),(0,d.jsx)(e.td,{children:"\u90e8\u5206\u4e00\u81f4\u8a31\u53ef\u306e\u5b9f\u88c5\u3042\u308a"}),(0,d.jsx)(e.td,{children:"\u5b8c\u5168\u4e00\u81f4\u5fc5\u9808"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"CSRF \u5bfe\u7b56"}),(0,d.jsx)(e.td,{children:"state \u63a8\u5968"}),(0,d.jsx)(e.td,{children:"state \u5fc5\u9808"})]})]})]}),"\n",(0,d.jsx)(e.p,{children:"FAPI 1.0 \u306f 2017\u5e74\u304b\u3089\u7b56\u5b9a\u304c\u59cb\u307e\u308a\u30012021\u5e74\u306b Final \u4ed5\u69d8\u3068\u3057\u3066\u627f\u8a8d\u3055\u308c\u307e\u3057\u305f\u3002\u73fe\u5728\u3001\u4e16\u754c\u4e2d\u306e\u30aa\u30fc\u30d7\u30f3\u30d0\u30f3\u30ad\u30f3\u30b0\u898f\u5236\uff08PSD2\u3001Open Banking UK\u3001CDR\u7b49\uff09\u3067FAPI\u304c\u63a1\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002"}),"\n",(0,d.jsx)(e.h4,{id:"\u8105\u5a01\u30e2\u30c7\u30eb",children:"\u8105\u5a01\u30e2\u30c7\u30eb"}),"\n",(0,d.jsx)(e.p,{children:"FAPI Baseline \u304c\u5bfe\u51e6\u3059\u308b\u4e3b\u306a\u8105\u5a01\uff1a"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u8a8d\u53ef\u30b3\u30fc\u30c9\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30b7\u30e7\u30f3\u653b\u6483"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u653b\u6483\u8005\u304c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u8a8d\u53ef\u30b3\u30fc\u30c9\u3092\u508d\u53d7"}),"\n",(0,d.jsx)(e.li,{children:"\u5bfe\u7b56: PKCE\uff08Proof Key for Code Exchange\uff09\u3092\u5fc5\u9808\u5316"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"CSRF\uff08Cross-Site Request Forgery\uff09"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u653b\u6483\u8005\u304c\u88ab\u5bb3\u8005\u306e\u30d6\u30e9\u30a6\u30b6\u3092\u4f7f\u3063\u3066\u4e0d\u6b63\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b9f\u884c"}),"\n",(0,d.jsx)(e.li,{children:"\u5bfe\u7b56: state \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5fc5\u9808\u5316"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"ID Token \u30ea\u30d7\u30ec\u30a4\u653b\u6483"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u653b\u6483\u8005\u304c\u53e4\u3044 ID Token \u3092\u518d\u5229\u7528"}),"\n",(0,d.jsx)(e.li,{children:"\u5bfe\u7b56: nonce \u30af\u30ec\u30fc\u30e0\u306e\u691c\u8a3c\u3092\u5fc5\u9808\u5316"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u60c5\u5831\u306e\u6f0f\u6d29"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"client_secret \u304c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u6f0f\u6d29"}),"\n",(0,d.jsx)(e.li,{children:"\u5bfe\u7b56: private_key_jwt \u307e\u305f\u306f mTLS \u3092\u63a8\u5968"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"redirect_uri \u306e\u64cd\u4f5c"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u653b\u6483\u8005\u304c\u4f3c\u305f URL \u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u305b\u308b"}),"\n",(0,d.jsx)(e.li,{children:"\u5bfe\u7b56: redirect_uri \u306e\u5b8c\u5168\u4e00\u81f4\u691c\u8a3c\u3092\u5fc5\u9808\u5316"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"baseline-vs-advanced",children:"Baseline vs Advanced"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u9805\u76ee"}),(0,d.jsx)(e.th,{children:"Baseline"}),(0,d.jsx)(e.th,{children:"Advanced"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u30ea\u30b9\u30af\u30ec\u30d9\u30eb"})}),(0,d.jsx)(e.td,{children:"\u4e2d\u7a0b\u5ea6"}),(0,d.jsx)(e.td,{children:"\u9ad8"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u7528\u9014"})}),(0,d.jsx)(e.td,{children:"\u8aad\u307f\u53d6\u308a\u5c02\u7528 API\uff08\u6b8b\u9ad8\u7167\u4f1a\u3001\u53d6\u5f15\u5c65\u6b74\uff09"}),(0,d.jsx)(e.td,{children:"\u66f8\u304d\u8fbc\u307f/\u6c7a\u6e08 API\uff08\u9001\u91d1\u3001\u6c7a\u6e08\uff09"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c"})}),(0,d.jsx)(e.td,{children:"\u6a5f\u5bc6\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u63a8\u5968"}),(0,d.jsx)(e.td,{children:"private_key_jwt/mTLS \u5fc5\u9808"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u30ec\u30b9\u30dd\u30f3\u30b9\u4fdd\u8b77"})}),(0,d.jsx)(e.td,{children:"\u306a\u3057"}),(0,d.jsx)(e.td,{children:"JARM \u307e\u305f\u306f PAR+FAPI"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"ID \u30c8\u30fc\u30af\u30f3\u7f72\u540d"})}),(0,d.jsx)(e.td,{children:"PS256/ES256 \u63a8\u5968"}),(0,d.jsx)(e.td,{children:"PS256/ES256 \u5fc5\u9808"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"PKCE"})}),(0,d.jsx)(e.td,{children:"\u63a8\u5968"}),(0,d.jsx)(e.td,{children:"\u5fc5\u9808"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"Request Object"})}),(0,d.jsx)(e.td,{children:"\u4efb\u610f"}),(0,d.jsx)(e.td,{children:"\u5fc5\u9808"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"Sender-Constrained Tokens"})}),(0,d.jsx)(e.td,{children:"\u4efb\u610f"}),(0,d.jsx)(e.td,{children:"\u5fc5\u9808\uff08mTLS\uff09"})]})]})]}),"\n",(0,d.jsx)(e.h3,{id:"\u5b9f\u969b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9",children:"\u5b9f\u969b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9"}),"\n",(0,d.jsx)(e.h4,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b91-\u6b8b\u9ad8\u7167\u4f1a\u30a2\u30d7\u30eabaseline-\u9069\u7528",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b91: \u6b8b\u9ad8\u7167\u4f1a\u30a2\u30d7\u30ea\uff08Baseline \u9069\u7528\uff09"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u30b7\u30ca\u30ea\u30aa:\n  - \u30e6\u30fc\u30b6\u30fc\u304c\u5bb6\u8a08\u7c3f\u30a2\u30d7\u30ea\u3092\u4f7f\u7528\n  - \u30a2\u30d7\u30ea\u304c\u9280\u884c API \u3067\u53e3\u5ea7\u6b8b\u9ad8\u3092\u53d6\u5f97\uff08\u8aad\u307f\u53d6\u308a\u5c02\u7528\uff09\n  - \u30ea\u30b9\u30af\u30ec\u30d9\u30eb: \u4e2d\u7a0b\u5ea6\uff08\u60c5\u5831\u6f0f\u6d29\u306e\u30ea\u30b9\u30af\uff09\n\nBaseline \u304c\u9069\u3057\u3066\u3044\u308b\u7406\u7531:\n  - \u8aad\u307f\u53d6\u308a\u5c02\u7528\u306e\u305f\u3081\u3001\u91d1\u92ad\u7684\u640d\u5931\u306e\u30ea\u30b9\u30af\u304c\u4f4e\u3044\n  - PKCE \u3067\u8a8d\u53ef\u30b3\u30fc\u30c9\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30b7\u30e7\u30f3\u3092\u9632\u6b62\n  - private_key_jwt \u3067\u5f37\u56fa\u306a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\n  - PS256 \u3067\u6539\u3056\u3093\u3092\u9632\u6b62\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b92-\u9001\u91d1\u30a2\u30d7\u30eaadvanced-\u5fc5\u8981",children:"\u30e6\u30fc\u30b9\u30b1\u30fc\u30b92: \u9001\u91d1\u30a2\u30d7\u30ea\uff08Advanced \u5fc5\u8981\uff09"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u30b7\u30ca\u30ea\u30aa:\n  - \u30e6\u30fc\u30b6\u30fc\u304c\u9001\u91d1\u30a2\u30d7\u30ea\u3092\u4f7f\u7528\n  - \u30a2\u30d7\u30ea\u304c\u9280\u884c API \u3067\u9001\u91d1\u3092\u5b9f\u884c\uff08\u66f8\u304d\u8fbc\u307f\uff09\n  - \u30ea\u30b9\u30af\u30ec\u30d9\u30eb: \u9ad8\uff08\u91d1\u92ad\u7684\u640d\u5931\u306e\u30ea\u30b9\u30af\uff09\n\nAdvanced \u304c\u5fc5\u8981\u306a\u7406\u7531:\n  - \u66f8\u304d\u8fbc\u307f\u64cd\u4f5c\u306e\u305f\u3081\u3001\u3088\u308a\u9ad8\u3044\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u304c\u5fc5\u8981\n  - Request Object \u3067\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u6539\u3056\u3093\u3092\u9632\u6b62\n  - JARM \u3067\u8a8d\u53ef\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u6539\u3056\u3093\u3092\u9632\u6b62\n  - mTLS \u3067\u30c8\u30fc\u30af\u30f3\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u30d0\u30a4\u30f3\u30c9\n"})}),"\n",(0,d.jsx)(e.h3,{id:"fapi-10-\u3068\u4ed6\u306e\u4ed5\u69d8\u3068\u306e\u95a2\u4fc2",children:"FAPI 1.0 \u3068\u4ed6\u306e\u4ed5\u69d8\u3068\u306e\u95a2\u4fc2"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"FAPI 1.0 \u306e\u30d9\u30fc\u30b9\u4ed5\u69d8:\n\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502              FAPI 1.0 Baseline                  \u2502\n  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n  \u2502  RFC 7636 (PKCE)                                \u2502\n  \u2502  OpenID Connect Core 1.0                        \u2502\n  \u2502  OAuth 2.0 (RFC 6749)                           \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nFAPI 1.0 \u306e\u8ffd\u52a0\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3:\n  - PKCE \u5fc5\u9808\u5316\n  - state \u5fc5\u9808\u5316\n  - nonce \u5fc5\u9808\u5316\n  - redirect_uri \u5b8c\u5168\u4e00\u81f4\n  - \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u5f37\u5316\n  - \u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u5236\u9650\n"})}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u7b2c2\u90e8-\u8a73\u7d30\u7de8",children:"\u7b2c2\u90e8: \u8a73\u7d30\u7de8"}),"\n",(0,d.jsx)(e.h3,{id:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\u306e\u8981\u4ef6",children:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\u306e\u8981\u4ef6"}),"\n",(0,d.jsx)(e.h4,{id:"\u5fc5\u9808\u8981\u4ef6",children:"\u5fc5\u9808\u8981\u4ef6"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u8981\u4ef6"}),(0,d.jsx)(e.th,{children:"\u8aac\u660e"}),(0,d.jsx)(e.th,{children:"\u6280\u8853\u8a73\u7d30"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"TLS 1.2+"})}),(0,d.jsx)(e.td,{children:"\u3059\u3079\u3066\u306e\u901a\u4fe1\u3092\u6697\u53f7\u5316"}),(0,d.jsx)(e.td,{children:"TLS 1.2 \u4ee5\u4e0a\u3001\u5f37\u529b\u306a\u6697\u53f7\u30b9\u30a4\u30fc\u30c8"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"PKCE"})}),(0,d.jsx)(e.td,{children:"\u30d1\u30d6\u30ea\u30c3\u30af\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u5fc5\u9808"}),(0,d.jsx)(e.td,{children:"S256 \u30e1\u30bd\u30c3\u30c9\u306e\u307f\u8a31\u53ef"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"redirect_uri \u5b8c\u5168\u4e00\u81f4"})}),(0,d.jsx)(e.td,{children:"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u7981\u6b62"}),(0,d.jsx)(e.td,{children:"\u6587\u5b57\u5217\u306e\u5b8c\u5168\u4e00\u81f4\uff08\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u533a\u5225\uff09"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"state \u306e\u691c\u8a3c"})}),(0,d.jsx)(e.td,{children:"CSRF \u9632\u6b62"}),(0,d.jsx)(e.td,{children:"\u5341\u5206\u306a\u30a8\u30f3\u30c8\u30ed\u30d4\u30fc\uff08128\u30d3\u30c3\u30c8\u4ee5\u4e0a\uff09"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"nonce \u306e\u691c\u8a3c"})}),(0,d.jsx)(e.td,{children:"\u30ea\u30d7\u30ec\u30a4\u9632\u6b62"}),(0,d.jsx)(e.td,{children:"ID Token \u306b\u542b\u3081\u3001\u691c\u8a3c\u5fc5\u9808"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u8a8d\u53ef\u30b3\u30fc\u30c9\u6709\u52b9\u671f\u9650"})}),(0,d.jsx)(e.td,{children:"\u77ed\u3044\u6709\u52b9\u671f\u9650"}),(0,d.jsx)(e.td,{children:"\u63a8\u5968: 10\u5206\u4ee5\u5185\u3001\u7406\u60f3: 1\u5206\u4ee5\u5185"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"s_hash \u691c\u8a3c"})}),(0,d.jsx)(e.td,{children:"state \u306e\u6574\u5408\u6027\u78ba\u8a8d"}),(0,d.jsx)(e.td,{children:"Implicit Flow / Hybrid Flow \u3067\u5fc5\u9808"})]})]})]}),"\n",(0,d.jsx)(e.h4,{id:"\u63a8\u5968\u8981\u4ef6",children:"\u63a8\u5968\u8981\u4ef6"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u8981\u4ef6"}),(0,d.jsx)(e.th,{children:"\u8aac\u660e"}),(0,d.jsx)(e.th,{children:"\u30e1\u30ea\u30c3\u30c8"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u6a5f\u5bc6\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"})}),(0,d.jsx)(e.td,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u3092\u63a8\u5968"}),(0,d.jsx)(e.td,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5411\u4e0a"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u30c8\u30fc\u30af\u30f3\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3"})}),(0,d.jsx)(e.td,{children:"\u6f0f\u6d29\u5bfe\u7b56"}),(0,d.jsx)(e.td,{children:"\u30c8\u30fc\u30af\u30f3\u76d7\u96e3\u306e\u5f71\u97ff\u3092\u6700\u5c0f\u5316"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"\u77ed\u3044\u30c8\u30fc\u30af\u30f3\u6709\u52b9\u671f\u9650"})}),(0,d.jsx)(e.td,{children:"\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3: 1\u6642\u9593"}),(0,d.jsx)(e.td,{children:"\u653b\u6483\u306e\u6642\u9593\u7a93\u3092\u5236\u9650"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"private_key_jwt / mTLS"})}),(0,d.jsx)(e.td,{children:"\u5f37\u56fa\u306a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c"}),(0,d.jsx)(e.td,{children:"client_secret \u3088\u308a\u5b89\u5168"})]})]})]}),"\n",(0,d.jsx)(e.h3,{id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c"}),"\n",(0,d.jsx)(e.p,{children:"FAPI Baseline \u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u65b9\u5f0f\u304c\u8a31\u53ef\u3055\u308c\u307e\u3059\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'Baseline \u3067\u8a31\u53ef\u3055\u308c\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c:\n\n1. client_secret_basic / client_secret_post\n   - \u8a31\u53ef\u3055\u308c\u308b\u304c\u975e\u63a8\u5968\n   - \u79d8\u5bc6\u304c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u6d41\u308c\u308b\n   - HTTPS \u5fc5\u9808\u3060\u304c\u3001\u76d7\u8074\u30ea\u30b9\u30af\u3042\u308a\n\n   POST /token\n   Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\n   (client_id:client_secret \u3092 Base64 \u30a8\u30f3\u30b3\u30fc\u30c9)\n\n2. client_secret_jwt\n   - \u5bfe\u79f0\u9375 JWT \u3067\u8a8d\u8a3c\n   - \u79d8\u5bc6\u306f\u76f4\u63a5\u9001\u4fe1\u3055\u308c\u306a\u3044\n   - client_secret \u304b\u3089\u7f72\u540d\u3092\u751f\u6210\n\n   {\n     "iss": "s6BhdRkqt3",\n     "sub": "s6BhdRkqt3",\n     "aud": "https://auth.example.com/token",\n     "jti": "unique-jwt-id",\n     "exp": 1704150300,\n     "iat": 1704150000\n   }\n   \u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0: HS256, HS384, HS512\n\n3. private_key_jwt\uff08\u63a8\u5968\uff09\n   - \u975e\u5bfe\u79f0\u9375 JWT \u3067\u8a8d\u8a3c\n   - \u6700\u3082\u5b89\u5168\n   - \u79d8\u5bc6\u9375\u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u307f\u304c\u4fdd\u6301\n\n   {\n     "iss": "s6BhdRkqt3",\n     "sub": "s6BhdRkqt3",\n     "aud": "https://auth.example.com/token",\n     "jti": "unique-jwt-id",\n     "exp": 1704150300,\n     "iat": 1704150000\n   }\n   \u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0: PS256, PS384, PS512, ES256, ES384, ES512, RS256\n\n4. tls_client_auth / self_signed_tls_client_auth\n   - mTLS \u3067\u8a8d\u8a3c\n   - \u8a3c\u660e\u66f8\u30d9\u30fc\u30b9\n   - PKI \u30a4\u30f3\u30d5\u30e9\u304c\u5fc5\u8981\n'})}),"\n",(0,d.jsx)(e.h4,{id:"private_key_jwt-\u306e\u8a73\u7d30",children:"private_key_jwt \u306e\u8a73\u7d30"}),"\n",(0,d.jsx)(e.h3,{id:"pkceproof-key-for-code-exchange",children:"PKCE\uff08Proof Key for Code Exchange\uff09"}),"\n",(0,d.jsx)(e.p,{children:"PKCE\u306f\u3001\u8a8d\u53ef\u30b3\u30fc\u30c9\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30b7\u30e7\u30f3\u653b\u6483\u3092\u9632\u3050\u305f\u3081\u306e\u4ed5\u7d44\u307f\u3067\u3059\u3002"}),"\n",(0,d.jsx)(e.h4,{id:"pkce\u306e\u4ed5\u7d44\u307f",children:"PKCE\u306e\u4ed5\u7d44\u307f"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"PKCE \u306e\u30d5\u30ed\u30fc:\n\n1. Code Verifier \u751f\u6210\n   - \u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u5217\uff0843-128\u6587\u5b57\uff09\n   - [A-Z][a-z][0-9]-._~ \u306e\u307f\u4f7f\u7528\n   \u4f8b: dBjftJeZ4CVP-mB92K27uhbUJU1p1r_wW1gFWFOEjXk\n\n2. Code Challenge \u751f\u6210\n   - S256 \u30e1\u30bd\u30c3\u30c9: SHA256(code_verifier) \u3092 Base64URL \u30a8\u30f3\u30b3\u30fc\u30c9\n   - Plain \u30e1\u30bd\u30c3\u30c9: code_verifier \u305d\u306e\u307e\u307e\uff08FAPI \u3067\u306f\u7981\u6b62\uff09\n\n   code_challenge = BASE64URL(SHA256(code_verifier))\n   \u4f8b: E9Melhoa2OwvFrEMTJguCHaoeK1t8URWbuGJSstw-cM\n\n3. \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\n   GET /authorize?\n     response_type=code\n     &client_id=s6BhdRkqt3\n     &redirect_uri=https://client.example.com/callback\n     &scope=openid\n     &state=af0ifjsldkj\n     &code_challenge=E9Melhoa2OwvFrEMTJguCHaoeK1t8URWbuGJSstw-cM\n     &code_challenge_method=S256\n\n4. \u8a8d\u53ef\u30b3\u30fc\u30c9\u767a\u884c\n   AS \u304c code_challenge \u3092\u4fdd\u5b58\n\n5. \u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\n   POST /token\n   grant_type=authorization_code\n   &code=SplxlOBeZQQYbYS6WxSbIA\n   &redirect_uri=https://client.example.com/callback\n   &client_id=s6BhdRkqt3\n   &code_verifier=dBjftJeZ4CVP-mB92K27uhbUJU1p1r_wW1gFWFOEjXk\n\n6. AS \u304c\u691c\u8a3c\n   BASE64URL(SHA256(code_verifier)) == code_challenge\n   \u4e00\u81f4\u3059\u308c\u3070\u30c8\u30fc\u30af\u30f3\u767a\u884c\n"})}),"\n",(0,d.jsx)(e.h4,{id:"pkce-\u306e\u5b9f\u88c5\u4f8b",children:"PKCE \u306e\u5b9f\u88c5\u4f8b"}),"\n",(0,d.jsx)(e.h3,{id:"id-\u30c8\u30fc\u30af\u30f3\u306e\u8981\u4ef6",children:"ID \u30c8\u30fc\u30af\u30f3\u306e\u8981\u4ef6"}),"\n",(0,d.jsx)(e.p,{children:"FAPI Baseline \u3067\u306f\u3001ID Token \u306b\u7279\u5b9a\u306e\u30af\u30ec\u30fc\u30e0\u304c\u5fc5\u8981\u3067\u3059\u3002"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u30af\u30ec\u30fc\u30e0"}),(0,d.jsx)(e.th,{children:"\u5fc5\u9808"}),(0,d.jsx)(e.th,{children:"\u8aac\u660e"}),(0,d.jsx)(e.th,{children:"\u8a08\u7b97\u65b9\u6cd5"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"iss"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"\u767a\u884c\u8005\uff08AS \u306e URL\uff09"}),(0,d.jsx)(e.td,{children:"\u56fa\u5b9a\u5024"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"sub"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"\u30e6\u30fc\u30b6\u30fc\u306e\u4e00\u610f\u8b58\u5225\u5b50"}),(0,d.jsx)(e.td,{children:"\u30e6\u30fc\u30b6\u30fcID"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"aud"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"\u5bfe\u8c61\u8005\uff08client_id\uff09"}),(0,d.jsx)(e.td,{children:"\u914d\u5217\u307e\u305f\u306f\u6587\u5b57\u5217"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"exp"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"\u6709\u52b9\u671f\u9650\uff08UNIX \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\uff09"}),(0,d.jsx)(e.td,{children:"\u73fe\u5728\u6642\u523b + \u6709\u52b9\u671f\u9650"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"iat"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"\u767a\u884c\u6642\u523b\uff08UNIX \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\uff09"}),(0,d.jsx)(e.td,{children:"\u73fe\u5728\u6642\u523b"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"nonce"})}),(0,d.jsx)(e.td,{children:"\u6761\u4ef6\u4ed8\u304d"}),(0,d.jsx)(e.td,{children:"\u30ea\u30d7\u30ec\u30a4\u9632\u6b62\uff08\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u63d0\u4f9b\u3055\u308c\u305f\u5834\u5408\uff09"}),(0,d.jsx)(e.td,{children:"\u305d\u306e\u307e\u307e\u542b\u3081\u308b"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"s_hash"})}),(0,d.jsx)(e.td,{children:"\u6761\u4ef6\u4ed8\u304d"}),(0,d.jsx)(e.td,{children:"state \u306e\u30cf\u30c3\u30b7\u30e5\uff08response_type \u306b token/id_token \u542b\u3080\u5834\u5408\uff09"}),(0,d.jsx)(e.td,{children:"SHA256(state) \u306e\u5de6\u534a\u5206\u3092 Base64URL"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"c_hash"})}),(0,d.jsx)(e.td,{children:"\u6761\u4ef6\u4ed8\u304d"}),(0,d.jsx)(e.td,{children:"code \u306e\u30cf\u30c3\u30b7\u30e5\uff08response_type \u306b code \u542b\u3080\u5834\u5408\uff09"}),(0,d.jsx)(e.td,{children:"SHA256(code) \u306e\u5de6\u534a\u5206\u3092 Base64URL"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"auth_time"})}),(0,d.jsx)(e.td,{children:"\u63a8\u5968"}),(0,d.jsx)(e.td,{children:"\u8a8d\u8a3c\u6642\u523b"}),(0,d.jsx)(e.td,{children:"\u30e6\u30fc\u30b6\u30fc\u304c\u8a8d\u8a3c\u3057\u305f\u6642\u523b"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"acr"})}),(0,d.jsx)(e.td,{children:"\u63a8\u5968"}),(0,d.jsx)(e.td,{children:"\u8a8d\u8a3c\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30af\u30e9\u30b9"}),(0,d.jsx)(e.td,{children:"\u8a8d\u8a3c\u30ec\u30d9\u30eb"})]})]})]}),"\n",(0,d.jsx)(e.h4,{id:"s_hash-\u3068-c_hash-\u306e\u8a08\u7b97",children:"s_hash \u3068 c_hash \u306e\u8a08\u7b97"}),"\n",(0,d.jsx)(e.h3,{id:"\u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0",children:"\u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0"}),"\n",(0,d.jsx)(e.p,{children:"FAPI Baseline \u3067\u306f\u3001\u4f7f\u7528\u3067\u304d\u308b\u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u5236\u9650\u3055\u308c\u3066\u3044\u307e\u3059\u3002"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"Baseline \u3067\u8a31\u53ef\u3055\u308c\u308b\u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0:\n\nID \u30c8\u30fc\u30af\u30f3:\n  \u2705 PS256, PS384, PS512  - RSASSA-PSS\uff08\u63a8\u5968\uff09\n  \u2705 ES256, ES384, ES512  - ECDSA\uff08\u63a8\u5968\uff09\n  \u26a0\ufe0f RS256, RS384, RS512  - \u8a31\u53ef\u3055\u308c\u308b\u304c\u975e\u63a8\u5968\n  \u274c none                 - \u7981\u6b62\n  \u274c HS256, HS384, HS512  - \u7981\u6b62\uff08\u5bfe\u79f0\u9375\uff09\n\n\u30c8\u30fc\u30af\u30f3\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u8a8d\u8a3c\uff08client_secret_jwt\uff09:\n  \u2705 HS256, HS384, HS512  - \u5bfe\u79f0\u9375\n\n\u30c8\u30fc\u30af\u30f3\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u8a8d\u8a3c\uff08private_key_jwt\uff09:\n  \u2705 PS256, PS384, PS512  - RSASSA-PSS\uff08\u63a8\u5968\uff09\n  \u2705 ES256, ES384, ES512  - ECDSA\uff08\u63a8\u5968\uff09\n  \u26a0\ufe0f RS256, RS384, RS512  - \u8a31\u53ef\u3055\u308c\u308b\u304c\u975e\u63a8\u5968\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u306a\u305c-ps256--es256-\u304c\u63a8\u5968\u3055\u308c\u308b\u304b",children:"\u306a\u305c PS256 / ES256 \u304c\u63a8\u5968\u3055\u308c\u308b\u304b\uff1f"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0"}),(0,d.jsx)(e.th,{children:"\u30bf\u30a4\u30d7"}),(0,d.jsx)(e.th,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ec\u30d9\u30eb"}),(0,d.jsx)(e.th,{children:"\u7f72\u540d\u30b5\u30a4\u30ba"}),(0,d.jsx)(e.th,{children:"\u63a8\u5968\u7406\u7531"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"PS256"})}),(0,d.jsx)(e.td,{children:"RSASSA-PSS"}),(0,d.jsx)(e.td,{children:"\u9ad8"}),(0,d.jsx)(e.td,{children:"\u5927"}),(0,d.jsx)(e.td,{children:"RS256 \u3088\u308a\u5b89\u5168\u3001\u696d\u754c\u6a19\u6e96"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"ES256"})}),(0,d.jsx)(e.td,{children:"ECDSA"}),(0,d.jsx)(e.td,{children:"\u9ad8"}),(0,d.jsx)(e.td,{children:"\u5c0f"}),(0,d.jsx)(e.td,{children:"\u9ad8\u901f\u3001\u7f72\u540d\u30b5\u30a4\u30ba\u304c\u5c0f\u3055\u3044"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"RS256"}),(0,d.jsx)(e.td,{children:"RSASSA-PKCS1-v1_5"}),(0,d.jsx)(e.td,{children:"\u4e2d"}),(0,d.jsx)(e.td,{children:"\u5927"}),(0,d.jsx)(e.td,{children:"\u8106\u5f31\u6027\u306e\u53ef\u80fd\u6027\uff08Bleichenbacher \u653b\u6483\u7b49\uff09"})]})]})]}),"\n",(0,d.jsx)(e.h3,{id:"redirect_uri-\u306e\u691c\u8a3c",children:"redirect_uri \u306e\u691c\u8a3c"}),"\n",(0,d.jsx)(e.p,{children:"FAPI Baseline \u3067\u306f\u3001redirect_uri \u306e\u691c\u8a3c\u304c\u53b3\u683c\u3067\u3059\u3002"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u8981\u4ef6:\n  - \u5b8c\u5168\u4e00\u81f4\u3067\u306e\u691c\u8a3c\n  - \u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u7981\u6b62\n  - \u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u306f\u8a31\u53ef\u3055\u308c\u306a\u3044\uff08\u672c\u756a\u74b0\u5883\uff09\n  - HTTPS \u5fc5\u9808\uff08localhost \u3092\u9664\u304f\uff09\n  - \u5927\u6587\u5b57\u5c0f\u6587\u5b57\u3092\u533a\u5225\n\n\u4f8b:\n  \u767b\u9332: https://client.example.com/callback\n\n  \u30ea\u30af\u30a8\u30b9\u30c8: https://client.example.com/callback\n  \u2192 \u2705 OK\n\n  \u30ea\u30af\u30a8\u30b9\u30c8: https://client.example.com/callback?extra=1\n  \u2192 \u274c NG\uff08\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u7570\u306a\u308b\uff09\n\n  \u30ea\u30af\u30a8\u30b9\u30c8: https://client.example.com/Callback\n  \u2192 \u274c NG\uff08\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u304c\u7570\u306a\u308b\uff09\n\n  \u30ea\u30af\u30a8\u30b9\u30c8: https://client.example.com/callback/\n  \u2192 \u274c NG\uff08\u672b\u5c3e\u306e\u30b9\u30e9\u30c3\u30b7\u30e5\u304c\u7570\u306a\u308b\uff09\n\n  \u30ea\u30af\u30a8\u30b9\u30c8: http://client.example.com/callback\n  \u2192 \u274c NG\uff08HTTP \u306f\u7981\u6b62\uff09\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u5b9f\u88c5\u4f8b",children:"\u5b9f\u88c5\u4f8b"}),"\n",(0,d.jsx)(e.h3,{id:"\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u4f8b",children:"\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u4f8b"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-http",children:"GET /authorize?\n  response_type=code\n  &client_id=s6BhdRkqt3\n  &redirect_uri=https://client.example.com/callback\n  &scope=openid accounts\n  &state=af0ifjsldkj\n  &nonce=n-0S6_WzA2Mj\n  &code_challenge=E9Melhoa2OwvFrEMTJguCHaoeK1t8URWbuGJSstw-cM\n  &code_challenge_method=S256\n  &acr_values=urn:example:acr:loa2\n"})}),"\n",(0,d.jsx)(e.p,{children:"\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a73\u7d30\uff1a"}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u30d1\u30e9\u30e1\u30fc\u30bf"}),(0,d.jsx)(e.th,{children:"\u5fc5\u9808"}),(0,d.jsx)(e.th,{children:"\u8aac\u660e"}),(0,d.jsx)(e.th,{children:"\u4f8b"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"response_type"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"\u30ec\u30b9\u30dd\u30f3\u30b9\u30bf\u30a4\u30d7"}),(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"code"})})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"client_id"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 ID"}),(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"s6BhdRkqt3"})})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"redirect_uri"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 URI"}),(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"https://client.example.com/callback"})})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"scope"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"\u30b9\u30b3\u30fc\u30d7\uff08openid \u5fc5\u9808\uff09"}),(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"openid accounts"})})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"state"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"CSRF \u5bfe\u7b56"}),(0,d.jsx)(e.td,{children:"128\u30d3\u30c3\u30c8\u4ee5\u4e0a\u306e\u30e9\u30f3\u30c0\u30e0\u5024"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"nonce"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"\u30ea\u30d7\u30ec\u30a4\u9632\u6b62"}),(0,d.jsx)(e.td,{children:"128\u30d3\u30c3\u30c8\u4ee5\u4e0a\u306e\u30e9\u30f3\u30c0\u30e0\u5024"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"code_challenge"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"PKCE"}),(0,d.jsx)(e.td,{children:"SHA256(code_verifier) \u306e Base64URL"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"code_challenge_method"})}),(0,d.jsx)(e.td,{children:"\u2705"}),(0,d.jsx)(e.td,{children:"PKCE \u30e1\u30bd\u30c3\u30c9"}),(0,d.jsxs)(e.td,{children:[(0,d.jsx)(e.code,{children:"S256"})," \u56fa\u5b9a"]})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"acr_values"})}),(0,d.jsx)(e.td,{children:"\u25b3"}),(0,d.jsx)(e.td,{children:"\u8a8d\u8a3c\u30ec\u30d9\u30eb"}),(0,d.jsx)(e.td,{children:(0,d.jsx)(e.code,{children:"urn:example:acr:loa2"})})]})]})]}),"\n",(0,d.jsx)(e.h3,{id:"\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u4f8b",children:"\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u4f8b"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-http",children:"POST /token HTTP/1.1\nHost: auth.example.com\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=authorization_code\n&code=SplxlOBeZQQYbYS6WxSbIA\n&redirect_uri=https://client.example.com/callback\n&client_id=s6BhdRkqt3\n&client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer\n&client_assertion=eyJhbGciOiJQUzI1NiIsInR5cCI6IkpXVCJ9...\n&code_verifier=dBjftJeZ4CVP-mB92K27uhbUJU1p1r_wW1gFWFOEjXk\n"})}),"\n",(0,d.jsx)(e.h3,{id:"\u30ea\u30bd\u30fc\u30b9\u30b5\u30fc\u30d0\u30fc\u306e\u8981\u4ef6",children:"\u30ea\u30bd\u30fc\u30b9\u30b5\u30fc\u30d0\u30fc\u306e\u8981\u4ef6"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u691c\u8a3c:\n\n1. \u30c8\u30fc\u30af\u30f3\u306e\u5f62\u5f0f\u691c\u8a3c\n   - JWT \u306e\u5834\u5408\u306f\u7f72\u540d\u3092\u691c\u8a3c\n   - \u53c2\u7167\u30c8\u30fc\u30af\u30f3\u306e\u5834\u5408\u306f\u30a4\u30f3\u30c8\u30ed\u30b9\u30da\u30af\u30b7\u30e7\u30f3\n\n2. \u6709\u52b9\u671f\u9650\u306e\u691c\u8a3c\n   - exp \u30af\u30ec\u30fc\u30e0\u3092\u78ba\u8a8d\n   - \u73fe\u5728\u6642\u523b < exp\n\n3. \u767a\u884c\u8005\u306e\u691c\u8a3c\n   - iss \u304c\u4fe1\u983c\u3055\u308c\u305f\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\u304b\n   - \u30db\u30ef\u30a4\u30c8\u30ea\u30b9\u30c8\u3067\u7ba1\u7406\n\n4. \u5bfe\u8c61\u8005\u306e\u691c\u8a3c\n   - aud \u304c\u81ea\u5206\uff08\u30ea\u30bd\u30fc\u30b9\u30b5\u30fc\u30d0\u30fc\uff09\u3092\u542b\u3080\u304b\n   - \u8907\u6570\u306e aud \u304c\u3042\u308b\u5834\u5408\u3001\u3044\u305a\u308c\u304b\u306b\u542b\u307e\u308c\u308b\u304b\n\n5. \u30b9\u30b3\u30fc\u30d7\u306e\u691c\u8a3c\n   - \u8981\u6c42\u3055\u308c\u305f\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u8a31\u53ef\u3055\u308c\u3066\u3044\u308b\u304b\n   - scope \u30af\u30ec\u30fc\u30e0\u3092\u78ba\u8a8d\n\n6. \u30af\u30ec\u30fc\u30e0\u306e\u691c\u8a3c\n   - \u5fc5\u8981\u306a\u30af\u30ec\u30fc\u30e0\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b\n   - sub, client_id \u7b49\n"})}),"\n",(0,d.jsx)(e.h4,{id:"\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u691c\u8a3c\u306e\u5b9f\u88c5\u4f8b",children:"\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u691c\u8a3c\u306e\u5b9f\u88c5\u4f8b"}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u7b2c3\u90e8-\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3",children:"\u7b2c3\u90e8: \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3"}),"\n",(0,d.jsx)(e.h3,{id:"\u8105\u5a01\u30e2\u30c7\u30eb\u3068\u653b\u6483\u30b7\u30ca\u30ea\u30aa",children:"\u8105\u5a01\u30e2\u30c7\u30eb\u3068\u653b\u6483\u30b7\u30ca\u30ea\u30aa"}),"\n",(0,d.jsx)(e.h4,{id:"1-pkce-\u306e\u5fc5\u9808\u5316",children:"1. PKCE \u306e\u5fc5\u9808\u5316"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u306a\u305c\u5fc5\u8981\u304b\uff1f"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u653b\u6483\u30b7\u30ca\u30ea\u30aa\uff08PKCE \u306a\u3057\uff09:\n\n1. \u30e6\u30fc\u30b6\u30fc\u304c\u516c\u8846 Wi-Fi \u3067\u8a8d\u53ef\u30d5\u30ed\u30fc\u3092\u958b\u59cb\n2. \u653b\u6483\u8005\u304c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u76d7\u8074\n3. AS \u304b\u3089\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u8a8d\u53ef\u30b3\u30fc\u30c9\uff08code\uff09\u3092\u508d\u53d7\n   https://client.example.com/callback?code=STOLEN_CODE&state=...\n4. \u653b\u6483\u8005\u304c\u76d7\u3093\u3060 code \u3067\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\n5. \u653b\u6483\u8005\u304c\u30e6\u30fc\u30b6\u30fc\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\n\n\u5bfe\u7b56\uff08PKCE \u3042\u308a\uff09:\n\n1. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c code_verifier \u3092\u751f\u6210\uff08\u653b\u6483\u8005\u306f\u77e5\u3089\u306a\u3044\uff09\n2. \u653b\u6483\u8005\u304c code \u3092\u508d\u53d7\n3. \u653b\u6483\u8005\u304c\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\n   \u2192 code_verifier \u304c\u306a\u3044\u305f\u3081\u5931\u6557\n4. \u653b\u6483\u5931\u6557\n"})}),"\n",(0,d.jsx)(e.h4,{id:"2-state-\u306e\u691c\u8a3c",children:"2. state \u306e\u691c\u8a3c"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u306a\u305c\u5fc5\u8981\u304b\uff1f"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"CSRF \u653b\u6483\u30b7\u30ca\u30ea\u30aa\uff08state \u306a\u3057\uff09:\n\n1. \u653b\u6483\u8005\u304c\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u8a8d\u53ef\u30d5\u30ed\u30fc\u3092\u958b\u59cb\n2. AS \u304b\u3089\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u8a8d\u53ef\u30b3\u30fc\u30c9\u3092\u53d6\u5f97\n   https://attacker.com/callback?code=ATTACKER_CODE&state=...\n3. \u653b\u6483\u8005\u304c\u30b3\u30fc\u30eb\u30d0\u30c3\u30af URL \u3092\u88ab\u5bb3\u8005\u306b\u9001\u4fe1\n   https://client.example.com/callback?code=ATTACKER_CODE\n4. \u88ab\u5bb3\u8005\u304c\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\n5. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u653b\u6483\u8005\u306e code \u3067\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\n6. \u88ab\u5bb3\u8005\u304c\u653b\u6483\u8005\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\n   \u2192 \u88ab\u5bb3\u8005\u306e\u60c5\u5831\u304c\u653b\u6483\u8005\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u4fdd\u5b58\u3055\u308c\u308b\n\n\u5bfe\u7b56\uff08state \u3042\u308a\uff09:\n\n1. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u30bb\u30c3\u30b7\u30e7\u30f3\u306b state \u3092\u4fdd\u5b58\n2. \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067 state \u3092\u691c\u8a3c\n3. state \u304c\u4e00\u81f4\u3057\u306a\u3044\u5834\u5408\u306f\u62d2\u5426\n4. \u653b\u6483\u5931\u6557\n"})}),"\n",(0,d.jsx)(e.h4,{id:"3-nonce-\u306e\u691c\u8a3c",children:"3. nonce \u306e\u691c\u8a3c"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u306a\u305c\u5fc5\u8981\u304b\uff1f"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"\u30ea\u30d7\u30ec\u30a4\u653b\u6483\u30b7\u30ca\u30ea\u30aa\uff08nonce \u306a\u3057\uff09:\n\n1. \u653b\u6483\u8005\u304c\u53e4\u3044 ID Token \u3092\u5165\u624b\n2. \u653b\u6483\u8005\u304c ID Token \u3092\u518d\u5229\u7528\u3057\u3066\u30ed\u30b0\u30a4\u30f3\n3. \u6210\u529f\uff08\u30ea\u30d7\u30ec\u30a4\u653b\u6483\uff09\n\n\u5bfe\u7b56\uff08nonce \u3042\u308a\uff09:\n\n1. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u306b nonce \u3092\u542b\u3081\u308b\n2. AS \u304c ID Token \u306b nonce \u3092\u542b\u3081\u308b\n3. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c ID Token \u306e nonce \u3092\u691c\u8a3c\n4. \u4e00\u5ea6\u4f7f\u7528\u3057\u305f nonce \u306f\u7121\u52b9\u5316\n5. \u30ea\u30d7\u30ec\u30a4\u653b\u6483\u5931\u6557\n"})}),"\n",(0,d.jsx)(e.h4,{id:"4-redirect_uri-\u306e\u5b8c\u5168\u4e00\u81f4\u691c\u8a3c",children:"4. redirect_uri \u306e\u5b8c\u5168\u4e00\u81f4\u691c\u8a3c"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u306a\u305c\u5fc5\u8981\u304b\uff1f"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'\u30aa\u30fc\u30d7\u30f3\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u653b\u6483\uff08\u90e8\u5206\u4e00\u81f4\u306e\u5834\u5408\uff09:\n\n\u767b\u9332\u3055\u308c\u305f redirect_uri: https://client.example.com/callback\n\n\u653b\u6483\u8005\u306e\u30ea\u30af\u30a8\u30b9\u30c8:\n  redirect_uri=https://client.example.com/callback@attacker.com\n\n\u90e8\u5206\u4e00\u81f4\u691c\u8a3c\uff08\u8106\u5f31\uff09:\n  "https://client.example.com/callback" in "https://client.example.com/callback@attacker.com"\n  \u2192 True\uff08\u653b\u6483\u6210\u529f\uff09\n\n\u5b8c\u5168\u4e00\u81f4\u691c\u8a3c\uff08\u5b89\u5168\uff09:\n  "https://client.example.com/callback" == "https://client.example.com/callback@attacker.com"\n  \u2192 False\uff08\u653b\u6483\u5931\u6557\uff09\n'})}),"\n",(0,d.jsx)(e.h3,{id:"\u3088\u304f\u3042\u308bfapi\u8981\u4ef6\u9055\u53cd\u3068\u30a8\u30e9\u30fc",children:"\u3088\u304f\u3042\u308bFAPI\u8981\u4ef6\u9055\u53cd\u3068\u30a8\u30e9\u30fc"}),"\n",(0,d.jsx)(e.h4,{id:"\u9055\u53cd1-pkce-plain-\u30e1\u30bd\u30c3\u30c9\u306e\u4f7f\u7528",children:"\u9055\u53cd1: PKCE Plain \u30e1\u30bd\u30c3\u30c9\u306e\u4f7f\u7528"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30a8\u30e9\u30fc:"})," ",(0,d.jsx)(e.code,{children:"invalid_request"})," \u307e\u305f\u306f\u8981\u4ef6\u4e0d\u9069\u5408\n",(0,d.jsx)(e.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ea\u30b9\u30af:"})," \u8a8d\u53ef\u30b3\u30fc\u30c9\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30b7\u30e7\u30f3\u653b\u6483\u3001code_verifier\u306e\u76d7\u8074\n",(0,d.jsx)(e.strong,{children:"FAPI\u8981\u4ef6:"})," PKCE S256\u30e1\u30bd\u30c3\u30c9\u306e\u307f\u304c\u8a31\u53ef\u3055\u308c\u308b\u3002Plain\u30e1\u30bd\u30c3\u30c9\u306f\u7981\u6b62\n",(0,d.jsx)(e.strong,{children:"\u5bfe\u7b56:"})," ",(0,d.jsx)(e.code,{children:"code_challenge_method=S256"}),"\u3092\u4f7f\u7528\u3057\u3001code_challenge\u3092SHA-256\u3067\u30cf\u30c3\u30b7\u30e5\u5316\u3059\u308b"]}),"\n",(0,d.jsx)(e.h4,{id:"\u9055\u53cd2-state-\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u672a\u691c\u8a3c",children:"\u9055\u53cd2: state \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u672a\u691c\u8a3c"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30a8\u30e9\u30fc:"})," \u306a\u3057\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8105\u5a01\u306e\u307f\uff09\n",(0,d.jsx)(e.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ea\u30b9\u30af:"})," CSRF\u653b\u6483\u3001\u30bb\u30c3\u30b7\u30e7\u30f3\u56fa\u5b9a\u653b\u6483\n",(0,d.jsx)(e.strong,{children:"FAPI\u8981\u4ef6:"})," ",(0,d.jsx)(e.code,{children:"state"}),"\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u5fc5\u9808\u3067\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u6642\u306b\u5143\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u751f\u6210\u3057\u305f\u5024\u3068\u4e00\u81f4\u3059\u308b\u3053\u3068\u3092\u691c\u8a3c\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\n",(0,d.jsx)(e.strong,{children:"\u5bfe\u7b56:"})," \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b\u30bb\u30c3\u30b7\u30e7\u30f3\u306b",(0,d.jsx)(e.code,{children:"state"}),"\u3092\u4fdd\u5b58\u3057\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u6642\u306b\u4e00\u81f4\u3092\u78ba\u8a8d\u3002\u4e0d\u4e00\u81f4\u306e\u5834\u5408\u306f\u51e6\u7406\u3092\u4e2d\u65ad\u3059\u308b"]}),"\n",(0,d.jsx)(e.h4,{id:"\u9055\u53cd3-nonce-\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u672a\u691c\u8a3c",children:"\u9055\u53cd3: nonce \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u672a\u691c\u8a3c"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30a8\u30e9\u30fc:"})," \u306a\u3057\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8105\u5a01\u306e\u307f\uff09\n",(0,d.jsx)(e.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ea\u30b9\u30af:"})," ID Token\u30ea\u30d7\u30ec\u30a4\u653b\u6483\u3001\u53e4\u3044\u30c8\u30fc\u30af\u30f3\u306e\u518d\u5229\u7528\n",(0,d.jsx)(e.strong,{children:"FAPI\u8981\u4ef6:"})," OpenID Connect\u4f7f\u7528\u6642\u3001",(0,d.jsx)(e.code,{children:"nonce"}),"\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u5fc5\u9808\u3067\u3001ID Token\u5185\u306e",(0,d.jsx)(e.code,{children:"nonce"}),"\u30af\u30ec\u30fc\u30e0\u3068\u5143\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u5024\u304c\u4e00\u81f4\u3059\u308b\u3053\u3068\u3092\u691c\u8a3c\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\n",(0,d.jsx)(e.strong,{children:"\u5bfe\u7b56:"})," \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b\u30bb\u30c3\u30b7\u30e7\u30f3\u306b",(0,d.jsx)(e.code,{children:"nonce"}),"\u3092\u4fdd\u5b58\u3057\u3001ID Token\u53d7\u4fe1\u6642\u306b",(0,d.jsx)(e.code,{children:"nonce"}),"\u30af\u30ec\u30fc\u30e0\u3068\u306e\u4e00\u81f4\u3092\u78ba\u8a8d\u3059\u308b"]}),"\n",(0,d.jsx)(e.h4,{id:"\u9055\u53cd4-redirect_uri-\u306e\u90e8\u5206\u4e00\u81f4\u691c\u8a3c",children:"\u9055\u53cd4: redirect_uri \u306e\u90e8\u5206\u4e00\u81f4\u691c\u8a3c"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30a8\u30e9\u30fc:"})," ",(0,d.jsx)(e.code,{children:"invalid_request"}),"\n",(0,d.jsx)(e.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ea\u30b9\u30af:"})," \u30aa\u30fc\u30d7\u30f3\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u653b\u6483\u3001\u8a8d\u53ef\u30b3\u30fc\u30c9\u306e\u7a83\u53d6\n",(0,d.jsx)(e.strong,{children:"FAPI\u8981\u4ef6:"})," ",(0,d.jsx)(e.code,{children:"redirect_uri"}),"\u306f\u767b\u9332\u3055\u308c\u305f\u5024\u3068\u5b8c\u5168\u4e00\u81f4\u3067\u691c\u8a3c\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\u90e8\u5206\u4e00\u81f4\u3084\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u306f\u7981\u6b62\n",(0,d.jsx)(e.strong,{children:"\u5bfe\u7b56:"})," \u767b\u9332\u3055\u308c\u305fredirect_uri\u3068\u30ea\u30af\u30a8\u30b9\u30c8\u306eredirect_uri\u3092\u5b8c\u5168\u4e00\u81f4\uff08\u6587\u5b57\u5217\u6bd4\u8f03\uff09\u3067\u691c\u8a3c\u3059\u308b"]}),"\n",(0,d.jsx)(e.h4,{id:"\u9055\u53cd5-client_secret-\u306eurl\u30d1\u30e9\u30e1\u30fc\u30bf\u9001\u4fe1",children:"\u9055\u53cd5: client_secret \u306eURL\u30d1\u30e9\u30e1\u30fc\u30bf\u9001\u4fe1"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30a8\u30e9\u30fc:"})," \u306a\u3057\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8105\u5a01\u306e\u307f\uff09\n",(0,d.jsx)(e.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ea\u30b9\u30af:"})," \u30ed\u30b0\u6f0f\u6d29\u3001\u30d7\u30ed\u30ad\u30b7\u3067\u306e\u76d7\u8074\u3001\u30ea\u30d5\u30a1\u30e9\u30fc\u30d8\u30c3\u30c0\u30fc\u3067\u306e\u6f0f\u6d29\n",(0,d.jsx)(e.strong,{children:"FAPI\u8981\u4ef6:"})," \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u60c5\u5831\u306fHTTP\u30d8\u30c3\u30c0\u30fc\uff08Authorization\uff09\u307e\u305f\u306f\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u3067\u9001\u4fe1\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\n",(0,d.jsx)(e.strong,{children:"\u5bfe\u7b56:"})," ",(0,d.jsx)(e.code,{children:"Authorization: Basic"}),"\u30d8\u30c3\u30c0\u30fc\u307e\u305f\u306f",(0,d.jsx)(e.code,{children:"client_secret_jwt"}),"/",(0,d.jsx)(e.code,{children:"private_key_jwt"}),"\u3092\u4f7f\u7528\u3059\u308b"]}),"\n",(0,d.jsx)(e.h3,{id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9"}),"\n",(0,d.jsx)(e.h4,{id:"1-pkce-\u306e\u9069\u5207\u306a\u5b9f\u88c5",children:"1. PKCE \u306e\u9069\u5207\u306a\u5b9f\u88c5"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u63a8\u5968\u4e8b\u9805:"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"S256\u30e1\u30bd\u30c3\u30c9\u306e\u307f\u4f7f\u7528"}),"\n",(0,d.jsx)(e.li,{children:"code_verifier\u306f43-128\u6587\u5b57\u306e\u30e9\u30f3\u30c0\u30e0\u5024"}),"\n",(0,d.jsx)(e.li,{children:"\u6697\u53f7\u5b66\u7684\u306b\u5b89\u5168\u306a\u4e71\u6570\u751f\u6210\u5668\u3092\u4f7f\u7528"}),"\n"]}),"\n",(0,d.jsx)(e.h4,{id:"2-\u30c8\u30fc\u30af\u30f3\u6709\u52b9\u671f\u9650\u306e\u8a2d\u5b9a",children:"2. \u30c8\u30fc\u30af\u30f3\u6709\u52b9\u671f\u9650\u306e\u8a2d\u5b9a"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u63a8\u5968\u5024:"})}),"\n",(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u30c8\u30fc\u30af\u30f3"}),(0,d.jsx)(e.th,{children:"\u63a8\u5968\u6709\u52b9\u671f\u9650"}),(0,d.jsx)(e.th,{children:"\u7406\u7531"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u8a8d\u53ef\u30b3\u30fc\u30c9"}),(0,d.jsx)(e.td,{children:"10\u5206\u4ee5\u5185\u3001\u7406\u60f3\u306f1\u5206"}),(0,d.jsx)(e.td,{children:"\u653b\u6483\u306e\u6642\u9593\u7a93\u3092\u6700\u5c0f\u5316"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3"}),(0,d.jsx)(e.td,{children:"1\u6642\u9593"}),(0,d.jsx)(e.td,{children:"\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u30c8\u30fc\u30af\u30f3\u3067\u66f4\u65b0"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u30c8\u30fc\u30af\u30f3"}),(0,d.jsx)(e.td,{children:"\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3"}),(0,d.jsx)(e.td,{children:"\u76d7\u96e3\u6642\u306e\u5f71\u97ff\u3092\u6700\u5c0f\u5316"})]})]})]}),"\n",(0,d.jsx)(e.h4,{id:"3-\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u306e\u5f37\u5316",children:"3. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u306e\u5f37\u5316"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u63a8\u5968:"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"private_key_jwt \u307e\u305f\u306f mTLS \u3092\u4f7f\u7528"}),"\n",(0,d.jsx)(e.li,{children:"client_secret \u306f\u6700\u7d42\u624b\u6bb5"}),"\n",(0,d.jsx)(e.li,{children:"\u5b9a\u671f\u7684\u306a\u8a8d\u8a3c\u60c5\u5831\u306e\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3"}),"\n"]}),"\n",(0,d.jsx)(e.h4,{id:"4-\u76e3\u67fb\u3068\u30ed\u30b0",children:"4. \u76e3\u67fb\u3068\u30ed\u30b0"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u8a18\u9332\u3059\u3079\u304d\u9805\u76ee:"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u3059\u3079\u3066\u306e\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8"}),"\n",(0,d.jsx)(e.li,{children:"\u30c8\u30fc\u30af\u30f3\u767a\u884c\u30fb\u62d2\u5426"}),"\n",(0,d.jsx)(e.li,{children:"\u8a8d\u8a3c\u5931\u6557"}),"\n",(0,d.jsx)(e.li,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a8\u30e9\u30fc"}),"\n"]}),"\n",(0,d.jsx)(e.h3,{id:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7406\u89e3\u5ea6\u30c1\u30a7\u30c3\u30af",children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7406\u89e3\u5ea6\u30c1\u30a7\u30c3\u30af"}),"\n",(0,d.jsx)(e.p,{children:"\u3053\u306e\u7ae0\u3092\u5b66\u7fd2\u3057\u305f\u5f8c\u3001\u4ee5\u4e0b\u3092\u7406\u89e3\u3067\u304d\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff1a"}),"\n",(0,d.jsx)(e.h4,{id:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fcas",children:"\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\uff08AS\uff09"}),"\n",(0,d.jsx)(e.p,{children:"\u25a1 PKCE S256\u304c\u8a8d\u53ef\u30b3\u30fc\u30c9\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30b7\u30e7\u30f3\u653b\u6483\u3092\u9632\u3050\u4ed5\u7d44\u307f\u3092\u8aac\u660e\u3067\u304d\u308b"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"\u89e3\u7b54\u4f8b"}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u4ed5\u7d44\u307f"}),":"]}),(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304ccode_verifier\uff08\u30e9\u30f3\u30c0\u30e0\u5024\uff09\u3092\u751f\u6210"}),"\n",(0,d.jsx)(e.li,{children:"code_challenge\u3092SHA-256\u3067\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u3066\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u542b\u3081\u308b"}),"\n",(0,d.jsx)(e.li,{children:"\u8a8d\u53ef\u30b3\u30fc\u30c9\u3092\u53d6\u5f97"}),"\n",(0,d.jsx)(e.li,{children:"\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u5143\u306ecode_verifier\u3092\u9001\u4fe1"}),"\n",(0,d.jsx)(e.li,{children:"AS\u304ccode_verifier\u3092SHA-256\u30cf\u30c3\u30b7\u30e5\u3057\u3066code_challenge\u3068\u4e00\u81f4\u3059\u308b\u304b\u691c\u8a3c"}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u9632\u3050\u8105\u5a01"}),":\n\u653b\u6483\u8005\u304c\u8a8d\u53ef\u30b3\u30fc\u30c9\u3092\u508d\u53d7\u3057\u3066\u3082\u3001code_verifier\u3092\u6301\u3063\u3066\u3044\u306a\u3044\u305f\u3081\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3067\u304d\u306a\u3044\u3002"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"FAPI Baseline\u8981\u4ef6"}),":"]}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"S256\u30e1\u30bd\u30c3\u30c9\u306e\u307f\u8a31\u53ef\uff08Plain\u30e1\u30bd\u30c3\u30c9\u306f\u7981\u6b62\uff09"}),"\n",(0,d.jsx)(e.li,{children:"\u30d1\u30d6\u30ea\u30c3\u30af\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u306f\u5fc5\u9808"}),"\n"]})]}),"\n",(0,d.jsx)(e.p,{children:"\u25a1 state\u30d1\u30e9\u30e1\u30fc\u30bf\u304cCSRF\u653b\u6483\u3092\u9632\u3050\u4ed5\u7d44\u307f\u3092\u8aac\u660e\u3067\u304d\u308b"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"\u89e3\u7b54\u4f8b"}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"CSRF\u653b\u6483\u30b7\u30ca\u30ea\u30aa\uff08state\u306a\u3057\uff09"}),":"]}),(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u653b\u6483\u8005\u304c\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u8a8d\u53ef\u30d5\u30ed\u30fc\u3092\u958b\u59cb"}),"\n",(0,d.jsx)(e.li,{children:"AS\u304b\u3089\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3067\u8a8d\u53ef\u30b3\u30fc\u30c9\u3092\u53d6\u5f97"}),"\n",(0,d.jsx)(e.li,{children:"\u653b\u6483\u8005\u304c\u30b3\u30fc\u30eb\u30d0\u30c3\u30afURL\u3092\u88ab\u5bb3\u8005\u306b\u9001\u4fe1"}),"\n",(0,d.jsx)(e.li,{children:"\u88ab\u5bb3\u8005\u304c\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af"}),"\n",(0,d.jsx)(e.li,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u653b\u6483\u8005\u306ecode\u3067\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97"}),"\n",(0,d.jsx)(e.li,{children:"\u88ab\u5bb3\u8005\u304c\u653b\u6483\u8005\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\n\u2192 \u88ab\u5bb3\u8005\u306e\u60c5\u5831\u304c\u653b\u6483\u8005\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u4fdd\u5b58\u3055\u308c\u308b"}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u5bfe\u7b56\uff08state\u3042\u308a\uff09"}),":"]}),(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u30bb\u30c3\u30b7\u30e7\u30f3\u306bstate\u3092\u4fdd\u5b58"}),"\n",(0,d.jsx)(e.li,{children:"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067state\u3092\u691c\u8a3c"}),"\n",(0,d.jsx)(e.li,{children:"state\u304c\u4e00\u81f4\u3057\u306a\u3044\u5834\u5408\u306f\u62d2\u5426"}),"\n",(0,d.jsx)(e.li,{children:"\u653b\u6483\u5931\u6557"}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"FAPI\u8981\u4ef6"}),":"]}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"128\u30d3\u30c3\u30c8\u4ee5\u4e0a\u306e\u30a8\u30f3\u30c8\u30ed\u30d4\u30fc"}),"\n",(0,d.jsx)(e.li,{children:"\u30bb\u30c3\u30b7\u30e7\u30f3\u3068\u306e\u7d10\u4ed8\u3051\u5fc5\u9808"}),"\n",(0,d.jsx)(e.li,{children:"\u4e00\u5ea6\u306e\u307f\u4f7f\u7528"}),"\n"]})]}),"\n",(0,d.jsx)(e.p,{children:"\u25a1 nonce\u30d1\u30e9\u30e1\u30fc\u30bf\u304cID Token\u30ea\u30d7\u30ec\u30a4\u653b\u6483\u3092\u9632\u3050\u4ed5\u7d44\u307f\u3092\u8aac\u660e\u3067\u304d\u308b"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"\u89e3\u7b54\u4f8b"}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30ea\u30d7\u30ec\u30a4\u653b\u6483\u30b7\u30ca\u30ea\u30aa\uff08nonce\u306a\u3057\uff09"}),":"]}),(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u653b\u6483\u8005\u304c\u53e4\u3044ID Token\u3092\u5165\u624b"}),"\n",(0,d.jsx)(e.li,{children:"\u653b\u6483\u8005\u304cID Token\u3092\u518d\u5229\u7528\u3057\u3066\u30ed\u30b0\u30a4\u30f3"}),"\n",(0,d.jsx)(e.li,{children:"\u6210\u529f\uff08\u30ea\u30d7\u30ec\u30a4\u653b\u6483\uff09"}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u5bfe\u7b56\uff08nonce\u3042\u308a\uff09"}),":"]}),(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u306bnonce\u3092\u542b\u3081\u308b"}),"\n",(0,d.jsx)(e.li,{children:"AS\u304cID Token\u306bnonce\u3092\u542b\u3081\u308b"}),"\n",(0,d.jsx)(e.li,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304cID Token\u306enonce\u3092\u691c\u8a3c"}),"\n",(0,d.jsx)(e.li,{children:"\u4e00\u5ea6\u4f7f\u7528\u3057\u305fnonce\u306f\u7121\u52b9\u5316"}),"\n",(0,d.jsx)(e.li,{children:"\u30ea\u30d7\u30ec\u30a4\u653b\u6483\u5931\u6557"}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u5b9f\u88c5\u306e\u30dd\u30a4\u30f3\u30c8"}),":"]}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"128\u30d3\u30c3\u30c8\u4ee5\u4e0a\u306e\u30e9\u30f3\u30c0\u30e0\u5024"}),"\n",(0,d.jsx)(e.li,{children:"\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u4fdd\u5b58"}),"\n",(0,d.jsx)(e.li,{children:"ID Token\u53d7\u4fe1\u6642\u306b\u4e00\u81f4\u3092\u78ba\u8a8d"}),"\n",(0,d.jsx)(e.li,{children:"\u4e00\u5ea6\u4f7f\u7528\u3057\u305f\u3089\u524a\u9664"}),"\n"]})]}),"\n",(0,d.jsx)(e.p,{children:"\u25a1 redirect_uri\u306e\u5b8c\u5168\u4e00\u81f4\u691c\u8a3c\u304c\u5fc5\u8981\u306a\u7406\u7531\u3092\u3001\u30aa\u30fc\u30d7\u30f3\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u653b\u6483\u306e\u4f8b\u3068\u3068\u3082\u306b\u8aac\u660e\u3067\u304d\u308b"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"\u89e3\u7b54\u4f8b"}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u30aa\u30fc\u30d7\u30f3\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u653b\u6483\uff08\u90e8\u5206\u4e00\u81f4\u306e\u5834\u5408\uff09"}),":"]}),(0,d.jsxs)(e.p,{children:["\u767b\u9332\u3055\u308c\u305fredirect_uri: ",(0,d.jsx)(e.code,{children:"https://client.example.com/callback"})]}),(0,d.jsx)(e.p,{children:"\u653b\u6483\u8005\u306e\u30ea\u30af\u30a8\u30b9\u30c8:"}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:"redirect_uri=https://client.example.com/callback@attacker.com\n"})}),(0,d.jsx)(e.p,{children:"\u90e8\u5206\u4e00\u81f4\u691c\u8a3c\uff08\u8106\u5f31\uff09:"}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'"https://client.example.com/callback" in "https://client.example.com/callback@attacker.com"\n\u2192 True\uff08\u653b\u6483\u6210\u529f\uff09\n'})}),(0,d.jsx)(e.p,{children:"\u5b8c\u5168\u4e00\u81f4\u691c\u8a3c\uff08\u5b89\u5168\uff09:"}),(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{children:'"https://client.example.com/callback" == "https://client.example.com/callback@attacker.com"\n\u2192 False\uff08\u653b\u6483\u5931\u6557\uff09\n'})}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"FAPI\u8981\u4ef6"}),":"]}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u6587\u5b57\u5217\u306e\u5b8c\u5168\u4e00\u81f4\uff08\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u533a\u5225\uff09"}),"\n",(0,d.jsx)(e.li,{children:"\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u7981\u6b62"}),"\n",(0,d.jsx)(e.li,{children:"\u30af\u30a8\u30ea\u30d1\u30e9\u30e1\u30fc\u30bf\u3084\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u3082\u542b\u3081\u3066\u5b8c\u5168\u4e00\u81f4"}),"\n"]})]}),"\n",(0,d.jsx)(e.p,{children:"\u25a1 PS256/ES256\u304cRS256\u3088\u308a\u63a8\u5968\u3055\u308c\u308b\u7406\u7531\u3092\u8aac\u660e\u3067\u304d\u308b"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"\u89e3\u7b54\u4f8b"}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u6bd4\u8f03"}),":"]}),(0,d.jsxs)(e.table,{children:[(0,d.jsx)(e.thead,{children:(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.th,{children:"\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0"}),(0,d.jsx)(e.th,{children:"\u30bf\u30a4\u30d7"}),(0,d.jsx)(e.th,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ec\u30d9\u30eb"}),(0,d.jsx)(e.th,{children:"\u63a8\u5968\u7406\u7531/\u30ea\u30b9\u30af"})]})}),(0,d.jsxs)(e.tbody,{children:[(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"PS256"})}),(0,d.jsx)(e.td,{children:"RSASSA-PSS"}),(0,d.jsx)(e.td,{children:"\u9ad8"}),(0,d.jsx)(e.td,{children:"RS256\u3088\u308a\u5b89\u5168\u3001\u696d\u754c\u6a19\u6e96"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:(0,d.jsx)(e.strong,{children:"ES256"})}),(0,d.jsx)(e.td,{children:"ECDSA"}),(0,d.jsx)(e.td,{children:"\u9ad8"}),(0,d.jsx)(e.td,{children:"\u9ad8\u901f\u3001\u7f72\u540d\u30b5\u30a4\u30ba\u304c\u5c0f\u3055\u3044"})]}),(0,d.jsxs)(e.tr,{children:[(0,d.jsx)(e.td,{children:"RS256"}),(0,d.jsx)(e.td,{children:"RSASSA-PKCS1-v1_5"}),(0,d.jsx)(e.td,{children:"\u4e2d"}),(0,d.jsx)(e.td,{children:"Bleichenbacher\u653b\u6483\u7b49\u306e\u8106\u5f31\u6027\u306e\u53ef\u80fd\u6027"})]})]})]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"FAPI Baseline\u8981\u4ef6"}),":"]}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"PS256/ES256\u3092\u63a8\u5968"}),"\n",(0,d.jsx)(e.li,{children:"RS256\u306f\u8a31\u53ef\u3055\u308c\u308b\u304c\u975e\u63a8\u5968"}),"\n",(0,d.jsx)(e.li,{children:"HS256\u7b49\u306e\u5bfe\u79f0\u9375\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306f\u7981\u6b62\uff08ID Token\u306e\u5834\u5408\uff09"}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u7406\u7531"}),":"]}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"PSS\uff08Probabilistic Signature Scheme\uff09\u30d1\u30c7\u30a3\u30f3\u30b0\u306fPKCS#1 v1.5\u3088\u308a\u5b89\u5168"}),"\n",(0,d.jsx)(e.li,{children:"ECDSA\u306f\u9ad8\u901f\u3067\u7f72\u540d\u30b5\u30a4\u30ba\u304c\u5c0f\u3055\u3044"}),"\n",(0,d.jsx)(e.li,{children:"\u91d1\u878d\u696d\u754c\u306e\u6a19\u6e96"}),"\n"]})]}),"\n",(0,d.jsx)(e.h4,{id:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8rp",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff08RP\uff09"}),"\n",(0,d.jsx)(e.p,{children:"\u25a1 private_key_jwt\u304cclient_secret_basic\u3088\u308a\u5b89\u5168\u306a\u7406\u7531\u3092\u8aac\u660e\u3067\u304d\u308b"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"\u89e3\u7b54\u4f8b"}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"client_secret_basic\u306e\u30ea\u30b9\u30af"}),":"]}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u304c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u6d41\u308c\u308b"}),"\n",(0,d.jsx)(e.li,{children:"Authorization: Basic \u30d8\u30c3\u30c0\u30fc\u3067Base64\u30a8\u30f3\u30b3\u30fc\u30c9\uff08\u6697\u53f7\u5316\u3067\u306f\u306a\u3044\uff09"}),"\n",(0,d.jsx)(e.li,{children:"\u30d7\u30ed\u30ad\u30b7\u30ed\u30b0\u3084\u30b5\u30fc\u30d0\u30fc\u30ed\u30b0\u306b\u8a18\u9332\u3055\u308c\u308b\u53ef\u80fd\u6027"}),"\n",(0,d.jsx)(e.li,{children:"HTTPS\u5fc5\u9808\u3060\u304c\u3001TLS\u8106\u5f31\u6027\u306e\u30ea\u30b9\u30af\u3042\u308a"}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"private_key_jwt\u306e\u5229\u70b9"}),":"]}),(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u975e\u5bfe\u79f0\u9375"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u79d8\u5bc6\u9375\u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u307f\u304c\u4fdd\u6301"}),"\n",(0,d.jsx)(e.li,{children:"\u516c\u958b\u9375\u306e\u307f\u3092AS\u306b\u767b\u9332"}),"\n",(0,d.jsx)(e.li,{children:"\u79d8\u5bc6\u9375\u304c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u6d41\u308c\u306a\u3044"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u7f72\u540d\u30d9\u30fc\u30b9\u8a8d\u8a3c"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304cJWT\u3092\u79d8\u5bc6\u9375\u3067\u7f72\u540d"}),"\n",(0,d.jsx)(e.li,{children:"AS\u304c\u516c\u958b\u9375\u3067\u691c\u8a3c"}),"\n",(0,d.jsx)(e.li,{children:"\u30ea\u30d7\u30ec\u30a4\u653b\u6483\u9632\u6b62\uff08jti, exp\uff09"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u76e3\u67fb\u53ef\u80fd"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"JWT\u306b\u542b\u307e\u308c\u308b\u30af\u30ec\u30fc\u30e0\uff08iat, jti\u7b49\uff09\u3067\u8ffd\u8de1\u53ef\u80fd"}),"\n"]}),"\n"]}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"FAPI\u63a8\u5968"}),":"]}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Baseline: private_key_jwt\u63a8\u5968\u3001client_secret\u8a31\u53ef"}),"\n",(0,d.jsx)(e.li,{children:"Advanced: private_key_jwt\u307e\u305f\u306fmTLS\u5fc5\u9808"}),"\n"]})]}),"\n",(0,d.jsx)(e.p,{children:"\u25a1 s_hash\u3068c_hash\u306e\u8a08\u7b97\u65b9\u6cd5\u3068\u691c\u8a3c\u76ee\u7684\u3092\u8aac\u660e\u3067\u304d\u308b"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"\u89e3\u7b54\u4f8b"}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"s_hash\uff08state\u306e\u30cf\u30c3\u30b7\u30e5\uff09"}),":"]}),(0,d.jsx)(e.p,{children:"\u8a08\u7b97\u65b9\u6cd5:"}),(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"state\u3092ASCII\u30aa\u30af\u30c6\u30c3\u30c8\u3068\u3057\u3066\u53d6\u5f97"}),"\n",(0,d.jsx)(e.li,{children:"SHA-256\u3067\u30cf\u30c3\u30b7\u30e5"}),"\n",(0,d.jsx)(e.li,{children:"\u5de6\u534a\u5206\uff08128\u30d3\u30c3\u30c8\uff09\u3092Base64URL\u30a8\u30f3\u30b3\u30fc\u30c9"}),"\n"]}),(0,d.jsx)(e.p,{children:"\u76ee\u7684:"}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Implicit Flow\u307e\u305f\u306fHybrid Flow\u3067\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306estate\u304c\u6539\u3056\u3093\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u691c\u8a3c"}),"\n",(0,d.jsx)(e.li,{children:"ID Token\u5185\u306es_hash\u3068state\u3092\u6bd4\u8f03"}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"c_hash\uff08code\u306e\u30cf\u30c3\u30b7\u30e5\uff09"}),":"]}),(0,d.jsx)(e.p,{children:"\u8a08\u7b97\u65b9\u6cd5:"}),(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"code\u3092ASCII\u30aa\u30af\u30c6\u30c3\u30c8\u3068\u3057\u3066\u53d6\u5f97"}),"\n",(0,d.jsx)(e.li,{children:"SHA-256\u3067\u30cf\u30c3\u30b7\u30e5"}),"\n",(0,d.jsx)(e.li,{children:"\u5de6\u534a\u5206\uff08128\u30d3\u30c3\u30c8\uff09\u3092Base64URL\u30a8\u30f3\u30b3\u30fc\u30c9"}),"\n"]}),(0,d.jsx)(e.p,{children:"\u76ee\u7684:"}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Hybrid Flow\u3067\u3001\u8a8d\u53ef\u30b3\u30fc\u30c9\u304c\u6539\u3056\u3093\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u691c\u8a3c"}),"\n",(0,d.jsx)(e.li,{children:"ID Token\u5185\u306ec_hash\u3068code\u3092\u6bd4\u8f03"}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u4f7f\u7528\u5834\u9762"}),":"]}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"s_hash: response_type\u306btoken\u307e\u305f\u306fid_token\u542b\u3080\u5834\u5408\uff08Implicit/Hybrid\uff09"}),"\n",(0,d.jsx)(e.li,{children:"c_hash: response_type\u306bcode\u542b\u3080\u5834\u5408\uff08Hybrid\uff09"}),"\n",(0,d.jsx)(e.li,{children:"Authorization Code Flow\u306e\u307f\u306e\u5834\u5408\u306f\u4e0d\u8981"}),"\n"]})]}),"\n",(0,d.jsx)(e.p,{children:"\u25a1 \u8a8d\u53ef\u30b3\u30fc\u30c9\u306e\u6709\u52b9\u671f\u9650\u3092\u77ed\u304f\u8a2d\u5b9a\u3059\u308b\u7406\u7531\u3068\u63a8\u5968\u5024\u3092\u8aac\u660e\u3067\u304d\u308b"}),"\n",(0,d.jsxs)(i,{children:[(0,d.jsx)("summary",{children:"\u89e3\u7b54\u4f8b"}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u77ed\u3044\u6709\u52b9\u671f\u9650\u304c\u5fc5\u8981\u306a\u7406\u7531"}),":"]}),(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u653b\u6483\u306e\u6642\u9593\u7a93\u3092\u6700\u5c0f\u5316"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u8a8d\u53ef\u30b3\u30fc\u30c9\u304c\u508d\u53d7\u3055\u308c\u3066\u3082\u3001\u77ed\u6642\u9593\u3067\u7121\u52b9\u5316"}),"\n",(0,d.jsx)(e.li,{children:"\u653b\u6483\u8005\u304c\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3059\u308b\u6642\u9593\u3092\u5236\u9650"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u30ea\u30d7\u30ec\u30a4\u653b\u6483\u306e\u9632\u6b62"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u671f\u9650\u5207\u308c\u306e\u30b3\u30fc\u30c9\u306f\u4f7f\u7528\u4e0d\u53ef"}),"\n",(0,d.jsx)(e.li,{children:"\u4e00\u5ea6\u4f7f\u7528\u3057\u305f\u30b3\u30fc\u30c9\u306f\u5373\u5ea7\u306b\u7121\u52b9\u5316"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u306e\u5f71\u97ff\u7bc4\u56f2\u3092\u9650\u5b9a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u6f0f\u6d29\u3057\u3066\u3082\u77ed\u671f\u9593\u3067\u7121\u52b9\u5316"}),"\n"]}),"\n"]}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"FAPI Baseline\u63a8\u5968\u5024"}),":"]}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u63a8\u5968: 10\u5206\u4ee5\u5185"}),"\n",(0,d.jsx)(e.li,{children:"\u7406\u60f3: 1\u5206\u4ee5\u5185"}),"\n"]}),(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"\u5b9f\u88c5\u306e\u30dd\u30a4\u30f3\u30c8"}),":"]}),(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u30b3\u30fc\u30c9\u306f\u4e00\u5ea6\u306e\u307f\u4f7f\u7528\u53ef\u80fd"}),"\n",(0,d.jsx)(e.li,{children:"\u4f7f\u7528\u5f8c\u306f\u5373\u5ea7\u306b\u524a\u9664"}),"\n",(0,d.jsx)(e.li,{children:"\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3067\u53b3\u5bc6\u306b\u691c\u8a3c"}),"\n",(0,d.jsx)(e.li,{children:"\u30af\u30ed\u30c3\u30af\u30b9\u30ad\u30e5\u30fc\u3092\u8003\u616e\uff08\xb1\u6570\u79d2\u306e\u4f59\u88d5\uff09"}),"\n"]})]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u53c2\u8003\u30ea\u30f3\u30af",children:"\u53c2\u8003\u30ea\u30f3\u30af"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://openid.net/specs/openid-financial-api-part-1-1_0.html",children:"FAPI 1.0 Baseline Profile"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://openid.net/specs/openid-financial-api-part-2-1_0.html",children:"FAPI 1.0 Advanced Profile"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://datatracker.ietf.org/doc/html/rfc7636",children:"RFC 7636 - PKCE"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect Core 1.0"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-security-topics",children:"OAuth 2.0 Security Best Current Practice"})}),"\n"]}),"\n",(0,d.jsx)(e.hr,{}),"\n",(0,d.jsx)(e.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,d.jsx)(e.p,{children:"FAPI 1.0 Baseline Profile \u306f\u3001\u91d1\u878d\u30b0\u30ec\u30fc\u30c9\u306e API \u3092\u5b89\u5168\u306b\u63d0\u4f9b\u3059\u308b\u305f\u3081\u306e\u57fa\u672c\u30ec\u30d9\u30eb\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\u4ee5\u4e0b\u306e\u30dd\u30a4\u30f3\u30c8\u3092\u62bc\u3055\u3048\u3066\u5b9f\u88c5\u3057\u3066\u304f\u3060\u3055\u3044\uff1a"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u5fc5\u9808\u8981\u4ef6\u306e\u9075\u5b88"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"PKCE\uff08S256 \u30e1\u30bd\u30c3\u30c9\uff09\u3092\u5fc5\u9808\u5316"}),"\n",(0,d.jsx)(e.li,{children:"state \u3068 nonce \u3092\u5fc5\u9808\u5316"}),"\n",(0,d.jsx)(e.li,{children:"redirect_uri \u306e\u5b8c\u5168\u4e00\u81f4\u691c\u8a3c"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a8d\u8a3c\u306e\u5f37\u5316"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"private_key_jwt \u307e\u305f\u306f mTLS \u3092\u63a8\u5968"}),"\n",(0,d.jsx)(e.li,{children:"client_secret \u306f\u975e\u63a8\u5968"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"PS256 \u307e\u305f\u306f ES256 \u3092\u63a8\u5968"}),"\n",(0,d.jsx)(e.li,{children:"RS256 \u306f\u975e\u63a8\u5968"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(e.li,{children:["\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u30c6\u30b9\u30c8\u306e\u5fb9\u5e95"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u6b63\u5e38\u30d5\u30ed\u30fc\u3001\u653b\u6483\u30b7\u30ca\u30ea\u30aa\u3092\u30c6\u30b9\u30c8"}),"\n",(0,d.jsx)(e.li,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8\u3092\u6d3b\u7528"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:"FAPI Baseline \u306f\u8aad\u307f\u53d6\u308a\u5c02\u7528 API \u306b\u9069\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u66f8\u304d\u8fbc\u307f\u64cd\u4f5c\u3084\u6c7a\u6e08\u306b\u306f FAPI Advanced Profile \u306e\u4f7f\u7528\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"})]})}function j(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(x,{...n})}):x(n)}},28453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>c});var l=i(96540);const d={},s=l.createContext(d);function r(n){const e=l.useContext(s);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:r(n.components),l.createElement(s.Provider,{value:e},n.children)}}}]);