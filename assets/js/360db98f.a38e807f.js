"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[8497],{74460:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>j,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"content_10_ai_developer/ai-12-platform","title":"idp-server-platform - \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u57fa\u76e4","description":"\u30e2\u30b8\u30e5\u30fc\u30eb\u6982\u8981","source":"@site/docs/content_10_ai_developer/ai-12-platform.md","sourceDirName":"content_10_ai_developer","slug":"/content_10_ai_developer/ai-12-platform","permalink":"/idp-server/docs/content_10_ai_developer/ai-12-platform","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_10_ai_developer/ai-12-platform.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"idp-server-core - OAuth 2.0/OIDC\u6e96\u62e0\u30b3\u30a2\u30a8\u30f3\u30b8\u30f3","permalink":"/idp-server/docs/content_10_ai_developer/ai-11-core"},"next":{"title":"idp-server-control-plane - \u7ba1\u7406API\u5951\u7d04\u5b9a\u7fa9","permalink":"/idp-server/docs/content_10_ai_developer/ai-13-control-plane"}}');var s=r(74848),t=r(28453);const a={},l="idp-server-platform - \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u57fa\u76e4",o={},d=[{value:"\u30e2\u30b8\u30e5\u30fc\u30eb\u6982\u8981",id:"\u30e2\u30b8\u30e5\u30fc\u30eb\u6982\u8981",level:2},{value:"\u8cac\u52d9",id:"\u8cac\u52d9",level:3},{value:"\u4f9d\u5b58\u95a2\u4fc2",id:"\u4f9d\u5b58\u95a2\u4fc2",level:3},{value:"\u30d1\u30c3\u30b1\u30fc\u30b8\u69cb\u6210",id:"\u30d1\u30c3\u30b1\u30fc\u30b8\u69cb\u6210",level:2},{value:"\ud83d\udd37 \u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8 (<code>multi_tenancy/</code>)",id:"-\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8-multi_tenancy",level:3},{value:"\ud83d\udd10 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fb\u6697\u53f7\u5316",id:"-\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u6697\u53f7\u5316",level:3},{value:"\ud83d\udd0c \u30a4\u30f3\u30d5\u30e9\u7d71\u5408",id:"-\u30a4\u30f3\u30d5\u30e9\u7d71\u5408",level:3},{value:"\ud83d\udee0\ufe0f \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u6a5f\u80fd",id:"\ufe0f-\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u6a5f\u80fd",level:3},{value:"\ud83d\udce6 \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3",id:"-\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3",level:3},{value:"\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u5b9f\u88c5",id:"\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u5b9f\u88c5",level:2},{value:"Tenant - \u30c6\u30ca\u30f3\u30c8\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb",id:"tenant---\u30c6\u30ca\u30f3\u30c8\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb",level:3},{value:"TenantIdentifier - \u30c6\u30ca\u30f3\u30c8\u8b58\u5225\u5b50",id:"tenantidentifier---\u30c6\u30ca\u30f3\u30c8\u8b58\u5225\u5b50",level:4},{value:"TenantAttributes - \u30c6\u30ca\u30f3\u30c8\u56fa\u6709\u8a2d\u5b9a",id:"tenantattributes---\u30c6\u30ca\u30f3\u30c8\u56fa\u6709\u8a2d\u5b9a",level:4},{value:"Tenant - \u30c6\u30ca\u30f3\u30c8\u96c6\u7d04\u30eb\u30fc\u30c8",id:"tenant---\u30c6\u30ca\u30f3\u30c8\u96c6\u7d04\u30eb\u30fc\u30c8",level:4},{value:"Organization - \u7d44\u7e54\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb",id:"organization---\u7d44\u7e54\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb",level:3},{value:"OrganizationRepository - \u7d44\u7e54\u30ea\u30dd\u30b8\u30c8\u30ea",id:"organizationrepository---\u7d44\u7e54\u30ea\u30dd\u30b8\u30c8\u30ea",level:3},{value:"Repository \u30d1\u30bf\u30fc\u30f3\u8a73\u7d30",id:"repository-\u30d1\u30bf\u30fc\u30f3\u8a73\u7d30",level:2},{value:"Query / Command \u5206\u96e2 (CQRS)",id:"query--command-\u5206\u96e2-cqrs",level:3},{value:"get() vs find() \u547d\u540d\u898f\u5247",id:"get-vs-find-\u547d\u540d\u898f\u5247",level:3},{value:"\u30ed\u30b0\u30fb\u76e3\u67fb\u30ed\u30b0",id:"\u30ed\u30b0\u76e3\u67fb\u30ed\u30b0",level:2},{value:"LoggerWrapper - \u30ed\u30ae\u30f3\u30b0",id:"loggerwrapper---\u30ed\u30ae\u30f3\u30b0",level:3},{value:"AuditLog - \u76e3\u67fb\u30ed\u30b0",id:"auditlog---\u76e3\u67fb\u30ed\u30b0",level:3},{value:"JOSE (JWT/JWS/JWE/JWK)",id:"jose-jwtjwsjwejwk",level:2},{value:"JoseHandler - \u7d71\u5408\u30cf\u30f3\u30c9\u30e9\u30fc",id:"josehandler---\u7d71\u5408\u30cf\u30f3\u30c9\u30e9\u30fc",level:3},{value:"JsonWebSignature (JWS) - \u7f72\u540d\u4ed8\u304dJWT",id:"jsonwebsignature-jws---\u7f72\u540d\u4ed8\u304djwt",level:3},{value:"JsonWebToken (Plain JWT)",id:"jsonwebtoken-plain-jwt",level:3},{value:"HTTP \u30af\u30e9\u30a4\u30a2\u30f3\u30c8",id:"http-\u30af\u30e9\u30a4\u30a2\u30f3\u30c8",level:2},{value:"HttpRequestExecutor - HTTP\u5b9f\u884c\u30a8\u30f3\u30b8\u30f3",id:"httprequestexecutor---http\u5b9f\u884c\u30a8\u30f3\u30b8\u30f3",level:3},{value:"\u57fa\u672c\u7684\u306a\u4f7f\u7528\u4f8b",id:"\u57fa\u672c\u7684\u306a\u4f7f\u7528\u4f8b",level:3},{value:"\u30ea\u30c8\u30e9\u30a4\u6a5f\u80fd\u4ed8\u304d\u5b9f\u884c",id:"\u30ea\u30c8\u30e9\u30a4\u6a5f\u80fd\u4ed8\u304d\u5b9f\u884c",level:3},{value:"OAuth\u8a8d\u8a3c\u4ed8\u304d\u5b9f\u884c",id:"oauth\u8a8d\u8a3c\u4ed8\u304d\u5b9f\u884c",level:3},{value:"\u8a2d\u5b9a\u30d9\u30fc\u30b9\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u5b9f\u884c",id:"\u8a2d\u5b9a\u30d9\u30fc\u30b9\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u5b9f\u884c",level:3},{value:"Datasource\u30fb\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30fbProxy",id:"datasource\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3proxy",level:2},{value:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981",id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981",level:3},{value:"@Transaction \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3",id:"transaction-\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3",level:3},{value:"TenantAwareEntryServiceProxy - Dynamic Proxy",id:"tenantawareentryserviceproxy---dynamic-proxy",level:3},{value:"TransactionManager - ThreadLocal\u7ba1\u7406",id:"transactionmanager---threadlocal\u7ba1\u7406",level:3},{value:"SqlExecutor - SQL\u5b9f\u884c\u30d8\u30eb\u30d1\u30fc",id:"sqlexecutor---sql\u5b9f\u884c\u30d8\u30eb\u30d1\u30fc",level:3},{value:"Row Level Security (RLS) \u306e\u81ea\u52d5\u8a2d\u5b9a",id:"row-level-security-rls-\u306e\u81ea\u52d5\u8a2d\u5b9a",level:3},{value:"\u5b9f\u88c5\u30d1\u30bf\u30fc\u30f3\u307e\u3068\u3081",id:"\u5b9f\u88c5\u30d1\u30bf\u30fc\u30f3\u307e\u3068\u3081",level:3},{value:"JSON \u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u30fb\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba",id:"json-\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba",level:2},{value:"JsonConverter - JSON\u5909\u63db\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3",id:"jsonconverter---json\u5909\u63db\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3",level:3},{value:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u53d6\u5f97",id:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u53d6\u5f97",level:4},{value:"\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\uff08Java \u2192 JSON\uff09",id:"\u30b7\u30ea\u30a2\u30e9\u30a4\u30bajava--json",level:4},{value:"\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\uff08JSON \u2192 Java\uff09",id:"\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30bajson--java",level:4},{value:"\u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9\u5909\u63db\u306e\u91cd\u8981\u6027",id:"\u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9\u5909\u63db\u306e\u91cd\u8981\u6027",level:4},{value:"Jackson\u8a2d\u5b9a",id:"jackson\u8a2d\u5b9a",level:4},{value:"Dependency Injection - DI\u30b3\u30f3\u30c6\u30ca",id:"dependency-injection---di\u30b3\u30f3\u30c6\u30ca",level:2},{value:"ApplicationComponentContainer",id:"applicationcomponentcontainer",level:3},{value:"\u4f7f\u7528\u4f8b: AuthenticationDependencyContainer",id:"\u4f7f\u7528\u4f8b-authenticationdependencycontainer",level:3},{value:"ProtocolContainer",id:"protocolcontainer",level:3},{value:"Plugin System",id:"plugin-system",level:2},{value:"PluginLoader - \u9759\u7684\u30e1\u30bd\u30c3\u30c9API",id:"pluginloader---\u9759\u7684\u30e1\u30bd\u30c3\u30c9api",level:3},{value:"\u5185\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u30d7\u30e9\u30b0\u30a4\u30f3",id:"\u5185\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u30d7\u30e9\u30b0\u30a4\u30f3",level:3},{value:"\u5916\u90e8JAR\u30d7\u30e9\u30b0\u30a4\u30f3",id:"\u5916\u90e8jar\u30d7\u30e9\u30b0\u30a4\u30f3",level:3},{value:"URLClassLoader\u6a5f\u69cb",id:"urlclassloader\u6a5f\u69cb",level:3},{value:"\u5c02\u7528PluginLoader",id:"\u5c02\u7528pluginloader",level:3},{value:"\u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3 (Value Object)",id:"\u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3-value-object",level:2},{value:"\u5b9f\u88c5\u4f8b",id:"\u5b9f\u88c5\u4f8b",level:3},{value:"\u30e1\u30ea\u30c3\u30c8",id:"\u30e1\u30ea\u30c3\u30c8",level:3},{value:"\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3",id:"\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3",level:2},{value:"\u274c 1. String\u6feb\u7528",id:"-1-string\u6feb\u7528",level:3},{value:"\u274c 2. Map\u6feb\u7528",id:"-2-map\u6feb\u7528",level:3},{value:"\u274c 3. Platform\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u306e\u30c9\u30e1\u30a4\u30f3\u30ed\u30b8\u30c3\u30af\u6df7\u5165",id:"-3-platform\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u306e\u30c9\u30e1\u30a4\u30f3\u30ed\u30b8\u30c3\u30af\u6df7\u5165",level:3},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2},{value:"idp-server-platform \u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306e5\u3064\u306e\u30dd\u30a4\u30f3\u30c8",id:"idp-server-platform-\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306e5\u3064\u306e\u30dd\u30a4\u30f3\u30c8",level:3},{value:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",level:3},{value:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4fee\u6b63\u5c65\u6b74",id:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4fee\u6b63\u5c65\u6b74",level:2},{value:"2025-10-12: \u5b9f\u88c5\u691c\u8a3c\u306b\u57fa\u3065\u304f\u5927\u898f\u6a21\u4fee\u6b63",id:"2025-10-12-\u5b9f\u88c5\u691c\u8a3c\u306b\u57fa\u3065\u304f\u5927\u898f\u6a21\u4fee\u6b63",level:3},{value:"\u4fee\u6b631: OrganizationRepository \u306e\u5b9f\u88c5\u306b\u5408\u308f\u305b\u305f\u4fee\u6b63 (238-275\u884c\u76ee)",id:"\u4fee\u6b631-organizationrepository-\u306e\u5b9f\u88c5\u306b\u5408\u308f\u305b\u305f\u4fee\u6b63-238-275\u884c\u76ee",level:4},{value:"\u4fee\u6b632: TenantAttributes.optValueAsInt() \u306e\u524a\u9664 (153-170\u884c\u76ee)",id:"\u4fee\u6b632-tenantattributesoptvalueasint-\u306e\u524a\u9664-153-170\u884c\u76ee",level:4},{value:"\u4fee\u6b633: JOSE (JWT/JWS/JWE/JWK) \u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02 (353-417\u884c\u76ee)",id:"\u4fee\u6b633-jose-jwtjwsjwejwk-\u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02-353-417\u884c\u76ee",level:4},{value:"\u4fee\u6b634: HTTP \u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02 (419-511\u884c\u76ee)",id:"\u4fee\u6b634-http-\u30af\u30e9\u30a4\u30a2\u30f3\u30c8-\u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02-419-511\u884c\u76ee",level:4},{value:"\u4fee\u6b635: Datasource\u30fb\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3 \u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02 (513-723\u884c\u76ee)",id:"\u4fee\u6b635-datasource\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3-\u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02-513-723\u884c\u76ee",level:4},{value:"\u4fee\u6b636: Plugin System \u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02 (725-839\u884c\u76ee)",id:"\u4fee\u6b636-plugin-system-\u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02-725-839\u884c\u76ee",level:4},{value:"\u4fee\u6b63\u306e\u539f\u5247",id:"\u4fee\u6b63\u306e\u539f\u5247",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"idp-server-platform---\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u57fa\u76e4",children:"idp-server-platform - \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u57fa\u76e4"})}),"\n",(0,s.jsx)(n.h2,{id:"\u30e2\u30b8\u30e5\u30fc\u30eb\u6982\u8981",children:"\u30e2\u30b8\u30e5\u30fc\u30eb\u6982\u8981"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.code,{children:"libs/idp-server-platform/src/main/java/org/idp/server/platform/"}),"\n",(0,s.jsx)(n.strong,{children:"\u78ba\u8a8d\u65e5"}),": 2025-10-12"]}),"\n",(0,s.jsx)(n.h3,{id:"\u8cac\u52d9",children:"\u8cac\u52d9"}),"\n",(0,s.jsx)(n.p,{children:"idp-server\u5168\u4f53\u3092\u652f\u3048\u308b\u57fa\u76e4\u6a5f\u80fd\u7fa4\u3002\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u3001\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406\u3001\u30ed\u30b0\u3001\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3001\u6697\u53f7\u5316\u3001JOSE(JWT)\u7b49\u306e\u6a2a\u65ad\u7684\u95a2\u5fc3\u4e8b\u3092\u63d0\u4f9b\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u4f9d\u5b58\u95a2\u4fc2",children:"\u4f9d\u5b58\u95a2\u4fc2"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"idp-server-core \u2192 idp-server-platform\nidp-server-use-cases \u2192 idp-server-platform\nidp-server-*-adapter \u2192 idp-server-platform\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u3059\u3079\u3066\u306e\u4e0a\u4f4d\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u4f9d\u5b58\u3059\u308b\u57fa\u76e4\u30ec\u30a4\u30e4\u30fc\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u30d1\u30c3\u30b1\u30fc\u30b8\u69cb\u6210",children:"\u30d1\u30c3\u30b1\u30fc\u30b8\u69cb\u6210"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.code,{children:"find libs/idp-server-platform/src/main/java/org/idp/server/platform -type d -maxdepth 1"})]}),"\n",(0,s.jsxs)(n.h3,{id:"-\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8-multi_tenancy",children:["\ud83d\udd37 \u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8 (",(0,s.jsx)(n.code,{children:"multi_tenancy/"}),")"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30b5\u30d6\u30d1\u30c3\u30b1\u30fc\u30b8"}),(0,s.jsx)(n.th,{children:"\u8cac\u52d9"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"tenant/"})}),(0,s.jsx)(n.td,{children:"\u30c6\u30ca\u30f3\u30c8\u7ba1\u7406\u30fb\u8b58\u5225\u30fb\u5c5e\u6027"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"organization/"})}),(0,s.jsx)(n.td,{children:"\u7d44\u7e54\u7ba1\u7406\u30fb\u30e1\u30f3\u30d0\u30fc\u7ba1\u7406"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"-\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u6697\u53f7\u5316",children:"\ud83d\udd10 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fb\u6697\u53f7\u5316"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d1\u30c3\u30b1\u30fc\u30b8"}),(0,s.jsx)(n.th,{children:"\u8cac\u52d9"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"crypto/"})}),(0,s.jsx)(n.td,{children:"\u6697\u53f7\u5316\u30fb\u5fa9\u53f7\u5316"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"hash/"})}),(0,s.jsx)(n.td,{children:"\u30cf\u30c3\u30b7\u30e5\u751f\u6210\uff08SHA-256\u7b49\uff09"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"jose/"})}),(0,s.jsx)(n.td,{children:"JWT/JWS/JWE/JWK\u51e6\u7406"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"x509/"})}),(0,s.jsx)(n.td,{children:"X.509\u8a3c\u660e\u66f8\u7ba1\u7406"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"random/"})}),(0,s.jsx)(n.td,{children:"\u30bb\u30ad\u30e5\u30a2\u30e9\u30f3\u30c0\u30e0\u751f\u6210"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"uuid/"})}),(0,s.jsx)(n.td,{children:"UUID\u751f\u6210"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"base64/"})}),(0,s.jsx)(n.td,{children:"Base64\u30a8\u30f3\u30b3\u30fc\u30c9\u30fb\u30c7\u30b3\u30fc\u30c9"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"-\u30a4\u30f3\u30d5\u30e9\u7d71\u5408",children:"\ud83d\udd0c \u30a4\u30f3\u30d5\u30e9\u7d71\u5408"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d1\u30c3\u30b1\u30fc\u30b8"}),(0,s.jsx)(n.th,{children:"\u8cac\u52d9"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"datasource/"})}),(0,s.jsx)(n.td,{children:"\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u7ba1\u7406\u30fb\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"http/"})}),(0,s.jsx)(n.td,{children:"HTTP \u30af\u30e9\u30a4\u30a2\u30f3\u30c8"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"notification/"})}),(0,s.jsx)(n.td,{children:"\u901a\u77e5\u57fa\u76e4\uff08Email/Push\uff09"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"proxy/"})}),(0,s.jsx)(n.td,{children:"\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\ufe0f-\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u6a5f\u80fd",children:"\ud83d\udee0\ufe0f \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u6a5f\u80fd"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d1\u30c3\u30b1\u30fc\u30b8"}),(0,s.jsx)(n.th,{children:"\u8cac\u52d9"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"audit/"})}),(0,s.jsx)(n.td,{children:"\u76e3\u67fb\u30ed\u30b0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"log/"})}),(0,s.jsx)(n.td,{children:"\u30ed\u30ae\u30f3\u30b0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"plugin/"})}),(0,s.jsx)(n.td,{children:"\u30d7\u30e9\u30b0\u30a4\u30f3\u30ed\u30fc\u30c0\u30fc"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"dependency/"})}),(0,s.jsx)(n.td,{children:"DI\uff08Dependency Injection\uff09"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"configuration/"})}),(0,s.jsx)(n.td,{children:"\u8a2d\u5b9a\u7ba1\u7406"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"condition/"})}),(0,s.jsx)(n.td,{children:"\u6761\u4ef6\u8a55\u4fa1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"exception/"})}),(0,s.jsx)(n.td,{children:"\u4f8b\u5916\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"-\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3",children:"\ud83d\udce6 \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d1\u30c3\u30b1\u30fc\u30b8"}),(0,s.jsx)(n.th,{children:"\u8cac\u52d9"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"json/"})}),(0,s.jsx)(n.td,{children:"JSON \u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u30fb\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mapper/"})}),(0,s.jsx)(n.td,{children:"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30de\u30c3\u30d4\u30f3\u30b0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"type/"})}),(0,s.jsx)(n.td,{children:"\u578b\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"date/"})}),(0,s.jsx)(n.td,{children:"\u65e5\u6642\u51e6\u7406"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"resource/"})}),(0,s.jsx)(n.td,{children:"\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"oauth/"})}),(0,s.jsx)(n.td,{children:"OAuth\u5171\u901a\u578b"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"security/"})}),(0,s.jsx)(n.td,{children:"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u5b9f\u88c5",children:"\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u5b9f\u88c5"}),"\n",(0,s.jsx)(n.h3,{id:"tenant---\u30c6\u30ca\u30f3\u30c8\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb",children:"Tenant - \u30c6\u30ca\u30f3\u30c8\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.code,{children:"libs/idp-server-platform/src/main/java/org/idp/server/platform/multi_tenancy/tenant/"})]}),"\n",(0,s.jsx)(n.h4,{id:"tenantidentifier---\u30c6\u30ca\u30f3\u30c8\u8b58\u5225\u5b50",children:"TenantIdentifier - \u30c6\u30ca\u30f3\u30c8\u8b58\u5225\u5b50"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3\npublic class TenantIdentifier {\n  String value;\n\n  public TenantIdentifier(String value) {\n    this.value = value;\n  }\n\n  public String value() {\n    return value;\n  }\n\n  // equals/hashCode\u5b9f\u88c5\uff08\u5024\u306b\u3088\u308b\u7b49\u4fa1\u6027\uff09\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u91cd\u8981"}),": ",(0,s.jsx)(n.code,{children:"String"}),"\u3067\u306f\u306a\u304f",(0,s.jsx)(n.code,{children:"TenantIdentifier"}),"\u578b\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u578b\u5b89\u5168\u6027\u3092\u62c5\u4fdd\u3002"]}),"\n",(0,s.jsx)(n.h4,{id:"tenantattributes---\u30c6\u30ca\u30f3\u30c8\u56fa\u6709\u8a2d\u5b9a",children:"TenantAttributes - \u30c6\u30ca\u30f3\u30c8\u56fa\u6709\u8a2d\u5b9a"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/multi_tenancy/tenant/TenantAttributes.java#L25",children:"TenantAttributes.java:25"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"/**\n * \u30c6\u30ca\u30f3\u30c8\u56fa\u6709\u306e\u8a2d\u5b9a\u5024\u3092\u683c\u7d0d\n * \u78ba\u8a8d\u65b9\u6cd5: \u5b9f\u30d5\u30a1\u30a4\u30eb\u306e25-84\u884c\u76ee\n */\npublic class TenantAttributes {\n  Map<String, Object> values;\n\n  // \u2705 \u63a8\u5968\u30d1\u30bf\u30fc\u30f3: \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u6307\u5b9a\u3057\u3066Optional\u53d6\u5f97\n  public String optValueAsString(String key, String defaultValue) {\n    if (containsKey(key)) {\n      return (String) values.get(key);\n    }\n    return defaultValue;\n  }\n\n  public boolean optValueAsBoolean(String key, boolean defaultValue) {\n    if (values == null || values.isEmpty() || !containsKey(key)) {\n      return defaultValue;\n    }\n    return (boolean) values.get(key);\n  }\n\n  public List<String> optValueAsStringList(String key, List<String> defaultValue) {\n    if (values == null || values.isEmpty() || !containsKey(key)) {\n      return defaultValue;\n    }\n    return (List<String>) values.get(key);\n  }\n\n  // \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306a\u3057\u306e\u53d6\u5f97\uff08\u5b58\u5728\u78ba\u8a8d\u6e08\u307f\u306e\u5834\u5408\uff09\n  public String getValueAsString(String key) {\n    return (String) values.get(key);\n  }\n\n  public boolean containsKey(String key) {\n    if (values == null || values.isEmpty()) {\n      return false;\n    }\n    return values.containsKey(key);\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4f7f\u7528\u4f8b"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// Core\u5c64\u3067\u306e\u4f7f\u7528\nTenantAttributes attributes = tenant.attributes();\n\n// PKCE\u6709\u52b9\u5316\u30c1\u30a7\u30c3\u30af\nboolean enablePKCE = attributes.optValueAsBoolean("oauth.pkce.enabled", false);\n\n// \u30ab\u30b9\u30bf\u30e0\u30af\u30ec\u30fc\u30e0\u30ad\u30fc\nString customClaimKey = attributes.optValueAsString("token.custom_claim_key", "");\n\n// \u30ea\u30b9\u30c8\u53d6\u5f97\uff08\u8a31\u53ef\u30b9\u30b3\u30fc\u30d7\u7b49\uff09\nList<String> allowedScopes = attributes.optValueAsStringList(\n    "oauth.allowed_scopes",\n    List.of("openid", "profile")\n);\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": CLAUDE.md\u300c\u8a2d\u5b9a: TenantAttributes.optValueAsBoolean(key, default) \u30d1\u30bf\u30fc\u30f3\u300d"]}),"\n",(0,s.jsx)(n.h4,{id:"tenant---\u30c6\u30ca\u30f3\u30c8\u96c6\u7d04\u30eb\u30fc\u30c8",children:"Tenant - \u30c6\u30ca\u30f3\u30c8\u96c6\u7d04\u30eb\u30fc\u30c8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"public class Tenant {\n  TenantIdentifier identifier;\n  TenantName name;\n  TenantType type;\n  TenantAttributes attributes;\n  TenantFeatures features;\n\n  // \u2705 \u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30a2\u30af\u30bb\u30b5\u30fc\n  public TenantIdentifier identifier() { return identifier; }\n  public String identifierValue() { return identifier.value(); }\n\n  // \u2705 \u5c5e\u6027\u30a2\u30af\u30bb\u30b9\n  public TenantAttributes attributes() { return attributes; }\n\n  // \u2705 \u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\n  public boolean isOrganizer() {\n    return type.isOrganizer();\n  }\n\n  public boolean hasFeature(String featureName) {\n    return features.has(featureName);\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"organization---\u7d44\u7e54\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb",children:"Organization - \u7d44\u7e54\u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/multi_tenancy/organization/Organization.java#L22",children:"Organization.java:22"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'/**\n * \u7d44\u7e54 = \u8907\u6570\u30c6\u30ca\u30f3\u30c8\u3092\u30b0\u30eb\u30fc\u30d7\u5316\u3059\u308b\u4e0a\u4f4d\u6982\u5ff5\n * \u78ba\u8a8d\u65b9\u6cd5: \u5b9f\u30d5\u30a1\u30a4\u30eb\u306e22-80\u884c\u76ee\n */\npublic class Organization {\n  OrganizationIdentifier identifier;\n  OrganizationName name;\n  OrganizationDescription description;\n  AssignedTenants assignedTenants; // \u7d44\u7e54\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30c6\u30ca\u30f3\u30c8\u4e00\u89a7\n\n  public Organization updateWithTenant(AssignedTenant assignedTenant) {\n    AssignedTenants addedTenants = assignedTenants.add(assignedTenant);\n    // \u2705 Immutable\u30d1\u30bf\u30fc\u30f3: \u65b0\u3057\u3044\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u3059\n    return new Organization(identifier, name, description, addedTenants);\n  }\n\n  public boolean hasAssignedTenants() {\n    return assignedTenants != null && assignedTenants.exists();\n  }\n\n  // \u2705 toMap(): \u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9\u3067\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\n  public HashMap<String, Object> toMap() {\n    HashMap<String, Object> result = new HashMap<>();\n    result.put("id", identifier.value());\n    result.put("name", name.value());\n    result.put("description", description.value());\n    result.put("assigned_tenants", assignedTenants.toMapList());\n    return result;\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u91cd\u8981"}),": \u7d44\u7e54\u30ec\u30d9\u30ebAPI\u3067\u306f\u3001",(0,s.jsx)(n.code,{children:"OrganizationIdentifier"})," \u2192 ",(0,s.jsx)(n.code,{children:"TenantIdentifier"}),"\u306e\u9806\u3067\u5f15\u6570\u3092\u6e21\u3059\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"organizationrepository---\u7d44\u7e54\u30ea\u30dd\u30b8\u30c8\u30ea",children:"OrganizationRepository - \u7d44\u7e54\u30ea\u30dd\u30b8\u30c8\u30ea"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.code,{children:"libs/idp-server-platform/src/main/java/org/idp/server/platform/multi_tenancy/organization/OrganizationRepository.java"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"public interface OrganizationRepository {\n\n  // \u2705 \u91cd\u8981: OrganizationRepository\u306e\u307fTenant\u7b2c\u4e00\u5f15\u6570\u3067\u306f\u306a\u3044\n  void register(Organization organization);\n\n  void update(Organization organization);\n\n  Organization get(OrganizationIdentifier identifier);\n\n  List<Organization> findList(OrganizationQueries queries);\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u6ce8\u610f"}),": ",(0,s.jsx)(n.code,{children:"findMember()"})," \u3084 ",(0,s.jsx)(n.code,{children:"findAssignment()"})," \u306a\u3069\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\u7d44\u7e54\u30e1\u30f3\u30d0\u30fc\u3084\u5272\u308a\u5f53\u3066\u30c6\u30ca\u30f3\u30c8\u306e\u691c\u7d22\u306f\u3001\u53d6\u5f97\u3057\u305f ",(0,s.jsx)(n.code,{children:"Organization"})," \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u884c\u3044\u307e\u3059\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u7d44\u7e54\u306e\u53d6\u5f97\nOrganization org = organizationRepository.get(orgId);\n\n// \u5272\u308a\u5f53\u3066\u30c6\u30ca\u30f3\u30c8\u4e00\u89a7\nAssignedTenants tenants = org.assignedTenants();\nList<TenantIdentifier> tenantIds = tenants.tenantIdentifiers();\n\n// \u7d44\u7e54\u30bf\u30a4\u30d7\uff08ORGANIZER\uff09\u306e\u30c6\u30ca\u30f3\u30c8\u691c\u7d22\nAssignedTenant orgTenant = org.findOrgTenant();  // Organization.java:92\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4f8b\u5916\u30eb\u30fc\u30eb"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2757 ",(0,s.jsx)(n.strong,{children:"OrganizationRepository\u306e\u307f\u4f8b\u5916"}),": \u7d44\u7e54\u306f\u30c6\u30ca\u30f3\u30c8\u3088\u308a\u4e0a\u4f4d\u6982\u5ff5\u306e\u305f\u3081\u3001Tenant\u7b2c\u4e00\u5f15\u6570\u30eb\u30fc\u30eb\u306e\u5bfe\u8c61\u5916"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"\u305d\u306e\u4ed6\u306e\u5168Repository"}),": Tenant\u7b2c\u4e00\u5f15\u6570\u5fc5\u9808"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": CLAUDE.md\u300cRepository: \u5168\u30e1\u30bd\u30c3\u30c9\u3067 Tenant \u304c\u7b2c\u4e00\u5f15\u6570\uff08\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u5206\u96e2\uff09\u3002OrganizationRepository\u306f\u9664\u304f\u3002\u300d"]}),"\n",(0,s.jsx)(n.h2,{id:"repository-\u30d1\u30bf\u30fc\u30f3\u8a73\u7d30",children:"Repository \u30d1\u30bf\u30fc\u30f3\u8a73\u7d30"}),"\n",(0,s.jsx)(n.h3,{id:"query--command-\u5206\u96e2-cqrs",children:"Query / Command \u5206\u96e2 (CQRS)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u2705 Query: \u8aad\u307f\u53d6\u308a\u5c02\u7528\npublic interface TenantQueryRepository {\n  Tenant get(TenantIdentifier identifier);\n  Tenant find(TenantIdentifier identifier);\n  List<Tenant> findList(int limit, int offset);\n  long count();\n}\n\n// \u2705 Command: \u66f8\u304d\u8fbc\u307f\u5c02\u7528\npublic interface TenantCommandRepository {\n  void register(Tenant tenant);\n  void update(Tenant tenant);\n  void delete(TenantIdentifier identifier);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"get-vs-find-\u547d\u540d\u898f\u5247",children:"get() vs find() \u547d\u540d\u898f\u5247"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u2705 get(): \u5fc5\u9808\u5b58\u5728 - \u30c7\u30fc\u30bf\u304c\u306a\u3044\u5834\u5408\u306f\u4f8b\u5916\u30b9\u30ed\u30fc\nTenant tenant = tenantQueryRepository.get(tenantIdentifier);\n// \u2192 \u30c7\u30fc\u30bf\u304c\u306a\u3044 \u2192 TenantNotFoundException\n\n// \u2705 find(): \u4efb\u610f\u5b58\u5728 - \u30c7\u30fc\u30bf\u304c\u306a\u3044\u5834\u5408\u306fnull/\u7a7a\u3092\u8fd4\u5374\nTenant tenant = tenantQueryRepository.find(tenantIdentifier);\n// \u2192 \u30c7\u30fc\u30bf\u304c\u306a\u3044 \u2192 null\n\n// \u2705 findList(): \u30ea\u30b9\u30c8\u53d6\u5f97\nList<Tenant> tenants = tenantQueryRepository.findList(10, 0);\n\n// \u2705 findTotalCount(): \u30ab\u30a6\u30f3\u30c8\nlong total = tenantQueryRepository.findTotalCount(queries);\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": CLAUDE.md\u300c\u547d\u540d: get()\u5fc5\u9808\u5b58\u5728, find()\u4efb\u610f\u5b58\u5728, is/has/can\u5224\u5b9a\u30e1\u30bd\u30c3\u30c9\u300d"]}),"\n",(0,s.jsx)(n.h2,{id:"\u30ed\u30b0\u76e3\u67fb\u30ed\u30b0",children:"\u30ed\u30b0\u30fb\u76e3\u67fb\u30ed\u30b0"}),"\n",(0,s.jsx)(n.h3,{id:"loggerwrapper---\u30ed\u30ae\u30f3\u30b0",children:"LoggerWrapper - \u30ed\u30ae\u30f3\u30b0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'public class SomeHandler {\n  LoggerWrapper log = LoggerWrapper.getLogger(SomeHandler.class);\n\n  public void handle() {\n    log.info("Processing authorization request");\n    log.debug("Request parameters: {}", params);\n    log.error("Failed to process request", exception);\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"auditlog---\u76e3\u67fb\u30ed\u30b0",children:"AuditLog - \u76e3\u67fb\u30ed\u30b0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u76e3\u67fb\u30ed\u30b0\u8a18\u9332\nAuditLog auditLog = AuditLog.builder()\n    .tenantIdentifier(tenant.identifier())\n    .action("CREATE_CLIENT")\n    .subject(user.sub())\n    .resource("client_configuration")\n    .resourceId(clientId.value())\n    .timestamp(Instant.now())\n    .build();\n\nauditLogWriter.write(auditLog);\n'})}),"\n",(0,s.jsx)(n.h2,{id:"jose-jwtjwsjwejwk",children:"JOSE (JWT/JWS/JWE/JWK)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.code,{children:"libs/idp-server-platform/src/main/java/org/idp/server/platform/jose/"})]}),"\n",(0,s.jsx)(n.p,{children:"platform\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3001Nimbus JOSE + JWT\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30e9\u30c3\u30d1\u30fc\u3092\u63d0\u4f9b\u3002JoseHandler\u304c\u7d71\u5408\u30cf\u30f3\u30c9\u30e9\u30fc\u3068\u3057\u3066\u6a5f\u80fd\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"josehandler---\u7d71\u5408\u30cf\u30f3\u30c9\u30e9\u30fc",children:"JoseHandler - \u7d71\u5408\u30cf\u30f3\u30c9\u30e9\u30fc"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/jose/JoseHandler.java#L23-L40",children:"JoseHandler.java:23-40"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// Plain JWT / JWS / JWE \u3092\u81ea\u52d5\u5224\u5b9a\u3057\u3066\u51e6\u7406\nJoseHandler joseHandler = new JoseHandler();\n\nJoseContext context = joseHandler.handle(\n    joseString,    // JWT/JWS/JWE\u6587\u5b57\u5217\n    publicJwks,    // \u516c\u958b\u9375\uff08JWK Set\uff09\n    privateJwks,   // \u79d8\u5bc6\u9375\uff08JWK Set\uff09\n    secret         // \u5171\u901a\u9375\uff08HMAC\u7528\uff09\n);\n\n// \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089\u30c8\u30fc\u30af\u30f3\u60c5\u5831\u53d6\u5f97\nJsonWebTokenClaims claims = context.claims();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"jsonwebsignature-jws---\u7f72\u540d\u4ed8\u304djwt",children:"JsonWebSignature (JWS) - \u7f72\u540d\u4ed8\u304dJWT"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/jose/JsonWebSignature.java#L28-L100",children:"JsonWebSignature.java:28-100"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// JWS\u306e\u30d1\u30fc\u30b9\nJsonWebSignature jws = JsonWebSignature.parse(jwsString);\n\n// \u30af\u30ec\u30fc\u30e0\u53d6\u5f97\nJsonWebTokenClaims claims = jws.claims();\nString subject = claims.subject();\nString issuer = claims.issuer();\n\n// \u30d8\u30c3\u30c0\u30fc\u60c5\u5831\nString keyId = jws.keyId();\nString algorithm = jws.algorithm();\nboolean isSymmetric = jws.isSymmetricType(); // HS256/HS384/HS512\u5224\u5b9a\n\n// \u7f72\u540d\u691c\u8a3c\nJsonWebSignatureVerifier verifier = new JsonWebSignatureVerifier(\n    jws.header(),\n    publicKey\n);\nverifier.verify(jws);  // \u691c\u8a3c\u5931\u6557\u6642\u306f JoseInvalidException\n"})}),"\n",(0,s.jsx)(n.h3,{id:"jsonwebtoken-plain-jwt",children:"JsonWebToken (Plain JWT)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/jose/JsonWebToken.java#L24-L62",children:"JsonWebToken.java:24-62"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// Plain JWT\uff08\u7f72\u540d\u306a\u3057\uff09\u306e\u30d1\u30fc\u30b9\nJsonWebToken jwt = JsonWebToken.parse(jwtString);\n\n// \u30af\u30ec\u30fc\u30e0\u53d6\u5f97\nJsonWebTokenClaims claims = jwt.claims();\n\n// \u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\nString serialized = jwt.serialize();\n"})}),"\n",(0,s.jsx)(n.h2,{id:"http-\u30af\u30e9\u30a4\u30a2\u30f3\u30c8",children:"HTTP \u30af\u30e9\u30a4\u30a2\u30f3\u30c8"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/http/HttpRequestExecutor.java#L36-L165",children:"HttpRequestExecutor.java:36-165"})]}),"\n",(0,s.jsx)(n.h3,{id:"httprequestexecutor---http\u5b9f\u884c\u30a8\u30f3\u30b8\u30f3",children:"HttpRequestExecutor - HTTP\u5b9f\u884c\u30a8\u30f3\u30b8\u30f3"}),"\n",(0,s.jsxs)(n.p,{children:["platform\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3001Java\u6a19\u6e96\u306e ",(0,s.jsx)(n.code,{children:"java.net.http.HttpClient"})," \u3092\u30d9\u30fc\u30b9\u306b\u3057\u305f\u9ad8\u6a5f\u80fdHTTP\u5b9f\u884c\u30a8\u30f3\u30b8\u30f3\u3092\u63d0\u4f9b\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4e3b\u8981\u6a5f\u80fd"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OAuth 2.0\u81ea\u52d5\u8a8d\u8a3c"}),"\n",(0,s.jsx)(n.li,{children:"\u30ea\u30c8\u30e9\u30a4\u30e1\u30ab\u30cb\u30ba\u30e0\uff08\u30a8\u30af\u30b9\u30dd\u30cd\u30f3\u30b7\u30e3\u30eb\u30d0\u30c3\u30af\u30aa\u30d5\uff09"}),"\n",(0,s.jsx)(n.li,{children:"Idempotency\u30ad\u30fc\u7ba1\u7406"}),"\n",(0,s.jsx)(n.li,{children:"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a8\u30e9\u30fc\u306eHTTP\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u30de\u30c3\u30d4\u30f3\u30b0"}),"\n",(0,s.jsx)(n.li,{children:"\u8a2d\u5b9a\u30d9\u30fc\u30b9\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u69cb\u7bc9"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u57fa\u672c\u7684\u306a\u4f7f\u7528\u4f8b",children:"\u57fa\u672c\u7684\u306a\u4f7f\u7528\u4f8b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// HttpClient\u3068OAuth\u30ea\u30be\u30eb\u30d0\u30fc\u306e\u521d\u671f\u5316\nHttpClient httpClient = HttpClient.newHttpClient();\nOAuthAuthorizationResolvers oauthResolvers = new OAuthAuthorizationResolvers();\n\n// HttpRequestExecutor\u306e\u4f5c\u6210\nHttpRequestExecutor executor = new HttpRequestExecutor(httpClient, oauthResolvers);\n\n// \u6a19\u6e96\u306ejava.net.http.HttpRequest\u3092\u4f7f\u7528\nHttpRequest request = HttpRequest.newBuilder()\n    .uri(URI.create("https://api.example.com/data"))\n    .header("Content-Type", "application/json")\n    .POST(HttpRequest.BodyPublishers.ofString(jsonBody))\n    .build();\n\n// \u5b9f\u884c\nHttpRequestResult result = executor.execute(request);\n\nif (result.statusCode() == 200) {\n  String responseBody = result.body();\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u30ea\u30c8\u30e9\u30a4\u6a5f\u80fd\u4ed8\u304d\u5b9f\u884c",children:"\u30ea\u30c8\u30e9\u30a4\u6a5f\u80fd\u4ed8\u304d\u5b9f\u884c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u30ea\u30c8\u30e9\u30a4\u8a2d\u5b9a\nHttpRetryConfiguration retryConfig = HttpRetryConfiguration.builder()\n    .maxRetries(3)\n    .retryableStatusCodes(List.of(502, 503, 504))\n    .backoffDelays(List.of(\n        Duration.ofSeconds(1),\n        Duration.ofSeconds(2),\n        Duration.ofSeconds(4)\n    ))\n    .idempotencyRequired(true)  // Idempotency-Key\u30d8\u30c3\u30c0\u30fc\u81ea\u52d5\u4ed8\u4e0e\n    .build();\n\n// \u30ea\u30c8\u30e9\u30a4\u5b9f\u884c\nHttpRequestResult result = executor.executeWithRetry(request, retryConfig);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"oauth\u8a8d\u8a3c\u4ed8\u304d\u5b9f\u884c",children:"OAuth\u8a8d\u8a3c\u4ed8\u304d\u5b9f\u884c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// OAuth\u8a2d\u5b9a\nOAuthAuthorizationConfiguration oauthConfig = // ... OAuth\u8a2d\u5b9a\n\n// OAuth + \u30ea\u30c8\u30e9\u30a4\nHttpRequestResult result = executor.executeWithRetry(\n    request,\n    oauthConfig,\n    retryConfig\n);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u8a2d\u5b9a\u30d9\u30fc\u30b9\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u5b9f\u884c",children:"\u8a2d\u5b9a\u30d9\u30fc\u30b9\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u5b9f\u884c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// HttpRequestExecutionConfig\u3092\u4f7f\u3063\u305f\u52d5\u7684\u30ea\u30af\u30a8\u30b9\u30c8\u69cb\u7bc9\nHttpRequestExecutionConfig config = HttpRequestExecutionConfig.builder()\n    .url("https://api.example.com/users/{user_id}")\n    .method(HttpMethod.POST)\n    .authType(HttpRequestAuthType.OAUTH2)\n    .oauthAuthorization(oauthConfig)\n    .retryConfiguration(retryConfig)\n    .build();\n\n// \u30ea\u30af\u30a8\u30b9\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\uff08URL\u57cb\u3081\u8fbc\u307f\u30fb\u30d8\u30c3\u30c0\u30fc\u30fb\u30dc\u30c7\u30a3\u306b\u52d5\u7684\u30de\u30c3\u30d4\u30f3\u30b0\uff09\nMap<String, Object> params = Map.of(\n    "user_id", "12345",\n    "name", "John Doe"\n);\n\nHttpRequestResult result = executor.execute(config, params);\n'})}),"\n",(0,s.jsx)(n.h2,{id:"datasource\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3proxy",children:"Datasource\u30fb\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30fbProxy"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.code,{children:"libs/idp-server-platform/src/main/java/org/idp/server/platform/datasource/"}),", ",(0,s.jsx)(n.code,{children:"libs/idp-server-platform/src/main/java/org/idp/server/platform/proxy/"})]}),"\n",(0,s.jsxs)(n.p,{children:["platform\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3001",(0,s.jsx)(n.strong,{children:"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u99c6\u52d5\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u7ba1\u7406"}),"\u3092\u63d0\u4f9b\u3002Dynamic Proxy\u306b\u3088\u308b\u81ea\u52d5\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u5236\u5fa1\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981",children:"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u6982\u8981"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"EntryService (Interface)\n    \u2193\nTenantAwareEntryServiceProxy (Dynamic Proxy)\n    \u2193 @Transaction \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u691c\u51fa\n    \u2193 TransactionManager \u81ea\u52d5\u547c\u3073\u51fa\u3057\n    \u2193 PostgreSQL RLS \u81ea\u52d5\u8a2d\u5b9a\n    \u2193\nEntryService (\u5b9f\u88c5)\n    \u2193\nRepository \u2192 SqlExecutor \u2192 TransactionManager.getConnection()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"transaction-\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3",children:"@Transaction \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:r(7257).A+"#L24-L28",children:"Transaction.java:24-28"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.TYPE})\npublic @interface Transaction {\n  boolean readOnly() default false;\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4f7f\u7528\u4f8b"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u2705 \u30af\u30e9\u30b9\u30ec\u30d9\u30eb: \u5168\u30e1\u30bd\u30c3\u30c9\u306b\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u9069\u7528\n@Transaction\npublic class UserManagementEntryService implements UserManagementApi {\n  // \u5168\u30e1\u30bd\u30c3\u30c9\u304c\u81ea\u52d5\u7684\u306b\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u7ba1\u7406\u3055\u308c\u308b\n}\n\n// \u2705 \u30e1\u30bd\u30c3\u30c9\u30ec\u30d9\u30eb: \u7279\u5b9a\u30e1\u30bd\u30c3\u30c9\u306e\u307f\npublic class TenantManagementEntryService implements TenantManagementApi {\n\n  @Transaction(readOnly = true)\n  public TenantResponse get(TenantIdentifier tenantIdentifier) {\n    // \u8aad\u307f\u53d6\u308a\u5c02\u7528\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\n  }\n\n  @Transaction  // readOnly = false (\u30c7\u30d5\u30a9\u30eb\u30c8)\n  public TenantResponse register(TenantRegistrationRequest request) {\n    // \u66f8\u304d\u8fbc\u307f\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"tenantawareentryserviceproxy---dynamic-proxy",children:"TenantAwareEntryServiceProxy - Dynamic Proxy"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/proxy/TenantAwareEntryServiceProxy.java#L29-L181",children:"TenantAwareEntryServiceProxy.java:29-181"})]}),"\n",(0,s.jsx)(n.p,{children:"Dynamic Proxy\u304c\u81ea\u52d5\u7684\u306b\u4ee5\u4e0b\u3092\u5b9f\u884c\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u691c\u51fa"}),": ",(0,s.jsx)(n.code,{children:"@Transaction"})," \u306e\u6709\u7121\u30fbreadOnly\u5224\u5b9a"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TenantIdentifier\u89e3\u6c7a"}),": \u30e1\u30bd\u30c3\u30c9\u5f15\u6570\u304b\u3089\u81ea\u52d5\u62bd\u51fa"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u958b\u59cb"}),": ",(0,s.jsx)(n.code,{children:"TransactionManager.beginTransaction()"})," \u307e\u305f\u306f ",(0,s.jsx)(n.code,{children:"createConnection()"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"RLS\u8a2d\u5b9a"}),": PostgreSQL\u306e\u5834\u5408\u3001",(0,s.jsx)(n.code,{children:"set_config('app.tenant_id', ?, true)"})," \u5b9f\u884c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u30ed\u30b0\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8"}),": ",(0,s.jsx)(n.code,{children:"TenantLoggingContext"})," \u8a2d\u5b9a"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5b9f\u884c"}),": \u5b9f\u969b\u306e\u30e1\u30bd\u30c3\u30c9\u5b9f\u884c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u30b3\u30df\u30c3\u30c8/\u30ed\u30fc\u30eb\u30d0\u30c3\u30af"}),": \u6210\u529f\u6642commit\u3001\u4f8b\u5916\u6642rollback"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7"}),": \u63a5\u7d9a\u30af\u30ed\u30fc\u30ba\u3001\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30af\u30ea\u30a2"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Proxy\u4f5c\u6210"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// EntryService\u3092Proxy\u3067\u30e9\u30c3\u30d7\nUserManagementApi userManagementApi = TenantAwareEntryServiceProxy.createProxy(\n    new UserManagementEntryService(...),\n    UserManagementApi.class,\n    applicationDatabaseTypeProvider\n);\n\n// \u3053\u306e\u5f8c\u306eAPI\u547c\u3073\u51fa\u3057\u306f\u5168\u3066\u81ea\u52d5\u7684\u306b\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u7ba1\u7406\u3055\u308c\u308b\nuserManagementApi.register(tenantIdentifier, request);  // \u81ea\u52d5\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\n"})}),"\n",(0,s.jsx)(n.h3,{id:"transactionmanager---threadlocal\u7ba1\u7406",children:"TransactionManager - ThreadLocal\u7ba1\u7406"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/datasource/TransactionManager.java#L25-L149",children:"TransactionManager.java:25-149"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u91cd\u8981"}),": \u901a\u5e38\u3001\u958b\u767a\u8005\u304c\u76f4\u63a5TransactionManager\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u306f\u306a\u3044\u3002Proxy\u304c\u81ea\u52d5\u7684\u306b\u547c\u3073\u51fa\u3059\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u2705 Proxy\u304c\u81ea\u52d5\u7684\u306b\u5b9f\u884c\uff08\u958b\u767a\u8005\u306f\u610f\u8b58\u4e0d\u8981\uff09\nTransactionManager.beginTransaction(DatabaseType.POSTGRESQL, tenantIdentifier);\n// \u2192 set_config('app.tenant_id', ?, true) \u81ea\u52d5\u5b9f\u884c\n// \u2192 \u30e1\u30bd\u30c3\u30c9\u5b9f\u884c\n// \u2192 commit or rollback\n// \u2192 closeConnection()\n\n// \u274c \u76f4\u63a5\u547c\u3073\u51fa\u3057\u306f\u975e\u63a8\u5968\uff08Proxy\u3092\u4f7f\u7528\u3059\u3079\u304d\uff09\nTransactionManager.beginTransaction(...);  // \u901a\u5e38\u306f\u4f7f\u308f\u306a\u3044\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"ThreadLocal\u7ba1\u7406\u306e\u4ed5\u7d44\u307f"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'private static final ThreadLocal<Connection> connectionHolder = new ThreadLocal<>();\n\npublic static Connection getConnection() {\n  Connection conn = connectionHolder.get();\n  if (conn == null) {\n    throw new SqlRuntimeException("No active transaction");\n  }\n  return conn;\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"sqlexecutor---sql\u5b9f\u884c\u30d8\u30eb\u30d1\u30fc",children:"SqlExecutor - SQL\u5b9f\u884c\u30d8\u30eb\u30d1\u30fc"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/datasource/SqlExecutor.java#L23-L83",children:"SqlExecutor.java:23-83"})]}),"\n",(0,s.jsx)(n.p,{children:"Repository\u5b9f\u88c5\u3067\u4f7f\u7528\u3059\u308bSQL\u5b9f\u884c\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'public class UserRepositoryImpl implements UserQueryRepository {\n\n  public User get(Tenant tenant, String userSub) {\n    SqlExecutor executor = new SqlExecutor();  // TransactionManager.getConnection()\u3092\u5185\u90e8\u3067\u4f7f\u7528\n\n    String sql = "SELECT * FROM idp_user WHERE tenant_id = ? AND sub = ?";\n    Map<String, String> row = executor.selectOne(sql, List.of(\n        tenant.identifierValue(),\n        userSub\n    ));\n\n    return mapToUser(row);\n  }\n\n  public List<User> findList(Tenant tenant, int limit, int offset) {\n    SqlExecutor executor = new SqlExecutor();\n\n    String sql = "SELECT * FROM idp_user WHERE tenant_id = ? LIMIT ? OFFSET ?";\n    List<Map<String, String>> rows = executor.selectList(sql, List.of(\n        tenant.identifierValue(),\n        limit,\n        offset\n    ));\n\n    return rows.stream().map(this::mapToUser).toList();\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u81ea\u52d5\u4f8b\u5916\u30de\u30c3\u30d4\u30f3\u30b0"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"try {\n  executor.selectOne(sql, params);\n} catch (SQLException exception) {\n  switch (SqlErrorClassifier.classify(exception)) {\n    case UNIQUE_VIOLATION -> throw new SqlDuplicateKeyException(...);\n    case NOT_NULL_VIOLATION, CHECK_VIOLATION -> throw new SqlBadRequestException(...);\n    default -> throw new SqlRuntimeException(...);\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"row-level-security-rls-\u306e\u81ea\u52d5\u8a2d\u5b9a",children:"Row Level Security (RLS) \u306e\u81ea\u52d5\u8a2d\u5b9a"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/datasource/TransactionManager.java#L128-L167",children:"TransactionManager.java:128-167"})]}),"\n",(0,s.jsx)(n.p,{children:"PostgreSQL\u4f7f\u7528\u6642\u3001Proxy\u304c\u81ea\u52d5\u7684\u306bRLS\u3092\u8a2d\u5b9a\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- Proxy\u304c\u81ea\u52d5\u5b9f\u884c\uff08\u958b\u767a\u8005\u306f\u610f\u8b58\u4e0d\u8981\uff09\nSELECT set_config('app.tenant_id', ?, true);\n--                                    \u2191 is_local=true\uff08\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u7d42\u4e86\u6642\u306b\u81ea\u52d5\u30af\u30ea\u30a2\uff09\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Issue #672\u5bfe\u7b56"}),": \u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u4f7f\u7528\u3067SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u9632\u6b62"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u2705 \u5b89\u5168\u306a\u5b9f\u88c5\uff08Issue #672\u3067\u4fee\u6b63\u6e08\u307f\uff09\nprivate static void setTenantId(Connection conn, TenantIdentifier tenantIdentifier) {\n  try (PreparedStatement stmt = conn.prepareStatement(\n      \"SELECT set_config('app.tenant_id', ?, true)\")) {\n    stmt.setString(1, tenantIdentifier.value());\n    stmt.execute();\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5b9f\u88c5\u30d1\u30bf\u30fc\u30f3\u307e\u3068\u3081",children:"\u5b9f\u88c5\u30d1\u30bf\u30fc\u30f3\u307e\u3068\u3081"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u958b\u767a\u8005\u304c\u3059\u3079\u304d\u3053\u3068"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2705 EntryService\u306b ",(0,s.jsx)(n.code,{children:"@Transaction"})," \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u4ed8\u4e0e"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 \u30e1\u30bd\u30c3\u30c9\u5f15\u6570\u306b ",(0,s.jsx)(n.code,{children:"TenantIdentifier"})," \u3092\u542b\u3081\u308b\uff08\u7b2c\u4e00\u5f15\u6570\u63a8\u5968\uff09"]}),"\n",(0,s.jsx)(n.li,{children:"\u2705 EntryService\u3092Proxy\u3067\u30e9\u30c3\u30d7\u3057\u3066\u4f7f\u7528"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Repository\u3067SqlExecutor\u3092\u4f7f\u7528"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u958b\u767a\u8005\u304c\u610f\u8b58\u3057\u306a\u304f\u3066\u3088\u3044\u3053\u3068"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u274c TransactionManager\u306e\u76f4\u63a5\u547c\u3073\u51fa\u3057\uff08Proxy\u304c\u81ea\u52d5\u5b9f\u884c\uff09"}),"\n",(0,s.jsx)(n.li,{children:"\u274c Connection\u7ba1\u7406\uff08ThreadLocal\u3067\u81ea\u52d5\u7ba1\u7406\uff09"}),"\n",(0,s.jsx)(n.li,{children:"\u274c commit/rollback\uff08Proxy\u304c\u81ea\u52d5\u5b9f\u884c\uff09"}),"\n",(0,s.jsx)(n.li,{children:"\u274c RLS\u8a2d\u5b9a\uff08Proxy\u304c\u81ea\u52d5\u5b9f\u884c\uff09"}),"\n",(0,s.jsx)(n.li,{children:"\u274c \u30ed\u30b0\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u8a2d\u5b9a\uff08Proxy\u304c\u81ea\u52d5\u5b9f\u884c\uff09"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": Issue #672\uff08SQL Injection\u5bfe\u7b56\uff09"]}),"\n",(0,s.jsx)(n.h2,{id:"json-\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba",children:"JSON \u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u30fb\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba"}),"\n",(0,s.jsx)(n.h3,{id:"jsonconverter---json\u5909\u63db\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3",children:"JsonConverter - JSON\u5909\u63db\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/json/JsonConverter.java#L33",children:"JsonConverter.java:33"})]}),"\n",(0,s.jsx)(n.p,{children:"Jackson ObjectMapper\u306e\u30e9\u30c3\u30d1\u30fc\u3002\u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9/\u30ad\u30e3\u30e1\u30eb\u30b1\u30fc\u30b9\u5909\u63db\u3092\u30b5\u30dd\u30fc\u30c8\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u53d6\u5f97",children:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u53d6\u5f97"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"/**\n * JsonConverter - 2\u3064\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n * \u78ba\u8a8d\u65b9\u6cd5: \u5b9f\u30d5\u30a1\u30a4\u30eb\u306e33-44\u884c\u76ee\n */\n\n// \u2705 \u30c7\u30d5\u30a9\u30eb\u30c8\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\uff08\u30ad\u30e3\u30e1\u30eb\u30b1\u30fc\u30b9\uff09\nJsonConverter defaultConverter = JsonConverter.defaultInstance();\n\n// \u2705 \u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\nJsonConverter snakeCaseConverter = JsonConverter.snakeCaseInstance();\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u91cd\u8981"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"defaultInstance()"}),": \u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u3092\u305d\u306e\u307e\u307e\u7dad\u6301\uff08",(0,s.jsx)(n.code,{children:"clientId"}),"\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"snakeCaseInstance()"}),": \u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9\u306b\u5909\u63db\uff08",(0,s.jsx)(n.code,{children:"client_id"}),"\uff09"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u30b7\u30ea\u30a2\u30e9\u30a4\u30bajava--json",children:"\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\uff08Java \u2192 JSON\uff09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092JSON\u6587\u5b57\u5217\u306b\u5909\u63db\nClientConfiguration config = ...;\nString json = jsonConverter.write(config);\n\n// Map \u2192 JSON\nMap<String, Object> map = Map.of("client_id", "test-client");\nString json = jsonConverter.write(map);\n'})}),"\n",(0,s.jsx)(n.h4,{id:"\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30bajson--java",children:"\u30c7\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\uff08JSON \u2192 Java\uff09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// JSON\u6587\u5b57\u5217 \u2192 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\nString json = "{\\"client_id\\":\\"test-client\\",\\"client_name\\":\\"Test\\"}";\nClientConfiguration config = jsonConverter.read(json, ClientConfiguration.class);\n\n// Map \u2192 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\nMap<String, Object> map = request.toMap();\nClientConfiguration config = jsonConverter.read(map, ClientConfiguration.class);\n'})}),"\n",(0,s.jsx)(n.h4,{id:"\u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9\u5909\u63db\u306e\u91cd\u8981\u6027",children:"\u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9\u5909\u63db\u306e\u91cd\u8981\u6027"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u2705 Context Creator\u3067\u4f7f\u7528\nJsonConverter jsonConverter = JsonConverter.snakeCaseInstance();\n\n// HTTP\u30ea\u30af\u30a8\u30b9\u30c8: snake_case \u2192 Java\u30aa\u30d6\u30b8\u30a7\u30af\u30c8: camelCase\nMap<String, Object> requestBody = Map.of(\n    "client_id", "test",        // snake_case\n    "client_name", "Test",      // snake_case\n    "redirect_uris", List.of()  // snake_case\n);\n\nClientConfiguration config = jsonConverter.read(requestBody, ClientConfiguration.class);\n// config.clientId() \u2192 "test"      // camelCase\n// config.clientName() \u2192 "Test"    // camelCase\n// config.redirectUris() \u2192 []      // camelCase\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4f7f\u7528\u7b87\u6240"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Context Creator"}),": \u30ea\u30af\u30a8\u30b9\u30c8DTO \u2192 \u30c9\u30e1\u30a4\u30f3\u30e2\u30c7\u30eb\u5909\u63db"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Repository"}),": JSON\u5217\uff08JSONB\uff09\u2192 Java\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5909\u63db"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cache"}),": Redis\u4fdd\u5b58\u6642\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"HTTP"}),": \u5916\u90e8API\u3068\u306eJSON\u901a\u4fe1"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"jackson\u8a2d\u5b9a",children:"Jackson\u8a2d\u5b9a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u30d5\u30a3\u30fc\u30eb\u30c9\u30a2\u30af\u30bb\u30b9\uff08getter\u306a\u3057\u3067\u3082\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u53ef\u80fd\uff09\nobjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n\n// \u30b9\u30cd\u30fc\u30af\u30b1\u30fc\u30b9\u5909\u63db\nobjectMapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE);\n\n// Java 8 Time API\u5bfe\u5fdc\nobjectMapper.registerModule(new JavaTimeModule());\n\n// \u7a7a\u6587\u5b57\u5217 \u2192 null \u5909\u63db\nobjectMapper.coercionConfigFor(LogicalType.Collection)\n    .setCoercion(CoercionInputShape.EmptyString, CoercionAction.AsNull);\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/json/JsonConverter.java#L52-L80",children:"JsonConverter.java:52-80"})]}),"\n",(0,s.jsx)(n.h2,{id:"dependency-injection---di\u30b3\u30f3\u30c6\u30ca",children:"Dependency Injection - DI\u30b3\u30f3\u30c6\u30ca"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.code,{children:"libs/idp-server-platform/src/main/java/org/idp/server/platform/dependency/"})]}),"\n",(0,s.jsx)(n.p,{children:"platform\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3001\u8efd\u91cf\u306aDI\u30b3\u30f3\u30c6\u30ca\u6a5f\u69cb\u3092\u63d0\u4f9b\u3002Plugin\u306e\u4f9d\u5b58\u95a2\u4fc2\u89e3\u6c7a\u306b\u4f7f\u7528\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"applicationcomponentcontainer",children:"ApplicationComponentContainer"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/dependency/ApplicationComponentContainer.java#L22",children:"ApplicationComponentContainer.java:22"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'/**\n * \u30b7\u30f3\u30d7\u30eb\u306aDI\u30b3\u30f3\u30c6\u30ca\n * \u78ba\u8a8d\u65b9\u6cd5: \u5b9f\u30d5\u30a1\u30a4\u30eb\u306e22-41\u884c\u76ee\n */\npublic class ApplicationComponentContainer {\n\n  Map<Class<?>, Object> dependencies;\n\n  public ApplicationComponentContainer() {\n    this.dependencies = new HashMap<>();\n  }\n\n  // \u2705 \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u767b\u9332\n  public void register(Class<?> type, Object instance) {\n    dependencies.put(type, instance);\n  }\n\n  // \u2705 \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u89e3\u6c7a\n  public <T> T resolve(Class<T> type) {\n    if (!dependencies.containsKey(type)) {\n      throw new ApplicationComponentMissionException(\n          "Missing datasource for type: " + type.getName());\n    }\n    return type.cast(dependencies.get(type));\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u4f7f\u7528\u4f8b-authenticationdependencycontainer",children:"\u4f7f\u7528\u4f8b: AuthenticationDependencyContainer"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// DI\u30b3\u30f3\u30c6\u30ca\u306b\u4f9d\u5b58\u95a2\u4fc2\u3092\u767b\u9332\nApplicationComponentContainer container = new ApplicationComponentContainer();\ncontainer.register(UserQueryRepository.class, userQueryRepository);\ncontainer.register(PasswordVerificationDelegation.class, passwordVerificationDelegation);\n\n// Plugin\u3067\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\npublic class PasswordAuthenticationInteractorFactory implements AuthenticationInteractorFactory {\n\n  @Override\n  public AuthenticationInteractor create(AuthenticationDependencyContainer container) {\n    // \u2705 \u30b3\u30f3\u30c6\u30ca\u304b\u3089\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\n    PasswordVerificationDelegation delegation =\n        container.resolve(PasswordVerificationDelegation.class);\n\n    return new PasswordAuthenticationInteractor(delegation);\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"protocolcontainer",children:"ProtocolContainer"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.code,{children:"libs/idp-server-platform/src/main/java/org/idp/server/platform/dependency/protocol/"})]}),"\n",(0,s.jsx)(n.p,{children:"Protocol\uff08OAuth/OIDC\uff09\u306e\u4f9d\u5b58\u95a2\u4fc2\u7ba1\u7406\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"/**\n * Protocol\u306e\u4f9d\u5b58\u95a2\u4fc2\u30b3\u30f3\u30c6\u30ca\n */\npublic class ProtocolContainer {\n\n  Map<String, ProtocolProvider> providers;\n\n  public <T> T resolve(String key, Class<T> type) {\n    ProtocolProvider provider = providers.get(key);\n    return type.cast(provider.provide());\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u7528\u9014"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Plugin Factory\u3067\u306eRepository\u89e3\u6c7a"}),"\n",(0,s.jsx)(n.li,{children:"AuthenticationInteractor\u7d44\u307f\u7acb\u3066"}),"\n",(0,s.jsx)(n.li,{children:"FederationInteractor\u7d44\u307f\u7acb\u3066"}),"\n",(0,s.jsx)(n.li,{children:"Protocol\u5b9f\u88c5\u306e\u4f9d\u5b58\u95a2\u4fc2\u7ba1\u7406"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u91cd\u8981"}),": idp-server\u306eDI\u306f\u3001Spring Boot\u306eDI\u3068\u306f",(0,s.jsx)(n.strong,{children:"\u5225\u30ec\u30a4\u30e4\u30fc"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Spring Boot"}),": Controller, Configuration, Bean\u7ba1\u7406"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"platform dependency"}),": Plugin, Interactor, Protocol\u306e\u4f9d\u5b58\u95a2\u4fc2\u306e\u307f"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"plugin-system",children:"Plugin System"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/plugin/PluginLoader.java#L25-L91",children:"PluginLoader.java:25-91"})]}),"\n",(0,s.jsx)(n.p,{children:"platform\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3001Java ServiceLoader\u6a5f\u69cb\u3092\u4f7f\u7528\u3057\u305f\u30d7\u30e9\u30b0\u30a4\u30f3\u30b7\u30b9\u30c6\u30e0\u3092\u63d0\u4f9b\u3002\u5185\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u30fb\u5916\u90e8JAR\u306e\u4e21\u65b9\u3092\u30b5\u30dd\u30fc\u30c8\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"pluginloader---\u9759\u7684\u30e1\u30bd\u30c3\u30c9api",children:"PluginLoader - \u9759\u7684\u30e1\u30bd\u30c3\u30c9API"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u91cd\u8981"}),": PluginLoader\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u4e0d\u8981\u3002\u5168\u3066\u9759\u7684\u30e1\u30bd\u30c3\u30c9\u3067\u63d0\u4f9b\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u2705 \u5185\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u30ed\u30fc\u30c9\uff08META-INF/services\uff09\nList<AccessTokenCustomClaimsCreator> internalCreators =\n    PluginLoader.loadFromInternalModule(AccessTokenCustomClaimsCreator.class);\n\n// \u2705 \u5916\u90e8JAR\u304b\u3089\u30ed\u30fc\u30c9\uff08plugins/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff09\nList<AccessTokenCustomClaimsCreator> externalCreators =\n    PluginLoader.loadFromExternalModule(AccessTokenCustomClaimsCreator.class);\n\n// \u2705 \u4e21\u65b9\u3092\u30de\u30fc\u30b8\u3057\u3066\u4f7f\u7528\nList<AccessTokenCustomClaimsCreator> allCreators = new ArrayList<>();\nallCreators.addAll(internalCreators);\nallCreators.addAll(externalCreators);\n\n// \u30d7\u30e9\u30b0\u30a4\u30f3\u9069\u7528\nfor (AccessTokenCustomClaimsCreator creator : allCreators) {\n  Map<String, Object> claims = creator.create(context);\n  customClaims.putAll(claims);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5185\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u30d7\u30e9\u30b0\u30a4\u30f3",children:"\u5185\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u30d7\u30e9\u30b0\u30a4\u30f3"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"idp-server\u5185\u90e8\u3067\u306e\u6a5f\u80fd\u62e1\u5f35"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u30d7\u30e9\u30b0\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u5b9f\u88c5:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'package com.example.internal;\n\npublic class MyCustomClaimsCreator implements AccessTokenCustomClaimsCreator {\n  @Override\n  public Map<String, Object> create(AccessTokenContext context) {\n    return Map.of("custom_claim", "value");\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"resources/META-INF/services/"})," \u306b\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u30d5\u30a1\u30a4\u30eb\u540d: org.idp.server.core.openid.token.plugin.AccessTokenCustomClaimsCreator\n\u5185\u5bb9: com.example.internal.MyCustomClaimsCreator\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u30d3\u30eb\u30c9\u5f8c\u3001\u81ea\u52d5\u7684\u306b\u30ed\u30fc\u30c9\u3055\u308c\u308b"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u5916\u90e8jar\u30d7\u30e9\u30b0\u30a4\u30f3",children:"\u5916\u90e8JAR\u30d7\u30e9\u30b0\u30a4\u30f3"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5916\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3088\u308b\u6a5f\u80fd\u62e1\u5f35"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u30d7\u30e9\u30b0\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u5b9f\u88c5\uff08\u540c\u4e0a\uff09"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"resources/META-INF/services/"})," \u306b\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\uff08\u540c\u4e0a\uff09"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"JAR\u3092\u30d3\u30eb\u30c9:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./gradlew jar\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"plugins/"})," \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cp build/libs/my-custom-claims-1.0.0.jar /path/to/idp-server/plugins/\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"idp-server\u518d\u8d77\u52d5\u3067\u30ed\u30fc\u30c9"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"urlclassloader\u6a5f\u69cb",children:"URLClassLoader\u6a5f\u69cb"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/plugin/PluginLoader.java#L41-L90",children:"PluginLoader.java:41-90"})]}),"\n",(0,s.jsx)(n.p,{children:"\u5916\u90e8JAR\u306f\u5c02\u7528ClassLoader\u3067\u5206\u96e2\u30ed\u30fc\u30c9:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// plugins/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e\u5168JAR\u3092\u691c\u7d22\nFile dir = new File("plugins");\nFile[] jars = dir.listFiles((d, name) -> name.endsWith(".jar"));\n\n// URLClassLoader\u3067\u5916\u90e8JAR\u3092\u30ed\u30fc\u30c9\nURL[] urls = Arrays.stream(jars).map(f -> f.toURI().toURL()).toArray(URL[]::new);\nClassLoader contextClassLoader = PluginLoader.class.getClassLoader();\nURLClassLoader loader = new URLClassLoader(urls, contextClassLoader);\n\n// ServiceLoader\u3067\u5b9f\u88c5\u3092\u691c\u7d22\nServiceLoader<T> serviceLoader = ServiceLoader.load(type, loader);\n\n// \u5916\u90e8JAR\u304b\u3089\u306e\u307f\u30ed\u30fc\u30c9\uff08\u5185\u90e8\u91cd\u8907\u3092\u56de\u907f\uff09\nfor (T impl : serviceLoader) {\n  if (impl.getClass().getClassLoader() != contextClassLoader) {\n    extensions.add(impl);\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u5c02\u7528pluginloader",children:"\u5c02\u7528PluginLoader"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.code,{children:"libs/idp-server-platform/src/main/java/org/idp/server/platform/plugin/"})]}),"\n",(0,s.jsx)(n.p,{children:"\u7279\u5b9a\u7528\u9014\u5411\u3051\u306b\u5c02\u7528\u30ed\u30fc\u30c0\u30fc\u3092\u63d0\u4f9b:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"AuditLogWriterPluginLoader"})," - \u76e3\u67fb\u30ed\u30b0\u30e9\u30a4\u30bf\u30fc\u62e1\u5f35"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EmailSenderPluginLoader"})," - \u30e1\u30fc\u30eb\u9001\u4fe1\u30d7\u30e9\u30b0\u30a4\u30f3"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SmsSenderPluginLoader"})," - SMS\u9001\u4fe1\u30d7\u30e9\u30b0\u30a4\u30f3"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SecurityEventHooksPluginLoader"})," - \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a4\u30d9\u30f3\u30c8\u30d5\u30c3\u30af"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"AdditionalOAuthAuthorizationResolverPluginLoader"})," - OAuth\u8a8d\u53ef\u62e1\u5f35"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),": ",(0,s.jsx)(n.a,{href:"/idp-server/docs/content_01_intro/intro-01-tech-overview#L171-L190",children:"intro-01-tech-overview.md:171-190"})]}),"\n",(0,s.jsx)(n.h2,{id:"\u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3-value-object",children:"\u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d1\u30bf\u30fc\u30f3 (Value Object)"}),"\n",(0,s.jsx)(n.p,{children:"platform\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5168\u8b58\u5225\u5b50\u30fb\u5c5e\u6027\u306f\u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u5b9f\u88c5\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u5b9f\u88c5\u4f8b",children:"\u5b9f\u88c5\u4f8b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u2705 \u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8: Immutable + \u5024\u306b\u3088\u308b\u7b49\u4fa1\u6027\npublic class TenantIdentifier {\n  private final String value;\n\n  public TenantIdentifier(String value) {\n    Objects.requireNonNull(value, "TenantIdentifier cannot be null");\n    this.value = value;\n  }\n\n  public String value() {\n    return value;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof TenantIdentifier)) return false;\n    TenantIdentifier that = (TenantIdentifier) o;\n    return Objects.equals(value, that.value);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(value);\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u30e1\u30ea\u30c3\u30c8",children:"\u30e1\u30ea\u30c3\u30c8"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u578b\u5b89\u5168\u6027"}),": ",(0,s.jsx)(n.code,{children:"TenantIdentifier"}),"\u3068",(0,s.jsx)(n.code,{children:"OrganizationIdentifier"}),"\u3092\u9593\u9055\u3048\u308b\u3068\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u96c6\u7d04"}),": \u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u691c\u8a3c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u610f\u56f3\u660e\u78ba\u5316"}),": ",(0,s.jsx)(n.code,{children:"String"}),"\u3067\u306f\u306a\u304f",(0,s.jsx)(n.code,{children:"TenantIdentifier"}),"\u3067\u610f\u56f3\u3092\u8868\u73fe"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u5bb9\u6613"}),": \u578b\u304c\u9055\u3046\u305f\u3081\u5909\u66f4\u7b87\u6240\u304c\u7279\u5b9a\u3057\u3084\u3059\u3044"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3",children:"\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3"}),"\n",(0,s.jsx)(n.h3,{id:"-1-string\u6feb\u7528",children:"\u274c 1. String\u6feb\u7528"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u274c \u60aa\u3044\u4f8b\npublic Tenant findTenant(String tenantId) {\n  return tenantRepository.find(tenantId);\n}\n\n// \u2705 \u826f\u3044\u4f8b\npublic Tenant findTenant(TenantIdentifier tenantIdentifier) {\n  return tenantRepository.find(tenantIdentifier);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"-2-map\u6feb\u7528",children:"\u274c 2. Map\u6feb\u7528"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u274c \u60aa\u3044\u4f8b: \u8a2d\u5b9a\u3092Map\u3067\u6301\u3061\u56de\u308b\npublic void configure(Map<String, Object> config) {\n  boolean enableFeature = (boolean) config.get("enable_feature"); // \u578b\u30ad\u30e3\u30b9\u30c8\u304c\u5fc5\u8981\n}\n\n// \u2705 \u826f\u3044\u4f8b: TenantAttributes\u3067\u578b\u5b89\u5168\u306b\u30a2\u30af\u30bb\u30b9\npublic void configure(TenantAttributes attributes) {\n  boolean enableFeature = attributes.optValueAsBoolean("enable_feature", false); // \u578b\u5b89\u5168\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"-3-platform\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u306e\u30c9\u30e1\u30a4\u30f3\u30ed\u30b8\u30c3\u30af\u6df7\u5165",children:"\u274c 3. Platform\u30e2\u30b8\u30e5\u30fc\u30eb\u3078\u306e\u30c9\u30e1\u30a4\u30f3\u30ed\u30b8\u30c3\u30af\u6df7\u5165"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// \u274c \u60aa\u3044\u4f8b: platform\u306b\u696d\u52d9\u30ed\u30b8\u30c3\u30af\npublic class TenantAttributes {\n  public boolean canAccessPremiumFeatures() {\n    // \u274c \u696d\u52d9\u5224\u5b9a\u30ed\u30b8\u30c3\u30af\u304cplatform\u306b\n    return optValueAsBoolean("is_premium", false);\n  }\n}\n\n// \u2705 \u826f\u3044\u4f8b: Core/UseCase\u5c64\u3067\u5224\u5b9a\npublic class PremiumFeatureVerifier {\n  public boolean canAccess(Tenant tenant) {\n    // \u2705 \u696d\u52d9\u30ed\u30b8\u30c3\u30af\u306f\u30c9\u30e1\u30a4\u30f3\u5c64\u306b\n    return tenant.attributes().optValueAsBoolean("is_premium", false)\n        && tenant.hasFeature("premium_access");\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u539f\u5247"}),": platform\u306f\u6c4e\u7528\u7684\u306a\u57fa\u76e4\u6a5f\u80fd\u306e\u307f\u3001\u696d\u52d9\u30ed\u30b8\u30c3\u30af\u306f\u4e0a\u4f4d\u5c64\u306b\u914d\u7f6e\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,s.jsx)(n.h3,{id:"idp-server-platform-\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306e5\u3064\u306e\u30dd\u30a4\u30f3\u30c8",children:"idp-server-platform \u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306e5\u3064\u306e\u30dd\u30a4\u30f3\u30c8"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u57fa\u76e4"}),": TenantIdentifier/OrganizationIdentifier \u306b\u3088\u308b\u5b8c\u5168\u5206\u96e2"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5fb9\u5e95"}),": String/Map\u6feb\u7528\u3092\u907f\u3051\u3001\u578b\u5b89\u5168\u306a\u8a2d\u8a08"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TenantAttributes \u30d1\u30bf\u30fc\u30f3"}),": ",(0,s.jsx)(n.code,{children:"optValueAsBoolean(key, default)"})," \u3067\u8a2d\u5b9a\u53d6\u5f97"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Repository\u547d\u540d\u898f\u5247"}),": ",(0,s.jsx)(n.code,{children:"get()"}),"\u5fc5\u9808\u5b58\u5728\u3001",(0,s.jsx)(n.code,{children:"find()"}),"\u4efb\u610f\u5b58\u5728"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Tenant\u7b2c\u4e00\u5f15\u6570\u306e\u539f\u5247"}),": OrganizationRepository\u4ee5\u5916\u306f\u5168\u3066Tenant\u7b2c\u4e00\u5f15\u6570"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7",children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/idp-server/docs/content_10_ai_developer/ai-10-use-cases",children:"idp-server-use-cases\uff08\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u5c64\uff09"})," - EntryService\u30d1\u30bf\u30fc\u30f3"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/idp-server/docs/content_10_ai_developer/ai-21-core-adapter",children:"idp-server-core-adapter\uff08\u30a2\u30c0\u30d7\u30bf\u30fc\u5c64\uff09"})," - Repository\u5b9f\u88c5\u8a73\u7d30"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/idp-server/docs/content_10_ai_developer/ai-13-control-plane",children:"idp-server-control-plane\uff08\u7ba1\u7406API\u5951\u7d04\uff09"})," - Control Plane\u8a2d\u8a08"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4fee\u6b63\u5c65\u6b74",children:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4fee\u6b63\u5c65\u6b74"}),"\n",(0,s.jsx)(n.h3,{id:"2025-10-12-\u5b9f\u88c5\u691c\u8a3c\u306b\u57fa\u3065\u304f\u5927\u898f\u6a21\u4fee\u6b63",children:"2025-10-12: \u5b9f\u88c5\u691c\u8a3c\u306b\u57fa\u3065\u304f\u5927\u898f\u6a21\u4fee\u6b63"}),"\n",(0,s.jsx)(n.h4,{id:"\u4fee\u6b631-organizationrepository-\u306e\u5b9f\u88c5\u306b\u5408\u308f\u305b\u305f\u4fee\u6b63-238-275\u884c\u76ee",children:"\u4fee\u6b631: OrganizationRepository \u306e\u5b9f\u88c5\u306b\u5408\u308f\u305b\u305f\u4fee\u6b63 (238-275\u884c\u76ee)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u554f\u984c"}),": \u5b58\u5728\u3057\u306a\u3044\u30e1\u30bd\u30c3\u30c9\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u305f"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4fee\u6b63\u5185\u5bb9"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-diff",children:"- Organization find(OrganizationIdentifier identifier);     // \u274c \u5b58\u5728\u3057\u306a\u3044\n- OrganizationMember findMember(...);                       // \u274c \u5b58\u5728\u3057\u306a\u3044\n- AssignedTenant findAssignment(...);                       // \u274c \u5b58\u5728\u3057\u306a\u3044\n+ void register(Organization organization);\n+ void update(Organization organization);\n+ Organization get(OrganizationIdentifier identifier);\n+ List<Organization> findList(OrganizationQueries queries);\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u8ffd\u52a0"}),": \u4ee3\u66ff\u30d1\u30bf\u30fc\u30f3\u306e\u8aac\u660e\uff08",(0,s.jsx)(n.code,{children:"org.assignedTenants()"}),", ",(0,s.jsx)(n.code,{children:"org.findOrgTenant()"})," \u306e\u4f7f\u7528\u65b9\u6cd5\uff09"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u691c\u8a3c"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/multi_tenancy/organization/OrganizationRepository.java#L21-L29",children:"OrganizationRepository.java:21-29"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u4fee\u6b632-tenantattributesoptvalueasint-\u306e\u524a\u9664-153-170\u884c\u76ee",children:"\u4fee\u6b632: TenantAttributes.optValueAsInt() \u306e\u524a\u9664 (153-170\u884c\u76ee)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u554f\u984c"}),": \u5b9f\u88c5\u306b\u5b58\u5728\u3057\u306a\u3044\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u4f8b\u306b\u8a18\u8f09"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4fee\u6b63\u5185\u5bb9"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-diff",children:'- int tokenLifetime = attributes.optValueAsInt("token.access_token.lifetime_seconds", 3600);  // \u274c \u5b58\u5728\u3057\u306a\u3044\n+ List<String> allowedScopes = attributes.optValueAsStringList(\n+     "oauth.allowed_scopes",\n+     List.of("openid", "profile")\n+ );  // \u2705 \u5b9f\u969b\u306b\u5b58\u5728\u3059\u308b\u30e1\u30bd\u30c3\u30c9\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u691c\u8a3c"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/multi_tenancy/tenant/TenantAttributes.java#L25-L84",children:"TenantAttributes.java:25-84"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u4fee\u6b633-jose-jwtjwsjwejwk-\u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02-353-417\u884c\u76ee",children:"\u4fee\u6b633: JOSE (JWT/JWS/JWE/JWK) \u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02 (353-417\u884c\u76ee)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u554f\u984c"}),": \u60f3\u50cf\u3067\u66f8\u304b\u308c\u305f\u5b58\u5728\u3057\u306a\u3044\u30af\u30e9\u30b9\u30fbAPI"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4fee\u6b63\u524d"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"JwtCreator jwtCreator = new JwtCreator();            // \u274c \u5b58\u5728\u3057\u306a\u3044\nJwtVerifier jwtVerifier = new JwtVerifier(...);      // \u274c \u5b58\u5728\u3057\u306a\u3044\nJwt jwt = jwtCreator.create(...);                    // \u274c \u5b58\u5728\u3057\u306a\u3044\nClaims claims = jwt.claims();                        // \u274c \u5b58\u5728\u3057\u306a\u3044\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4fee\u6b63\u5f8c"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"JoseHandler joseHandler = new JoseHandler();                                    // \u2705 \u5b9f\u88c5\nJsonWebSignature jws = JsonWebSignature.parse(jwsString);                      // \u2705 \u5b9f\u88c5\nJsonWebSignatureVerifier verifier = new JsonWebSignatureVerifier(...);         // \u2705 \u5b9f\u88c5\nJsonWebTokenClaims claims = jws.claims();                                       // \u2705 \u5b9f\u88c5\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u691c\u8a3c"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/jose/JoseHandler.java#L23-L40",children:"JoseHandler.java:23-40"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/jose/JsonWebSignature.java#L28-L100",children:"JsonWebSignature.java:28-100"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/jose/JsonWebToken.java#L24-L62",children:"JsonWebToken.java:24-62"})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u4fee\u6b634-http-\u30af\u30e9\u30a4\u30a2\u30f3\u30c8-\u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02-419-511\u884c\u76ee",children:"\u4fee\u6b634: HTTP \u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02 (419-511\u884c\u76ee)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u554f\u984c"}),": \u7c21\u7565\u5316\u3055\u308c\u305f\u60f3\u50cfAPI\u3001\u5b9f\u88c5\u3068\u306e\u4e56\u96e2"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4fee\u6b63\u5185\u5bb9"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Java\u6a19\u6e96 ",(0,s.jsx)(n.code,{children:"java.net.http.HttpClient"})," \u30d9\u30fc\u30b9\u306e\u5b9f\u88c5\u306b\u4fee\u6b63"]}),"\n",(0,s.jsx)(n.li,{children:"OAuth 2.0\u81ea\u52d5\u8a8d\u8a3c\u3001\u30ea\u30c8\u30e9\u30a4\u30e1\u30ab\u30cb\u30ba\u30e0\u3001Idempotency\u30ad\u30fc\u7ba1\u7406\u306e\u8aac\u660e\u8ffd\u52a0"}),"\n",(0,s.jsx)(n.li,{children:"\u8a2d\u5b9a\u30d9\u30fc\u30b9\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u69cb\u7bc9\u30d1\u30bf\u30fc\u30f3\u8ffd\u52a0"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u691c\u8a3c"}),": ",(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/http/HttpRequestExecutor.java#L36-L165",children:"HttpRequestExecutor.java:36-165"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u4fee\u6b635-datasource\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3-\u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02-513-723\u884c\u76ee",children:"\u4fee\u6b635: Datasource\u30fb\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3 \u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02 (513-723\u884c\u76ee)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u554f\u984c"}),": \u6700\u3082\u91cd\u8981\u306aDynamic Proxy\u6a5f\u69cb\u306e\u8aac\u660e\u304c\u6b20\u843d\u3001TransactionManager\u306e\u76f4\u63a5\u4f7f\u7528\u3092\u63a8\u5968\u3059\u308b\u8aa4\u89e3"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4fee\u6b63\u524d"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u274c \u8aa4\u308a: \u958b\u767a\u8005\u304c\u76f4\u63a5TransactionManager\u3092\u547c\u3073\u51fa\u3059\u60f3\u5b9a\nTransactionManager.beginTransaction(DatabaseType.POSTGRESQL, tenantIdentifier);\ntry {\n  clientRepository.register(tenant, clientConfiguration);\n  TransactionManager.commitTransaction();\n} catch (Exception e) {\n  TransactionManager.rollbackTransaction();\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4fee\u6b63\u5f8c"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u2705 \u6b63\u3057\u3044: @Transaction\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3 + Dynamic Proxy\n@Transaction\npublic class UserManagementEntryService implements UserManagementApi {\n  // Proxy\u304c\u81ea\u52d5\u7684\u306b\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u7ba1\u7406\n  // \u958b\u767a\u8005\u306fTransactionManager\u3092\u610f\u8b58\u3057\u306a\u3044\n}\n\n// Proxy\u4f5c\u6210\nUserManagementApi api = TenantAwareEntryServiceProxy.createProxy(\n    new UserManagementEntryService(...),\n    UserManagementApi.class,\n    applicationDatabaseTypeProvider\n);\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u8ffd\u52a0\u5185\u5bb9"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Transaction"})," \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u8a73\u7d30\u8aac\u660e"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TenantAwareEntryServiceProxy"})," \u306e\u52d5\u4f5c\u30d5\u30ed\u30fc\uff088\u30b9\u30c6\u30c3\u30d7\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SqlExecutor"})," \u306e\u4f7f\u7528\u65b9\u6cd5\u3068Repository\u5b9f\u88c5\u4f8b"]}),"\n",(0,s.jsx)(n.li,{children:"\u300c\u958b\u767a\u8005\u304c\u3059\u3079\u304d\u3053\u3068\u300d\u300c\u610f\u8b58\u3057\u306a\u304f\u3066\u3088\u3044\u3053\u3068\u300d\u306e\u660e\u78ba\u306a\u533a\u5225"}),"\n",(0,s.jsx)(n.li,{children:"Proxy\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u8aac\u660e\uff08proxy/\uff09"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u691c\u8a3c"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/datasource/Transaction.java#L24-L28",children:"Transaction.java:24-28"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/proxy/TenantAwareEntryServiceProxy.java#L29-L181",children:"TenantAwareEntryServiceProxy.java:29-181"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/datasource/SqlExecutor.java#L23-L83",children:"SqlExecutor.java:23-83"})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u4fee\u6b636-plugin-system-\u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02-725-839\u884c\u76ee",children:"\u4fee\u6b636: Plugin System \u30bb\u30af\u30b7\u30e7\u30f3\u5168\u9762\u6539\u8a02 (725-839\u884c\u76ee)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u554f\u984c"}),": \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316API\uff08\u5b58\u5728\u3057\u306a\u3044\uff09\u3092\u8a18\u8f09\u3001\u9759\u7684\u30e1\u30bd\u30c3\u30c9API\u306e\u8aac\u660e\u6b20\u843d"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4fee\u6b63\u524d"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u274c \u5b58\u5728\u3057\u306a\u3044API: \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u4e0d\u53ef\nPluginLoader<AccessTokenCustomClaimsCreator> loader =\n    new PluginLoader<>(AccessTokenCustomClaimsCreator.class);\nList<AccessTokenCustomClaimsCreator> creators = loader.load();  // \u274c load()\u30e1\u30bd\u30c3\u30c9\u306f\u5b58\u5728\u3057\u306a\u3044\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4fee\u6b63\u5f8c"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"// \u2705 \u5b9f\u969b\u306eAPI: \u9759\u7684\u30e1\u30bd\u30c3\u30c9\nList<AccessTokenCustomClaimsCreator> internalCreators =\n    PluginLoader.loadFromInternalModule(AccessTokenCustomClaimsCreator.class);\nList<AccessTokenCustomClaimsCreator> externalCreators =\n    PluginLoader.loadFromExternalModule(AccessTokenCustomClaimsCreator.class);\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u8ffd\u52a0\u5185\u5bb9"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5185\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb vs \u5916\u90e8JAR\u306e\u533a\u5225\u3068\u4f7f\u3044\u5206\u3051"}),"\n",(0,s.jsx)(n.li,{children:"URLClassLoader\u6a5f\u69cb\u306e\u8a73\u7d30\u8aac\u660e"}),"\n",(0,s.jsx)(n.li,{children:"\u5c02\u7528PluginLoader\u4e00\u89a7\uff08AuditLogWriter, EmailSender, SmsSender\u7b49\uff09"}),"\n",(0,s.jsx)(n.li,{children:"META-INF/services\u30d5\u30a1\u30a4\u30eb\u306e\u5177\u4f53\u7684\u306a\u4f5c\u6210\u624b\u9806"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u691c\u8a3c"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"../../libs/idp-server-platform/src/main/java/org/idp/server/platform/plugin/PluginLoader.java#L25-L91",children:"PluginLoader.java:25-91"})}),"\n",(0,s.jsxs)(n.li,{children:["\u5c02\u7528\u30ed\u30fc\u30c0\u30fc: ",(0,s.jsx)(n.code,{children:"libs/idp-server-platform/src/main/java/org/idp/server/platform/plugin/"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u4fee\u6b63\u306e\u539f\u5247",children:"\u4fee\u6b63\u306e\u539f\u5247"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"CLAUDE.md\u300c\u60f3\u50cf\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4f5c\u6210\u9632\u6b62\u300d\u306b\u57fa\u3065\u304f\u4fee\u6b63"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u30b3\u30fc\u30c9\u30d5\u30a1\u30fc\u30b9\u30c8\u306e\u539f\u5247"}),": \u5fc5\u305a\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u5148\u306b\u78ba\u8a8d"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90\u8a18\u9332"}),": \u53c2\u7167\u30d5\u30a1\u30a4\u30eb\u30fb\u884c\u756a\u53f7\u3092\u660e\u8a18"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u6bb5\u968e\u7684\u78ba\u8a8d"}),": \u30af\u30e9\u30b9\u540d\u2192\u30e1\u30bd\u30c3\u30c9\u540d\u2192\u30b7\u30b0\u30cd\u30c1\u30e3\u306e\u9806\u3067\u6bb5\u968e\u7684\u306b\u78ba\u8a8d"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u4e0d\u660e\u70b9\u660e\u793a"}),": \u63a8\u6e2c\u30fb\u4eee\u5b9a\u3092\u660e\u78ba\u306b\u533a\u5225"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u60c5\u5831\u6e90"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"libs/idp-server-platform/src/main/java/"}),"\u914d\u4e0b\u306e\u5b9f\u88c5\u30b3\u30fc\u30c9"]}),"\n",(0,s.jsx)(n.li,{children:"CLAUDE.md\u300c\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u300d\u300c\u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d\u300cRepository\u547d\u540d\u898f\u5247\u300d\u300c\u60f3\u50cf\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u4f5c\u6210\u9632\u6b62\u300d"}),"\n",(0,s.jsx)(n.li,{children:"Issue #672\uff08SQL Injection\u4fee\u6b63\uff09"}),"\n",(0,s.jsx)(n.li,{children:"Issue #676\uff08AI\u958b\u767a\u8005\u5411\u3051\u77e5\u8b58\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\u30fb\u6539\u5584\uff09"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u6700\u7d42\u66f4\u65b0"}),": 2025-10-12\n",(0,s.jsx)(n.strong,{children:"\u78ba\u8a8d\u65b9\u6cd5"}),": ",(0,s.jsx)(n.code,{children:"find libs/idp-server-platform/src/main/java/org/idp/server/platform -type d -maxdepth 1"}),"\n",(0,s.jsx)(n.strong,{children:"\u30ec\u30d3\u30e5\u30fc\u5b9f\u65bd"}),": 2025-10-12 - AI\u958b\u767a\u8005\u5411\u3051\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u54c1\u8cea\u6539\u5584\u30d7\u30ed\u30b8\u30a7\u30af\u30c8"]})]})}function j(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},7257:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/files/Transaction-9762a14680938bcfe674ece2f7473ee3.java"},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var i=r(96540);const s={},t=i.createContext(s);function a(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);