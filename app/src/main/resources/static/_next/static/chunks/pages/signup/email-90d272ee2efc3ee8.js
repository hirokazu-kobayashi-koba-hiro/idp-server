(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{1453:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup/email",function(){return i(6563)}])},2050:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var n=i(4848),a=i(2745),o=i(2124),r=i(389);let c=["Account Info","Email Verification","Passkey","Confirm"],s=e=>{let{activeStep:t}=e;return(0,n.jsx)(a.A,{activeStep:t,alternativeLabel:!0,children:c.map(e=>(0,n.jsx)(o.A,{children:(0,n.jsx)(r.A,{children:e})},e))})}},6563:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var n=i(4848),a=i(2907),o=i(5759),r=i(1703),c=i(4136),s=i(2413),l=i(3384),d=i(541),h=i(8590),u=i(2064),p=i(1917),x=i(3753),f=i(429),m=i(6715),j=i(430),y=i(6540),A=i(2050),g=i(4745);function v(){let e=(0,m.useRouter)(),{email:t}=(0,j.useAppContext)(),[i,v]=(0,y.useState)(""),[b,_]=(0,y.useState)(""),{id:C,tenant_id:k}=e.query,w=(0,a.A)(),E=async()=>{if(!(await fetch("".concat(j.backendUrl,"/").concat(k,"/v1/authorizations/").concat(C,"/email-authentication-challenge"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})})).ok)throw Error("sending email verification code is failed")},S=async()=>{(await fetch("".concat(j.backendUrl,"/").concat(k,"/v1/authorizations/").concat(C,"/email-authentication"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({verification_code:i})})).ok||_("failed email verification"),e.push("/signup/authorize?id=".concat(C,"&tenant_id=").concat(k))};return(0,n.jsx)(o.A,{maxWidth:"xs",children:(0,n.jsxs)(r.A,{elevation:0,sx:{borderRadius:4,px:5,py:6,mt:8,backgroundColor:"light"===w.palette.mode?"#fcfcfd":(0,c.X4)(w.palette.common.white,.035),border:"1px solid ".concat((0,c.X4)(w.palette.divider,.08)),boxShadow:"light"===w.palette.mode?"0 6px 24px rgba(0,0,0,0.025)":"0 0 0 1px rgba(255,255,255,0.06)"},children:[(0,n.jsx)(s.A,{variant:"h5",fontWeight:600,gutterBottom:!0,children:"Email Verification"}),(0,n.jsx)(s.A,{variant:"body2",color:"text.secondary",mb:4,children:"Enter the 6-digit code we sent to your email."}),(0,n.jsxs)(l.A,{spacing:3,children:[(0,n.jsx)(A.y,{activeStep:1}),(0,n.jsx)(d.A,{label:"Verification Code",inputMode:"numeric",placeholder:"000000",value:i,onChange:e=>v(e.target.value),InputProps:{startAdornment:(0,n.jsx)(h.A,{position:"start",children:(0,n.jsx)(g.A,{})})}}),b&&(0,n.jsx)(s.A,{mt:2,color:"error",align:"center",children:b}),(0,n.jsx)(u.A,{display:"flex",justifyContent:"flex-end",children:(0,n.jsx)(p.A,{variant:"contained",onClick:S,disabled:!i,sx:{textTransform:"none"},children:"Next"})}),(0,n.jsx)(x.A,{sx:{my:2}}),(0,n.jsx)(u.A,{display:"flex",justifyContent:"center",children:(0,n.jsx)(f.A,{onClick:E,sx:{cursor:"pointer"},children:"Didnâ€™t get the code? Resend"})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[72,571,191,917,573,584,918,636,593,792],()=>t(1453)),_N_E=e.O()}]);