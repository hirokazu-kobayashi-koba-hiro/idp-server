(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{5083:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup/authorize",function(){return i(5818)}])},5074:(e,t,i)=>{"use strict";i.d(t,{R:()=>l});var n=i(4848),r=i(8191),a=i(7330),o=i(2413),c=i(6540);let s=e=>new Promise(t=>setTimeout(t,e)),l=()=>((0,c.useEffect)(()=>{(async()=>{await s(500)})()},[]),(0,n.jsxs)(r.A,{open:!0,sx:{zIndex:e=>e.zIndex.drawer+2,backgroundColor:"rgba(255, 255, 255, 0.75)",color:"#1c1c1e",flexDirection:"column"},children:[(0,n.jsx)(a.A,{size:48,thickness:4,sx:{color:"#007aff",mb:2}}),(0,n.jsx)(o.A,{variant:"body2",sx:{fontWeight:500,letterSpacing:.5,color:"#1c1c1e"},children:"Loading, please wait..."})]}))},2050:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var n=i(4848),r=i(2745),a=i(2124),o=i(389);let c=["Account Info","Email Verification","Passkey","Confirm"],s=e=>{let{activeStep:t}=e;return(0,n.jsx)(r.A,{activeStep:t,alternativeLabel:!0,children:c.map(e=>(0,n.jsx)(a.A,{children:(0,n.jsx)(o.A,{children:e})},e))})}},5818:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var n=i(4848),r=i(2907),a=i(5759),o=i(1703),c=i(4136),s=i(2413),l=i(3384),d=i(2064),h=i(1917),u=i(3753),x=i(429),p=i(6715),f=i(9206),y=i(430),g=i(5074),j=i(2050);function m(){let e=(0,p.useRouter)(),{id:t,tenant_id:i}=e.query,m=(0,r.A)(),{data:w,isPending:b}=(0,f.I)({queryKey:["fetchViewData",e.query],queryFn:async()=>{if(!e.isReady||0===Object.keys(e.query).length)return;let n=await fetch("".concat(y.backendUrl,"/").concat(i,"/api/v1/authorizations/").concat(t,"/view-data"),{credentials:"include"});if(!n.ok)throw Error(n.status.toString());return await n.json()}}),A=async()=>{let e=await fetch("".concat(y.backendUrl,"/").concat(i,"/api/v1/authorizations/").concat(t,"/deny"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),n=await e.json();n.redirect_uri&&(window.location.href=n.redirect_uri)},v=async()=>{let e=await fetch("".concat(y.backendUrl,"/").concat(i,"/api/v1/authorizations/").concat(t,"/authorize"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"signup"})}),n=await e.json();n.redirect_uri&&(window.location.href=n.redirect_uri)};return b||!w?(0,n.jsx)(g.R,{}):(0,n.jsx)(a.A,{maxWidth:"xs",children:(0,n.jsxs)(o.A,{elevation:0,sx:{borderRadius:4,px:5,py:6,mt:8,backgroundColor:"light"===m.palette.mode?"#fcfcfd":(0,c.X4)(m.palette.common.white,.035),border:"1px solid ".concat((0,c.X4)(m.palette.divider,.08)),boxShadow:"light"===m.palette.mode?"0 6px 24px rgba(0,0,0,0.025)":"0 0 0 1px rgba(255,255,255,0.06)"},children:[(0,n.jsx)(s.A,{variant:"h5",fontWeight:600,gutterBottom:!0,children:"Authorize Access"}),(0,n.jsx)(s.A,{variant:"body2",color:"text.secondary",mb:4,children:"Review the access requested by this application."}),(0,n.jsxs)(l.A,{spacing:3,children:[(0,n.jsx)(j.y,{activeStep:3}),(0,n.jsxs)(d.A,{children:[(0,n.jsx)(s.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,sx:{fontWeight:500},children:"This app is requesting access to:"}),(0,n.jsx)(l.A,{spacing:1,children:w.scopes.map(e=>(0,n.jsx)(s.A,{variant:"body2",sx:{backgroundColor:"light"===m.palette.mode?"grey.100":"rgba(255,255,255,0.05)",px:2,py:1,borderRadius:2,fontSize:"0.85rem",fontWeight:500},children:e},e))})]}),(0,n.jsxs)(l.A,{direction:"row",spacing:2,justifyContent:"space-between",children:[(0,n.jsx)(h.A,{variant:"outlined",color:"inherit",onClick:A,sx:{textTransform:"none"},fullWidth:!0,children:"Cancel"}),(0,n.jsx)(h.A,{variant:"contained",color:"primary",onClick:v,sx:{textTransform:"none"},fullWidth:!0,children:"Approve"})]}),(0,n.jsx)(u.A,{sx:{my:3}}),(0,n.jsxs)(s.A,{variant:"caption",color:"text.secondary",align:"center",children:["By continuing, you agree to our",(0,n.jsx)(x.A,{href:w.tos_uri,sx:{fontWeight:600,mx:.5},children:"Terms of Use"}),"and",(0,n.jsx)(x.A,{href:w.policy_uri,sx:{fontWeight:600,mx:.5},children:"Privacy Policy"}),"."]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[72,571,191,917,206,573,584,636,593,792],()=>t(5083)),_N_E=e.O()}]);