(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{1529:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6540);let i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect},5701:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin/sso-callback",function(){return n(8972)}])},4429:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(6540),i=n.t(r,2),a=n(1529),o=n(7340),s=n(5463);let c={...i}.useSyncExternalStore;function l(e={}){let{themeId:t}=e;return function(e,n={}){let i=(0,s.A)();i&&t&&(i=i[t]||i);let l="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:d=!1,matchMedia:u=l?window.matchMedia:null,ssrMatchMedia:h=null,noSsr:f=!1}=(0,o.A)({name:"MuiUseMediaQuery",props:n,theme:i}),w="function"==typeof e?e(i):e;return(void 0!==c?function(e,t,n,i,a){let o=r.useCallback(()=>t,[t]),s=r.useMemo(()=>{if(a&&n)return()=>n(e).matches;if(null!==i){let{matches:t}=i(e);return()=>t}return o},[o,e,i,a,n]),[l,d]=r.useMemo(()=>{if(null===n)return[o,()=>()=>{}];let t=n(e);return[()=>t.matches,e=>(t.addEventListener("change",e),()=>{t.removeEventListener("change",e)})]},[o,n,e]);return c(d,l,s)}:function(e,t,n,i,o){let[s,c]=r.useState(()=>o&&n?n(e).matches:i?i(e).matches:t);return(0,a.A)(()=>{if(!n)return;let t=n(e),r=()=>{c(t.matches)};return r(),t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}},[e,n]),s})(w=w.replace(/^@media( ?)/m,""),d,u,h,f)}}l();let d=l({themeId:n(8720).A})},5074:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var r=n(4848),i=n(8191),a=n(7330),o=n(2413),s=n(6540);let c=e=>new Promise(t=>setTimeout(t,e)),l=()=>((0,s.useEffect)(()=>{(async()=>{await c(500)})()},[]),(0,r.jsxs)(i.A,{open:!0,sx:{zIndex:e=>e.zIndex.drawer+2,backgroundColor:"rgba(255, 255, 255, 0.75)",color:"#1c1c1e",flexDirection:"column"},children:[(0,r.jsx)(a.A,{size:48,thickness:4,sx:{color:"#007aff",mb:2}}),(0,r.jsx)(o.A,{variant:"body2",sx:{fontWeight:500,letterSpacing:.5,color:"#1c1c1e"},children:"Loading, please wait..."})]}))},6137:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(4848),i=n(2907),a=n(4429),o=n(2064),s=n(5759),c=n(1703);let l=e=>{let{children:t}=e,n=(0,i.A)(),l=(0,a.A)(n.breakpoints.down("sm"));return(0,r.jsx)(o.A,{sx:{height:"100vh"},children:(0,r.jsx)(s.A,{maxWidth:"xs",children:l?(0,r.jsx)(o.A,{mt:2,children:t}):(0,r.jsx)(c.A,{sx:{p:3,boxShadow:1,borderRadius:3},children:t})})})}},8972:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(4848),i=n(5074),a=n(6715),o=n(9206),s=n(430),c=n(3384),l=n(2413),d=n(6137),u=n(6540);let h=()=>{let e=(0,a.useRouter)(),[t,n]=(0,u.useState)(""),{isPending:h}=(0,o.I)({queryKey:["postFederationsCallback",e.query],queryFn:async()=>{if(!e.isReady||0===Object.keys(e.query).length)return;let t=e.query;console.log(t);let r=await fetch("".concat(s.backendUrl,"/v1/authorizations/federations/callback"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(t).toString()});if(console.info(r),!r.ok)throw console.error(r),Error(r.status.toString());let{id:i,tenant_id:a}=await r.json(),o=await fetch("".concat(s.backendUrl,"/").concat(a,"/v1/authorizations/").concat(i,"/authorize"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"signin"})}),c=await o.json();if(console.log(o.status,c),c.redirect_uri){window.location.href=c.redirect_uri;return}throw n("failed social login. server occurred unexpected error"),Error("failed authorization")}});return h?(0,r.jsx)(i.R,{}):(0,r.jsx)(d.Y,{children:t?(0,r.jsxs)(c.A,{spacing:2,children:[(0,r.jsx)(l.A,{variant:"subtitle1",children:"Social Login is Failed"}),(0,r.jsx)(l.A,{variant:"body1",color:"error",children:t})]}):(0,r.jsx)(i.R,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[72,571,191,206,636,593,792],()=>t(5701)),_N_E=e.O()}]);