# Base Configuration
IDP_SERVER_DOMAIN=http://localhost:8080/
ENV=local
BASE_URL=http://localhost:8080
DRY_RUN=false

# API Authentication (for setup.sh and admin operations)
# Generate all secrets using: ./init-generate-env.sh postgresql
IDP_SERVER_API_KEY=
IDP_SERVER_API_SECRET=
ENCRYPTION_KEY=

# Secrets Configuration (Phase 2: File-based secrets)
# Run: ./config/scripts/migrate-secrets.sh to extract secrets from old templates
SECRETS_DIR=./config/secrets/${ENV}
JWKS_FILE=${SECRETS_DIR}/jwks.json
CLIENT_SECRETS_FILE=${SECRETS_DIR}/client-secrets.json
ENCRYPTION_KEYS_FILE=${SECRETS_DIR}/encryption-keys.json

# Admin Organization Configuration
# Generate using: uuidgen | tr A-Z a-z
ADMIN_ORGANIZATION_ID=

# Admin User Configuration (for initial setup)
ADMIN_USER_SUB=
ADMIN_USERNAME=
ADMIN_EMAIL=
ADMIN_USER_PASSWORD=
ADMIN_TENANT_ID=
ADMIN_TENANT_NAME=admin-tenant

# Admin Client Configuration
# Generate ADMIN_CLIENT_ID using: uuidgen | tr A-Z a-z
# Generate ADMIN_CLIENT_SECRET using: head -c 48 /dev/urandom | base64
ADMIN_CLIENT_ID=
ADMIN_CLIENT_ID_ALIAS=
ADMIN_CLIENT_SECRET=

# Database Type Selection
DATABASE_TYPE=POSTGRESQL

# PostgreSQL Credentials
# Generate strong passwords using: head -c 24 /dev/urandom | base64
POSTGRES_PASSWORD=
DB_OWNER_USER=idp
DB_OWNER_PASSWORD=

# MySQL Credentials
MYSQL_ROOT_PASSWORD=
MYSQL_PASSWORD=

# PostgreSQL Application Users (referenced by docker-compose.yaml)
IDP_DB_ADMIN_PASSWORD=
IDP_DB_APP_PASSWORD=

# Control Plane Database Configuration (Admin operations with RLS bypass)
CONTROL_PLANE_DB_WRITER_USER_NAME=idp_admin_user
CONTROL_PLANE_DB_WRITER_PASSWORD=
CONTROL_PLANE_DB_READER_USER_NAME=idp_admin_user
CONTROL_PLANE_DB_READER_PASSWORD=

# Application Database Configuration (RLS-compliant operations)
DB_WRITER_USER_NAME=idp_app_user
DB_WRITER_PASSWORD=
DB_READER_USER_NAME=idp_app_user
DB_READER_PASSWORD=
