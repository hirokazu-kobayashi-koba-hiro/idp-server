# Full Stack Trackï¼ˆä¸¡æ–¹ãƒã‚¹ã‚¿ãƒ¼ï¼‰

## ğŸ¯ ã“ã®ãƒˆãƒ©ãƒƒã‚¯ã®ç›®æ¨™

**Control Planeã¨Application Planeã®ä¸¡æ–¹**ã‚’å®Œå…¨ã«ç¿’å¾—ã—ã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚’è¨­è¨ˆãƒ»å®Ÿè£…ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚

- âœ… Control Plane: ç®¡ç†APIå®Ÿè£…ãƒ»çµ„ç¹”ãƒ¬ãƒ™ãƒ«APIå®Ÿè£…
- âœ… Application Plane: èªè¨¼ãƒ•ãƒ­ãƒ¼å®Ÿè£…ãƒ»èªè¨¼æ–¹å¼è¿½åŠ 
- âœ… çµ±åˆå®Ÿè£…: ä¸¡Planeã‚’çµ„ã¿åˆã‚ã›ãŸæ–°æ©Ÿèƒ½é–‹ç™º
- âœ… ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

**æ‰€è¦æœŸé–“**: 1-2ãƒ¶æœˆ

**å‰æ**: [åˆç´šãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‘ã‚¹](./01-beginner.md)å®Œäº†

---

## ğŸ“… å­¦ç¿’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Week 1-2: Control Plane Track

[Control Plane Track](./02-control-plane-track.md)ã®å…¨å†…å®¹ã‚’å®Ÿæ–½ï¼š

#### Week 1: ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«APIå®Ÿè£…
- Day 1-2: æœ€åˆã®APIå®Ÿè£…ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
- Day 3-5: ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«APIï¼ˆCRUDï¼‰å®Ÿè£…
- Day 6-8: Repositoryå®Ÿè£…
- Day 9-10: Context Creatorå®Ÿè£…

#### Week 2: çµ„ç¹”ãƒ¬ãƒ™ãƒ«APIå®Ÿè£…
- Day 11-15: çµ„ç¹”ãƒ¬ãƒ™ãƒ«APIå®Ÿè£…
- Day 16-20: è¤‡é›‘ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡å®Ÿè£…

**ç¿’å¾—å†…å®¹**:
- ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«APIï¼ˆCRUDï¼‰
- Repositoryå®Ÿè£…ï¼ˆQuery/Commandåˆ†é›¢ï¼‰
- Context Creatorå®Ÿè£…
- çµ„ç¹”ãƒ¬ãƒ™ãƒ«APIï¼ˆ4ã‚¹ãƒ†ãƒƒãƒ—ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼‰

---

### Week 3-4: Application Plane Track

[Application Plane Track](./03-application-plane-track.md)ã®å…¨å†…å®¹ã‚’å®Ÿæ–½ï¼š

#### Week 3: OAuth/OIDCãƒ•ãƒ­ãƒ¼å®Ÿè£…
- Day 21-23: Authorization Flowå®Ÿè£…
- Day 24-25: Token Endpointå®Ÿè£…
- Day 26-28: èªè¨¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚¿ãƒ¼å®Ÿè£…
- Day 29-30: æ–°ã—ã„èªè¨¼æ–¹å¼è¿½åŠ 

#### Week 4: Grant Typeãƒ»Federationå®Ÿè£…
- Day 31-33: æ–°ã—ã„Grant Typeè¿½åŠ 
- Day 34-37: å¤–éƒ¨IdPé€£æºå®Ÿè£…
- Day 38-40: CIBAå®Ÿè£…ç†è§£

**ç¿’å¾—å†…å®¹**:
- Authorization Flowå®Ÿè£…
- Token Endpointå®Ÿè£…ï¼ˆGrant Typeè¿½åŠ ï¼‰
- èªè¨¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚¿ãƒ¼å®Ÿè£…
- Federationå®Ÿè£…ï¼ˆå¤–éƒ¨IdPé€£æºï¼‰

---

### Week 5-6: çµ±åˆå®Ÿè£…

#### Day 41-45: Control + Applicationçµ±åˆæ©Ÿèƒ½å®Ÿè£…
- [ ] **æ‰€è¦æ™‚é–“**: 20æ™‚é–“
- [ ] ä¸¡Planeã‚’çµ„ã¿åˆã‚ã›ãŸæ–°æ©Ÿèƒ½ã‚’0ã‹ã‚‰è¨­è¨ˆãƒ»å®Ÿè£…

**å®Ÿè·µèª²é¡Œ: æ–°ã—ã„èªè¨¼æ–¹å¼ã‚’å®Œå…¨å®Ÿè£…**

```
èª²é¡Œ: "Magic Linkèªè¨¼"ã‚’0ã‹ã‚‰å®Ÿè£…ã™ã‚‹

Control Planeï¼ˆç®¡ç†APIï¼‰:
  1. Magic Linkèªè¨¼è¨­å®šAPI
     POST /v1/management/tenants/{tenantId}/authentication-configurations
     {
       "type": "magic_link",
       "email_template_id": "...",
       "link_expiry_seconds": 300
     }

  2. è¨­å®šå–å¾—API
     GET /v1/management/tenants/{tenantId}/authentication-configurations/magic_link

Application Planeï¼ˆèªè¨¼ãƒ•ãƒ­ãƒ¼ï¼‰:
  1. Magic Linké€ä¿¡API
     POST /{tenant-id}/v1/authentications/{auth-req-id}/magic-link/send
     {
       "email": "user@example.com"
     }

  2. Magic Linkæ¤œè¨¼API
     POST /{tenant-id}/v1/authentications/{auth-req-id}/magic-link/verify
     {
       "token": "magic-link-token"
     }
```

**å®Ÿè£…æ‰‹é †**:
```
1. Control Planeå®Ÿè£…ï¼ˆDay 41-42ï¼‰
   â”œâ”€ AuthenticationConfigurationæ‹¡å¼µï¼ˆmagic_linkè¨­å®šï¼‰
   â”œâ”€ AuthenticationConfigRegistrationContextCreatorä¿®æ­£
   â”œâ”€ AuthenticationConfigManagementEntryServiceä¿®æ­£
   â””â”€ E2Eãƒ†ã‚¹ãƒˆï¼ˆè¨­å®šCRUDï¼‰

2. Application Planeå®Ÿè£…ï¼ˆDay 43-45ï¼‰
   â”œâ”€ MagicLinkAuthenticationInteractorå®Ÿè£…
   â”‚   â”œâ”€ ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆï¼ˆUUID + HMACç½²åï¼‰
   â”‚   â”œâ”€ Emailé€ä¿¡ï¼ˆEmailNotificationSenderä½¿ç”¨ï¼‰
   â”‚   â””â”€ ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼ï¼ˆç½²åæ¤œè¨¼ãƒ»æœŸé™ãƒã‚§ãƒƒã‚¯ï¼‰
   â”œâ”€ Pluginè‡ªå‹•ãƒ­ãƒ¼ãƒ‰ç¢ºèª
   â””â”€ E2Eãƒ†ã‚¹ãƒˆï¼ˆé€ä¿¡ãƒ»æ¤œè¨¼ãƒ•ãƒ­ãƒ¼ï¼‰

3. çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆDay 45ï¼‰
   â”œâ”€ Control Planeã§è¨­å®šä½œæˆ
   â”œâ”€ Application Planeã§èªè¨¼å®Ÿè¡Œ
   â””â”€ å…¨ãƒ•ãƒ­ãƒ¼é€šã—ã§ãƒ†ã‚¹ãƒˆ
```

**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ**:
- [ ] Control Planeã¨Application Planeã®é€£æºã‚’ç†è§£
- [ ] è¨­å®šã®åæ˜ ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè£…ã§ãã‚‹
- [ ] ä¸¡Planeã‚’æ¨ªæ–­ã—ãŸæ©Ÿèƒ½ã‚’è¨­è¨ˆã§ãã‚‹

---

#### Day 46-50: Pluginå®Ÿè£…ãƒ»å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº
- [ ] **æ‰€è¦æ™‚é–“**: 20æ™‚é–“
- [ ] [Pluginå®Ÿè£…ã‚¬ã‚¤ãƒ‰](../04-implementation-guides/impl-12-plugin-implementation.md)ã‚’å®Ÿæ–½
- [ ] [å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºã‚¬ã‚¤ãƒ‰](../04-implementation-guides/impl-17-external-integration.md)ã‚’å®Ÿæ–½

**å®Ÿè·µèª²é¡Œ: å¤–éƒ¨SMSé€ä¿¡ã‚µãƒ¼ãƒ“ã‚¹é€£æº**

```java
// SMSé€ä¿¡Pluginå®Ÿè£…
public class TwilioSmsSender implements SmsSender {

    private final HttpRequestExecutor httpRequestExecutor;

    @Override
    public SmsChannel supportedChannel() {
        return SmsChannel.TWILIO;
    }

    @Override
    public SmsResult send(SmsMessage message, SmsConfiguration config) {
        // HttpRequestExecutorä½¿ç”¨
        HttpRequest httpRequest = HttpRequest.builder()
            .url(config.getApiEndpoint())
            .method(HttpMethod.POST)
            .body(createTwilioRequest(message))
            .build();

        OAuth2Configuration oAuth2Config = OAuth2Configuration.builder()
            .tokenEndpoint(config.getTokenEndpoint())
            .clientId(config.getClientId())
            .clientSecret(config.getClientSecret())
            .build();

        RetryConfiguration retryConfig = RetryConfiguration.builder()
            .maxRetries(3)
            .retryableStatusCodes(Set.of(502, 503, 504))
            .idempotencyRequired(true)
            .build();

        HttpRequestExecutionConfig executionConfig = HttpRequestExecutionConfig.builder()
            .httpRequest(httpRequest)
            .oAuthAuthorization(oAuth2Config)
            .retryConfiguration(retryConfig)
            .build();

        HttpRequestResult result = httpRequestExecutor.execute(executionConfig);

        if (result.isSuccess()) {
            return SmsResult.success(message.to());
        }
        return SmsResult.failure(result.errorMessage());
    }
}
```

**ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**:
- [ ] Pluginå®Ÿè£…
- [ ] HttpRequestExecutorä½¿ç”¨
- [ ] OAuth 2.0èªè¨¼è¨­å®š
- [ ] ãƒªãƒˆãƒ©ã‚¤è¨­å®šï¼ˆå†ªç­‰æ€§ä¿è¨¼ï¼‰
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] Mockoonã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆ

**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ**:
- [ ] HttpRequestExecutorã®å…¨æ©Ÿèƒ½ã‚’ä½¿ã„ã“ãªã›ã‚‹
- [ ] å†ªç­‰æ€§ã®é‡è¦æ€§ã‚’ç†è§£ã—ã¦ã„ã‚‹
- [ ] ãƒªãƒˆãƒ©ã‚¤æˆ¦ç•¥ã‚’è¨­è¨ˆã§ãã‚‹

---

### Week 7-8: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

#### Day 51-60: å¤§è¦æ¨¡æ©Ÿèƒ½ã‚’0ã‹ã‚‰è¨­è¨ˆãƒ»å®Ÿè£…
- [ ] **æ‰€è¦æ™‚é–“**: 40æ™‚é–“
- [ ] æ–°è¦æ©Ÿèƒ½ã‚’0ã‹ã‚‰è¨­è¨ˆãƒ»å®Ÿè£…

**å®Ÿè·µèª²é¡Œ: ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã‚’å®Ÿè£…**

1. **æ–°ã—ã„OAuthæ‹¡å¼µä»•æ§˜å¯¾å¿œ**
   ```
   ä¾‹: RAR (Rich Authorization Requests - RFC 9396)

   Control Plane:
     - Authorization Detailsè¨­å®šAPI

   Application Plane:
     - authorization_detailsãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¯¾å¿œ
     - Authorization Detailsã®æ¤œè¨¼ãƒ»ä¿å­˜
     - Access Tokenã«authorization_detailså«ã‚ã‚‹
   ```

2. **æ–°ã—ã„ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ–¹å¼**
   ```
   ä¾‹: SAML 2.0é€£æº

   Control Plane:
     - SAMLè¨­å®šAPIï¼ˆEntity IDã€è¨¼æ˜æ›¸ã€å±æ€§ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰

   Application Plane:
     - SAML Requestç”Ÿæˆ
     - SAML Responseæ¤œè¨¼
     - å±æ€§ãƒãƒƒãƒ”ãƒ³ã‚°
   ```

3. **æ®µéšçš„èªè¨¼ï¼ˆStep-up Authenticationï¼‰**
   ```
   Control Plane:
     - æ®µéšçš„èªè¨¼ãƒãƒªã‚·ãƒ¼è¨­å®šAPI
     - ACRãƒ¬ãƒ™ãƒ«è¨­å®š

   Application Plane:
     - ACRãƒ¬ãƒ™ãƒ«åˆ¤å®š
     - è¿½åŠ èªè¨¼è¦æ±‚
     - ACRå€¤è¿”å´
   ```

**è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ**:
```markdown
1. è¦ä»¶å®šç¾©
   - æ©Ÿèƒ½è¦ä»¶ï¼ˆä½•ã‚’å®Ÿç¾ã™ã‚‹ã‹ï¼‰
   - éæ©Ÿèƒ½è¦ä»¶ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼‰

2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
   - Control Planeè¨­è¨ˆï¼ˆAPIå¥‘ç´„ãƒ»EntryServiceãƒ»Repositoryï¼‰
   - Application Planeè¨­è¨ˆï¼ˆHandlerãƒ»Serviceãƒ»Interactorï¼‰
   - ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆãƒ»DDLï¼‰

3. APIè¨­è¨ˆ
   - ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§
   - Request/Responseä»•æ§˜
   - ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰å®šç¾©

4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ
   - èªè¨¼ãƒ»èªå¯æ–¹å¼
   - è„†å¼±æ€§å¯¾ç­–
   - ç›£æŸ»ãƒ­ã‚°

5. ãƒ†ã‚¹ãƒˆè¨ˆç”»
   - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
   - çµ±åˆãƒ†ã‚¹ãƒˆ
   - E2Eãƒ†ã‚¹ãƒˆï¼ˆæ­£å¸¸ç³»ãƒ»ç•°å¸¸ç³»ï¼‰
```

**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ**:
- [ ] ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã§ãã‚‹
- [ ] å±¤è²¬ä»»ã‚’éµå®ˆã—ãŸè¨­è¨ˆãŒã§ãã‚‹
- [ ] ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§è¨­è¨ˆå¤‰æ›´ãŒå°‘ãªã„ï¼ˆ3å›ä»¥å†…ï¼‰

---

#### Day 61-70: å®Ÿè£…ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- [ ] **æ‰€è¦æ™‚é–“**: 40æ™‚é–“
- [ ] è¨­è¨ˆã—ãŸæ©Ÿèƒ½ã‚’å®Ÿè£…
- [ ] ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ**:
- [ ] å¤§è¦æ¨¡æ©Ÿèƒ½ã‚’0ã‹ã‚‰å®Ÿè£…ãƒ»ãƒãƒ¼ã‚¸ã§ãã‚‹
- [ ] ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆãŒå°‘ãªã„ï¼ˆ20ä»¶ä»¥ä¸‹ï¼‰
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’è€ƒæ…®ã—ãŸå®Ÿè£…

---

## ğŸ“š å¿…èª­ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| å„ªå…ˆåº¦ | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | æ‰€è¦æ™‚é–“ |
|-------|------------|---------|
| ğŸ”´ å¿…é ˆ | [Control Plane Track](./02-control-plane-track.md) | - |
| ğŸ”´ å¿…é ˆ | [Application Plane Track](./03-application-plane-track.md) | - |
| ğŸ”´ å¿…é ˆ | [Pluginå®Ÿè£…ã‚¬ã‚¤ãƒ‰](../04-implementation-guides/impl-12-plugin-implementation.md) | 30åˆ† |
| ğŸ”´ å¿…é ˆ | [å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºã‚¬ã‚¤ãƒ‰](../04-implementation-guides/impl-17-external-integration.md) | 30åˆ† |
| ğŸ”´ å¿…é ˆ | [AIé–‹ç™ºè€…å‘ã‘: å…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](../content_10_ai_developer/ai-01-index.md) | 180åˆ† |

---

## âœ… å®Œäº†åˆ¤å®šåŸºæº–

ä»¥ä¸‹ã‚’ã™ã¹ã¦é”æˆã—ãŸã‚‰Full Stack Trackã‚¯ãƒªã‚¢ï¼š

### çŸ¥è­˜é¢
- [ ] Control Planeã¨Application Planeã®é•ã„ã‚’èª¬æ˜ã§ãã‚‹
- [ ] ä¸¡Planeã®é€£æºæ–¹æ³•ã‚’èª¬æ˜ã§ãã‚‹
- [ ] è¨­å®šã®åæ˜ ãƒ•ãƒ­ãƒ¼ï¼ˆControl â†’ Applicationï¼‰ã‚’èª¬æ˜ã§ãã‚‹
- [ ] OAuth 2.0/OIDCä»•æ§˜ã‚’æ·±ãç†è§£ã—ã¦ã„ã‚‹

### è¨­è¨ˆé¢
- [ ] ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã§ãã‚‹
- [ ] å±¤è²¬ä»»ã‚’éµå®ˆã—ãŸè¨­è¨ˆãŒã§ãã‚‹
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’è€ƒæ…®ã—ãŸè¨­è¨ˆãŒã§ãã‚‹
- [ ] ä¸¡Planeã‚’æ¨ªæ–­ã—ãŸæ©Ÿèƒ½ã‚’è¨­è¨ˆã§ãã‚‹

### å®Ÿè·µé¢
- [ ] Control Plane: ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«ãƒ»çµ„ç¹”ãƒ¬ãƒ™ãƒ«APIã‚’å®Ÿè£…ãƒ»ãƒãƒ¼ã‚¸ã—ãŸ
- [ ] Application Plane: èªè¨¼ãƒ•ãƒ­ãƒ¼ãƒ»èªè¨¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’å®Ÿè£…ãƒ»ãƒãƒ¼ã‚¸ã—ãŸ
- [ ] ä¸¡Planeã‚’çµ±åˆã—ãŸæ–°æ©Ÿèƒ½ã‚’å®Ÿè£…ãƒ»ãƒãƒ¼ã‚¸ã—ãŸ
- [ ] E2Eãƒ†ã‚¹ãƒˆï¼ˆçµ±åˆãƒ†ã‚¹ãƒˆå«ã‚€ï¼‰ã‚’ä½œæˆã—ã€å…¨ä»¶ãƒ‘ã‚¹ã—ãŸ
- [ ] ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆãŒ20ä»¶ä»¥ä¸‹

### ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—
- [ ] æ–°è¦é–‹ç™ºè€…ã®ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒã§ãã‚‹
- [ ] è¨­è¨ˆç›¸è«‡ã«ä¹—ã‚Œã‚‹
- [ ] ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„ææ¡ˆãŒã§ãã‚‹

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼šæŠ€è¡“ãƒªãƒ¼ãƒ€ãƒ¼ã¸

Full Stack Trackå®Œäº†å¾Œã¯**æŠ€è¡“ãƒªãƒ¼ãƒ€ãƒ¼**ã¨ã—ã¦æ´»èºï¼š

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„ææ¡ˆ
- ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ææ¡ˆ
- æ–°ã—ã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³å°å…¥

### æ–°è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ
- æ–°ã—ã„OAuthæ‹¡å¼µä»•æ§˜å¯¾å¿œã®è¨­è¨ˆ
- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åˆ†å‰²ã®æ¤œè¨
- æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢å°å…¥ã®æ¤œè¨

### æŠ€è¡“é¸å®šãƒ»è©•ä¾¡
- æ–°ã—ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®è©•ä¾¡
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿæ–½ãƒ»åˆ†æ
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»

### ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã®ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°
- æ–°è¦é–‹ç™ºè€…ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
- è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼
- æŠ€è¡“ç›¸è«‡å¯¾å¿œ

---

## ğŸ’¡ Full Stacké–‹ç™ºã®ãƒ’ãƒ³ãƒˆ

### Control Planeã¨Application Planeã®é€£æºãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒ‘ã‚¿ãƒ¼ãƒ³1: è¨­å®š â†’ å‹•ä½œå¤‰æ›´
```
Control Plane:
  POST /v1/management/tenants/{tenantId}/authentication-configurations
  {
    "type": "password",
    "min_length": 12,
    "require_uppercase": true,
    "require_number": true
  }

Application Plane:
  è¨­å®šã‚’èª­ã¿è¾¼ã‚“ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼ãƒ«ãƒ¼ãƒ«å¤‰æ›´
  â†’ PasswordAuthenticationInteractor.authenticate()
     â””â”€ AuthenticationConfiguration.getPasswordPolicy()
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³2: å‹•çš„APIç”Ÿæˆ
```
Control Plane:
  POST /v1/management/.../identity-verification-configurations
  {
    "verification_type": "driver_license",
    "processes": {
      "external_verification": { ... }
    }
  }

Application Plane:
  å‹•çš„ã«APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç”Ÿæˆ
  POST /{tenant-id}/v1/me/identity-verification/applications/driver_license/external_verification
  â†’ Configurationèª­ã¿è¾¼ã¿ â†’ HttpRequestExecutorå®Ÿè¡Œ
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³3: Pluginå‹•çš„åˆ‡ã‚Šæ›¿ãˆ
```
Control Plane:
  Federationè¨­å®šã§ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼é¸æŠ
  {
    "provider": "azure_ad",
    "client_id": "...",
    "client_secret": "..."
  }

Application Plane:
  è¨­å®šã«åŸºã¥ã„ã¦Pluginé¸æŠ
  â†’ SsoExecutors.get(SsoProvider.AZURE_AD)
     â””â”€ AzureAdSsoExecutorå®Ÿè¡Œ
```

---

### çµ±åˆå®Ÿè£…ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### 1. è¨­å®šã®æ¤œè¨¼ã‚¿ã‚¤ãƒŸãƒ³ã‚°
```java
// Control Planeï¼ˆè¨­å®šä½œæˆæ™‚ï¼‰
// âœ… è¨­å®šã®å½¢å¼ãƒã‚§ãƒƒã‚¯ã®ã¿
AuthenticationConfigValidator validator = new AuthenticationConfigValidator(config);
validator.validate();  // JSONå½¢å¼ãƒ»å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿ãƒã‚§ãƒƒã‚¯

// Application Planeï¼ˆå®Ÿè¡Œæ™‚ï¼‰
// âœ… å®Ÿéš›ã®å‹•ä½œæ¤œè¨¼
AuthenticationInteractor interactor = interactors.get(config.type());
if (!interactor.canAuthenticate(config)) {
    throw new AuthenticationConfigurationException("Invalid configuration");
}
```

**ç†ç”±**: è¨­å®šæ™‚ã¯å½¢å¼ã®ã¿ã€å®Ÿè¡Œæ™‚ã«å®Ÿéš›ã®å‹•ä½œã‚’æ¤œè¨¼

#### 2. è¨­å®šã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
```java
// âœ… Application Planeã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥
@Cacheable(value = "authentication-config", key = "#tenant.value() + ':' + #type")
public AuthenticationConfiguration getConfig(Tenant tenant, String type) {
    return authenticationConfigQueryRepository.get(tenant, new AuthenticationType(type));
}

// Control Planeã§è¨­å®šæ›´æ–°æ™‚ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
@CacheEvict(value = "authentication-config", key = "#tenant.value() + ':' + #type")
public void updateConfig(Tenant tenant, String type, AuthenticationConfiguration config) {
    authenticationConfigCommandRepository.update(tenant, type, config);
}
```

**ç†ç”±**: Application Planeã®é«˜é€ŸåŒ–ã€Control Planeã§ã®å³æ™‚åæ˜ 

---

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

#### 1. Control Planeã§ã®è¨­å®šæ¤œè¨¼
```java
// âœ… å±é™ºãªè¨­å®šã‚’æ‹’å¦
if (config.getPasswordMinLength() < 8) {
    throw new InvalidConfigurationException("Password minimum length must be at least 8");
}

if (config.getTokenExpirySeconds() > 86400) {
    throw new InvalidConfigurationException("Token expiry must not exceed 24 hours");
}
```

#### 2. Application Planeã§ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
```java
// âœ… è¨­å®šãŒç„¡åŠ¹ãªå ´åˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œ
AuthenticationConfiguration config = authenticationConfigRepository.find(tenant, type);
if (!config.exists() || !config.isEnabled()) {
    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’ä½¿ç”¨
    config = AuthenticationConfiguration.getDefault(type);
}
```

---

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

#### 1. è¨­å®šã®äº‹å‰ãƒ­ãƒ¼ãƒ‰
```java
// Applicationèµ·å‹•æ™‚ã«å…¨ãƒ†ãƒŠãƒ³ãƒˆã®è¨­å®šã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥
@PostConstruct
public void preloadConfigurations() {
    List<Tenant> tenants = tenantQueryRepository.findAll();
    for (Tenant tenant : tenants) {
        authenticationConfigService.loadAllConfigs(tenant);
    }
}
```

#### 2. ãƒãƒ«ã‚¯æ“ä½œ
```java
// Control Planeã§è¤‡æ•°è¨­å®šã‚’ä¸€æ‹¬ä½œæˆ
POST /v1/management/tenants/{tenantId}/authentication-configurations/bulk
{
  "configurations": [
    { "type": "password", ... },
    { "type": "sms", ... },
    { "type": "email", ... }
  ]
}
```

---

## ğŸ”— é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

- [AIé–‹ç™ºè€…å‘ã‘: å…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](../content_10_ai_developer/ai-01-index.md)
- [AIé–‹ç™ºè€…å‘ã‘: Lessons Learned](../content_10_ai_developer/ai-02-lessons-learned.md)
- [é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰TOC](../DEVELOPER_GUIDE_TOC.md)
- [Control Planeæ¦‚å¿µ](../../content_03_concepts/01-foundation/concept-02-control-plane.md)

---

**æœ€çµ‚æ›´æ–°**: 2025-10-13
**å¯¾è±¡**: Full Stacké–‹ç™ºè€…ãƒ»æŠ€è¡“ãƒªãƒ¼ãƒ€ãƒ¼å€™è£œï¼ˆ1-2ãƒ¶æœˆï¼‰
**ç¿’å¾—ã‚¹ã‚­ãƒ«**: Control Planeã€Application Planeã€çµ±åˆå®Ÿè£…ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆã€Pluginå®Ÿè£…ã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº
