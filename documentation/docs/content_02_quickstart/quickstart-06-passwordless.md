# パスワードレス認証

[← ユースケース一覧に戻る](./quickstart-03-common-use-cases.md)

---

## できること

パスワードを使わずに、より安全で便利な方法で認証します。

- **生体認証**: 指紋、顔認証でログイン
- **セキュリティキー**: YubiKey等のUSBキーでログイン
- **デバイス間同期**: iPhoneで登録した認証情報をMacでも使える（Passkey）
- **モバイルアプリ承認**: PCでログイン開始、スマホで生体認証して承認（FIDO UAF + CIBA）

---

## 導入時に決めること

### 1. どのパスワードレス方式を使うか

| 選択肢 | 説明 | 向いているケース |
|-------|------|----------------|
| **生体認証（FIDO2）** | 指紋・顔認証、ブラウザ標準対応 | 一般消費者向けサービス |
| **セキュリティキー** | USBキー等の物理デバイス | 企業、高セキュリティ環境 |
| **Passkey** | デバイス間同期可能な生体認証 | Apple/Google環境のユーザー |
| **モバイル承認（FIDO UAF + CIBA）** | PCログインをスマホで承認 | 銀行、決済の高額取引 |

**idp-serverでの設定**:
- 認証ポリシーでFIDO2/CIBA認証を有効化
- 認証器の種類（プラットフォーム/外部キー）を設定

### 2. パスワードとの併用をどうするか

| 選択肢 | 説明 | 移行シナリオ |
|-------|------|-------------|
| **パスワードレスのみ** | パスワード認証を廃止 | 最終形態 |
| **パスワードレス推奨** | パスワードレスを優先表示、パスワードも可 | 移行期 |
| **ユーザーが選択** | 両方並列で提供 | 導入初期 |

**idp-serverでの設定**:
- 認証ポリシーで利用可能な方式の組み合わせを定義
- UIでの表示順序を設定

### 3. デバイス登録をどう管理するか

| 決めること | 選択肢の例 |
|-----------|-----------|
| **登録可能台数** | 無制限、3台まで、5台まで |
| **デバイス削除** | いつでも可能、管理者承認必要 |
| **紛失時の対応** | バックアップデバイス必須、管理者がリセット |

**idp-serverでの設定**:
- デバイス登録ポリシーで台数制限を設定

### 4. モバイル承認（FIDO UAF + CIBA）の設定

| 決めること | 選択肢の例 |
|-----------|-----------|
| **通知方法** | プッシュ通知（FCM/APNS） |
| **承認タイムアウト** | 1分、3分、5分 |

**idp-serverでの設定**:
- プッシュ通知サービス（FCM/APNS）との連携
- タイムアウト、メッセージテンプレート設定

---

## 関連ドキュメント

- [How-to: FIDO2登録](../content_05_how-to/phase-3-advanced/fido-uaf/02-registration.md)
- [How-to: CIBAフロー](../content_05_how-to/phase-3-advanced/fido-uaf/01-ciba-flow.md)
- [Concept: パスワードレス認証](../content_03_concepts/03-authentication-authorization/concept-07-passwordless.md)

---

**最終更新**: 2026-01-27
