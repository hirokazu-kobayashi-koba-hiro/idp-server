# ユースケース一覧

`idp-server` における主要なユースケースを網羅的に整理したものです。

アクター・機能分類ごとにユースケースを分けることで、機能全体の把握、仕様設計、テスト設計、および外部連携設計のベースとして活用できます。

## アプリケーション

| アクター     | 分類              | ユースケース               | 
|----------|-----------------|----------------------|
| ユーザー     | OIDC            | 認可を要求する              | 
|          |                 | 認可画面データを取得する         |
|          |                 | ユーザーとのインタラクション処理を行う  | 
|          |                 | フェデレーション認証を開始する      | 
|          |                 | フェデレーションの認証応答を処理する   | 
|          |                 | 認可を完了する              | 
|          |                 | セッション付き認可を完了する       | 
|          |                 | 認可を拒否する              | 
|          |                 | ログアウトする              |
|          | CIBA            | バックチャンネル認証リクエストを要求する | 
|          |                 | CIBA認証をインタラクション処理を行う |
|          | トークン            | トークンを要求する            | 
|          |                 | トークンを無効化する           |
|          | Userinfo        | ユーザー情報をユーザーを取得する     |
|          | 身元確認            | 身元確認を申請する            | 
|          | 　               | 身元確認の申請履歴を取得する       | 
|          |                 | 身元確認の申請を削除する         | 
|          |                 | 身元確認の結果を取得する         | 
|          | 認証メタデータ         | FIDO UAFのファセットを取得する  |
|          | 認証              | 認証デバイスの最新認証を取得する     |
| システム     | テナントメタデータ       | テナントメタデータを取得する       |
|          | 身元確認            | 身元確認申請を審査結果を受信する     | 
|          |                 | 身元確認申請を判定結果を受信する     |
| RP       | OIDCメタデータ       | OIDCメタデータ取得する        | 
|          |                 | 公開鍵情報を取得する           |
| リソースサーバー | トークン            | トークンを検査する            | 
| 非同期ワーカー  | ユーザーライフサイクルイベント | ユーザーライフサイクルイベントを処理する | 
|          | セキュリティイベント      | セキュリティイベントを処理する      | 

## コントロールプレーン

| アクター     | 大分類        | ユースケース                | 
|----------|------------|-----------------------|
| サーバー管理者  | IDサーバー     | IDサーバーを初期化する          | 
|          | テナント       | テナントを初期化する            | 
| テナントオーナー | テナント       | テナントをオンボーディングする       | 
| テナント管理者  |            | テナントを登録する             | 
|          |            | テナント一覧を取得する           |
|          |            | テナントを取得する             |
|          |            | テナントを更新する             | 
|          |            | テナントを削除する             | 
|          | 認可サーバー     | 認可サーバーの設定を取得する        |
|          |            | 認可サーバーの設定を更新する        | 
|          | クライアント     | クライアントを登録する           | 
|          |            | クライアント一覧を取得する         |
|          |            | クライアントを取得する           |
|          |            | クライアントを更新する           | 
|          |            | クライアントを削除する           | 
|          | ユーザー       | ユーザーを登録する             | 
|          |            | ユーザー一覧を取得する           |
|          |            | ユーザーを取得する             | 
|          |            | ユーザーを更新する             | 
|          |            | ユーザーを削除する             | 
|          | 身元確認       | 身元確認設定を登録する           |
|          |            | 身元確認設定一覧を取得する         | 
|          |            | 身元確認設定を取得する           | 
|          |            | 身元確認設定を更新する           | 
|          |            | 身元確認設定を削除する           |
|          | 認証         | 認証設定を登録する             | 
|          |            | 認証設定一覧を取得する           |
|          |            | 認証設定を取得する             | 
|          |            | 認証設定を更新する             |
|          |            | 認証設定を削除する             |
|          | フェデレーション   | フェデレーション設定を登録する       | 
|          |            | フェデレーション設定一覧を取得する     |
|          |            | フェデレーション設定を取得する       | 
|          |            | フェデレーション設定を更新する       |
|          |            | フェデレーション設定を削除する       |
|          | セキュリティイベント | セキュリティイベントフックの設定を登録する | 
|          |            | セキュリティイベントフックの一覧を取得する |
|          |            | セキュリティイベントフックを取得する    | 
|          |            | セキュリティイベントフックを更新する    |
|          |            | セキュリティイベントフックを削除する    |
|          | メンバー       | メンバーの招待を行う            | 
|          |            | メンバーの招待のデータ一覧を取得する    |
|          |            | メンバーの招待のデータを取得する      |
|          |            | メンバーの招待のデータを削除する      |
