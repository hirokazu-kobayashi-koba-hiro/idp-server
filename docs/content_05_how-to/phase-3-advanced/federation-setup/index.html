<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-content_05_how-to/phase-3-advanced/federation-setup" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">å¤–éƒ¨IdPé€£æºï¼ˆFederationï¼‰ã®è¨­å®š | IdP-Server Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_05_how-to/phase-3-advanced/federation-setup"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="å¤–éƒ¨IdPé€£æºï¼ˆFederationï¼‰ã®è¨­å®š | IdP-Server Documentation"><meta data-rh="true" name="description" content="ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„"><meta data-rh="true" property="og:description" content="ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„"><link data-rh="true" rel="icon" href="/idp-server/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_05_how-to/phase-3-advanced/federation-setup"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_05_how-to/phase-3-advanced/federation-setup" hreflang="ja"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_05_how-to/phase-3-advanced/federation-setup" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/idp-server/blog/rss.xml" title="IdP-Server Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/idp-server/blog/atom.xml" title="IdP-Server Documentation Atom Feed"><link rel="stylesheet" href="/idp-server/assets/css/styles.f434a3d5.css">
<script src="/idp-server/assets/js/runtime~main.90050bbf.js" defer="defer"></script>
<script src="/idp-server/assets/js/main.aa828b22.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¾ã§ã‚¹ã‚­ãƒƒãƒ—"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¾ã§ã‚¹ã‚­ãƒƒãƒ—</a></div><nav aria-label="ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ã‚’é–‹ã" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/idp-server/"><div class="navbar__logo"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IdP-Server</b></a><a class="navbar__item navbar__link" href="/idp-server/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/idp-server/docs/content_07_reference/api-reference">Api Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hirokazu-kobayashi-koba-hiro/idp-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹(ç¾åœ¨ã¯ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰)" aria-label="ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹(ç¾åœ¨ã¯ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="å…ˆé ­ã¸æˆ»ã‚‹" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚µã‚¤ãƒ‰ãƒãƒ¼" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/introduction">ã¯ã˜ã‚ã«</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/document-index">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">è£½å“ç´¹ä»‹</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_03_concepts/foundation/concept-01-multi-tenant">ã‚³ã‚¢æ¦‚å¿µ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">èªè¨¼ãƒ»èªå¯ãƒ—ãƒ­ãƒˆã‚³ãƒ«</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/idp-server/docs/content_05_how-to/">How-toï¼ˆè¨­å®šãƒ»é‹ç”¨ãƒ¬ã‚·ãƒ”ï¼‰</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/">How-to ã‚¬ã‚¤ãƒ‰ - å­¦ç¿’ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_05_how-to/phase-1-foundation/server-setup">Phase 1: æœ€å°æ§‹æˆï¼ˆå¿…é ˆï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_05_how-to/phase-2-security/mfa-setup">Phase 2: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ï¼ˆæ¨å¥¨ï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/idp-server/docs/content_05_how-to/phase-3-advanced/federation-setup">Phase 3: é«˜åº¦ãªæ©Ÿèƒ½</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/idp-server/docs/content_05_how-to/phase-3-advanced/federation-setup">å¤–éƒ¨IdPé€£æºï¼ˆFederationï¼‰ã®è¨­å®š</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_05_how-to/phase-3-advanced/fido-uaf/ciba-flow">FIDO-UAF</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_05_how-to/phase-4-extensions/identity-verification/guide">Phase 4: æ‹¡å¼µæ©Ÿèƒ½</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_06_developer-guide/">é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_07_reference/api-reference">ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_11_learning/identity-basics/identity-management-basics">å­¦ç¿’ï¼ˆLearningï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_08_ops/ops-01-test-strategy">é‹ç”¨ï¼ˆOpsï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_09_project/project-01-faq">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_10_ai_developer/ai-01-index">AI</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸" class="breadcrumbs__link" href="/idp-server/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">How-toï¼ˆè¨­å®šãƒ»é‹ç”¨ãƒ¬ã‚·ãƒ”ï¼‰</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Phase 3: é«˜åº¦ãªæ©Ÿèƒ½</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">å¤–éƒ¨IdPé€£æºï¼ˆFederationï¼‰ã®è¨­å®š</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">ã“ã®ãƒšãƒ¼ã‚¸ã®è¦‹å‡ºã—</button></div><div class="theme-doc-markdown markdown"><header><h1>å¤–éƒ¨IdPé€£æºï¼ˆFederationï¼‰ã®è¨­å®š</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„">ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„<a href="#ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„" class="hash-link" aria-label="ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„ ã¸ ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p><strong>Google ã§ãƒ­ã‚°ã‚¤ãƒ³</strong>ã®ã‚ˆã†ãªå¤–éƒ¨IdPï¼ˆIdentity Providerï¼‰é€£æºã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒç›®æ¨™ã§ã™ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ‰€è¦æ™‚é–“">æ‰€è¦æ™‚é–“<a href="#æ‰€è¦æ™‚é–“" class="hash-link" aria-label="æ‰€è¦æ™‚é–“ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="æ‰€è¦æ™‚é–“ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>â±ï¸ <strong>ç´„20åˆ†</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å‰ææ¡ä»¶">å‰ææ¡ä»¶<a href="#å‰ææ¡ä»¶" class="hash-link" aria-label="å‰ææ¡ä»¶ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="å‰ææ¡ä»¶ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul>
<li>ç®¡ç†è€…ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—æ¸ˆã¿</li>
<li>å¤–éƒ¨IdPï¼ˆGoogleã€Azure ADç­‰ï¼‰ã§OAuthã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ²æ¸ˆã¿</li>
<li>çµ„ç¹”IDï¼ˆorganization-idï¼‰ã‚’å–å¾—æ¸ˆã¿</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="management-api-url">Management API URL<a href="#management-api-url" class="hash-link" aria-label="Management API URL ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Management API URL ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>çµ„ç¹”ãƒ¬ãƒ™ãƒ«API</strong>ï¼ˆã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã®è¡¨è¨˜ï¼‰:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST /v1/management/organizations/{organization-id}/tenants/{tenant-id}/federation-configurations</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æ³¨æ„</strong>: ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«APIã¨ã®é•ã„</p>
<ul>
<li><strong>çµ„ç¹”ãƒ¬ãƒ™ãƒ«</strong>: <code>POST /v1/management/organizations/{organization-id}/tenants/{tenant-id}/federation-configurations</code> â† ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</li>
<li><strong>ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«</strong>: <code>POST /v1/management/tenants/{tenant-id}/federation-configurations</code> â† ç®¡ç†è€…ã®ã¿</li>
</ul>
<p>é€šå¸¸ã®é‹ç”¨ã§ã¯çµ„ç¹”ãƒ¬ãƒ™ãƒ«APIã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="federationã¨ã¯">Federationã¨ã¯<a href="#federationã¨ã¯" class="hash-link" aria-label="Federationã¨ã¯ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Federationã¨ã¯ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ<strong>æ—¢å­˜ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</strong>ï¼ˆGoogleã€Azure ADç­‰ï¼‰ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ä»•çµ„ã¿ã§ã™ã€‚</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ãƒ¦ãƒ¼ã‚¶ãƒ¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ ã€ŒGoogleã§ãƒ­ã‚°ã‚¤ãƒ³ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Googleã®èªè¨¼ç”»é¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ Googleèªè¨¼æˆåŠŸ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">idp-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ Googleã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ idp-serverã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦èªè¨¼å®Œäº†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Authorization Codeç™ºè¡Œ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ãƒ¡ãƒªãƒƒãƒˆ</strong>:</p>
<ul>
<li>âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¦šãˆã‚‹å¿…è¦ãªã—</li>
<li>âœ… ä¼æ¥­SSOï¼ˆGoogle Workspaceã€Azure ADï¼‰ã¨çµ±åˆ</li>
<li>âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Šï¼ˆå¤–éƒ¨IdPã®MFAã‚’åˆ©ç”¨ï¼‰</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è¨­å®šè¦ç´ ã®é–¢ä¿‚æ¦‚è¦">è¨­å®šè¦ç´ ã®é–¢ä¿‚ï¼ˆæ¦‚è¦ï¼‰<a href="#è¨­å®šè¦ç´ ã®é–¢ä¿‚æ¦‚è¦" class="hash-link" aria-label="è¨­å®šè¦ç´ ã®é–¢ä¿‚ï¼ˆæ¦‚è¦ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="è¨­å®šè¦ç´ ã®é–¢ä¿‚ï¼ˆæ¦‚è¦ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>Federationèªè¨¼ã«ã¯3ã¤ã®è¨­å®šãŒé€£æºã—ã¾ã™ï¼š</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚     Client       â”‚    â”‚ Authentication       â”‚    â”‚   Federation     â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                  â”‚    â”‚ Policy               â”‚    â”‚   Configuration  â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ extension:       â”‚    â”‚ available_methods:   â”‚    â”‚ sso_provider:    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  available_      â”‚â”€â”€â”€â–¶â”‚  - &quot;oidc-google&quot; â—€â”€â”€â”€â”¼â”€â”€â”€â”€â”‚   &quot;google&quot;       â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚  federations:    â”‚    â”‚                      â”‚    â”‚                  â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   sso_provider:  â”‚    â”‚ success_conditions:  â”‚    â”‚ payload:         â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚    &quot;google&quot;      â”‚    â”‚  oidc-google &gt;= 1    â”‚    â”‚  issuer, ...     â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”˜</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>å‘½åè¦å‰‡</strong>: <code>oidc-{sso_provider}</code> ã§Authentication Policyã¨Federation ConfigurationãŒç´ã¥ã</p>
<p>ğŸ“– <strong>è©³ç´°</strong>: <a href="/idp-server/docs/content_06_developer-guide/configuration/federation">Federationè¨­å®šã‚¬ã‚¤ãƒ‰</a></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¾‹-googleé€£æºã‚’è¨­å®š">ä¾‹: Googleé€£æºã‚’è¨­å®š<a href="#ä¾‹-googleé€£æºã‚’è¨­å®š" class="hash-link" aria-label="ä¾‹: Googleé€£æºã‚’è¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¾‹: Googleé€£æºã‚’è¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-googleã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ²">Step 1: Googleã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ²<a href="#step-1-googleã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ²" class="hash-link" aria-label="Step 1: Googleã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ² ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Step 1: Googleã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ² ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>Google Cloud Consoleã§äº‹å‰æº–å‚™ï¼š</p>
<ol>
<li>
<p><strong>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</strong></p>
</li>
<li>
<p><strong>OAuth 2.0ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆ</strong></p>
<ul>
<li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—: ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</li>
<li>æ‰¿èªæ¸ˆã¿ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURI: <code>http://localhost:8080/{tenant-id}/v1/authorizations/federations/oidc/callback</code></li>
</ul>
</li>
<li>
<p><strong>ã‚¯ãƒ©ã‚¤ã‚¢  ãƒ³ãƒˆIDãƒ»ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆå–å¾—</strong></p>
<ul>
<li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆID: <code>123456789-abcdefg.apps.googleusercontent.com</code></li>
<li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ: <code>GOCSPX-xxxxxxxxxxxxx</code></li>
</ul>
</li>
</ol>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-idp-serverã§federationè¨­å®š">Step 2: idp-serverã§Federationè¨­å®š<a href="#step-2-idp-serverã§federationè¨­å®š" class="hash-link" aria-label="Step 2: idp-serverã§Federationè¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Step 2: idp-serverã§Federationè¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &quot;http://localhost:8080/v1/management/organizations/${ORGANIZATION_ID}/tenants/${TENANT_ID}/federation-configurations&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Bearer ${ADMIN_TOKEN}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;type&quot;: &quot;oidc&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;sso_provider&quot;: &quot;google&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;enabled&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;type&quot;: &quot;standard&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;provider&quot;: &quot;standard&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;issuer&quot;: &quot;https://accounts.google.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;issuer_name&quot;: &quot;google&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;authorization_endpoint&quot;: &quot;https://accounts.google.com/o/oauth2/v2/auth&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;token_endpoint&quot;: &quot;https://oauth2.googleapis.com/token&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;userinfo_endpoint&quot;: &quot;https://openidconnect.googleapis.com/v1/userinfo&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;client_id&quot;: &quot;123456789-abcdefg.apps.googleusercontent.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;client_secret&quot;: &quot;GOCSPX-xxxxxxxxxxxxx&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;redirect_uri&quot;: &quot;http://localhost:8080/${TENANT_ID}/v1/authorizations/federations/oidc/callback&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;scopes_supported&quot;: [&quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;userinfo_mapping_rules&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;from&quot;: &quot;$.http_request.response_body.sub&quot;, &quot;to&quot;: &quot;external_user_id&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;from&quot;: &quot;$.http_request.response_body.email&quot;, &quot;to&quot;: &quot;email&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;from&quot;: &quot;$.http_request.response_body.name&quot;, &quot;to&quot;: &quot;name&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;from&quot;: &quot;$.http_request.response_body.picture&quot;, &quot;to&quot;: &quot;picture&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>é‡è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</strong>:</p>
<ul>
<li><code>payload.type</code>: ãƒ—ãƒ­ãƒˆã‚³ãƒ«ç¨®åˆ¥ï¼ˆ<code>standard</code>=æ¨™æº–OIDCï¼‰</li>
<li><code>payload.provider</code>: Executorã‚¿ã‚¤ãƒ—ï¼ˆ<code>standard</code>/<code>oauth-extension</code>/<code>facebook</code>ï¼‰</li>
<li><code>payload.issuer_name</code>: IdPè­˜åˆ¥åï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®<code>external_idp_issuer</code>ã«è¨­å®šã•ã‚Œã‚‹ï¼‰</li>
<li><code>payload.redirect_uri</code>: ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯URLï¼ˆå¤–éƒ¨IdPã«ç™»éŒ²ã™ã‚‹URLï¼‰</li>
<li><code>payload.userinfo_mapping_rules</code>: UserInfoâ†’idp-serverãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆè©³ç´°ã¯<a href="#userinfo_mapping_rules-%E3%81%AE%E8%A9%B3%E7%B4%B0">userinfo_mapping_rulesã®è©³ç´°</a>ã‚’å‚ç…§ï¼‰</li>
</ul>
<p><strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;dry_run&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;result&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;770e8400-e29b-41d4-a716-446655440002&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;oidc&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;sso_provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;google&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;enabled&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>è¨­å®šå†…å®¹</strong>:</p>
<ul>
<li><code>sso_provider: &quot;google&quot;</code> - Googleé€£æºã‚’è­˜åˆ¥</li>
<li><code>payload.issuer</code> - Googleã®ç™ºè¡Œè€…URL</li>
<li><code>payload.issuer_name</code> - IdPè­˜åˆ¥å</li>
<li><code>payload.provider</code> - Executorã‚¿ã‚¤ãƒ—ï¼ˆ<code>standard</code>=æ¨™æº–OIDCãƒ•ãƒ­ãƒ¼ï¼‰</li>
<li><code>payload.scopes_supported</code> - Googleã‹ã‚‰å–å¾—ã™ã‚‹æƒ…å ±ï¼ˆopenid, profile, emailï¼‰</li>
<li><code>payload.userinfo_mapping_rules</code> - Googleã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± â†’ idp-serverã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å±æ€§ãƒãƒƒãƒ”ãƒ³ã‚°</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-èªè¨¼ãƒãƒªã‚·ãƒ¼ã§federationã‚’è¨±å¯">Step 3: èªè¨¼ãƒãƒªã‚·ãƒ¼ã§Federationã‚’è¨±å¯<a href="#step-3-èªè¨¼ãƒãƒªã‚·ãƒ¼ã§federationã‚’è¨±å¯" class="hash-link" aria-label="Step 3: èªè¨¼ãƒãƒªã‚·ãƒ¼ã§Federationã‚’è¨±å¯ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Step 3: èªè¨¼ãƒãƒªã‚·ãƒ¼ã§Federationã‚’è¨±å¯ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT &quot;http://localhost:8080/v1/management/organizations/${ORGANIZATION_ID}/tenants/${TENANT_ID}/authentication-policies/oauth&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Bearer ${ADMIN_TOKEN}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;flow&quot;: &quot;oauth&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;available_methods&quot;: [&quot;password&quot;, &quot;oidc-google&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;success_conditions&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;any_of&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;path&quot;: &quot;$.password-authentication.success_count&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;: &quot;integer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;operation&quot;: &quot;gte&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;value&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;path&quot;: &quot;$.oidc-google.success_count&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;: &quot;integer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;operation&quot;: &quot;gte&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;value&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>è¨­å®šå†…å®¹</strong>:</p>
<ul>
<li><code>available_methods</code> ã« <code>&quot;oidc-google&quot;</code> ã‚’è¿½åŠ </li>
<li><code>success_conditions.any_of</code> - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼<strong>ã¾ãŸã¯</strong>Googleèªè¨¼ã®ã„ãšã‚Œã‹ãŒ1å›ä»¥ä¸ŠæˆåŠŸã™ã‚Œã°OK</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§federationã‚’æœ‰åŠ¹åŒ–">Step 4: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§Federationã‚’æœ‰åŠ¹åŒ–<a href="#step-4-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§federationã‚’æœ‰åŠ¹åŒ–" class="hash-link" aria-label="Step 4: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§Federationã‚’æœ‰åŠ¹åŒ– ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Step 4: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§Federationã‚’æœ‰åŠ¹åŒ– ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>Step 2ã§ä½œæˆã—ãŸãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã®IDã‚’ä½¿ç”¨ã—ã¦ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«Federationã‚’è¨­å®šã—ã¾ã™ã€‚</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># FEDERATION_ID ã¯ Step 2 ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§å–å¾—ã—ãŸ id ã‚’ä½¿ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FEDERATION_ID=&quot;770e8400-e29b-41d4-a716-446655440002&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT &quot;http://localhost:8080/v1/management/organizations/${ORGANIZATION_ID}/tenants/${TENANT_ID}/clients/${CLIENT_ID}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Bearer ${ADMIN_TOKEN}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;extension&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;available_federations&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;id&quot;: &quot;&#x27;${FEDERATION_ID}&#x27;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;type&quot;: &quot;oidc&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;sso_provider&quot;: &quot;google&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>è¨­å®šå†…å®¹</strong>:</p>
<ul>
<li><code>extension.available_federations</code> ã«ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã‚’è¿½åŠ </li>
<li><code>id</code>: Step 2ã§ä½œæˆã—ãŸãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã®ID</li>
<li><code>type</code>: ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚¿ã‚¤ãƒ—ï¼ˆoidcï¼‰</li>
<li><code>sso_provider</code>: IdPè­˜åˆ¥å­ï¼ˆgoogleï¼‰</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-å‹•ä½œç¢ºèª">Step 5: å‹•ä½œç¢ºèª<a href="#step-5-å‹•ä½œç¢ºèª" class="hash-link" aria-label="Step 5: å‹•ä½œç¢ºèª ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Step 5: å‹•ä½œç¢ºèª ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-authorization-requesté€šå¸¸é€šã‚Š">5.1 Authorization Requestï¼ˆé€šå¸¸é€šã‚Šï¼‰<a href="#51-authorization-requesté€šå¸¸é€šã‚Š" class="hash-link" aria-label="5.1 Authorization Requestï¼ˆé€šå¸¸é€šã‚Šï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="5.1 Authorization Requestï¼ˆé€šå¸¸é€šã‚Šï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v &quot;http://localhost:8080/${TENANT_ID}/v1/authorizations?\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response_type=code&amp;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client_id=${CLIENT_ID}&amp;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redirect_uri=${REDIRECT_URI}&amp;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scope=openid+profile+email&amp;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">state=random-state&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹</strong>: ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">è¡¨ç¤ºã•ã‚Œã‚‹é¸æŠè‚¢:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãƒ­ã‚°ã‚¤ãƒ³</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Googleã§ãƒ­ã‚°ã‚¤ãƒ³  â† NEW!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-googleã§ãƒ­ã‚°ã‚¤ãƒ³">5.2 Googleã§ãƒ­ã‚°ã‚¤ãƒ³<a href="#52-googleã§ãƒ­ã‚°ã‚¤ãƒ³" class="hash-link" aria-label="5.2 Googleã§ãƒ­ã‚°ã‚¤ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="5.2 Googleã§ãƒ­ã‚°ã‚¤ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ŒGoogleã§ãƒ­ã‚°ã‚¤ãƒ³ã€ã‚’  ã‚¯ãƒªãƒƒã‚¯:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å®Ÿè¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">POST /{tenant-id}/v1/authentications/${AUTH_TRANSACTION_ID}/federations/oidc/google</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;redirect_uri&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://accounts.google.com/o/oauth2/v2/auth?client_id=...&amp;state=...&amp;nonce=...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-googleã®èªè¨¼ç”»é¢">5.3 Googleã®èªè¨¼ç”»é¢<a href="#53-googleã®èªè¨¼ç”»é¢" class="hash-link" aria-label="5.3 Googleã®èªè¨¼ç”»é¢ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="5.3 Googleã®èªè¨¼ç”»é¢ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯Googleã®èªè¨¼ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. idp-serverã¸ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Callback URLã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="54-callbackå‡¦ç†è‡ªå‹•">5.4 Callbackå‡¦ç†ï¼ˆè‡ªå‹•ï¼‰<a href="#54-callbackå‡¦ç†è‡ªå‹•" class="hash-link" aria-label="5.4 Callbackå‡¦ç†ï¼ˆè‡ªå‹•ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="5.4 Callbackå‡¦ç†ï¼ˆè‡ªå‹•ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>idp-serverãŒè‡ªå‹•å‡¦ç†:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. Googleã‹ã‚‰èªè¨¼ã‚³ãƒ¼ãƒ‰å—ã‘å–ã‚Š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Googleã¸Token Request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Googleã®ID Tokenæ¤œè¨¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. UserInfoå–å¾—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. idp-serverã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ/æ›´æ–°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6. Authorization Codeç™ºè¡Œ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="55-ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—é€šå¸¸é€šã‚Š">5.5 ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ï¼ˆé€šå¸¸é€šã‚Šï¼‰<a href="#55-ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—é€šå¸¸é€šã‚Š" class="hash-link" aria-label="5.5 ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ï¼ˆé€šå¸¸é€šã‚Šï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="5.5 ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ï¼ˆé€šå¸¸é€šã‚Šï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &quot;http://localhost:8080/${TENANT_ID}/v1/tokens&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/x-www-form-urlencoded&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -u &quot;${CLIENT_ID}:${CLIENT_SECRET}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &quot;grant_type=authorization_code&amp;code=abc123&amp;redirect_uri=${REDIRECT_URI}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æˆåŠŸï¼</strong></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»–ã®å¤–éƒ¨idpè¨­å®šä¾‹">ä»–ã®å¤–éƒ¨IdPè¨­å®šä¾‹<a href="#ä»–ã®å¤–éƒ¨idpè¨­å®šä¾‹" class="hash-link" aria-label="ä»–ã®å¤–éƒ¨IdPè¨­å®šä¾‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä»–ã®å¤–éƒ¨IdPè¨­å®šä¾‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="azure-adé€£æº">Azure ADé€£æº<a href="#azure-adé€£æº" class="hash-link" aria-label="Azure ADé€£æº ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Azure ADé€£æº ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;oidc&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;sso_provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;azure_ad&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;enabled&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;payload&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;standard&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;standard&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;issuer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://login.microsoftonline.com/{azure-tenant-id}/v2.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;issuer_name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;azure_ad&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;authorization_endpoint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://login.microsoftonline.com/{azure-tenant-id}/oauth2/v2.0/authorize&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;token_endpoint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://login.microsoftonline.com/{azure-tenant-id}/oauth2/v2.0/token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userinfo_endpoint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://graph.microsoft.com/oidc/userinfo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;client_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your-client-id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;client_secret&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your-client-secret&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;redirect_uri&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost:8080/${TENANT_ID}/v1/authorizations/federations/oidc/callback&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;scopes_supported&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;openid&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;profile&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userinfo_mapping_rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.sub&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;external_user_id&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.email&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.name&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.preferred_username&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;preferred_username&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚«ã‚¹ã‚¿ãƒ oidcãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼">ã‚«ã‚¹ã‚¿ãƒ OIDCãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼<a href="#ã‚«ã‚¹ã‚¿ãƒ oidcãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼" class="hash-link" aria-label="ã‚«ã‚¹ã‚¿ãƒ OIDCãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚«ã‚¹ã‚¿ãƒ OIDCãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;oidc&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;sso_provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;custom-idp&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;enabled&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;payload&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;standard&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;standard&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;issuer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://your-idp.example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;issuer_name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;custom-idp&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;authorization_endpoint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://your-idp.example.com/oauth2/authorize&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;token_endpoint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://your-idp.example.com/oauth2/token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userinfo_endpoint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://your-idp.example.com/oauth2/userinfo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;client_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your-client-id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;client_secret&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your-client-secret&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;redirect_uri&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost:8080/${TENANT_ID}/v1/authorizations/federations/oidc/callback&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;scopes_supported&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;openid&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;profile&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userinfo_mapping_rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.sub&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;external_user_id&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.email&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.name&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.custom_claims.department&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;custom_properties.department&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.custom_claims.employee_id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;custom_properties.employee_id&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼">ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼<a href="#ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼" class="hash-link" aria-label="ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚¨ãƒ©ãƒ¼1-ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆuriä¸ä¸€è‡´">ã‚¨ãƒ©ãƒ¼1: ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURIä¸ä¸€è‡´<a href="#ã‚¨ãƒ©ãƒ¼1-ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆuriä¸ä¸€è‡´" class="hash-link" aria-label="ã‚¨ãƒ©ãƒ¼1: ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURIä¸ä¸€è‡´ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚¨ãƒ©ãƒ¼1: ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURIä¸ä¸€è‡´ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>ã‚¨ãƒ©ãƒ¼</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Googleã®ã‚¨ãƒ©ãƒ¼: redirect_uri_mismatch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>åŸå› </strong>: Google Cloud Consoleã§ç™»éŒ²ã—ãŸãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURIã¨ã€å®Ÿéš›ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURIãŒä¸€è‡´ã—ãªã„</p>
<p><strong>è§£æ±ºç­–</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Google Cloud Consoleã§ä»¥ä¸‹ã‚’ç™»éŒ²</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost:8080/{tenant-id}/v1/authorizations/federations/oidc/callback</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æ³¨æ„: {tenant-id} ã¯å®Ÿéš›ã®ãƒ†ãƒŠãƒ³ãƒˆIDã«ç½®ãæ›ãˆã‚‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http://localhost:8080/18ffff8d-8d97-460f-a71b-33f2e8afd41e/v1/authorizations/federations/oidc/callback</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚¨ãƒ©ãƒ¼2-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆé–“é•ã„">ã‚¨ãƒ©ãƒ¼2: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆé–“é•ã„<a href="#ã‚¨ãƒ©ãƒ¼2-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆé–“é•ã„" class="hash-link" aria-label="ã‚¨ãƒ©ãƒ¼2: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆé–“é•ã„ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚¨ãƒ©ãƒ¼2: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆé–“é•ã„ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>ã‚¨ãƒ©ãƒ¼</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;error&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;invalid_client&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;error_description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Client authentication failed&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>åŸå› </strong>: <code>client_id</code>ã¾ãŸã¯<code>client_secret</code>ãŒé–“é•ã£ã¦ã„ã‚‹</p>
<p><strong>è§£æ±ºç­–</strong>: Google Cloud Consoleã§æ­£ã—ã„å€¤ã‚’ç¢ºèª</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚¨ãƒ©ãƒ¼3-ãƒ¦ãƒ¼ã‚¶ãƒ¼å±æ€§ãƒãƒƒãƒ”ãƒ³ã‚°å¤±æ•—">ã‚¨ãƒ©ãƒ¼3: ãƒ¦ãƒ¼ã‚¶ãƒ¼å±æ€§ãƒãƒƒãƒ”ãƒ³ã‚°å¤±æ•—<a href="#ã‚¨ãƒ©ãƒ¼3-ãƒ¦ãƒ¼ã‚¶ãƒ¼å±æ€§ãƒãƒƒãƒ”ãƒ³ã‚°å¤±æ•—" class="hash-link" aria-label="ã‚¨ãƒ©ãƒ¼3: ãƒ¦ãƒ¼ã‚¶ãƒ¼å±æ€§ãƒãƒƒãƒ”ãƒ³ã‚°å¤±æ•— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚¨ãƒ©ãƒ¼3: ãƒ¦ãƒ¼ã‚¶ãƒ¼å±æ€§ãƒãƒƒãƒ”ãƒ³ã‚°å¤±æ•— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>ã‚¨ãƒ©ãƒ¼</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;error&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user_mapping_failed&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;error_description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Required attribute &#x27;email&#x27; not found&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>åŸå› </strong>: <code>user_mapping_rules</code>ã§æŒ‡å®šã—ãŸå±æ€§ãŒGoogleã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å«ã¾ã‚Œã¦ã„ãªã„</p>
<p><strong>è§£æ±ºç­–</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Googleã‹ã‚‰å–å¾—ã§ãã‚‹å±æ€§ã‚’ç¢ºèª</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl &quot;https://openidconnect.googleapis.com/v1/userinfo&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Bearer ${GOOGLE_ACCESS_TOKEN}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;sub&quot;: &quot;1234567890&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;John Doe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;email&quot;: &quot;john@example.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;picture&quot;: &quot;https://...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># user_mapping_rulesã‚’å®Ÿéš›ã®å±æ€§ã«åˆã‚ã›ã‚‹</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …<a href="#ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …" class="hash-link" aria-label="ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é … ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é … ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stateæ¤œè¨¼csrfé˜²æ­¢">stateæ¤œè¨¼ï¼ˆCSRFé˜²æ­¢ï¼‰<a href="#stateæ¤œè¨¼csrfé˜²æ­¢" class="hash-link" aria-label="stateæ¤œè¨¼ï¼ˆCSRFé˜²æ­¢ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="stateæ¤œè¨¼ï¼ˆCSRFé˜²æ­¢ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>idp-serverã¯è‡ªå‹•çš„ã«<code>state</code>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Authorization Requestæ™‚:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  state=random-xyz123 ã‚’ç”Ÿæˆãƒ»ä¿å­˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Callbackæ™‚:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  å—ã‘å–ã£ãŸstate == ä¿å­˜ã—ãŸstate â†’ OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ä¸ä¸€è‡´ â†’ CSRFæ”»æ’ƒã®å¯èƒ½æ€§ â†’ ã‚¨ãƒ©ãƒ¼</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nonceæ¤œè¨¼ãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒé˜²æ­¢">nonceæ¤œè¨¼ï¼ˆãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒé˜²æ­¢ï¼‰<a href="#nonceæ¤œè¨¼ãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒé˜²æ­¢" class="hash-link" aria-label="nonceæ¤œè¨¼ï¼ˆãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒé˜²æ­¢ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="nonceæ¤œè¨¼ï¼ˆãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒé˜²æ­¢ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>ID Tokenã®<code>nonce</code>ã‚’æ¤œè¨¼:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Authorization Requestæ™‚:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nonce=random-abc456 ã‚’ç”Ÿæˆãƒ»ä¿å­˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID Tokenæ¤œè¨¼æ™‚:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ID Token.nonce == ä¿å­˜ã—ãŸnonce â†’ OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ä¸ä¸€è‡´ â†’ ãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒã®å¯èƒ½æ€§ â†’ ã‚¨ãƒ©ãƒ¼</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="é«˜åº¦ãªè¨­å®š">é«˜åº¦ãªè¨­å®š<a href="#é«˜åº¦ãªè¨­å®š" class="hash-link" aria-label="é«˜åº¦ãªè¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="é«˜åº¦ãªè¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="executorã‚¿ã‚¤ãƒ—payloadprovider">Executorã‚¿ã‚¤ãƒ—ï¼ˆpayload.providerï¼‰<a href="#executorã‚¿ã‚¤ãƒ—payloadprovider" class="hash-link" aria-label="Executorã‚¿ã‚¤ãƒ—ï¼ˆpayload.providerï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Executorã‚¿ã‚¤ãƒ—ï¼ˆpayload.providerï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯"> â€‹</a></h3>
<p>å¤–éƒ¨IdPã¨ã®é€šä¿¡æ–¹æ³•ã‚’æŒ‡å®šã—ã¾ã™ï¼š</p>
<table><thead><tr><th>provider</th><th>èª¬æ˜</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>standard</code></td><td>æ¨™æº–OIDCãƒ•ãƒ­ãƒ¼</td><td>Google, Azure ADç­‰ã®OIDCæº–æ‹ IdP</td></tr><tr><td><code>oauth-extension</code></td><td>OAuthæ‹¡å¼µãƒ•ãƒ­ãƒ¼</td><td>ã‚«ã‚¹ã‚¿ãƒ UserInfoå–å¾—ãŒå¿…è¦ãªå ´åˆ</td></tr><tr><td><code>Facebook</code></td><td>Facebookå°‚ç”¨ãƒ•ãƒ­ãƒ¼</td><td>Facebook Loginï¼ˆå¤§æ–‡å­—å§‹ã¾ã‚Šï¼‰</td></tr></tbody></table>
<p><strong>é€šå¸¸ã¯<code>standard</code>ã‚’ä½¿ç”¨</strong>ã—ã¦ãã ã•ã„ã€‚<code>oauth-extension</code>ã¯<code>userinfo_execution</code>ã§ã‚«ã‚¹ã‚¿ãƒ HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¿…è¦ãªå ´åˆã«ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<p>âš ï¸ <strong>æ³¨æ„</strong>: ç„¡åŠ¹ãªproviderå€¤ã‚’æŒ‡å®šã™ã‚‹ã¨<strong>404ã‚¨ãƒ©ãƒ¼</strong>ãŒè¿”ã•ã‚Œã¾ã™ã€‚å€¤ã¯<strong>å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥</strong>ã—ã¾ã™ã€‚</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;error&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;invalid_request&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;error_description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;No OidcSsoExecutor found for provider xxx&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="userinfo_mapping_rules-ã®è©³ç´°">userinfo_mapping_rules ã®è©³ç´°<a href="#userinfo_mapping_rules-ã®è©³ç´°" class="hash-link" aria-label="userinfo_mapping_rules ã®è©³ç´° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="userinfo_mapping_rules ã®è©³ç´° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><code>userinfo_mapping_rules</code> ã¯ JSONPath ã‚’ä½¿ç”¨ã—ã¦å¤–éƒ¨IdPã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’idp-serverã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å±æ€§ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã¾ã™ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="provideråˆ¥ã®jsonpathå½¢å¼">provideråˆ¥ã®JSONPathå½¢å¼<a href="#provideråˆ¥ã®jsonpathå½¢å¼" class="hash-link" aria-label="provideråˆ¥ã®JSONPathå½¢å¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="provideråˆ¥ã®JSONPathå½¢å¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>provider</th><th>JSONPathå½¢å¼</th><th>èª¬æ˜</th></tr></thead><tbody><tr><td><code>standard</code></td><td><code>$.http_request.response_body.{field}</code></td><td>æ¨™æº–OIDCãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼</td></tr><tr><td><code>oauth-extension</code> (å˜ä¸€ãƒªã‚¯ã‚¨ã‚¹ãƒˆ)</td><td><code>$.userinfo_execution_http_request.response_body.{field}</code></td><td>ã‚«ã‚¹ã‚¿ãƒ å˜ä¸€HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆ</td></tr><tr><td><code>oauth-extension</code> (è¤‡æ•°ãƒªã‚¯ã‚¨ã‚¹ãƒˆ)</td><td><code>$.userinfo_execution_http_requests[index].response_body.{field}</code></td><td>ã‚«ã‚¹ã‚¿ãƒ è¤‡æ•°HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆ</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="standard-ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä¾‹">standard ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä¾‹<a href="#standard-ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä¾‹" class="hash-link" aria-label="standard ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä¾‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="standard ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä¾‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p>Google, Azure AD, ã‚«ã‚¹ã‚¿ãƒ OIDCãªã©æ¨™æº–çš„ãªãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®å ´åˆ:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;payload&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;standard&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userinfo_mapping_rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.sub&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;external_user_id&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.email&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.name&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.picture&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;picture&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.http_request.response_body.custom_claims.department&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;custom_properties.department&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="oauth-extension-ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä¾‹">oauth-extension ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä¾‹<a href="#oauth-extension-ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä¾‹" class="hash-link" aria-label="oauth-extension ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä¾‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="oauth-extension ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä¾‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p>ã‚«ã‚¹ã‚¿ãƒ HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹å ´åˆ:</p>
<p><strong>å˜ä¸€ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆhttp_requestï¼‰</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;payload&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;oauth-extension&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userinfo_execution&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;function&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http_request&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;http_request&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://api.example.com/user/profile&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;method&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;GET&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;header_mapping_rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.request_body.access_token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Authorization&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;functions&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;format&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;args&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;template&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bearer {{value}}&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userinfo_mapping_rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.userinfo_execution_http_request.response_body.user_id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;external_user_id&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.userinfo_execution_http_request.response_body.mail&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.userinfo_execution_http_request.response_body.display_name&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ãƒã‚¤ãƒ³ãƒˆ</strong>:</p>
<ul>
<li><code>$.request_body.access_token</code>ã§äº‹å‰ã«å–å¾—ã—ãŸã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å‚ç…§</li>
<li><code>format</code>é–¢æ•°ã§<code>Bearer </code>ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’è¿½åŠ ã—ã¦Authorizationãƒ˜ãƒƒãƒ€ãƒ¼ã«è¨­å®š</li>
</ul>
<p><strong>è¤‡æ•°ãƒªã‚¯ã‚¨ã‚¹ãƒˆ ï¼ˆhttp_requestsï¼‰</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;payload&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;oauth-extension&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userinfo_execution&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;function&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http_requests&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;http_requests&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://api.example.com/user/overview&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;method&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;POST&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;header_mapping_rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.request_body.access_token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Authorization&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">&quot;functions&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;format&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;args&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;template&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bearer {{value}}&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://api.example.com/user/details&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;method&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;POST&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;header_mapping_rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.request_body.access_token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Authorization&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">&quot;functions&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;format&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;args&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;template&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bearer {{value}}&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userinfo_mapping_rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.userinfo_execution_http_requests[0].response_body.id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;external_user_id&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.userinfo_execution_http_requests[0].response_body.email&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.userinfo_execution_http_requests[1].response_body.birthdate&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;birthdate&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.userinfo_execution_http_requests[1].response_body.phone_number&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;phone_number&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$.userinfo_execution_http_requests[1].response_body.role&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;custom_properties.role&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="é™çš„å€¤ã®ãƒãƒƒãƒ”ãƒ³ã‚°">é™çš„å€¤ã®ãƒãƒƒãƒ”ãƒ³ã‚°<a href="#é™çš„å€¤ã®ãƒãƒƒãƒ”ãƒ³ã‚°" class="hash-link" aria-label="é™çš„å€¤ã®ãƒãƒƒãƒ”ãƒ³ã‚° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="é™çš„å€¤ã®ãƒãƒƒãƒ”ãƒ³ã‚° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><code>from</code>ã®ä»£ã‚ã‚Šã«<code>static_value</code>ã‚’ä½¿ç”¨ã—ã¦å›ºå®šå€¤ã‚’è¨­å®šã§ãã¾ã™:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;static_value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-provider&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;provider_id&quot;</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="é‡è¦ãªtoãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰">é‡è¦ãª<code>to</code>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰<a href="#é‡è¦ãªtoãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰" class="hash-link" aria-label="é‡è¦ãªtoãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="é‡è¦ãªtoãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</th><th>èª¬æ˜</th><th>å¿…é ˆ</th></tr></thead><tbody><tr><td><code>external_user_id</code></td><td>å¤–éƒ¨IdPã§ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ID</td><td><strong>å¿…é ˆ</strong></td></tr><tr><td><code>email</code></td><td>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</td><td>-</td></tr><tr><td><code>name</code></td><td>è¡¨ç¤ºå</td><td>-</td></tr><tr><td><code>picture</code></td><td>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒURL</td><td>-</td></tr><tr><td><code>preferred_username</code></td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼å</td><td>-</td></tr><tr><td><code>birthdate</code></td><td>ç”Ÿå¹´æœˆæ—¥</td><td>-</td></tr><tr><td><code>phone_number</code></td><td>é›»è©±ç•ªå·</td><td>-</td></tr><tr><td><code>custom_properties.{key}</code></td><td>ã‚«ã‚¹ã‚¿ãƒ å±æ€§</td><td>-</td></tr></tbody></table>
<p><strong>è©³ç´°</strong>: <a href="/idp-server/docs/content_06_developer-guide/application-plane/federation">Federationå®Ÿè£…ã‚¬ã‚¤ãƒ‰</a>ã€<a href="/idp-server/docs/content_06_developer-guide/configuration/federation">Federationè¨­å®šã‚¬ã‚¤ãƒ‰</a></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—<a href="#æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—" class="hash-link" aria-label="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p>âœ… å¤–éƒ¨IdPé€£æºã‚’è¨­å®šã§ãã¾ã—ãŸï¼</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã•ã‚‰ã«é«˜åº¦ãªèªè¨¼">ã•ã‚‰ã«é«˜åº¦ãªèªè¨¼<a href="#ã•ã‚‰ã«é«˜åº¦ãªèªè¨¼" class="hash-link" aria-label="ã•ã‚‰ã«é«˜åº¦ãªèªè¨¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã•ã‚‰ã«é«˜åº¦ãªèªè¨¼   ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul>
<li><a href="/idp-server/docs/content_05_how-to/phase-3-advanced/how-to-12-ciba-flow-fido-uaf.md">CIBA Flow</a> - ãƒãƒƒã‚¯ãƒãƒ£ãƒãƒ«èªè¨¼</li>
<li><a href="/idp-server/docs/content_05_how-to/phase-4-extensions/identity-verification/application">Identity Verification</a> - èº«å…ƒç¢ºèªç”³è¾¼ã¿</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä»–ã®å¤–éƒ¨idp">ä»–ã®å¤–éƒ¨IdP<a href="#ä»–ã®å¤–éƒ¨idp" class="hash-link" aria-label="ä»–ã®å¤–éƒ¨IdP ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä»–ã®å¤–éƒ¨IdP ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul>
<li><strong>Azure AD</strong>: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºSSO</li>
<li><strong>GitHub</strong>: é–‹ç™ºè€…å‘ã‘ãƒ­ã‚°ã‚¤ãƒ³</li>
<li><strong>ã‚«ã‚¹ã‚¿ãƒ OIDCãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼</strong>: è‡ªç¤¾IdPé€£æº</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°">ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°<a href="#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°" class="hash-link" aria-label="ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="discoveryè‡ªå‹•è¨­å®š">Discoveryè‡ªå‹•è¨­å®š<a href="#discoveryè‡ªå‹•è¨­å®š" class="hash-link" aria-label="Discoveryè‡ªå‹•è¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Discoveryè‡ªå‹•è¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>OpenID Connect Discoveryã«å¯¾å¿œã—ã¦ã„ã‚‹IdPã®å ´åˆã€è‡ªå‹•è¨­å®šãŒä¾¿åˆ©ã§ã™ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &quot;http://localhost:8080/v1/management/organizations/${ORGANIZATION_ID}/tenants/${TENANT_ID}/federation-configurations/discover&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Bearer ${ADMIN_TOKEN}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;issuer&quot;: &quot;https://accounts.google.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;client_id&quot;: &quot;123456789-abcdefg.apps.googleusercontent.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;client_secret&quot;: &quot;GOCSPX-xxxxxxxxxxxxx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>è‡ªå‹•è¨­å®šã•ã‚Œã‚‹é …ç›®</strong>:</p>
<ul>
<li><code>authorization_endpoint</code></li>
<li><code>token_endpoint</code></li>
<li><code>userinfo_endpoint</code></li>
<li><code>jwks_uri</code></li>
<li><code>scopes_supported</code></li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ">é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ<a href="#é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ" class="hash-link" aria-label="é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<ul>
<li><a href="/idp-server/docs/content_05_how-to/content_03_concepts/02-identity-management/concept-01-id-management.md">Concept: IDç®¡ç†</a> - Federationæ¦‚å¿µ</li>
<li><a href="/idp-server/docs/content_05_how-to/content_06_developer-guide/03-application-plane/08-federation.md">Developer Guide: Federationå®Ÿè£…</a> - é–‹ç™ºè€…å‘ã‘</li>
<li><a href="/idp-server/docs/content_05_how-to/phase-1-foundation/organization-initialization">çµ„ç¹”åˆæœŸåŒ–</a> - ãƒ†ãƒŠãƒ³ãƒˆãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ</li>
</ul>
<hr>
<p><strong>æœ€çµ‚æ›´æ–°</strong>: 2025-10-13
<strong>é›£æ˜“åº¦</strong>: â­â­â­â˜†â˜†ï¼ˆä¸­ç´šï¼‰
<strong>å¯¾è±¡</strong>: å¤–éƒ¨IdPé€£æºã‚’åˆã‚ã¦è¨­å®šã™ã‚‹ç®¡ç†è€…ãƒ»é–‹ç™ºè€…</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_05_how-to/phase-3-advanced/01-federation-setup.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ã“ã®ãƒšãƒ¼ã‚¸ã‚’ç·¨é›†</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸"><a class="pagination-nav__link pagination-nav__link--prev" href="/idp-server/docs/content_05_how-to/phase-2-security/system-security-setup"><div class="pagination-nav__sublabel">å‰ã¸</div><div class="pagination-nav__label">ã‚·ã‚¹ãƒ†ãƒ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/idp-server/docs/content_05_how-to/phase-3-advanced/fido-uaf/ciba-flow"><div class="pagination-nav__sublabel">æ¬¡ã¸</div><div class="pagination-nav__label">CIBA + FIDO-UAF</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„" class="table-of-contents__link toc-highlight">ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„</a><ul><li><a href="#æ‰€è¦æ™‚é–“" class="table-of-contents__link toc-highlight">æ‰€è¦æ™‚é–“</a></li><li><a href="#å‰ææ¡ä»¶" class="table-of-contents__link toc-highlight">å‰ææ¡ä»¶</a></li><li><a href="#management-api-url" class="table-of-contents__link toc-highlight">Management API URL</a></li></ul></li><li><a href="#federationã¨ã¯" class="table-of-contents__link toc-highlight">Federationã¨ã¯</a><ul><li><a href="#è¨­å®šè¦ç´ ã®é–¢ä¿‚æ¦‚è¦" class="table-of-contents__link toc-highlight">è¨­å®šè¦ç´ ã®é–¢ä¿‚ï¼ˆæ¦‚è¦ï¼‰</a></li></ul></li><li><a href="#ä¾‹-googleé€£æºã‚’è¨­å®š" class="table-of-contents__link toc-highlight">ä¾‹: Googleé€£æºã‚’è¨­å®š</a><ul><li><a href="#step-1-googleã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ²" class="table-of-contents__link toc-highlight">Step 1: Googleã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ²</a></li><li><a href="#step-2-idp-serverã§federationè¨­å®š" class="table-of-contents__link toc-highlight">Step 2: idp-serverã§Federationè¨­å®š</a></li><li><a href="#step-3-èªè¨¼ãƒãƒªã‚·ãƒ¼ã§federationã‚’è¨±å¯" class="table-of-contents__link toc-highlight">Step 3: èªè¨¼ãƒãƒªã‚·ãƒ¼ã§Federationã‚’è¨±å¯</a></li><li><a href="#step-4-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§federationã‚’æœ‰åŠ¹åŒ–" class="table-of-contents__link toc-highlight">Step 4: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§Federationã‚’æœ‰åŠ¹åŒ–</a></li></ul></li><li><a href="#step-5-å‹•ä½œç¢ºèª" class="table-of-contents__link toc-highlight">Step 5: å‹•ä½œç¢ºèª</a><ul><li><a href="#51-authorization-requesté€šå¸¸é€šã‚Š" class="table-of-contents__link toc-highlight">5.1 Authorization Requestï¼ˆé€šå¸¸é€šã‚Šï¼‰</a></li><li><a href="#52-googleã§ãƒ­ã‚°ã‚¤ãƒ³" class="table-of-contents__link toc-highlight">5.2 Googleã§ãƒ­ã‚°ã‚¤ãƒ³</a></li><li><a href="#53-googleã®èªè¨¼ç”»é¢" class="table-of-contents__link toc-highlight">5.3 Googleã®èªè¨¼ç”»é¢</a></li><li><a href="#54-callbackå‡¦ç†è‡ªå‹•" class="table-of-contents__link toc-highlight">5.4 Callbackå‡¦ç†ï¼ˆè‡ªå‹•ï¼‰</a></li><li><a href="#55-ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—é€šå¸¸é€šã‚Š" class="table-of-contents__link toc-highlight">5.5 ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ï¼ˆé€šå¸¸é€šã‚Šï¼‰</a></li></ul></li><li><a href="#ä»–ã®å¤–éƒ¨idpè¨­å®šä¾‹" class="table-of-contents__link toc-highlight">ä»–ã®å¤–éƒ¨IdPè¨­å®šä¾‹</a><ul><li><a href="#azure-adé€£æº" class="table-of-contents__link toc-highlight">Azure ADé€£æº</a></li><li><a href="#ã‚«ã‚¹ã‚¿ãƒ oidcãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼" class="table-of-contents__link toc-highlight">ã‚«ã‚¹ã‚¿ãƒ OIDCãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼</a></li></ul></li><li><a href="#ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼" class="table-of-contents__link toc-highlight">ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼</a><ul><li><a href="#ã‚¨ãƒ©ãƒ¼1-ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆuriä¸ä¸€è‡´" class="table-of-contents__link toc-highlight">ã‚¨ãƒ©ãƒ¼1: ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURIä¸ä¸€è‡´</a></li><li><a href="#ã‚¨ãƒ©ãƒ¼2-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆé–“é•ã„" class="table-of-contents__link toc-highlight">ã‚¨ãƒ©ãƒ¼2: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆé–“é•ã„</a></li><li><a href="#ã‚¨ãƒ©ãƒ¼3-ãƒ¦ãƒ¼ã‚¶ãƒ¼å±æ€§ãƒãƒƒãƒ”ãƒ³ã‚°å¤±æ•—" class="table-of-contents__link toc-highlight">ã‚¨ãƒ©ãƒ¼3: ãƒ¦ãƒ¼ã‚¶ãƒ¼å±æ€§ãƒãƒƒãƒ”ãƒ³ã‚°å¤±æ•—</a></li></ul></li><li><a href="#ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …" class="table-of-contents__link toc-highlight">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …</a><ul><li><a href="#stateæ¤œè¨¼csrfé˜²æ­¢" class="table-of-contents__link toc-highlight">stateæ¤œè¨¼ï¼ˆCSRFé˜²æ­¢ï¼‰</a></li><li><a href="#nonceæ¤œè¨¼ãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒé˜²æ­¢" class="table-of-contents__link toc-highlight">nonceæ¤œè¨¼ï¼ˆãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒé˜²æ­¢ï¼‰</a></li></ul></li><li><a href="#é«˜åº¦ãªè¨­å®š" class="table-of-contents__link toc-highlight">é«˜åº¦ãªè¨­å®š</a><ul><li><a href="#executorã‚¿ã‚¤ãƒ—payloadprovider" class="table-of-contents__link toc-highlight">Executorã‚¿ã‚¤ãƒ—ï¼ˆpayload.providerï¼‰</a></li><li><a href="#userinfo_mapping_rules-ã®è©³ç´°" class="table-of-contents__link toc-highlight">userinfo_mapping_rules ã®è©³ç´°</a></li></ul></li><li><a href="#æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—" class="table-of-contents__link toc-highlight">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</a><ul><li><a href="#ã•ã‚‰ã«é«˜åº¦ãªèªè¨¼" class="table-of-contents__link toc-highlight">ã•ã‚‰ã«é«˜åº¦ãªèªè¨¼</a></li><li><a href="#ä»–ã®å¤–éƒ¨idp" class="table-of-contents__link toc-highlight">ä»–ã®å¤–éƒ¨IdP</a></li></ul></li><li><a href="#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°" class="table-of-contents__link toc-highlight">ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</a><ul><li><a href="#discoveryè‡ªå‹•è¨­å®š" class="table-of-contents__link toc-highlight">Discoveryè‡ªå‹•è¨­å®š</a></li></ul></li><li><a href="#é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ" class="table-of-contents__link toc-highlight">é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/docs/introduction">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>