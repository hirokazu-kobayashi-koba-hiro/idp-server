<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-content_06_developer-guide/implementation-guides/impl-18-spring-session" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Spring Sessionçµ±åˆã‚¬ã‚¤ãƒ‰ | IdP-Server Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_06_developer-guide/implementation-guides/impl-18-spring-session"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Spring Sessionçµ±åˆã‚¬ã‚¤ãƒ‰ | IdP-Server Documentation"><meta data-rh="true" name="description" content="ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„"><meta data-rh="true" property="og:description" content="ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„"><link data-rh="true" rel="icon" href="/idp-server/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_06_developer-guide/implementation-guides/impl-18-spring-session"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_06_developer-guide/implementation-guides/impl-18-spring-session" hreflang="ja"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_06_developer-guide/implementation-guides/impl-18-spring-session" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/idp-server/blog/rss.xml" title="IdP-Server Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/idp-server/blog/atom.xml" title="IdP-Server Documentation Atom Feed"><link rel="stylesheet" href="/idp-server/assets/css/styles.f434a3d5.css">
<script src="/idp-server/assets/js/runtime~main.16e6c3eb.js" defer="defer"></script>
<script src="/idp-server/assets/js/main.1ecbe18d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¾ã§ã‚¹ã‚­ãƒƒãƒ—"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¾ã§ã‚¹ã‚­ãƒƒãƒ—</a></div><nav aria-label="ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ã‚’é–‹ã" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/idp-server/"><div class="navbar__logo"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IdP-Server</b></a><a class="navbar__item navbar__link" href="/idp-server/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/idp-server/docs/content_07_reference/api-reference">Api Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hirokazu-kobayashi-koba-hiro/idp-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹(ç¾åœ¨ã¯ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰)" aria-label="ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹(ç¾åœ¨ã¯ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="å…ˆé ­ã¸æˆ»ã‚‹" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚µã‚¤ãƒ‰ãƒãƒ¼" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/introduction">ã¯ã˜ã‚ã«</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/document-index">ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç´¢å¼•</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">è£½å“ç´¹ä»‹</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_03_concepts/concept-01-multi-tenant">ã‚³ã‚¢æ¦‚å¿µ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">èªè¨¼ãƒ»èªå¯ãƒ—ãƒ­ãƒˆã‚³ãƒ«</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_05_how-to/index">How-toï¼ˆè¨­å®šãƒ»é‹ç”¨ãƒ¬ã‚·ãƒ”ï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/idp-server/docs/content_06_developer-guide/getting-started/service-overview">Developer Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/getting-started/service-overview">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/control-plane/resource-overview">Control Planeï¼ˆç®¡ç†APIï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/application-plane/overview">Application Planeï¼ˆèªè¨¼ãƒ»èªå¯APIï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/overview">Implementation Guidesï¼ˆå®Ÿè£…ã‚¬ã‚¤ãƒ‰ï¼‰</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/overview">å®Ÿè£…ã‚¬ã‚¤ãƒ‰æ¦‚è¦ - Implementation Guides Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-01-dependency-injection">ğŸ’‰ Dependency Injection ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-02-multi-datasource">ãƒãƒ«ãƒãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-03-transaction">ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-04-caching">ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-05-authentication-policy">èªè¨¼ãƒãƒªã‚·ãƒ¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-06-authentication-interactor">AuthenticationInteractor å®Ÿè£…ã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-08-federation-provider">Federation Providerå®Ÿè£…ã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-10-repository-implementation">Repositoryå®Ÿè£…ã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-11-configuration-management-api">è¨­å®šç®¡ç†API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-12-plugin-implementation">Pluginå®Ÿè£…ã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-15-security-event-hooks">ã‚¤ãƒ™ãƒ³ãƒˆ &amp; ãƒ•ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ </a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-16-http-request-executor">HTTP Request Executor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-17-external-integration">å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-18-spring-session">Spring Sessionçµ±åˆã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-19-jose-handler">JOSEï¼ˆJWT/JWS/JWEï¼‰å‡¦ç†å®Ÿè£…ã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-20-mapping-functions">Mapping Functions é–‹ç™ºã‚¬ã‚¤ãƒ‰</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/configuration/CONFIGURATION_COVERAGE">Configurationï¼ˆè¨­å®šï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/patterns/common-patterns">Patternsï¼ˆå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/troubleshooting/common-errors">Troubleshootingï¼ˆãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/reference/code-review-checklist">Referenceï¼ˆãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/learning-paths/beginner">Learning Pathsï¼ˆå­¦ç¿’ãƒ‘ã‚¹ï¼‰</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_07_reference/api-reference">ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_08_ops/ops-01-test-strategy">é‹ç”¨ï¼ˆOpsï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_09_project/project-01-faq">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_10_ai_developer/ai-01-index">AI</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸" class="breadcrumbs__link" href="/idp-server/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Developer Guide</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Implementation Guidesï¼ˆå®Ÿè£…ã‚¬ã‚¤ãƒ‰ï¼‰</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Spring Sessionçµ±åˆã‚¬ã‚¤ãƒ‰</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">ã“ã®ãƒšãƒ¼ã‚¸ã®è¦‹å‡ºã—</button></div><div class="theme-doc-markdown markdown"><header><h1>Spring Sessionçµ±åˆã‚¬ã‚¤ãƒ‰</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„">ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„<a href="#ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„" class="hash-link" aria-label="ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p><strong>Spring Sessionã‚’ä½¿ã£ãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†</strong>ã®å®Ÿè£…ã‚’ç†è§£ã™ã‚‹ã“ã¨ãŒç›®æ¨™ã§ã™ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ‰€è¦æ™‚é–“">æ‰€è¦æ™‚é–“<a href="#æ‰€è¦æ™‚é–“" class="hash-link" aria-label="æ‰€è¦æ™‚é–“ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="æ‰€è¦æ™‚é–“ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>â±ï¸ <strong>ç´„20åˆ†</strong></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="spring-sessionã¨ã¯">Spring Sessionã¨ã¯<a href="#spring-sessionã¨ã¯" class="hash-link" aria-label="Spring Sessionã¨ã¯ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Spring Sessionã¨ã¯ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p><strong>HTTPã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’Redisç­‰ã®å¤–éƒ¨ã‚¹ãƒˆã‚¢ã«ä¿å­˜ã™ã‚‹ä»•çµ„ã¿</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ãªãœspring-sessionãŒå¿…è¦ã‹">ãªãœSpring SessionãŒå¿…è¦ã‹<a href="#ãªãœspring-sessionãŒå¿…è¦ã‹" class="hash-link" aria-label="ãªãœSpring SessionãŒå¿…è¦ã‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ãªãœSpring SessionãŒå¿…è¦ã‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<table><thead><tr><th>é …ç›®</th><th>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªï¼‰</th><th>Spring Sessionï¼ˆRedisï¼‰</th></tr></thead><tbody><tr><td><strong>æ°¸ç¶šåŒ–</strong></td><td>âŒ ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•ã§æ¶ˆå¤±</td><td>âœ… Redisä¿å­˜ã§æ°¸ç¶šåŒ–</td></tr><tr><td><strong>ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£</strong></td><td>âŒ ã‚¹ãƒ†ã‚£ãƒƒã‚­ãƒ¼ã‚»ãƒƒã‚·ãƒ§ãƒ³å¿…é ˆ</td><td>âœ… è¤‡æ•°ã‚µãƒ¼ãƒãƒ¼ã§å…±æœ‰å¯èƒ½</td></tr><tr><td><strong>HAæ§‹æˆ</strong></td><td>âŒ ã‚µãƒ¼ãƒãƒ¼éšœå®³ã§å…¨ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¶ˆå¤±</td><td>âœ… Rediså†—é•·åŒ–ã§å¯ç”¨æ€§å‘ä¸Š</td></tr></tbody></table>
<p><strong>idp-serverã®è¦ä»¶</strong>: ãƒãƒ«ãƒã‚µãƒ¼ãƒãƒ¼æ§‹æˆãƒ»é«˜å¯ç”¨æ€§ â†’ Spring Sessionå¿…é ˆ</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="idp-serverã§ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ©ç”¨ç®‡æ‰€">idp-serverã§ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ©ç”¨ç®‡æ‰€<a href="#idp-serverã§ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ©ç”¨ç®‡æ‰€" class="hash-link" aria-label="idp-serverã§ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ©ç”¨ç®‡æ‰€ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="idp-serverã§ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ©ç”¨ç®‡æ‰€ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-oauthèªå¯ãƒ•ãƒ­ãƒ¼authorization-code-flow">1. OAuthèªå¯ãƒ•ãƒ­ãƒ¼ï¼ˆAuthorization Code Flowï¼‰<a href="#1-oauthèªå¯ãƒ•ãƒ­ãƒ¼authorization-code-flow" class="hash-link" aria-label="1. OAuthèªå¯ãƒ•ãƒ­ãƒ¼ï¼ˆAuthorization Code Flowï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="1. OAuthèªå¯ãƒ•ãƒ­ãƒ¼ï¼ˆAuthorization Code Flowï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. [ãƒ¦ãƒ¼ã‚¶ãƒ¼] /oauth/authorize ã«ã‚¢ã‚¯ã‚»ã‚¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â†“</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. [idp-server] AuthorizationRequestä¿å­˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â†“ HttpSessionã«ä¿å­˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. [ãƒ¦ãƒ¼ã‚¶ãƒ¼] ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã§èªè¨¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â†“</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. [idp-server] HttpSessionã‹ã‚‰ AuthorizationRequestå–å¾—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â†“ ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶™ç¶š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. [idp-server] Authorization Codeç™ºè¡Œ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒãªã„ã¨</strong>: èªè¨¼å®Œäº†å¾Œã«Authorization Requestã®æƒ…å ±ãŒå–å¾—ã§ããªã„</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=" å®Ÿè£…æ§‹é€ ">å®Ÿè£…æ§‹é€ <a href="#å®Ÿè£…æ§‹é€ " class="hash-link" aria-label="å®Ÿè£…æ§‹é€  ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="å®Ÿè£…æ§‹é€  ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£<a href="#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£" class="hash-link" aria-label="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Coreå±¤ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OAuthSessionRepositoryï¼ˆæŠ½è±¡åŒ–ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ å®Ÿè£…</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OAuthSessionDataSourceï¼ˆSpring Sessionçµ±åˆï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ åˆ©ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HttpSessionï¼ˆSpring Sessionç®¡ç†ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ ä¿å­˜å…ˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Redisï¼ˆå¤–éƒ¨ã‚¹ãƒˆã‚¢ï¼‰</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å®Ÿè£…è§£èª¬">å®Ÿè£…è§£èª¬<a href="#å®Ÿè£…è§£èª¬" class="hash-link" aria-label="å®Ÿè£…è§£èª¬ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="å®Ÿè£…è§£èª¬ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oauthsessionrepositorycoreå±¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹">OAuthSessionRepositoryï¼ˆCoreå±¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰<a href="#oauthsessionrepositorycoreå±¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹" class="hash-link" aria-label="OAuthSessionRepositoryï¼ˆCoreå±¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="OAuthSessionRepositoryï¼ˆCoreå±¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>å®šç¾©å ´æ‰€</strong>: <code>libs/idp-server-core/src/main/java/org/idp/server/core/openid/oauth/repository/</code></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public interface OAuthSessionRepository {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * ã‚»ãƒƒã‚·ãƒ§ãƒ³ç™»éŒ²</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  void register(OAuthSession oAuthSession);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¤œç´¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  OAuthSession find(OAuthSessionKey oAuthSessionKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * ã‚»ãƒƒã‚·ãƒ§ãƒ³æ›´æ–°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  void update(OAuthSession oAuthSession);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * ã‚»ãƒƒã‚·ãƒ§ãƒ³å‰Šé™¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  void delete(OAuthSessionKey oAuthSessionKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ãƒã‚¤ãƒ³ãƒˆ</strong>: Coreå±¤ã¯Springä¾å­˜ãªã—ï¼ˆç§»æ¤æ€§ï¼‰</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oauthsessiondatasourcespring-sessionçµ±åˆ">OAuthSessionDataSourceï¼ˆSpring Sessionçµ±åˆï¼‰<a href="#oauthsessiondatasourcespring-sessionçµ±åˆ" class="hash-link" aria-label="OAuthSessionDataSourceï¼ˆSpring Sessionçµ±åˆï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="OAuthSessionDataSourceï¼ˆSpring Sessionçµ±åˆï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>å®Ÿè£…</strong>: <a href="/idp-server/assets/files/OAuthSessionDataSource-3d4ebfa4792af6d646da73de81444ef2.java" target="_blank">OAuthSessionDataSource.java</a></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class OAuthSessionDataSource implements OAuthSessionRepository {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HttpSession httpSession;  // âœ… Springç®¡ç†ã®HttpSession</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LoggerWrapper log = LoggerWrapper.getLogger(OAuthSessionDataSource.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public OAuthSessionDataSource(HttpSession httpSession) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.httpSession = httpSession;  // âœ… Spring DIã§æ³¨å…¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void register(OAuthSession oAuthSession) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String sessionKey = oAuthSession.sessionKeyValue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.debug(&quot;registerSession: {}&quot;, sessionKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.debug(&quot;register sessionId: {}&quot;, httpSession.getId());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // âœ… HttpSessionå±æ€§ã¨ã—ã¦ä¿å­˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    httpSession.setAttribute(sessionKey, oAuthSession);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public OAuthSession find(OAuthSessionKey oAuthSessionKey) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String sessionKey = oAuthSessionKey.key();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // âœ… HttpSessionå±æ€§ã‹ã‚‰å–å¾—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthSession oAuthSession = (OAuthSession) httpSession.getAttribute(sessionKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.debug(&quot;find sessionId: {}&quot;, httpSession.getId());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.debug(&quot;findSession: {}&quot;, sessionKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (oAuthSession == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      log.debug(&quot;session not found&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return new OAuthSession();  // ç©ºã®ã‚»ãƒƒã‚·ãƒ§ãƒ³</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return oAuthSession;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void update(OAuthSession oAuthSession) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String sessionKey = oAuthSession.sessionKeyValue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.debug(&quot;update sessionId: {}&quot;, httpSession.getId());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.debug(&quot;updateSession: {}&quot;, sessionKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // âœ… HttpSessionå±æ€§ã‚’ä¸Šæ›¸ã</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    httpSession.setAttribute(sessionKey, oAuthSession);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void delete(OAuthSessionKey oAuthSessionKey) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.debug(&quot;delete sessionId: {}&quot;, httpSession.getId());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.debug(&quot;deleteSession: {}&quot;, oAuthSessionKey.key());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³ç„¡åŠ¹åŒ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    httpSession.invalidate();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ãƒã‚¤ãƒ³ãƒˆ</strong>:</p>
<ul>
<li>âœ… HttpSessionã‚’DIæ³¨å…¥ï¼ˆSpringãŒç®¡ç†ï¼‰</li>
<li>âœ… <code>setAttribute()</code>/<code>getAttribute()</code>ã§ã‚·ãƒ³ãƒ—ãƒ«ã«ä¿å­˜ãƒ»å–å¾—</li>
<li>âœ… ãƒ­ã‚°å‡ºåŠ›ã§è¿½è·¡å¯èƒ½</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oauthsessiondelegatecoreå±¤ã¸ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯">OAuthSessionDelegateï¼ˆCoreå±¤ã¸ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰<a href="#oauthsessiondelegatecoreå±¤ã¸ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯" class="hash-link" aria-label="OAuthSessionDelegateï¼ˆCoreå±¤ã¸ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³  ã‚¯" title="OAuthSessionDelegateï¼ˆCoreå±¤ã¸ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>å®Ÿè£…</strong>: <a href="/idp-server/assets/files/OAuthSessionService-eb1484d74da23693143d5303abbda971.java" target="_blank">OAuthSessionService.java</a></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class OAuthSessionService implements OAuthSessionDelegate {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  OAuthSessionRepository httpSessionRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public OAuthSessionService(OAuthSessionRepository httpSessionRepository) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.httpSessionRepository = httpSessionRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void registerSession(OAuthSession oAuthSession) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    httpSessionRepository.register(oAuthSession);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public OAuthSession findOrInitialize(OAuthSessionKey oAuthSessionKey) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthSession oAuthSession = httpSessionRepository.find(oAuthSessionKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (oAuthSession.exists()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return oAuthSession;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯åˆæœŸåŒ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return OAuthSession.init(oAuthSessionKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // update(), delete() ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚åŒæ§˜...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Delegateãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç†ç”±</strong>: Coreå±¤ã¯Repositoryã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ä¾å­˜ã€å…·ä½“å®Ÿè£…ï¼ˆSpring Sessionï¼‰ã¯çŸ¥ã‚‰ãªã„</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="spring-sessionè¨­å®š">Spring Sessionè¨­å®š<a href="#spring-sessionè¨­å®š" class="hash-link" aria-label="Spring Sessionè¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Spring Sessionè¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gradleä¾å­˜é–¢ä¿‚">Gradleä¾å­˜é–¢ä¿‚<a href="#gradleä¾å­˜é–¢ä¿‚" class="hash-link" aria-label="Gradleä¾å­˜é–¢ä¿‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Gradleä¾å­˜é–¢ä¿‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>ãƒ•ã‚¡ã‚¤ãƒ«</strong>: <code>libs/idp-server-springboot-adapter/build.gradle</code></p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Spring Session Core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    implementation &#x27;org.springframework.session:spring-session-core&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Redisã‚’ä½¿ã†å ´åˆï¼ˆæ¨å¥¨ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // implementation &#x27;org.springframework.session:spring-session-data-redis&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢é¸æŠ">ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢é¸æŠ<a href="#ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢é¸æŠ" class="hash-link" aria-label="ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢é¸æŠ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢é¸æŠ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="option-1-ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªé–‹ç™ºç’°å¢ƒ">Option 1: ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªï¼ˆé–‹ç™ºç’°å¢ƒï¼‰<a href="#option-1-ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªé–‹ç™ºç’°å¢ƒ" class="hash-link" aria-label="Option 1: ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªï¼ˆé–‹ç™ºç’°å¢ƒï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Option 1: ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªï¼ˆé–‹ç™ºç’°å¢ƒï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>è¨­å®šä¸è¦</strong> - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒª</p>
<p><strong>ãƒ¡ãƒªãƒƒãƒˆ</strong>: è¨­å®šä¸è¦ã€ç°¡å˜
<strong>ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</strong>: ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•ã§æ¶ˆå¤±ã€ã‚¹ã‚±ãƒ¼ãƒ«ã—ãªã„</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="option-2-redisæœ¬ç•ªç’°å¢ƒæ¨å¥¨">Option 2: Redisï¼ˆæœ¬ç•ªç’°å¢ƒæ¨å¥¨ï¼‰<a href="#option-2-redisæœ¬ç•ªç’°å¢ƒæ¨å¥¨" class="hash-link" aria-label="Option 2: Redisï¼ˆæœ¬ç•ªç’°å¢ƒæ¨å¥¨ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Option 2: Redisï¼ˆæœ¬ç•ªç’°å¢ƒæ¨å¥¨ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>application.properties</strong>:</p>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Spring Session Redisè¨­å®š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.session.store-type=redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.session.redis.namespace=spring:session</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.session.timeout=1800  # 30åˆ†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Redisæ¥ç¶š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.data.redis.host=localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.data.redis.port=6379</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.data.redis.password=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="  ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Gradleä¾å­˜é–¢ä¿‚è¿½åŠ </strong>:</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">implementation &#x27;org.springframework.session:spring-session-data-redis&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">implementation &#x27;org.springframework.boot:spring-boot-starter-data-redis&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Java Config</strong>:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@EnableRedisHttpSession(maxInactiveIntervalInSeconds = 1800)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SessionConfig {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Bean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public SafeRedisSessionRepository sessionRepository(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      RedisOperations&lt;String, Object&gt; sessionRedisOperations) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // âœ… ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãªãSafeRedisSessionRepositoryä½¿ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new SafeRedisSessionRepository(sessionRedisOperations);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ãƒ¡ãƒªãƒƒãƒˆ</strong>: ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ã€æ°¸ç¶šåŒ–ã€HAå¯¾å¿œ
<strong>ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</strong>: Redisã‚¤ãƒ³ãƒ•ãƒ©å¿…è¦</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="saferedissessionrepositoryè€éšœå®³æ€§å¼·åŒ–">SafeRedisSessionRepositoryï¼ˆè€éšœå®³æ€§å¼·åŒ–ï¼‰<a href="#saferedissessionrepositoryè€éšœå®³æ€§å¼·åŒ–" class="hash-link" aria-label="SafeRedisSessionRepositoryï¼ˆè€éšœå®³æ€§å¼·åŒ–ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="SafeRedisSessionRepositoryï¼ˆè€éšœå®³æ€§å¼·åŒ–ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rediséšœå®³æ™‚ã®graceful-degradation">Rediséšœå®³æ™‚ã®Graceful Degradation<a href="#rediséšœå®³æ™‚ã®graceful-degradation" class="hash-link" aria-label="Rediséšœå®³æ™‚ã®Graceful Degradation ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Rediséšœå®³æ™‚ã®Graceful Degradation ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>å®Ÿè£…</strong>: <a href="/idp-server/assets/files/SafeRedisSessionRepository-8787be7b11988a28743d97210bed3189.java" target="_blank">SafeRedisSessionRepository.java</a></p>
<p>idp-serverã§ã¯ã€<strong>Rediséšœå®³æ™‚ã§ã‚‚ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç¶™ç¶š</strong>ã™ã‚‹ãŸã‚ã®ç‹¬è‡ªå®Ÿè£…ã‚’æä¾›ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Rediséšœå®³æ™‚ã§ã‚‚ä¾‹å¤–ã‚’ã‚¹ãƒ­ãƒ¼ã›ãšã€ãƒ­ã‚°å‡ºåŠ›ã—ã¦ã‚µãƒ¼ãƒ“ã‚¹ç¶™ç¶š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * è¨­è¨ˆæ€æƒ³:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * - å¯ç”¨æ€§å„ªå…ˆ: Rediséšœå®³ã§ã‚‚IdPã‚µãƒ¼ãƒ“ã‚¹ã¯ç¶™ç¶š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * - Graceful Degradation: ã‚»ãƒƒã‚·ãƒ§ãƒ³å¤±ã‚ã‚Œã¦ã‚‚èªè¨¼ãƒ•ãƒ­ãƒ¼ç¶™ç¶šå¯èƒ½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * - ç›£è¦–å¯èƒ½: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã§éšœå®³æ¤œçŸ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SafeRedisSessionRepository extends RedisIndexedSessionRepository {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void save(RedisSession session) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      super.save(session);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // âœ… ä¾‹å¤–ã‚’ã‚¹ãƒ­ãƒ¼ã›ãšã€ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ã¿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      logger.error(&quot;Failed to save session (Redis disconnected): {}&quot;, e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // ã‚µãƒ¼ãƒ“ã‚¹ã¯ç¶™ç¶šï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯å¤±ã‚ã‚Œã‚‹ãŒã€èªè¨¼ãƒ•ãƒ­ãƒ¼ã¯ç¶™ç¶šå¯èƒ½ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public RedisSession findById(String id) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return super.findById(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      logger.error(&quot;Failed to load session: {}&quot;, e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // âœ… nullã‚’è¿”ã™ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ãªã—ã¨ã—ã¦æ‰±ã†ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void deleteById(String id) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      super.deleteById(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      logger.error(&quot;Failed to delete session: {}&quot;, e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // âœ… å‰Šé™¤å¤±æ•—ã‚’ç„¡è¦–ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯è‡ªå‹•æœŸé™åˆ‡ã‚Œã§å‰Šé™¤ã•ã‚Œã‚‹ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>å‹•ä½œ</strong>:</p>
<ul>
<li>âœ… <strong>Redisæ­£å¸¸æ™‚</strong>: é€šå¸¸é€šã‚Šã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜ãƒ»å–å¾—</li>
<li>âœ… <strong>Rediséšœå®³æ™‚</strong>: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°å‡ºåŠ› + ã‚µãƒ¼ãƒ“ã‚¹ç¶™ç¶šï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ãªã—ã§å‹•ä½œï¼‰</li>
</ul>
<p><strong>ç”¨é€”</strong>:</p>
<ul>
<li>âœ… HAæ§‹æˆã®IdPï¼ˆRediséšœå®³æ™‚ã‚‚ãƒ€ã‚¦ãƒ³ã—ãªã„ï¼‰</li>
<li>âœ… ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼ˆRedis + Stateless Fallbackï¼‰</li>
</ul>
<p><strong>Fallbackå‹•ä½œä¾‹</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³å®Ÿè¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â†“</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Rediséšœå®³ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜å¤±æ•—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â†“ SafeRedisSessionRepository ãŒã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ã¿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. èªè¨¼ã¯æˆåŠŸï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ãªã—ã§ã‚‚å‹•ä½œï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â†“</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Authorization Codeç™ºè¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   â†“ ã‚»ãƒƒã‚·ãƒ§ãƒ³å–å¾—å¤±æ•— â†’ Statelesså‡¦ç†ã«Fallback</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. ãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡ŒæˆåŠŸ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>é‡è¦</strong>: Rediséšœå®³æ™‚ã‚‚IdPã‚µãƒ¼ãƒ“ã‚¹ã¯ç¶™ç¶šï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã®ã¿åŠ£åŒ–ï¼‰</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹">ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹<a href="#ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹" class="hash-link" aria-label="ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š">1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š<a href="#1-ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š" class="hash-link" aria-label="1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 30åˆ†ã§è‡ªå‹•å‰Šé™¤ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.session.timeout=1800</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Authorization Requestæœ‰åŠ¹æœŸé™ã¨åˆã‚ã›ã‚‹</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-ã‚»ãƒƒã‚·ãƒ§ãƒ³idç”Ÿæˆ">2. ã‚»ãƒƒã‚·ãƒ§ãƒ³IDç”Ÿæˆ<a href="#2-ã‚»ãƒƒã‚·ãƒ§ãƒ³idç”Ÿæˆ" class="hash-link" aria-label="2. ã‚»ãƒƒã‚·ãƒ§ãƒ³IDç”Ÿæˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="2. ã‚»ãƒƒã‚·ãƒ§ãƒ³IDç”Ÿæˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>Spring SessionãŒè‡ªå‹•ç”Ÿæˆï¼ˆUUIDï¼‰</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">JSESSIONID=550e8400-e29b-41d4-a716-446655440000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-ã‚»ãƒƒã‚·ãƒ§ãƒ³cookieè¨­å®š">3. ã‚»ãƒƒã‚·ãƒ§ãƒ³Cookieè¨­å®š<a href="#3-ã‚»ãƒƒã‚·ãƒ§ãƒ³cookieè¨­å®š" class="hash-link" aria-label="3. ã‚»ãƒƒã‚·ãƒ§ãƒ³Cookieè¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="3. ã‚»ãƒƒã‚·ãƒ§ãƒ³Cookieè¨­å®š ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Cookieè¨­å®š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server.servlet.session.cookie.http-only=true  # XSSå¯¾ç­–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server.servlet.session.cookie.secure=true     # HTTPSå¿…é ˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server.servlet.session.cookie.same-site=lax   # CSRFå¯¾ç­–</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°">ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°<a href="#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°" class="hash-link" aria-label="ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚¨ãƒ©ãƒ¼1-session-not-found">ã‚¨ãƒ©ãƒ¼1: <code>Session not found</code><a href="#ã‚¨ãƒ©ãƒ¼1-session-not-found" class="hash-link" aria-label="ã‚¨ãƒ©ãƒ¼1-session-not-found ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚¨ãƒ©ãƒ¼1-session-not-found ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>åŸå› </strong>: ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ or ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•ï¼ˆã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªä½¿ç”¨æ™‚ï¼‰</p>
<p><strong>è§£æ±ºç­–</strong>:</p>
<ul>
<li>Redisã‚’ä½¿ç”¨ï¼ˆæ°¸ç¶šåŒ–ï¼‰</li>
<li>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå»¶é•·</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚¨ãƒ©ãƒ¼2-could-not-get-jdbc-connectionredisä½¿ç”¨æ™‚">ã‚¨ãƒ©ãƒ¼2: <code>Could not get JDBC Connection</code>ï¼ˆRedisä½¿ç”¨æ™‚ï¼‰<a href="#ã‚¨ãƒ©ãƒ¼2-could-not-get-jdbc-connectionredisä½¿ç”¨æ™‚" class="hash-link" aria-label="ã‚¨ãƒ©ãƒ¼2-could-not-get-jdbc-connectionredisä½¿ç”¨æ™‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚¨ãƒ©ãƒ¼2-could-not-get-jdbc-connectionredisä½¿ç”¨æ™‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>åŸå› </strong>: Redisæ¥ç¶šå¤±æ•—</p>
<p><strong>è§£æ±ºç­–</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Redisèµ·å‹•ç¢ºèª</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis-cli ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># PONG ãŒè¿”ã‚Œã°OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚¨ãƒ©ãƒ¼3-session-serialization-error">ã‚¨ãƒ©ãƒ¼3: <code>Session serialization error</code><a href="#ã‚¨ãƒ©ãƒ¼3-session-serialization-error" class="hash-link" aria-label="ã‚¨ãƒ©ãƒ¼3-session-serialization-error ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚¨ãƒ©ãƒ¼3-session-serialization-error ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>åŸå› </strong>: ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ä¿å­˜ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒSerializableæœªå®Ÿè£…</p>
<p><strong>è§£æ±ºç­–</strong>: <code>OAuthSession</code>ã‚¯ãƒ©ã‚¹ã«<code>Serializable</code>å®Ÿè£…</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class OAuthSession implements Serializable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static final long serialVersionUID = 1L;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚»ãƒƒã‚·ãƒ§ãƒ³-vs-ãƒˆãƒ¼ã‚¯ãƒ³">ã‚»ãƒƒã‚·ãƒ§ãƒ³ vs ãƒˆãƒ¼ã‚¯ãƒ³<a href="#ã‚»ãƒƒã‚·ãƒ§ãƒ³-vs-ãƒˆãƒ¼ã‚¯ãƒ³" class="hash-link" aria-label="ã‚»ãƒƒã‚·ãƒ§ãƒ³ vs ãƒˆãƒ¼ã‚¯ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚»ãƒƒã‚·ãƒ§ãƒ³ vs ãƒˆãƒ¼ã‚¯ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã„ã¤ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã‹">ã„ã¤ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã‹<a href="#ã„ã¤ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã‹" class="hash-link" aria-label="ã„ã¤ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã„ã¤ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<table><thead><tr><th>ç”¨é€”</th><th>ã‚»ãƒƒã‚·ãƒ§ãƒ³</th><th>ãƒˆãƒ¼ã‚¯ãƒ³</th></tr></thead><tbody><tr><td><strong>Authorization Flowä¸­</strong></td><td>âœ… ä½¿ç”¨ï¼ˆèªè¨¼å‰ï¼‰</td><td>âŒ ã¾ã ãƒˆãƒ¼ã‚¯ãƒ³ãªã—</td></tr><tr><td><strong>APIèªè¨¼</strong></td><td>âŒ ä½¿ç”¨ã—ãªã„</td><td>âœ… Access Token</td></tr><tr><td><strong>ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒ«</strong></td><td>âœ… ã‚µãƒ¼ãƒãƒ¼å´ã§çŠ¶æ…‹ç®¡ç†</td><td>âŒ ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹</td></tr></tbody></table>
<p><strong>idp-serverã®ä½¿ã„åˆ†ã‘</strong>:</p>
<ul>
<li>âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³: Authorization Request â†’ èªè¨¼ â†’ Authorization Codeç™ºè¡Œã¾ã§</li>
<li>âœ… ãƒˆãƒ¼ã‚¯ãƒ³: Authorization Codeç™ºè¡Œå¾Œã®APIå‘¼ã³å‡ºã—</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ">ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ<a href="#ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ" class="hash-link" aria-label="ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p>Spring Sessionçµ±åˆæ™‚ã®ç¢ºèªé …ç›®ï¼š</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å®Ÿè£…">å®Ÿè£…<a href="#å®Ÿè£…" class="hash-link" aria-label="å®Ÿè£… ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="å®Ÿè£… ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->OAuthSessionRepositoryå®Ÿè£…</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->HttpSession DIæ³¨å…¥</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>setAttribute()</code>/<code>getAttribute()</code>ä½¿ç”¨</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->OAuthSessionDelegateå®Ÿè£…</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è¨­å®šæœ¬ç•ªç’°å¢ƒ">è¨­å®šï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰<a href="#è¨­å®šæœ¬ç•ªç’°å¢ƒ" class="hash-link" aria-label="è¨­å®šï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="è¨­å®šï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->spring.session.store-type=redis</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Redisæ¥ç¶šè¨­å®š</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Cookieè¨­å®šï¼ˆhttp-only, secure, same-siteï¼‰</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ãƒ†ã‚¹ãƒˆ">ãƒ†ã‚¹ãƒˆ<a href="#ãƒ†ã‚¹ãƒˆ" class="hash-link" aria-label="ãƒ†ã‚¹ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ãƒ†ã‚¹ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜ãƒ»å–å¾—ãƒ†ã‚¹ãƒˆ</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•å¾Œã®æ°¸ç¶šåŒ–ç¢ºèªï¼ˆRedisï¼‰</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->ãƒãƒ«ãƒã‚µãƒ¼ãƒãƒ¼ã§ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³å…±æœ‰ç¢ºèª</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—<a href="#æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—" class="hash-link" aria-label="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p>âœ… Spring Sessionçµ±åˆã‚’ç†è§£ã—ãŸï¼</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-è©³ç´°æƒ…å ±">ğŸ”— è©³ç´°æƒ…å ±<a href="#-è©³ç´°æƒ…å ±" class="hash-link" aria-label="ğŸ”— è©³ç´°æƒ…å ± ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ğŸ”— è©³ç´°æƒ…å ± ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul>
<li><a href="/idp-server/docs/content_06_developer-guide/content_10_ai_developer/ai-12-platform.md#session---%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86">AIé–‹ç™ºè€…å‘ã‘: Platform - Session</a></li>
<li><a href="/idp-server/docs/content_03_concepts/concept-07-session-management">Concepts: Session Management</a></li>
<li><a href="https://spring.io/projects/spring-session" target="_blank" rel="noopener noreferrer">Spring Session Documentation</a></li>
</ul>
<hr>
<p><strong>æƒ…å ±æº</strong>:</p>
<ul>
<li><a href="/idp-server/assets/files/OAuthSessionDataSource-3d4ebfa4792af6d646da73de81444ef2.java" target="_blank">OAuthSessionDataSource.java</a></li>
<li><a href="/idp-server/assets/files/OAuthSessionService-eb1484d74da23693143d5303abbda971.java" target="_blank">OAuthSessionService.java</a>
<strong>æœ€çµ‚æ›´æ–°</strong>: 2025-10-12</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_06_developer-guide/04-implementation-guides/impl-18-spring-session.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ã“ã®ãƒšãƒ¼ã‚¸ã‚’ç·¨é›†</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸"><a class="pagination-nav__link pagination-nav__link--prev" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-17-external-integration"><div class="pagination-nav__sublabel">å‰ã¸</div><div class="pagination-nav__label">å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºã‚¬ã‚¤ãƒ‰</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/idp-server/docs/content_06_developer-guide/implementation-guides/impl-19-jose-handler"><div class="pagination-nav__sublabel">æ¬¡ã¸</div><div class="pagination-nav__label">JOSEï¼ˆJWT/JWS/JWEï¼‰å‡¦ç†å®Ÿè£…ã‚¬ã‚¤ãƒ‰</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„" class="table-of-contents__link toc-highlight">ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„</a><ul><li><a href="#æ‰€è¦æ™‚é–“" class="table-of-contents__link toc-highlight">æ‰€è¦æ™‚é–“</a></li></ul></li><li><a href="#spring-sessionã¨ã¯" class="table-of-contents__link toc-highlight">Spring Sessionã¨ã¯</a><ul><li><a href="#ãªãœspring-sessionãŒå¿…è¦ã‹" class="table-of-contents__link toc-highlight">ãªãœSpring SessionãŒå¿…è¦ã‹</a></li></ul></li><li><a href="#idp-serverã§ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ©ç”¨ç®‡æ‰€" class="table-of-contents__link toc-highlight">idp-serverã§ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ©ç”¨ç®‡æ‰€</a><ul><li><a href="#1-oauthèªå¯ãƒ•ãƒ­ãƒ¼authorization-code-flow" class="table-of-contents__link toc-highlight">1. OAuthèªå¯ãƒ•ãƒ­ãƒ¼ï¼ˆAuthorization Code Flowï¼‰</a></li></ul></li><li><a href="#å®Ÿè£…æ§‹é€ " class="table-of-contents__link toc-highlight">å®Ÿè£…æ§‹é€ </a><ul><li><a href="#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£" class="table-of-contents__link toc-highlight">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</a></li></ul></li><li><a href="#å®Ÿè£…è§£èª¬" class="table-of-contents__link toc-highlight">å®Ÿè£…è§£èª¬</a><ul><li><a href="#oauthsessionrepositorycoreå±¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹" class="table-of-contents__link toc-highlight">OAuthSessionRepositoryï¼ˆCoreå±¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰</a></li><li><a href="#oauthsessiondatasourcespring-sessionçµ±åˆ" class="table-of-contents__link toc-highlight">OAuthSessionDataSourceï¼ˆSpring Sessionçµ±åˆï¼‰</a></li><li><a href="#oauthsessiondelegatecoreå±¤ã¸ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯" class="table-of-contents__link toc-highlight">OAuthSessionDelegateï¼ˆCoreå±¤ã¸ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰</a></li></ul></li><li><a href="#spring-sessionè¨­å®š" class="table-of-contents__link toc-highlight">Spring Sessionè¨­å®š</a><ul><li><a href="#gradleä¾å­˜é–¢ä¿‚" class="table-of-contents__link toc-highlight">Gradleä¾å­˜é–¢ä¿‚</a></li><li><a href="#ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢é¸æŠ" class="table-of-contents__link toc-highlight">ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢é¸æŠ</a></li></ul></li><li><a href="#saferedissessionrepositoryè€éšœå®³æ€§å¼·åŒ–" class="table-of-contents__link toc-highlight">SafeRedisSessionRepositoryï¼ˆè€éšœå®³æ€§å¼·åŒ–ï¼‰</a><ul><li><a href="#rediséšœå®³æ™‚ã®graceful-degradation" class="table-of-contents__link toc-highlight">Rediséšœå®³æ™‚ã®Graceful Degradation</a></li></ul></li><li><a href="#ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹" class="table-of-contents__link toc-highlight">ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</a><ul><li><a href="#1-ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š" class="table-of-contents__link toc-highlight">1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š</a></li><li><a href="#2-ã‚»ãƒƒã‚·ãƒ§ãƒ³idç”Ÿæˆ" class="table-of-contents__link toc-highlight">2. ã‚»ãƒƒã‚·ãƒ§ãƒ³IDç”Ÿæˆ</a></li><li><a href="#3-ã‚»ãƒƒã‚·ãƒ§ãƒ³cookieè¨­å®š" class="table-of-contents__link toc-highlight">3. ã‚»ãƒƒã‚·ãƒ§ãƒ³Cookieè¨­å®š</a></li></ul></li><li><a href="#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°" class="table-of-contents__link toc-highlight">ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</a><ul><li><a href="#ã‚¨ãƒ©ãƒ¼1-session-not-found" class="table-of-contents__link toc-highlight">ã‚¨ãƒ©ãƒ¼1: <code>Session not found</code></a></li><li><a href="#ã‚¨ãƒ©ãƒ¼2-could-not-get-jdbc-connectionredisä½¿ç”¨æ™‚" class="table-of-contents__link toc-highlight">ã‚¨ãƒ©ãƒ¼2: <code>Could not get JDBC Connection</code>ï¼ˆRedisä½¿ç”¨æ™‚ï¼‰</a></li><li><a href="#ã‚¨ãƒ©ãƒ¼3-session-serialization-error" class="table-of-contents__link toc-highlight">ã‚¨ãƒ©ãƒ¼3: <code>Session serialization error</code></a></li></ul></li><li><a href="#ã‚»ãƒƒã‚·ãƒ§ãƒ³-vs-ãƒˆãƒ¼ã‚¯ãƒ³" class="table-of-contents__link toc-highlight">ã‚»ãƒƒã‚·ãƒ§ãƒ³ vs ãƒˆãƒ¼ã‚¯ãƒ³</a><ul><li><a href="#ã„ã¤ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã‹" class="table-of-contents__link toc-highlight">ã„ã¤ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã‹</a></li></ul></li><li><a href="#ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ" class="table-of-contents__link toc-highlight">ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</a><ul><li><a href="#å®Ÿè£…" class="table-of-contents__link toc-highlight">å®Ÿè£…</a></li><li><a href="#è¨­å®šæœ¬ç•ªç’°å¢ƒ" class="table-of-contents__link toc-highlight">è¨­å®šï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰</a></li><li><a href="#ãƒ†ã‚¹ãƒˆ" class="table-of-contents__link toc-highlight">ãƒ†ã‚¹ãƒˆ</a></li></ul></li><li><a href="#æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—" class="table-of-contents__link toc-highlight">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</a><ul><li><a href="#-è©³ç´°æƒ…å ±" class="table-of-contents__link toc-highlight">ğŸ”— è©³ç´°æƒ…å ±</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/docs/introduction">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>