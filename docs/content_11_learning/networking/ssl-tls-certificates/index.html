<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-content_11_learning/networking/ssl-tls-certificates" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">SSL/TLS証明書管理 | IdP-Server Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/networking/ssl-tls-certificates"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SSL/TLS証明書管理 | IdP-Server Documentation"><meta data-rh="true" name="description" content="所要時間"><meta data-rh="true" property="og:description" content="所要時間"><link data-rh="true" rel="icon" href="/idp-server/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/networking/ssl-tls-certificates"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/networking/ssl-tls-certificates" hreflang="ja"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/networking/ssl-tls-certificates" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/idp-server/blog/rss.xml" title="IdP-Server Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/idp-server/blog/atom.xml" title="IdP-Server Documentation Atom Feed"><link rel="stylesheet" href="/idp-server/assets/css/styles.f434a3d5.css">
<script src="/idp-server/assets/js/runtime~main.d28bfcff.js" defer="defer"></script>
<script src="/idp-server/assets/js/main.65f7eb34.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="ナビゲーション" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ナビゲーションバーを開く" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/idp-server/"><div class="navbar__logo"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IdP-Server</b></a><a class="navbar__item navbar__link" href="/idp-server/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/idp-server/docs/content_07_reference/api-reference">Api Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hirokazu-kobayashi-koba-hiro/idp-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ドキュメントのサイドバー" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/document-index">ドキュメントガイド</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">content_01_intro</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">content_02_quickstart</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_03_concepts/foundation/concept-01-multi-tenant">content_03_concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">content_04_protocols</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/idp-server/docs/content_05_how-to/">How-to ガイド - 学習ロードマップ</a><button aria-label="&#x27;How-to ガイド - 学習ロードマップ&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/idp-server/docs/content_06_developer-guide/">開発者ガイドマップ</a><button aria-label="&#x27;開発者ガイドマップ&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_07_reference/api-reference/api-authentication-device-ja">content_07_reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_08_ops/commercial-deployment/overview">content_08_ops</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_09_project/analytics-statistics-design">content_09_project</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_10_ai_developer/ai-01-index">content_10_ai_developer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/idp-server/docs/content_11_learning/identity-basics/identity-management-basics">content_11_learning</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/identity-basics/identity-management-basics">identity-basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/oauth-fundamentals/modern-web-authz-authn">oauth-fundamentals</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/oauth-tokens/id-token-jwt">oauth-tokens</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/openid-connect/oauth-oidc-basics">openid-connect</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-architecture-rp-browser-authenticator">fido-webauthn</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/idp-server/docs/content_11_learning/security/">セキュリティ学習コンテンツ</a><button aria-label="&#x27;セキュリティ学習コンテンツ&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/multi-tenancy/multi-tenancy-basics">multi-tenancy</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/advanced-protocols/ciba-basics">advanced-protocols</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/http-rest/http-basics">http-rest</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/jwt-jose/jwt-introduction">jwt-jose</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/idp-server/docs/content_11_learning/postgresql/">PostgreSQL 学習ガイド</a><button aria-label="&#x27;PostgreSQL 学習ガイド&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/idp-server/docs/content_11_learning/crypto/">暗号化（Cryptography）学習ガイド</a><button aria-label="&#x27;暗号化（Cryptography）学習ガイド&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/idp-server/docs/content_11_learning/kubernetes/">コンテナ/Kubernetes 学習ガイド</a><button aria-label="&#x27;コンテナ/Kubernetes 学習ガイド&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/idp-server/docs/content_11_learning/linux/">Linux 学習ガイド</a><button aria-label="&#x27;Linux 学習ガイド&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/idp-server/docs/content_11_learning/networking/">ネットワーク学習ガイド</a><button aria-label="&#x27;ネットワーク学習ガイド&#x27;の目次を隠す" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/networking/dns-fundamentals">DNS基礎</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/networking/dns-advanced">DNS詳細: CNAMEとDNSSEC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/networking/load-balancing">ロードバランシング</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/idp-server/docs/content_11_learning/networking/ssl-tls-certificates">SSL/TLS証明書管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/networking/api-gateway-networking">リバースプロキシとAPI Gateway</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/networking/network-troubleshooting">ネットワークトラブルシューティング</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/idp-server/docs/content_11_learning/oauth-oidc-rfc/">OAuth/OIDC RFC学習</a><button aria-label="&#x27;OAuth/OIDC RFC学習&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/idp-server/docs/content_11_learning/verifiable-credentials/">Verifiable Credentials</a><button aria-label="&#x27;Verifiable Credentials&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/idp-server/docs/content_11_learning/data-formats/">データフォーマット</a><button aria-label="&#x27;データフォーマット&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_20_testing/e2e-test-coverage">content_20_testing</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/introduction">はじめに</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/idp-server/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">content_11_learning</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/idp-server/docs/content_11_learning/networking/"><span itemprop="name">ネットワーク学習ガイド</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SSL/TLS証明書管理</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><header><h1>SSL/TLS証明書管理</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="所要時間">所要時間<a href="#所要時間" class="hash-link" aria-label="所要時間 への直接リンク" title="所要時間 への直接リンク">​</a></h2>
<p>約40分</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="学べること">学べること<a href="#学べること" class="hash-link" aria-label="学べること への直接リンク" title="学べること への直接リンク">​</a></h2>
<ul>
<li>SSL/TLS証明書の基本概念とライフサイクル</li>
<li>証明書の種類と選び方（DV、OV、EV、ワイルドカード）</li>
<li>Let&#x27;s Encryptによる無料証明書の取得と自動更新</li>
<li>OpenSSLを使用した証明書検証</li>
<li>証明書の更新とローテーション戦略</li>
<li>SSL/TLSのトラブルシューティング</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="前提知識">前提知識<a href="#前提知識" class="hash-link" aria-label="前提知識 への直接リンク" title="前提知識 への直接リンク">​</a></h2>
<ul>
<li><a href="/idp-server/docs/content_11_learning/crypto/pki-certificates">content_11_learning/12-crypto/pki-certificates.md</a> - PKIと証明書の基礎</li>
<li><a href="/idp-server/docs/content_11_learning/http-rest/https-tls-basics">content_11_learning/09-http-rest/https-tls-basics.md</a> - HTTPS/TLS基礎</li>
<li>DNSの基本理解</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-ssltls証明書の基礎">1. SSL/TLS証明書の基礎<a href="#1-ssltls証明書の基礎" class="hash-link" aria-label="1. SSL/TLS証明書の基礎 への直接リンク" title="1. SSL/TLS証明書の基礎 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-証明書の役割">1.1 証明書の役割<a href="#11-証明書の役割" class="hash-link" aria-label="1.1 証明書の役割 への直接リンク" title="1.1 証明書の役割 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              SSL/TLS証明書の3つの役割                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────── ──────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  1. 認証（Authentication）                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - サーバーの身元を証明                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 「このサイトは本当にexample.comか?」                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  2. 暗号化（Encryption）                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 通信内容の保護                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 盗聴防止                                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  3. 完全性（Integrity）                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - データ改ざん検知                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 中間者攻撃（MITM） 防止                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-証明書の構造">1.2 証明書の構造<a href="#12-証明書の構造" class="hash-link" aria-label="1.2 証明書の構造 への直接リンク" title="1.2 証明書の構造 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              X.509証明書の構造                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  Certificate:                                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      Data:                                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          Version: 3 (0x2)                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          Serial Number: 1234567890abcdef                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          Signature Algorithm: sha256WithRSAEncryption        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          Issuer: CN=DigiCert SHA2 Secure Server CA           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          Validity                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              Not Before: Jan 1 00:00:00 2025 GMT             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              Not After : Jan 1 23:59:59 2026 GMT             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          Subject: CN=example.com                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          Subject Public Key Info:                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              Public Key Algorithm: rsaEncryption             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  Public-Key: (2048 bit)                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  Modulus: 00:c0:ff:ee:...                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  Exponent: 65537 (0x10001)                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          X509v3 extensions:                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              X509v3 Subject Alternative Name:                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  DNS:example.com, DNS:www.example.com        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              X509v3 Key Usage:                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  Digital Signature, Key Encipherment         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              X509v3 Extended Key Usage:                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  TLS Web Server Authentication               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      Signature Algorithm: sha256WithRSAEncryption            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│          12:34:56:78:9a:bc:de:f0:...                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>重要フィールド</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Subject (CN - Common Name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - 証明書の主体（ドメイン名）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - 例: CN=example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Issuer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - 発行者（認証局）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - 例: CN=Let&#x27;s Encrypt Authority X3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Validity (有効期間)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - Not Before: 有効開始日時</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - Not After: 有効終了日時</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Subject Alternative Name (SAN)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - 複数のドメイン名を含められる</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - 例: example.com, www.example.com, api.example.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-証明書の種類">2. 証明書の種類<a href="#2-証明書の種類" class="hash-link" aria-label="2. 証明書の種類 への直接リンク" title="2. 証明書の種類 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-検証レベル別の分類">2.1 検証レベル別の分類<a href="#21-検証レベル別の分類" class="hash-link" aria-label="2.1 検証レベル別の分類 への直接リンク" title="2.1 検証レベル別の分類 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              証明書の検証レベル                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  1. DV (Domain Validation) 証明書                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - ドメイン所有権のみ検証                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 数分〜数時間で発行                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 最も安価（無料のものも多い）                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - Let&#x27;s Encrypt、ZeroSSL等                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     用途: 個人サイト、開発環境、ほとんどのWebサイト          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  2. OV (Organization Validation) 証明書                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - ドメイン所有権 + 組織の実在性を検証                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 数日で発行                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 中程度の価格                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     用途: 企業サイト、Eコマース                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  3. EV (Extended Validation) 証明書                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 最も厳格な検証（法人登記等の確認）                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 数日〜数週間で発行                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 高価                                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - ブラウザのアドレスバーに組織名表示（古いブラウザ）     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     用途: 金融機関、大規模Eコマース                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-スコープ別の分類">2.2 スコープ別の分類<a href="#22-スコープ別の分類" class="hash-link" aria-label="2.2 スコープ別の分類 への直接リンク" title="2.2 スコープ別の分類 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              証明書のスコープ                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  1. 単一ドメイン証明書                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 1つのFQDNのみ                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 例: example.com                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - www.example.com は別証明書が必要                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  2. ワイルドカード証明書                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 1階層のサブドメインをカバー                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 例: *.example.com                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - カバー: www.example.com, api.example.com              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 非カバー: example.com, sub.api.example.com            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  3. マルチドメイン証明書 (SAN証明書)                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 複数の異なるドメインをカバー                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 例: example.com, example.org, example.net             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - SANフィールドに複数のドメインを記載                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-証明書選択のガイドライン">2.3 証明書選択のガイドライン<a href="#23-証明書選択のガイドライン" class="hash-link" aria-label="2.3 証明書選択のガイドライン への直接リンク" title="2.3 証明書選択のガイドライン への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">シナリオ別の推奨証明書:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌────────────  ────────┬──────────────┬─────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ ユースケース       │ 推奨証明書    │ 理由             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├────────────────────┼──────────────┼─────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ 個人ブログ         │ DV           │ コスト、簡便性   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    │ (Let&#x27;s Encrypt)│                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├────────────────────┼──────────────┼─────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ 企業Webサイト      │ DV or OV     │ 信頼性とコスト   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    │              │ のバランス       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├────────────────────┼──────────────┼─────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ Eコマース          │ OV or EV     │ 顧客信頼         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├────────────────────┼──────────────┼─────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ 金融機関           │ EV           │ 最高レベルの信頼 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├────────────────────┼──────────────┼─────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ 多数のサブドメイン │ ワイルドカード│ 管理簡略化       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────────────────────┴──────────────┴─────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-証明書の取得方法">3. 証明書の取得方法<a href="#3-証明書の取得方法" class="hash-link" aria-label="3. 証明書の取得方法 への直接リンク" title="3. 証明書の取得方法 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-証明書取得の選択肢">3.1 証明書取得の選択肢<a href="#31-証明書取  得の選択肢" class="hash-link" aria-label="3.1 証明書取得の選択肢 への直接リンク" title="3.1 証明書取得の選択肢 への直接リンク">​</a></h3>
<p>SSL/TLS証明書を取得する一般的な方法:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              証明書取得方法の比較                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  1. 商用認証局（CA）                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - DigiCert、GlobalSign、Sectigo等                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 有料（年間数千円〜数万円）                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - OV/EV証明書が必  要な場合                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - サポートが充実                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  2. Let&#x27;s Encrypt（無料CA）                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 完全無料のDV証明書                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 自動化対応（ACME プロトコル）                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 有効期間90日（自動更新推奨）                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 個人サイト、開発環境に最適                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  3. 自己署名証明書                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - OpenSSLで自作                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 開発/テスト環境のみ                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - ブラウザ警告が表示される                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 本番環境では使用不可                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-自己署名証明書の作成開発テスト用">3.2 自己署名証明書の作成（開発/テスト用）<a href="#32-自己署名証明書の作成開発テスト用" class="hash-link" aria-label="3.2 自己署名証明書の作成（開発/テスト用） への直接リンク" title="3.2 自己署名証明書の作成（開発/テスト用） への直接リンク">​</a></h3>
<p>OpenSSLを使用して自己署名証明書を作成する方法:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. 秘密鍵の生成</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl genrsa -out server.key 2048</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. CSR（証明書署名要求）の生成</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl req -new -key server.key -out server.csr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 対話形式で以下を入力:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Country Name (2 letter code) []:JP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># State or Province Name []:Tokyo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Locality Name []:Minato</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Organization Name []:Example Corp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Organizational Unit Name []:IT Department</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Common Name []:example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Email Address []:admin@example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. 自己署名証明書の生成（有効期間365日）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 4. ワンライナーで生成（対話なし）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl req -x509 -newkey rsa:2048 -keyout server.key -out server.crt -days 365 -nodes \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -subj &quot;/C=JP/ST=Tokyo/L=Minato/O=Example Corp/OU=IT/CN=example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 5. SANを含む証明書の生成（複数ドメイン対応）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat &gt; san.cnf &lt;&lt;EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[req]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">distinguished_name = req_distinguished_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">req_extensions = v3_req</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prompt = no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[req_distinguished_name]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C = JP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ST = Tokyo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">L = Minato</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">O = Example Corp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OU = IT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CN = example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[v3_req]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subjectAltName = @alt_names</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[alt_names]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DNS.1 = example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DNS.2 = www.example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DNS.3 = api.example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl req -x509 -newkey rsa:2048 -keyout server.key -out server.crt -days 365 -nodes -config san.cnf -extensions v3_req</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 注意: 自己署名証明書は開発/テスト専用。本番環境では使用しないこと</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-lets-encryptによる証明書取得">4. Let&#x27;s Encryptによる証明書取得<a href="#4-lets-encryptによる証明書取得" class="hash-link" aria-label="4. Let&#x27;s Encryptによる証明書取得 への直接リンク" title="4. Let&#x27;s Encryptによる証明書取得 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-lets-encryptの概要">4.1 Let&#x27;s Encryptの概要<a href="#41-lets-encryptの概要" class="hash-link" aria-label="4.1 Let&#x27;s Encryptの概要 への直接リンク" title="4.1 Let&#x27;s Encryptの概要 への直接リンク">​</a></h3>
<p><strong>Let&#x27;s Encrypt</strong>は、無料でDV証明書を発行する認証局（CA）です。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">特徴:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 完全無料</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 自動化対応（ACME プロトコル）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 有効期間: 90日（短い → 自動更新必須）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- DV証明書のみ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- ワイルドカード証明書対応（DNS-01チャレンジ）</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-certbotによる証明書取得">4.2 Certbotによる証明書取得<a href="#42-certbotによる証明書取得" class="hash-link" aria-label="4.2 Certbotによる証明書取得 への直接リンク" title="4.2 Certbotによる証明書取得 への直接リンク">​</a></h3>
<p><strong>Certbot</strong>は、Let&#x27;s Encryptの公式クライアントです。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="インストール">インストール<a href="#インストール" class="hash-link" aria-label="インストール への直接リンク" title="インストール への直接リンク">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Ubuntu/Debian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install certbot python3-certbot-nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Amazon Linux 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum install certbot python3-certbot-nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># macOS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew install certbot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-01チャレンジwebサーバー必要">HTTP-01チャレンジ（Webサーバー必要）<a href="#http-01チャレンジwebサーバー必要" class="hash-link" aria-label="HTTP-01チャレンジ（Webサーバー必要） への直接リンク" title="HTTP-01チャレンジ（Webサーバー必要） への直接 リンク">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Nginx使用時</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo certbot --nginx -d example.com -d www.example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 実行時の質問:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - メールアドレス（更新通知用）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - 利用規約への同意</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - HTTP→HTTPSリダイレクトの設定</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 証明書の保存場所:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># /etc/letsencrypt/live/example.com/fullchain.pem  # 証明書</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># /etc/letsencrypt/live/example.com/privkey.pem    # 秘密鍵</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># /etc/letsencrypt/live/example.com/chain.pem      # 中間証明書</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># /etc/letsencrypt/live/example.com/cert.pem       # サーバー証明書のみ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dns-01チャレンジワイルドカード証明書">DNS-01チャレンジ（ワイルドカード証明書）<a href="#dns-01チャレンジワイルドカード証明書" class="hash-link" aria-label="DNS-01チャレンジ（ワイルドカード証明書） への直接リンク" title="DNS-01チャレンジ（ワイルドカード証明書） への直接リンク">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ワイルドカード証明書の取得</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo certbot certonly \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --manual \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --preferred-challenges dns \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d *.example.com \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 実行すると、TXTレコードの追加を求められる:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Please deploy a DNS TXT record under the name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># _acme-challenge.example.com with the following value:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 1234567890abcdefghijklmnopqrstuvwxyzABCDEF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Before continuing, verify the record is deployed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># DNSプロバイダーの管理画面またはAPIでTXTレコードを追加</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 例: TXTレコード</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#   名前: _acme-challenge.example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#   値: 1234567890abcdefghijklmnopqrstuvwxyzABCDEF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#   TTL: 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># DNS反映確認</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dig _acme-challenge.example.com TXT +short</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Enterキーで続行</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dns-api-プラグイン自動化">DNS API プラグイン（自動化）<a href="#dns-api-プラグイン自動化" class="hash-link" aria-label="DNS API プラグイン（自動化） への直接リンク" title="DNS API プラグイン（自動化） への直接リンク">​</a></h4>
<p>多くのDNSプロバイダーがCertbot用のプラグインを提供しています。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># DNSプロバイダーのプラグインをインストール（例）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Cloudflare: sudo pip3 install certbot-dns-cloudflare</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># DigitalOcean: sudo pip3 install certbot-dns-digitalocean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># その他多数のDNSプロバイダー対応プラグインあり</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># DNS APIの認証情報を設定（プラグインにより異なる）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 例: ~/.secrets/cloudflare.ini に認証トークンを保存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 証明書取得（DNS-01自動化）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo certbot certonly \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --dns-cloudflare \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --dns-cloudflare-credentials ~/.secrets/cloudflare.ini \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d *.example.com \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 完全自動化（DNS検証レコードの追加/削除も自動）</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-証明書の自動更新">4.3 証明書の自動更新<a href="#43-証明書の自動更新" class="hash-link" aria-label="4.3 証明書の自動更新 への直接リンク" title="4.3 証明書の自動更新 への直接リンク">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 更新のテスト（dry-run）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo certbot renew --dry-run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 自動更新の設定（cron）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo crontab -e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 毎日午前2時に更新チェック</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0 2 * * * certbot renew --quiet --post-hook &quot;systemctl reload nginx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># systemd timer使用（推奨）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl enable certbot-renew.timer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl start certbot-renew.timer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># タイマー確認</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl list-timers | grep certbot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="44-nginx設定例">4.4 Nginx設定例<a href="#44-nginx設定例" class="hash-link" aria-label="4.4 Nginx設定例 への直接リンク" title="4.4 Nginx設定例 への直接リンク">​</a></h3>
<div class="language-nginx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-nginx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># /etc/nginx/sites-available/example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    listen 80;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    server_name example.com www.example.com;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Let&#x27;s Encrypt HTTP-01チャレンジ用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location /.well-known/acme-challenge/ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        root /var/www/html;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # その他のHTTPリクエストはHTTPSにリダイレクト</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location / {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 301 https://$server_name$request_uri;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    listen 443 ssl http2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    server_name example.com www.example.com;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Let&#x27;s Encrypt証明書</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # SSL設定（強固な暗号化）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ssl_protocols TLSv1.2 TLSv1.3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ssl_ciphers &#x27;ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ssl_prefer_server_ciphers on;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ssl_session_cache shared:SSL:10m;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ssl_session_timeout 10m;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # HSTS（HTTP Strict Transport Security）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add_header Strict-Transport-Security &quot;max-age=31536000; includeSubDomains&quot; always;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location / {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy_pass http://localhost:8080;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy_set_header Host $host;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy_set_header X-Real-IP $remote_addr;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy_set_header X-Forwarded-Proto $scheme;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-証明書の検証とデバッグ">5. 証明書の検証とデバッグ<a href="#5-証明書の検証とデバッグ" class="hash-link" aria-label="5. 証明書の検証とデバッグ への直接リンク" title="5. 証明書の検証とデバッグ への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-opensslによる証明書検証">5.1 OpenSSLによる証明書検証<a href="#51-opensslによる証明書検証" class="hash-link" aria-label="5.1 OpenSSLによる証明書検証 への直接リンク" title="5.1 OpenSSLによる証明書検証 への直接リンク">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 証明書の内容確認</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl x509 -in certificate.pem -text -noout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 秘密鍵の確認</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl rsa -in private-key.pem -check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 証明書と秘密鍵の一致確認</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cert_modulus=$(openssl x509 -noout -modulus -in certificate.pem | openssl md5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">key_modulus=$(openssl rsa -noout -modulus -in private-key.pem | openssl md5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if [ &quot;$cert_modulus&quot; = &quot;$key_modulus&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;証明書と秘密鍵は一致しています&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;証明書と秘密鍵が一致しません&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 証明書チェーンの検証</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl verify -CAfile certificate-chain.pem certificate.pem</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-証明書のライフサイクル管理">6. 証明書のライフサイクル管理<a href="#6-証明書のライフサイクル管理" class="hash-link" aria-label="6. 証明書のライフサイクル管理 への直接リンク" title="6. 証明書のライフサイクル管理 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-証明書更新戦略">6.1 証明書更新戦略<a href="#61-証明書更新戦略" class="hash-link" aria-label="6.1 証明書更新戦略 への直接リンク" title="6.1 証明書更新戦略 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              証明書更新のベストプラクティス                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【 計画的更新】                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  1. 有効期限の60日前にアラート                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  2. 有効期限の30日前に更新開始                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  3. 有効期限の7日前に最終確認                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【Let&#x27;s Encrypt（自動更新）】                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - certbot renew の自動化（cron/systemd timer）             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 有効期限30日前から更新可能                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 更新後のサービス再起動（--post-hook）                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【外部CA証明書】                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 手動更新プロセスの文書化                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - EventBridgeアラート 設定                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - インポート証明書の更新手順確立                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-証明書有効期限の監視">6.2 証明書有効期限の監視<a href="#62-証明書有効期限の監視" class="hash-link" aria-label="6.2 証明書有効期限の監視 への直接リンク" title="6.2 証明書有効期限の監視 への直接リンク">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="スクリプトによる監視">スクリプトによる監視<a href="#スクリプトによる監視" class="hash-link" aria-label="スクリプトによる監視 への直接リンク" title="スクリプトによる監視 への直接リンク">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># check-certificate-expiry.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DOMAIN=&quot;example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WARN_DAYS=30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 証明書の有効期限取得</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expiry_date=$(echo | openssl s_client -servername $DOMAIN -connect $DOMAIN:443 2&gt;/dev/null | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              openssl x509 -noout -enddate | cut -d= -f2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># エポック秒に変換</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expiry_epoch=$(date -d &quot;$expiry_date&quot; +%s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">current_epoch=$(date +%s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">days_until_expiry=$(( ($expiry_epoch - $current_epoch) / 86400 ))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;証明書の有効期限: $expiry_date&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;残り日数: $days_until_expiry 日&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if [ $days_until_expiry -lt $WARN_DAYS ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;警告: 証明書の有効期限が近づいています！&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # アラート送信（Slack、メール等）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;証明書は正常です&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exit 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-ssltlsのトラブルシューティング">7. SSL/TLSのトラブルシューティング<a href="#7-ssltlsのトラブルシューティング" class="hash-link" aria-label="7. SSL/TLSのトラブルシューティング への直接リンク" title="7. SSL/TLSのトラブルシューティング への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="71-よくあるエラーと対処法">7.1 よくあるエラーと対処法<a href="#71-よくあるエラーと対処法" class="hash-link" aria-label="7.1 よくあるエラーと対処法 への直接リンク" title="7.1 よくあるエラーと対処法 への直接リンク">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="エラー1-neterr_cert_common_name_invalid">エラー1: &quot;NET::ERR_CERT_COMMON_NAME_INVALID&quot;<a href="#エラー1-neterr_cert_common_name_invalid" class="hash-link" aria-label="エラー1: &quot;NET::ERR_CERT_COMMON_NAME_INVALID&quot; への直接リンク" title="エラー1: &quot;NET::ERR_CERT_COMMON_NAME_INVALID&quot; への直接リンク">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">原因: 証明書のCN/SANとアクセスURLが一致しない</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">例:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">証明書: CN=example.com, SAN=example.com, www.example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">アクセス: https://api.example.com  ← SANに含まれていない</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">対処法:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. ワイルドカード証明書を使用（*.example.com）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. SANにapi.example.comを追加した証明書を再発行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. SNI（Server Name Indication）で複数証明書を設定</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="エラー2-neterr_cert_date_invalid">エラー2: &quot;NET::ERR_CERT_DATE_INVALID&quot;<a href="#エラー2-neterr_cert_date_invalid" class="hash-link" aria-label="エラー2: &quot;NET::ERR_CERT_DATE_INVALID&quot; への直接リンク" title="エラー2: &quot;NET::ERR_CERT_DATE_INVALID&quot; への直接リンク">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">原因: 証明書の有効期限切れ、または開始前</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">対処法:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. 証明書の有効期限を確認</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   openssl x509 -in cert.pem -noout -dates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. サーバーの時刻を確認（NTP同期）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   timedatectl status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. 証明書を更新</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="エラー3-neterr_cert_authority_invalid">エラー3: &quot;NET::ERR_CERT_AUTHORITY_INVALID&quot;<a href="#エラー3-neterr_cert_authority_invalid" class="hash-link" aria-label="エラー3: &quot;NET::ERR_CERT_AUTHORITY_INVALID&quot; への直接リンク" title="エラー3: &quot;NET::ERR_CERT_AUTHORITY_INVALID&quot; への直接リンク">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">原因: 証明書チェーンが不完全、または信頼できないCA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">対処法:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. 中間証明書を含める</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   cat server.crt intermediate.crt &gt; fullchain.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. ルート証明書がクライアントに信頼されているか確認</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Let&#x27;s Encryptの場合、fullchain.pemを使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="72-診断ツール">7.2 診断ツール<a href="#72-診断ツール" class="hash-link" aria-label="7.2 診断ツール への直接リンク" title="7.2 診断ツール への直接リンク">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. OpenSSL s_client（詳細な接続情報）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl s_client -connect example.com:443 -servername example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 証明書チェーン表示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl s_client -showcerts -connect example.com:443 &lt;/dev/null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 特定のTLSバージョンをテスト</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl s_client -connect example.com:443 -tls1_2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">openssl s_client -connect example.com:443 -tls1_3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. 証明書の詳細確認</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo | openssl s_client -servername example.com -connect example.com:443 2&gt;/dev/null | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  openssl x509 -noout -text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. 有効期限確認</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo | openssl s_client -servername example.com -connect example.com:443 2&gt;/dev/null | \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  openssl x509 -noout -dates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 4. SSL Labs（オンラインツール）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># https://www.ssllabs.com/ssltest/analyze.html?d=example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 5. testssl.sh（包括的なテストツール）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/drwetter/testssl.sh.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd testssl.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./testssl.sh example.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="まとめ">まとめ<a href="#まとめ" class="hash-link" aria-label="まとめ への直接リンク" title="まとめ への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="学んだこと">学んだこと<a href="#学んだこと" class="hash-link" aria-label="学んだこと への直接リンク" title="学んだこと への直接リンク">​</a></h3>
<p>本章では、SSL/TLS証明書の実践的な管理方法を学びました:</p>
<ul>
<li>SSL/TLS証明書の役割と構造</li>
<li>証明書の種類（DV、OV、EV、ワイルドカード）と選択基準</li>
<li>商用CA、Let&#x27;s Encrypt、自己署名証明書の使い分け</li>
<li>Let&#x27;s Encryptによる証明書取得とCertbotの使用</li>
<li>OpenSSL を使用した証明書検証</li>
<li>証明書のライフサイクル管理と更新戦略</li>
<li>SSL/TLSのトラブルシューティング手法</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="重要なポイント">重要なポイント<a href="#重要なポイント" class="hash-link" aria-label="重要なポイント への直接リンク" title="重要なポイント への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. 本番環境での証明書選択</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - 商用サイト: Let&#x27;s Encrypt（無料DV証明書）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - 企業サイト: 商用CA（OV/EV証明書）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - 開発/テスト: 自己署名証明書</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Let&#x27;s Encryptの運用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - 有効期限90日（短い）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - certbot renewの自動化必須（cron/systemd timer）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - DNS-01チャレンジでワイルドカード証明書</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. 証明書監視の徹底</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - 有効期限の30日前にアラート</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - cronによる自動監視スクリプト</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - 証明書チェーンの検証</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. セキュリティ設定</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - TLSv1.2以上のみ許可</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - 強固な暗号スイート設定</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - HSTS有効化</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="チェックリスト">チェックリスト<a href="#チェックリスト" class="hash-link" aria-label="チェックリスト への直接リンク" title="チェックリスト への直接リ ンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">□ Let&#x27;s Encrypt自動更新の設定（cron/systemd timer）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">□ 証明書有効期限の監視スクリプト配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">□ ワイルドカード証明書の適切な利用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">□ 証明書と秘密鍵の安全な保管（パーミッション600）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">□ TLS設定の定期的な見直し（SSL Labs等）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">□ 証明書チェーンの完全性確認</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="次のステップ">次のステップ<a href="#次のステップ" class="hash-link" aria-label="次のステップ への直接リンク" title="次のステップ への直接リンク">​</a></h3>
<ul>
<li><a href="/idp-server/docs/content_11_learning/networking/api-gateway-networking">05-api-gateway-networking.md</a> - リバースプロキシとAPI Gateway</li>
<li><a href="/idp-server/docs/content_11_learning/networking/network-troubleshooting">06-network-troubleshooting.md</a> - ネットワークトラブルシューティング</li>
<li><a href="/idp-server/docs/content_11_learning/crypto/tls-ssl">content_11_learning/12-crypto/tls-ssl.md</a> - TLS/SSLプロトコル詳細</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="参考リンク">参考リンク<a href="#参考リンク" class="hash-link" aria-label="参考リンク への直接リンク" title="参考リンク への直接リンク">​</a></h3>
<ul>
<li><a href="https://letsencrypt.org/docs/" target="_blank" rel="noopener noreferrer">Let&#x27;s Encrypt Documentation</a></li>
<li><a href="https://certbot.eff.org/docs/" target="_blank" rel="noopener noreferrer">Certbot Documentation</a></li>
<li><a href="https://www.openssl.org/docs/" target="_blank" rel="noopener noreferrer">OpenSSL Documentation</a></li>
<li><a href="https://www.ssllabs.com/" target="_blank" rel="noopener noreferrer">SSL Labs</a></li>
<li><a href="https://ssl-config.mozilla.org/" target="_blank" rel="noopener noreferrer">Mozilla SSL Configuration Generator</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/15-networking/04-ssl-tls-certificates.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/idp-server/docs/content_11_learning/networking/load-balancing"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">ロードバランシング</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/idp-server/docs/content_11_learning/networking/api-gateway-networking"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">リバースプロキシとAPI Gateway</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#所要時間" class="table-of-contents__link toc-highlight">所要時間</a></li><li><a href="#学べること" class="table-of-contents__link toc-highlight">学べること</a></li><li><a href="#前提知識" class="table-of-contents__link toc-highlight">前提知識</a></li><li><a href="#1-ssltls証明書の基礎" class="table-of-contents__link toc-highlight">1. SSL/TLS証明書の基礎</a><ul><li><a href="#11-証明書の役割" class="table-of-contents__link toc-highlight">1.1 証明書の役割</a></li><li><a href="#12-証明書の構造" class="table-of-contents__link toc-highlight">1.2 証明書の構造</a></li></ul></li><li><a href="#2-証明書の種類" class="table-of-contents__link toc-highlight">2. 証明書の種類</a><ul><li><a href="#21-検証レベル別の分類" class="table-of-contents__link toc-highlight">2.1 検証レベル別の分類</a></li><li><a href="#22-スコープ別の分類" class="table-of-contents__link toc-highlight">2.2 スコープ別の分類</a></li><li><a href="#23-証明書選択のガイドライン" class="table-of-contents__link toc-highlight">2.3 証明書選択のガイドライン</a></li></ul></li><li><a href="#3-証明書の取得方法" class="table-of-contents__link toc-highlight">3. 証明書の取得方法</a><ul><li><a href="#31-証明書取得の選択肢" class="table-of-contents__link toc-highlight">3.1 証明書取得の選択肢</a></li><li><a href="#32-自己署名証明書の作成開発テスト用" class="table-of-contents__link toc-highlight">3.2 自己署名証明書の作成（開発/テスト用）</a></li></ul></li><li><a href="#4-lets-encryptによる証明書取得" class="table-of-contents__link toc-highlight">4. Let&#39;s Encryptによる証明書取得</a><ul><li><a href="#41-lets-encryptの概要" class="table-of-contents__link toc-highlight">4.1 Let&#39;s Encryptの概要</a></li><li><a href="#42-certbotによる証明書取得" class="table-of-contents__link toc-highlight">4.2 Certbotによる証明書取得</a></li><li><a href="#43-証明書の自動更新" class="table-of-contents__link toc-highlight">4.3 証明書の自動更新</a></li><li><a href="#44-nginx設定例" class="table-of-contents__link toc-highlight">4.4 Nginx設定例</a></li></ul></li><li><a href="#5-証明書の検証とデバッグ" class="table-of-contents__link toc-highlight">5. 証明書の検証とデバッグ</a><ul><li><a href="#51-opensslによる証明書検証" class="table-of-contents__link toc-highlight">5.1 OpenSSLによる証明書検証</a></li></ul></li><li><a href="#6-証明書のライフサイクル管理" class="table-of-contents__link toc-highlight">6. 証明書のライフサイクル管理</a><ul><li><a href="#61-証明書更新戦略" class="table-of-contents__link toc-highlight">6.1 証明書更新戦略</a></li><li><a href="#62-証明書有効期限の監視" class="table-of-contents__link toc-highlight">6.2 証明書有効期限の監視</a></li></ul></li><li><a href="#7-ssltlsのトラブルシューティング" class="table-of-contents__link toc-highlight">7. SSL/TLSのトラブルシューティング</a><ul><li><a href="#71-よくあるエラーと  対処法" class="table-of-contents__link toc-highlight">7.1 よくあるエラーと対処法</a></li><li><a href="#72-診断ツール" class="table-of-contents__link toc-highlight">7.2 診断ツール</a></li></ul></li><li><a href="#まとめ" class="table-of-contents__link toc-highlight">まとめ</a><ul><li><a href="#学んだこと" class="table-of-contents__link toc-highlight">学んだこと</a></li><li><a href="#重要なポイント" class="table-of-contents__link toc-highlight">重要なポイント</a></li><li><a href="#チェックリスト" class="table-of-contents__link toc-highlight">チェックリスト</a></li><li><a href="#次のステップ" class="table-of-contents__link toc-highlight">次のステップ</a></li><li><a href="#参考リンク" class="table-of-contents__link toc-highlight">参考リンク</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/docs/introduction">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>