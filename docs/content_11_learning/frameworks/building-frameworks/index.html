<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-content_11_learning/frameworks/building-frameworks" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">フレームワーク自作ガイド - 設計から公開まで | IdP-Server Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/frameworks/building-frameworks"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="フレームワーク自作ガイド - 設計から公開まで | IdP-Server Documentation"><meta data-rh="true" name="description" content="このドキュメントの目的"><meta data-rh="true" property="og:description" content="このドキュメントの目的"><link data-rh="true" rel="icon" href="/idp-server/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/frameworks/building-frameworks"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/frameworks/building-frameworks" hreflang="ja"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/frameworks/building-frameworks" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/idp-server/blog/rss.xml" title="IdP-Server Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/idp-server/blog/atom.xml" title="IdP-Server Documentation Atom Feed"><link rel="stylesheet" href="/idp-server/assets/css/styles.f434a3d5.css">
<script src="/idp-server/assets/js/runtime~main.12713e11.js" defer="defer"></script>
<script src="/idp-server/assets/js/main.5c2224b2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="ナビゲーション" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ナビゲーションバーを開く" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/idp-server/"><div class="navbar__logo"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IdP-Server</b></a><a class="navbar__item navbar__link" href="/idp-server/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/idp-server/docs/content_07_reference/api-reference">Api Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hirokazu-kobayashi-koba-hiro/idp-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ドキュメントのサイドバー" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/introduction">はじめに</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/document-index">ドキュメントガイド</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">製品紹介</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">クイックスタート</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_03_concepts/foundation/concept-01-multi-tenant">コア概念</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">認証・認可プロトコル</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_05_how-to/">How-to（設定・運用レシピ）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_06_developer-guide/">開発者ガイド</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_07_reference/api-reference">リファレンス</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/idp-server/docs/content_11_learning/identity-basics/identity-management-basics">学習（Learning）</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/identity-basics/identity-management-basics">アイデンティティ管理の基礎</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/oauth-fundamentals/modern-web-authz-authn">OAuth 2.0の基礎</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/oauth-tokens/id-token-jwt">OAuth 2.0トークン</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/openid-connect/oauth-oidc-basics">OpenID Connect</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-architecture-rp-browser-authenticator">FIDO2/WebAuthn</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/security/glossary">セキュリティ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/multi-tenancy/multi-tenancy-basics">マルチテナント</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/advanced-protocols/ciba-basics">高度なプロトコル</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/http-rest/http-basics">HTTP/REST</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/jwt-jose/jwt-introduction">JWT/JOSE</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/oauth-oidc-rfc/">OAuth/OIDC RFC学習</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/verifiable-credentials/">Verifiable Credentials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/data-formats/">データフォーマット</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/session-management/web-session-basics">セッション管理</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/postgresql/">PostgreSQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/crypto/">暗号化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/kubernetes/">コンテナ/Kubernetes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/linux/">Linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/networking/">ネットワーク</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/jvm/">JVM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/os-fundamentals/">OS基礎</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/idp-server/docs/content_11_learning/frameworks/">フレームワーク</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/frameworks/">フレームワーク入門</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/frameworks/framework-introduction">基礎</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/frameworks/design-principles">設計</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/idp-server/docs/content_11_learning/frameworks/building-frameworks">実践</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/idp-server/docs/content_11_learning/frameworks/building-frameworks">フレームワーク自作ガイド - 設計から公開まで</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/frameworks/column-reinventing-the-wheel">コラム</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/sdk/">SDK</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/clean-architecture/">クリーンアーキテクチャ</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_08_ops/ops-01-test-strategy">運用（Ops）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_09_project/project-01-faq">プロジェクト</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_10_ai_developer/ai-01-index">AI</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/idp-server/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">学習（Learning）</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">フレームワーク</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">実践</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">フレームワーク自作ガイド - 設計から公開まで</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><header><h1>フレームワーク自作ガイド - 設計から公開まで</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="このドキュメントの目的">このドキュメントの目的<a href="#このドキュメントの目的" class="hash-link" aria-label="このドキュメントの目的 への直接リンク" title="このドキュメントの目的 への直接リンク">​</a></h2>
<p>フレームワークを自作する際に必要な<strong>知識・ノウハウ・注意事項</strong>を体系的に学びます。「使う側」から「作る側」への視点転換を行います。</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="目次">目次<a href="#目次" class="hash-link" aria-label="目次 への直接リンク" title="目次 への直接リンク">​</a></h2>
<ol>
<li><a href="#%E8%87%AA%E4%BD%9C%E3%81%99%E3%82%8B%E5%89%8D%E3%81%AB%E8%80%83%E3%81%88%E3%82%8B%E3%81%93%E3%81%A8">自作する前に考えること</a></li>
<li><a href="#%E3%83%95%E3%83%AC%E3%83%BC%E3%83%A0%E3%83%AF%E3%83%BC%E3%82%AF%E8%A8%AD%E8%A8%88%E3%81%AE%E5%8E%9F%E5%89%87">フレームワーク設計の原則</a></li>
<li><a href="#%E6%8B%A1%E5%BC%B5%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%E3%81%AE%E8%A8%AD%E8%A8%88">拡張ポイントの設計</a></li>
<li><a href="#api%E8%A8%AD%E8%A8%88%E3%81%A8%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%8B%E3%83%B3%E3%82%B0">API設計とバージョニング</a></li>
<li><a href="#%E3%82%A8%E3%83%A9%E3%83%BC%E3%83%8F%E3%83%B3%E3%83%89%E3%83%AA%E3%83%B3%E3%82%B0%E6%88%A6%E7%95%A5">エラーハンドリング戦略</a></li>
<li><a href="#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%A8%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB">ドキュメントとサンプル</a></li>
<li><a href="#%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E5%A4%B1%E6%95%97%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3">よくある失敗パターン</a></li>
<li><a href="#%E3%81%BE%E3%81%A8%E3%82%81">まとめ</a></li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="自作する前に考えること">自作する前に考えること<a href="#自作する前に考えること" class="hash-link" aria-label="自作する前に考えること への直接リンク" title="自作する前に考えること への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="本当にフレームワークが必要か">本当にフレームワークが必要か？<a href="#本当にフレームワークが必要か" class="hash-link" aria-label="本当にフレームワークが必要か？ への直接リンク" title="本当にフレームワークが必要か？ への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              フレームワーク作成の判断基準                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├────────────────────────────────────────────────────────── ───┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   作るべき場合:                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ✓ 同じパターンのコードを3回以上書いている             │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ✓ 既存フレームワークでは解決できない固有の課題がある   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ✓ チームで共通の基盤として長期利用する予定がある       │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ✓ メンテナンスするリソースと覚悟がある                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   作るべきでない場合:                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ✗ 既存フレームワークで十分対応可能                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ✗ 「なんとなくカッコいいから」という理由               │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ✗ 1つのプロジェクトでしか使わない                     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ✗ メンテナンスする時間・人員がない                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   代替案を検討:                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ・ライブラリで十分では？                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ・既存FWの拡張・プラグインで対応できないか？              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ・設定やアノテーションで解決できないか？                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="フレームワークのコスト">フレームワークのコスト<a href="#フレームワークのコスト" class="hash-link" aria-label="フレームワークのコスト への直接リンク" title="フレームワークのコスト への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                フレームワーク作成のコスト                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   初期コスト:                                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── 設計・実装: 数週間〜数ヶ月                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ドキュメント作成: 実装と同等以上の労力                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── サンプル・チュートリアル作成                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   継続コスト（これが重要）:                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── バグ修正・セキュリティパッチ                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── 依存ライブラリのアップデート対応                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── 新機能 リクエストへの対応                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── 破壊的変更時のマイグレーションサポート                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ユーザーからの質問対応                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── ドキュメントの継続的更新                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   「作るのは1回、メンテナンスは永遠」                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="フレームワーク設計の原則">フレームワーク設計の原則<a href="#フレームワーク設計の原則" class="hash-link" aria-label="フレームワーク設計の原則 への直接リンク" title="フレームワーク設計の原則 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-最小限の驚き原則principle-of-least-astonishment">1. 最小限の驚き原則（Principle of Least Astonishment）<a href="#1-最小限の驚き原則principle-of-least-astonishment" class="hash-link" aria-label="1. 最小限の驚き原則（Principle of Least Astonishment） への直接リンク" title="1. 最小限の驚き原則（Principle of Least Astonishment） への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  最小限の驚き原則                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ユーザーが「予想通り」に動くことが最優先                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   悪い例:                                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ // saveなのに削除される...!?                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ user.save();  // 内部で古いデータを削除してから保存   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ // getなのに副作用がある...!?                         │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ user.getName();  // 内部でDBにアクセスログを記録      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   良い例:                                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ // 名前から動作が予測できる                           │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ user.save();           // 保存する                   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ user.deleteAndSave();  // 削除してから保存           │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ user.getName();        // 名前を取得（副作用なし）    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   チェックポイント:                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ メソッド名から動作が予測できるか？                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ 副作用は明示されているか？                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ 戻り値の型は適切か？                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ 例外は予測可能か？                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-設定より規約ただし逃げ道を用意">2. 設定より規約、ただし逃げ道を用意<a href="#2-設定より規約ただし逃げ道を用意" class="hash-link" aria-label="2. 設定より規約、ただし逃げ道を用意 への直接リンク" title="2. 設定より規約、ただし逃げ道を用意 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              Convention over Configuration                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   デフォルトは「よくあるケース」に最適化                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ただし、必ずカスタマイズ可能にする                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   良い設計:                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ // デフォルトで動く（設定なし）                         │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ @Entity                                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ class User { }  // テーブル名は自動で &quot;users&quot;        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ // カスタマイズも可能                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ @Entity(table = &quot;app_users&quot;)                         │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ class User { }  // テーブル名を明示的に指定          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   悪い設計:                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ // 必ず設定が必要（面倒）                             │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ @Entity(table = &quot;users&quot;, schema = &quot;public&quot;, ...)     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ class User { }                                       │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ // または、カスタマイズ不可能（柔軟性がない）         │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ @Entity  // テーブル名は必ずクラス名の複数形         │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ class User { }  // 変更する方法がない                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-薄いラッパーより厚い抽象化">3. 薄いラッパーより厚い抽象化<a href="#3-薄いラッパーより厚い抽象化" class="hash-link" aria-label="3. 薄いラッパーより厚い抽象化 への直接リンク" title="3. 薄いラッパーより厚い抽象化 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                 適切な抽象化レベル                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   薄いラッパー （価値が低い）:                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ // 単なるメソッド呼び出しの転送                       │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ class MyHttpClient {                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     HttpClient client;                               │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     Response get(String url) {                       │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │         return client.get(url);  // 何も追加しない   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     }                                                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ }                                                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ → 元のライブラリを直接使えばいい                     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   価値のある抽象化:                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ // 共通の関心事を処理                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ class ApiClient {                                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     Response get(String endpoint) {                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │         return client.get(baseUrl + endpoint)        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │             .header(&quot;Authorization&quot;, getToken())     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │             .timeout(config.getTimeout())            │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │             .retry(3)                                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │             .onError(this::handleError)              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │             .execute();                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     }                                                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ }                                                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ → 認証、タイムアウト、リトライ、エラー処理を抽象化   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-依存関係を最小限に">4. 依存関係を最小限に<a href="#4-依存関係を最小限に" class="hash-link" aria-label="4. 依存関係を最小限に への直接リンク" title="4. 依存関 係を最小限に への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                   依存関係の管理                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   依存が多いフレームワークの問題:                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・バージョン競合（Dependency Hell）                   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・セキュリティ脆弱性の伝播                            │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・ビルド時間の増加                                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・ユーザーのアップグレードが困難                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ベストプラクティス:                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 1. コア機能は依存なしで実装                           │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 2. オプション機能は別モジュールに                     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │    my-framework-core      (依存なし)                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │    my-framework-jackson   (Jackson連携)              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │    my-framework-spring    (Spring連携)               │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 3. 依存は provided/optional として宣言               │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │    ユーザーが自分でバージョンを選べる                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 4. 依存ライブラリのパッケージを shade しない          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │    （どうしても必要な場合を除く）                     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードを  コピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="拡張ポイントの設計">拡張ポイントの設計<a href="#拡張ポイントの設計" class="hash-link" aria-label="拡張ポイントの設計 への直接リンク" title="拡張ポイントの設計 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="拡張ポイントとは">拡張ポイントとは<a href="#拡張ポイントとは" class="hash-link" aria-label="拡張ポイントとは への直接リンク" title="拡張ポイントとは への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    拡張ポイント                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├────────────────────────────────────  ─────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   フレームワークの動作をユーザーがカスタマイズできる場所      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │              フレームワークの処理                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  リクエスト受信                                       │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       │                                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       ▼                                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  ┌────────────────┐                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  │  拡張ポイント1  │ ← ユーザーがカス タマイズ可能   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  │  (Filter)      │                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  └────────────────┘                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       │                                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       ▼                                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  ルーティング                                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       │                                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       ▼                                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  ┌────────────────┐                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  │  拡張ポイント2  │ ← ユーザーがカスタマイズ可能   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  │  (Interceptor) │                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  └────────────────┘                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       │                                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       ▼                                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  ハンドラ実行                                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="拡張ポイントの実装パターン">拡張ポイン  トの実装パターン<a href="#拡張ポイントの実装パターン" class="hash-link" aria-label="拡張ポイントの実装パターン への直接リンク" title="拡張ポイントの実装パターン への直接リンク">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-インターフェース抽象クラス">1. インターフェース/抽象クラス<a href="#1-インターフェース抽象クラス" class="hash-link" aria-label="1. インターフェース/抽象クラス への直接リンク" title="1. インターフェース/抽象クラス への直接リンク">​</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// フレームワークが定義するインターフェース</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface RequestFilter {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * リクエストをフィルタリングする</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @return true: 処理継続, false: 処理中断</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean filter(Request request);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// デフォルト実装を提供（使わなくてもOK）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class NoOpFilter implements RequestFilter {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean filter(Request request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;  // 常に通過</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ユーザーが実装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AuthenticationFilter implements RequestFilter {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean filter(Request request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String token = request.getHeader(&quot;Authorization&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return tokenValidator.validate(token);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-コールバックリスナー">2. コールバック/リスナー<a href="#2-コールバックリスナー" class="hash-link" aria-label="2. コールバック/リスナー への直接リンク" title="2. コールバック/リスナー への直接リンク">​</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// イベントベースの拡張</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface LifecycleListener {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    default void onStartup(Context context) { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    default void onShutdown(Context context) { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    default void onError(Context context, Throwable error) { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// フレームワーク側</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Framework {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;LifecycleListener&gt; listeners = new ArrayList&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void addListener(LifecycleListener listener) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        listeners.add(listener);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void startup() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ... 起動処理 ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        listeners.forEach(l -&gt; l.onStartup(context));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ユーザー側</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">framework.addListener(new LifecycleListener() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onStartup(Context context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        logger.info(&quot;アプリケーション起動&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        warmupCache();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-プラグインシステム">3. プラグインシステム<a href="#3-プラグインシステム" class="hash-link" aria-label="3. プラグインシステム への直接リンク" title="3. プラグインシステム への直接リンク">​</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// プラグインインターフェース</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface Plugin {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String getName();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void install(FrameworkBuilder builder);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// プラグイン実装例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MetricsPlugin implements Plugin {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getName() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;metrics&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void install(FrameworkBuilder builder) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        builder.addFilter(new MetricsFilter());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        builder.addEndpoint(&quot;/metrics&quot;, new MetricsEndpoint());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 使用方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Framework framework = Framework.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .install(new MetricsPlugin())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .install(new SecurityPlugin())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-service-provider-interface-spi">4. Service Provider Interface (SPI)<a href="#4-service-provider-interface-spi" class="hash-link" aria-label="4. Service Provider Interface (SPI) への直接リンク" title="4. Service Provider Interface (SPI) への直接リンク">​</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// META-INF/services による自動検出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// インターフェース定義</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface Serializer {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String getContentType();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    byte[] serialize(Object obj);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Object deserialize(byte[] data, Class&lt;?&gt; type);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// META-INF/services/com.example.Serializer に記載</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// com.example.JsonSerializer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// com.example.XmlSerializer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// フレームワークが自動でロード</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ServiceLoader&lt;Serializer&gt; loader = ServiceLoader.load(Serializer.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for (Serializer serializer : loader) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    register(serializer.getContentType(), serializer);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="拡張ポイント設計の注意点">拡張ポイント設計の注意点<a href="#拡張ポイント設計の注意点" class="hash-link" aria-label="拡張ポイント設計の注意点 への直接リンク" title="拡張ポイント設計の注意点 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│               拡張ポイント設計の注意点                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   1. 拡張ポイントは慎重に選ぶ                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・多すぎる → 複雑で理解困難                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・少なすぎる → 柔軟性がない                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・「ここをカスタマイズしたい」という声を収集          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   2. 拡張ポイントの実行順序を明確に                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌───────────────────────  ──────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・複数のフィルターがある場合の実行順序は？            │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・優先度の指定方法は？                                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・ドキュメントで明示する                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   3. デフォルト動作を提供                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・拡張しなくても動くようにする                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・default メソッドや NoOp 実装を用意                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────── ──────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   4. 拡張ポイントの契約を明確に                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・いつ呼ばれるか                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・何を渡されるか（null の可能性は？）                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・何を返すべきか                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・例外を投げていいか                                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・スレッドセーフである必要があるか                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api設計とバージョニング">API設計とバージョニング<a href="#api設計とバージョニング" class="hash-link" aria-label="API設計とバージョニング への直接リンク" title="API設計とバージョニング への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="公開apiの設計">公開APIの設計<a href="#公開apiの設計" class="hash-link" aria-label="公開APIの設計 への直接リンク" title="公開APIの設計 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    公開APIの設計                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   API = ユーザーとの「契約」                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   一度公開したら簡単には変更できない                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   公開するもの（Public API）:                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・ユーザーが直接使うクラス・メソッド                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・拡張ポイントのインターフェース                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・設定クラス                                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・例外クラス                                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   公開しないもの（Internal）:                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・実装の詳細                                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・ヘルパークラス                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・内部データ構造                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   区別の方法:                                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ・パッケージ分離: api/ と internal/                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ・アノテーション: @PublicApi, @Internal                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ・可視性: public vs package-private                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ・Javaモジュールシステム (module-info.java)               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="セマンティックバージョニング">セマンティックバージョニング<a href="#セマンティックバージョニング" class="hash-link" aria-label="セマンティックバージョニング への直接リンク" title="セマンティックバージョニング への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                セマンティックバージョニング                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    MAJOR.MINOR.PATCH                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                      │     │     │                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                      │     │     └── バグ修正               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                      │     └──────── 後方互換の機能追加     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                      └────────────── 破壊的変更             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   例: 1.2.3 → 1.2.4                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ バグ修正のみ                                         │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ユーザーのコードは変更不要                           │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   例: 1.2.3 → 1.3.0                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 新機能追加（後方互換あり）                           │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ユーザーのコードは変更不要                           │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 新機能を使いたければ使える                           │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   例: 1.2.3 → 2.0.0                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 破壊的変更あり                                       │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ユーザーのコード修正が必要な可能性                   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ マイグレーションガイドを提供すること                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────── ──────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="非推奨deprecationの扱い">非推奨（Deprecation）の扱い<a href="#非推奨deprecationの扱い" class="hash-link" aria-label="非推奨（Deprecation）の扱い への直接リンク" title="非推奨（Deprecation）の扱い への直接リンク">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 正しい非推奨の  手順</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ========================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 1. まず @Deprecated を付けて代替を示す</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @deprecated 2.0で削除予定。代わりに {@link #newMethod()} を使用してください。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Deprecated(since = &quot;1.5&quot;, forRemoval = true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void oldMethod() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 内部で新メソッドを呼び出す（互換性維持）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    newMethod();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void newMethod() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 新しい実装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 2. 少なくとも1メジャーバージョンは維持</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    1.5 で deprecated → 2.0 で削除</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 3. マイグレーションガイドを用意</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    MIGRATION.md に変更点と対応方法を記載</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="apiの安定性レベル">APIの安定性レベル<a href="#apiの安定性レベル" class="hash-link" aria-label="APIの安定性レベル への直接リンク" title="APIの安定性レベル への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌───────────────────────────────────  ──────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                   API安定性レベル                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   @Stable                                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・本番利用可能                                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・破壊的変更はメジャーバージョンのみ                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・十分にテスト済み                                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   @Beta                                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・本番利用は自己責任                                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・マイナーバージョンで変更の可能性あり                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・フィードバック歓迎                                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   @Experimental                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・実験的機能                                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・いつでも変更・削除の可能性あり                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・本番利用非推奨                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   @Internal                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・内部実装                                            │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・ユーザーは使用禁止                                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・警告なく変更される                                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="エラーハンドリング戦略">エラーハンドリング戦略<a href="#エラーハンドリング戦略" class="hash-link" aria-label="エラーハンドリング戦略 への直接リンク" title="エラーハンドリング戦略 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="エラーの種類と対応">エラーの種類と対応<a href="#エラーの種類と対応" class="hash-link" aria-label="エラーの種類と対応 への直接リンク" title="エラーの種類と対応 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌──────────────  ───────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                   エラーハンドリング                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   1. プログラミングエラー（バグ）                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 例: null参照、範囲外アクセス                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 対応: 非検査例外（RuntimeException）を投げる          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 理由: 呼び出し側で回復不可能                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ throw new IllegalArgumentException(                  │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     &quot;name は null であってはなりません&quot;);             │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   2. 回復可能なエラー                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 例: ファイルが見つからない、ネットワークエラー        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 対応: 検査例外 or 戻り値（Optional、Result型）        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 理由: 呼び出し側で適切に処理できる                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ // 方法1: 検査例外                                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ User findUser(Long id) throws UserNotFoundException; │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ // 方法2: Optional                                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ Optional&lt;User&gt; findUser(Long id);                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   3. フレームワーク内部エラー                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 例: 設定ミス、初期化失敗                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 対応: 専用の例外クラスを用意                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 理由: ユーザーが原因を特定しやすい                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ throw new FrameworkConfigurationException(           │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     &quot;データソースが設定されていません&quot;,               │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     &quot;application.yml に datasource を追加してください&quot;│  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ );                                                   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="良いエラーメッセージ">良いエラーメッセージ<a href="#良いエラーメッセージ" class="hash-link" aria-label="良いエラーメッセージ への直接リンク" title="良いエラーメッセージ への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  良いエラーメッセージ                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   悪い例:                                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ &quot;Error occurred&quot;                                     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ &quot;Invalid input&quot;                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ &quot;null&quot;                                               │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ &quot;エラー&quot;                                             │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   良い例:                                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ エラーメッセージに含めるべき情報:                     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 1. 何が起きたか                                       │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 2. なぜ起きたか（原因）                               │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 3. どうすれば解決できるか（アクション）               │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 例:                                                   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ &quot;データベース接続に失敗しました。                     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  原因: ホスト &#x27;db.example.com:5432&#x27; に接続できません。│  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │  対処: ネットワーク設定を確認するか、                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       application.yml の database.host を確認して    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │       ください。&quot;                                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   例外クラス設計:                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ public class ConfigurationException extends ... {    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     private final String property;                   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     private final String suggestion;                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     public String getHelpMessage() {                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │         return String.format(                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │             &quot;設定 &#x27;%s&#x27; が不正です。%s&quot;,              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │             property, suggestion                     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │         );                                           │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │     }                                                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ }                                                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ドキュメントとサンプル">ドキュメントとサンプル<a href="#ドキュメントとサンプル" class="hash-link" aria-label="ドキュメントとサンプル への直接リンク" title="ドキュメントとサンプル への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ドキュメントの重要性">ドキュメントの重要性<a href="#ドキュメントの重要性" class="hash-link" aria-label="ドキュメントの重要性 への直接リンク" title="ドキュメントの重要性 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                  ドキュメントの重要性                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   「ドキュメントがないフレームワークは存在しないのと同じ」    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   必要なドキュメント:                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   1. Getting Started（最重要）                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌ ─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・5分で動くサンプル                                   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・コピペで動くコード                                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・最小限の設定                                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   2. コンセプトガイド                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・なぜこのフレームワークを使うのか                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・基本的な考え方・アーキテクチャ                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・他のフレームワークとの 違い                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   3. APIリファレンス                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・全ての公開クラス・メソッドの説明                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・パラメータと戻り値の説明                            │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・使用例                                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   4. How-to ガイド                                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・よくあるユースケースの実装方法                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・ステップバイステップの手順                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   5. マイグレーションガイド                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・バージョンアップ時の変更点                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・破壊的変更への対応方法                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └──────────────────────────────────────────── ─────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="サンプルプロジェクト">サンプルプロジェクト<a href="#サンプルプロジェクト" class="hash-link" aria-label="サンプルプロジェクト への直接リンク" title="サンプルプロジェクト への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                   サンプルプロジェクト                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   サンプルの種類:                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   1. Minimal（最小構成）                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・動作確認用の最小コード                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・依存は最小限                                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・「とりあえず動かしたい」人向け                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   2. Full-featured（フル機能）                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・全機能を使った実践的なサンプル                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・本番に近い構成                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・「本格的に使いたい」人向け                          │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   3. Integration（連携サンプル）                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────  ────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・Spring Boot との連携                                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・他のライブラリとの組み合わせ                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   サンプルの品質:                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ・定期的にビルド・テストする（CIで回す）                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ・本体のバージョンアップに追従する                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ・コメントで説明を入れる                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードに コードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="よくある失敗パターン">よくある失敗パターン<a href="#よくある失敗パターン" class="hash-link" aria-label="よくある失敗パターン への直接リンク" title="よくある失敗パターン への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="アンチパターン集">アンチパターン集<a href="#アンチパターン集" class="hash-link" aria-label="アンチパターン集 への直接リンク" title="アンチパターン集 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                   よくある失敗パターン                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   1. 過度な抽象化（Overengineering）                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 症状:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・Factory の Factory の Factory...                   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・簡単なことをするのに10クラス必要                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・設定ファイルが複雑すぎる                            │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 対策:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・YAGNI（You Aren&#x27;t Gonna Need It）                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・実際のユースケースから設計する                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・「3回使うまで抽象化しない」ルール                   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   2. 設定地獄（Configuration Hell）                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 症状:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・何十行もの設定ファイルが必要                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・デフォルト値がない                                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・設定の意味が分からない                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 対策:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・賢いデフォルト値を提供                              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・設定なしで動くようにする                            │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・設定項目にドキュメントを付ける                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   3. 魔法すぎる（Too Much Magic）                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 症状:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・「なぜ動くのか」が分からない                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・デバッグが困難                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  │   │ ・暗黙の動作が多すぎる                                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 対策:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・明示的な設定オプションを用意                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・デバッグログを充実させる                            │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・「内部で何が起きているか」を説明するドキュメント    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   4. 後方互換性の軽視                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 症状:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・マイナーバージョンでAPIが変わる                     │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・アップグレードのたびにコード修正が必要              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・マイグレーションガイドがない                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 対策:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・セマンティックバージョニングを守る                  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・deprecation period を設ける                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・破壊的変更は慎重に、マイグレーションガイド必須      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   5. ドキュメント不足                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─  ────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 症状:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・「ソースを読め」状態                                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・サンプルが古い/動かない                             │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・エラーメッセージが不親切                            │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 対策:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・コード書く時間と同等以上をドキュメントに            │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・サンプルはCIでテスト                                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・ユーザー視点でエラーメッセージを書く                │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   6. NIH症候群（Not Invented Here）                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ┌─────────────────────────────────────────────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 症状:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・既存の良いライブラリを使わず自作                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・車輪の再発明                                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・「うちは特別」という思い込み                        │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │                                                      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ 対策:                                                 │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・まず既存ライブラリを調査                            │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・本当に自作が必要か3回考える                         │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │ ・コア以外は既存ライブラリに任せる                    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └─────────────────────────────────────────────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="まとめ">まとめ<a href="#まとめ" class="hash-link" aria-label="まとめ への直接リンク" title="まとめ への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="フレームワーク作成チェックリスト">フレームワーク作成チェックリスト<a href="#フレームワーク作成チェックリスト" class="hash-link" aria-label="フレームワーク作成チェックリスト への直接リンク" title="フレームワーク作成チェックリスト への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│              フレームワーク作成チェックリスト                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   企画段階:                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ 本当にフレームワークが必要か検討した                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ 既存フレームワークで代替できないか確認した              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ メンテナンスのリソースを確保した                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ 対象ユーザーを明確にした                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   設計段階:                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ 公開APIと内部実装を分離した                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ 拡張ポイントを設計した                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ デフォルト値を設定した（設定なしで動く）                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ エラーメッセージを丁寧に書いた                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   実装段階:                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ 依存ライブラリを最小限にした                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ テストを十分に書いた                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ Javadoc/ドキュメントを書いた                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   公開段階:                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ Getting Started を用意した                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ サンプルプロジェクトを用意した                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ APIリファレンスを生成した                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ バージョニングポリシーを決めた                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   運用段階:                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ Issue対応のフローを決めた                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ リリースプロセスを自動化した                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   □ 破壊的変更のポリシーを決めた                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└──────────────────────────────────────── ─────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="覚えておくべき原則">覚えておくべき原則<a href="#覚えておくべき原則" class="hash-link" aria-label="覚えておくべき原則 への直接リンク" title="覚えておくべき原則 への直接リンク">​</a></h3>
<table><thead><tr><th>原則</th><th>説明</th></tr></thead><tbody><tr><td>最小限の驚き</td><td>ユーザーの予想通りに動く</td></tr><tr><td>設定より規約</td><td>デフォルトで動く、カスタマイズも可能</td></tr><tr><td>薄いラッパーより厚い抽象化</td><td>価値のある抽象化を提供</td></tr><tr><td>依存は最小限</td><td>コアは依存なし、オプション機能は別モジュール</td></tr><tr><td>拡張ポイントは慎重に</td><td>多すぎず少なすぎず</td></tr><tr><td>後方互換性を守る</td><td>セマンティックバージョニング</td></tr><tr><td>ドキュメントは必須</td><td>コードと同等以上の労力</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考資料">参考資料<a href="#参考資料" class="hash-link" aria-label="参考資料 への直接リンク" title="参考資料 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="学ぶべきフレ ームワーク">学ぶべきフレームワーク<a href="#学ぶべきフレームワーク" class="hash-link" aria-label="学ぶべきフレームワーク への直接リンク" title="学ぶべきフレームワーク への直接リンク">​</a></h3>
<p>優れた設計の参考になるフレームワーク:</p>
<table><thead><tr><th>フレームワーク</th><th>学べるポイント</th></tr></thead><tbody><tr><td>Spring Framework</td><td>DIコンテナ、拡張性、後方互換性</td></tr><tr><td>Ruby on Rails</td><td>CoC、生産性重視の設計</td></tr><tr><td>Express.js</td><td>ミニマリズム、ミドルウェア設計</td></tr><tr><td>React</td><td>コンポーネント設計、宣言的API</td></tr><tr><td>JUnit</td><td>テストフレームワークの設計</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="推奨書籍">推奨書籍<a href="#推奨書籍" class="hash-link" aria-label="推奨書籍 への直接リンク" title="推奨書籍 への直接リンク">​</a></h3>
<ul>
<li>&quot;Framework Design Guidelines&quot; (Microsoft)</li>
<li>&quot;Building Evolutionary Architectures&quot;</li>
<li>&quot;Clean Architecture&quot; (Robert C. Martin)</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/22-frameworks/05-building-frameworks.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/idp-server/docs/content_11_learning/frameworks/architecture-patterns"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">アーキテクチャパターン - MVC からヘキサゴナルまで</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/idp-server/docs/content_11_learning/frameworks/column-reinventing-the-wheel"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">コラム: 車輪の再発明は本当に悪いのか</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#このドキュメントの目的" class="table-of-contents__link toc-highlight">このドキュメントの目的</a></li><li><a href="#目次" class="table-of-contents__link toc-highlight">目次</a></li><li><a href="#自作する前に考えること" class="table-of-contents__link toc-highlight">自作する前に考えること</a><ul><li><a href="#本当にフレームワークが必要か" class="table-of-contents__link toc-highlight">本当にフレームワークが必要か？</a></li><li><a href="#フレームワークのコスト" class="table-of-contents__link toc-highlight">フレームワークのコスト</a></li></ul></li><li><a href="#フレームワーク設計の原則" class="table-of-contents__link toc-highlight">フレームワーク設計の原則</a><ul><li><a href="#1-最小限の驚き原則principle-of-least-astonishment" class="table-of-contents__link toc-highlight">1. 最小限の驚き原則（Principle of Least Astonishment）</a></li><li><a href="#2-設定より規約ただし逃げ道を用意" class="table-of-contents__link toc-highlight">2. 設定より規約、ただし逃げ道を用意</a></li><li><a href="#3-薄いラッパーより厚い抽象化" class="table-of-contents__link toc-highlight">3. 薄いラッパーより厚い抽象化</a></li><li><a href="#4-依存関係を最小限に" class="table-of-contents__link toc-highlight">4. 依存関係を最小限に</a></li></ul></li><li><a href="#拡張ポイントの設計" class="table-of-contents__link toc-highlight">拡張ポイントの設計</a><ul><li><a href="#拡張ポイントとは" class="table-of-contents__link toc-highlight">拡張ポイントとは</a></li><li><a href="#拡張ポイントの実装パターン" class="table-of-contents__link toc-highlight">拡張ポイントの実装パターン</a></li><li><a href="#拡張ポイント設計の注意点" class="table-of-contents__link toc-highlight">拡張ポイント設計の注意点</a></li></ul></li><li><a href="#api設計とバージョニング" class="table-of-contents__link toc-highlight">API設計とバージョニング</a><ul><li><a href="#公開apiの設計" class="table-of-contents__link toc-highlight">公開APIの設計</a></li><li><a href="#セマンティックバージョニング" class="table-of-contents__link toc-highlight">セマンティックバージョニング</a></li><li><a href="#非推奨deprecationの扱い" class="table-of-contents__link toc-highlight">非推奨（Deprecation）の扱い</a></li><li><a href="#apiの安定性レベル" class="table-of-contents__link toc-highlight">APIの安定性レベル</a></li></ul></li><li><a href="#エラーハンドリング戦略" class="table-of-contents__link toc-highlight">エラーハンドリング戦略</a><ul><li><a href="#エラーの種類と対応" class="table-of-contents__link toc-highlight">エラーの種類と対応</a></li><li><a href="#良いエラーメッセージ" class="table-of-contents__link toc-highlight">良いエラーメッセージ</a></li></ul></li><li><a href="#ドキュメントとサンプル" class="table-of-contents__link toc-highlight">ドキュメントとサンプル</a><ul><li><a href="#ドキュメントの重要性" class="table-of-contents__link toc-highlight">ドキュメントの重要性</a></li><li><a href="#サンプルプロジェクト" class="table-of-contents__link toc-highlight">サンプルプロジェクト</a></li></ul></li><li><a href="#よくある失敗パターン" class="table-of-contents__link toc-highlight">よくある失敗パターン</a><ul><li><a href="#アンチパターン集" class="table-of-contents__link toc-highlight">アンチパターン集</a></li></ul></li><li><a href="#まとめ" class="table-of-contents__link toc-highlight">まとめ</a><ul><li><a href="#フレームワーク作成チェックリスト" class="table-of-contents__link toc-highlight">フレームワーク作成チェックリスト</a></li><li><a href="#覚えておくべき原則" class="table-of-contents__link toc-highlight">覚えておくべき原則</a></li></ul></li><li><a href="#参考資料" class="table-of-contents__link toc-highlight">参考資料</a><ul><li><a href="#学ぶべきフレームワーク" class="table-of-contents__link toc-highlight">学ぶべきフレームワーク</a></li><li><a href="#推奨書籍" class="table-of-contents__link toc-highlight">推奨書籍</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/docs/introduction">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>