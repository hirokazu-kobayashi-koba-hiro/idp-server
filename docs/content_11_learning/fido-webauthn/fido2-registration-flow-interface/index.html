<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-content_11_learning/fido-webauthn/fido2-registration-flow-interface" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">FIDO2 ç™»éŒ²ãƒ•ãƒ­ãƒ¼ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è©³ç´° | IdP-Server Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/fido-webauthn/fido2-registration-flow-interface"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="FIDO2 ç™»éŒ²ãƒ•ãƒ­ãƒ¼ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è©³ç´° | IdP-Server Documentation"><meta data-rh="true" name="description" content="---"><meta data-rh="true" property="og:description" content="---"><link data-rh="true" rel="icon" href="/idp-server/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/fido-webauthn/fido2-registration-flow-interface"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/fido-webauthn/fido2-registration-flow-interface" hreflang="ja"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/fido-webauthn/fido2-registration-flow-interface" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/idp-server/blog/rss.xml" title="IdP-Server Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/idp-server/blog/atom.xml" title="IdP-Server Documentation Atom Feed"><link rel="stylesheet" href="/idp-server/assets/css/styles.f434a3d5.css">
<script src="/idp-server/assets/js/runtime~main.f967ce77.js" defer="defer"></script>
<script src="/idp-server/assets/js/main.877bdd61.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¾ã§ã‚¹ã‚­ãƒƒãƒ—"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¾ã§ã‚¹ã‚­ãƒƒãƒ—</a></div><nav aria-label="ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ã‚’é–‹ã" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/idp-server/"><div class="navbar__logo"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IdP-Server</b></a><a class="navbar__item navbar__link" href="/idp-server/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/idp-server/docs/content_07_reference/api-reference">Api Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hirokazu-kobayashi-koba-hiro/idp-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹(ç¾åœ¨ã¯ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰)" aria-label="ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹(ç¾åœ¨ã¯ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="å…ˆé ­ã¸æˆ»ã‚‹" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚µã‚¤ãƒ‰ãƒãƒ¼" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/introduction">ã¯ã˜ã‚ã«</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/document-index">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">è£½å“ç´¹ä»‹</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_03_concepts/foundation/concept-01-multi-tenant">ã‚³ã‚¢æ¦‚å¿µ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">èªè¨¼ãƒ»èªå¯ãƒ—ãƒ­ãƒˆã‚³ãƒ«</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_05_how-to/">How-toï¼ˆè¨­å®šãƒ»é‹ç”¨ãƒ¬ã‚·ãƒ”ï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_06_developer-guide/">é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_07_reference/api-reference">ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/idp-server/docs/content_11_learning/identity-basics/identity-management-basics">å­¦ç¿’ï¼ˆLearningï¼‰</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/identity-basics/identity-management-basics">ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç®¡ç†ã®åŸºç¤</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/oauth-fundamentals/modern-web-authz-authn">OAuth 2.0ã®åŸºç¤</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/oauth-tokens/id-token-jwt">OAuth 2.0ãƒˆãƒ¼ã‚¯ãƒ³</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/openid-connect/oauth-oidc-basics">OpenID Connect</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-architecture-rp-browser-authenticator">FIDO2/WebAuthn</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-architecture-rp-browser-authenticator">FIDO2ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ - RPãƒ»Webãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ãƒ»èªè¨¼å™¨ã®é–¢ä¿‚</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-authentication-flow-interface">FIDO2 èªè¨¼ãƒ•ãƒ­ãƒ¼ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è©³ç´°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-passkey-discoverable-credential">FIDO2ãƒ»ãƒ‘ã‚¹ã‚­ãƒ¼ãƒ»Discoverable Credentialã®åŸºæœ¬</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-registration-flow-interface">FIDO2 ç™»éŒ²ãƒ•ãƒ­ãƒ¼ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è©³ç´°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-webauthn-level-specification-evolution">FIDO2ãƒ»WebAuthnä»•æ§˜ã®å¤‰é·ï¼ˆLevel 1 â†’ 2 â†’ 3ï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-webauthn-passwordless">FIDO2ãƒ»WebAuthn ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ¬ã‚¹èªè¨¼</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_08_ops/ops-01-test-strategy">é‹ç”¨ï¼ˆOpsï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_09_project/project-01-faq">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_10_ai_developer/ai-01-index">AI</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸" class="breadcrumbs__link" href="/idp-server/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">å­¦ç¿’ï¼ˆLearningï¼‰</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">FIDO2/WebAuthn</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">FIDO2 ç™»éŒ²ãƒ•ãƒ­ãƒ¼ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è©³ç´°</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">ã“ã®ãƒšãƒ¼ã‚¸ã®è¦‹å‡ºã—</button></div><div class="theme-doc-markdown markdown"><header><h1>FIDO2 ç™»éŒ²ãƒ•ãƒ­ãƒ¼ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è©³ç´°</h1></header>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ¦‚è¦">æ¦‚è¦<a href="#æ¦‚è¦" class="hash-link" aria-label="æ¦‚è¦ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="æ¦‚è¦ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p>ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€<strong>W3C WebAuthn Level 2ä»•æ§˜ã®Figure 1 Registration Flow</strong>ã«åŸºã¥ã„ã¦ã€FIDO2ç™»éŒ²ãƒ•ãƒ­ãƒ¼ã®å„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆâ‘ ã€œâ‘¥ï¼‰ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è©³ç´°ã«è§£èª¬ã—ã¾ã™ã€‚</p>
<p><strong>æƒ…å ±æº</strong>: <a href="https://www.w3.org/TR/webauthn-2/#sctn-api" target="_blank" rel="noopener noreferrer">W3C WebAuthn Level 2 - Figure 1 Registration Flow</a></p>
<p><strong>ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å­¦ã¹ã‚‹ã“ã¨</strong>:</p>
<ul>
<li>Relying Party Serverã¨RP JavaScripté–“ã®é€šä¿¡ï¼ˆâ‘ ã€â‘¤ï¼‰</li>
<li>Browserã¨Authenticatoré–“ã®WebAuthn APIï¼ˆâ‘¡ã€â‘£ï¼‰</li>
<li>Authenticatorå†…éƒ¨å‡¦ç†ï¼ˆâ‘¢ï¼‰</li>
<li>RP Serverã§ã®æ¤œè¨¼å‡¦ç†ï¼ˆâ‘¥ï¼‰</li>
<li>å„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®æ¨™æº–åŒ–çŠ¶æ³</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³">ã‚¢ãƒ¼ã‚­ ãƒ†ã‚¯ãƒãƒ£å›³<a href="#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³" class="hash-link" aria-label="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚         Relying Party Server                            â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                                       â‘¥ server          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                                          validation     â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                â”‚                  â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â‘  challenge,       â‘¤ clientDataJSON,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           user info,         attestationObject</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           relying party info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                â”‚                  â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚         RP JavaScript Application                       â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚         (Webãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼å†…ã§å®Ÿè¡Œ)                          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚         Browser (User Agent)                            â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚         WebAuthn APIå®Ÿè£…                                â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                â”‚                  â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â‘¡ relying party id,  â‘£ new public key,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           user info,            credential id,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           relying party info,   attestation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           clientDataHash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                â”‚                  â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚         Authenticator                                   â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚         â‘¢ user verification,                            â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚            new keypair,                                 â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚            attestation                                  â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="w3c-webauthnä»•æ§˜ã®æ¨™æº–åŒ–ç¯„å›²">W3C WebAuthnä»•æ§˜ã®æ¨™æº–åŒ–ç¯„å›²<a href="#w3c-webauthnä»•æ§˜ã®æ¨™æº–åŒ–ç¯„å›²" class="hash-link" aria-label="W3C WebAuthnä»•æ§˜ã®æ¨™æº–åŒ–ç¯„å›² ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="W3C WebAuthnä»•æ§˜ã®æ¨™æº–åŒ–ç¯„å›² ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>W3C WebAuthnä»•æ§˜ã¯ã€å…¨ã¦ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ¨™æº–åŒ–ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æ¨™æº–åŒ–ã®ç¯„å›²ã‚’ç†è§£ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-w3c-webauthnä»•æ§˜ãŒæ¨™æº–åŒ–ã—ã¦ã„ã‚‹ã‚‚ã®">âœ… W3C WebAuthnä»•æ§˜ãŒæ¨™æº–åŒ–ã—ã¦ã„ã‚‹ã‚‚ã®<a href="#-w3c-webauthnä»•æ§˜ãŒæ¨™æº–åŒ–ã—ã¦ã„ã‚‹ã‚‚ã®" class="hash-link" aria-label="âœ… W3C WebAuthnä»•æ§˜ãŒæ¨™æº–åŒ–ã—ã¦ã„ã‚‹ã‚‚ã® ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="âœ… W3C WebAuthnä»•æ§˜ãŒæ¨™æº–åŒ–ã—ã¦ã„ã‚‹ã‚‚ã® ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>é …ç›®</th><th>èª¬æ˜</th><th>æ¨™æº–åŒ–ã®ç›®çš„</th></tr></thead><tbody><tr><td><strong>JavaScript APIï¼ˆâ‘¡ã€â‘£ï¼‰</strong></td><td><code>navigator.credentials.create()</code> / <code>get()</code> ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</td><td>Browserã®å‹•ä½œã‚’çµ±ä¸€ï¼ˆç›¸äº’é‹ç”¨æ€§ï¼‰</td></tr><tr><td><strong>ãƒ‡ãƒ¼ã‚¿æ§‹é€ </strong></td><td><code>attestationObject</code>ã€<code>authData</code>ã€<code>clientDataJSON</code> ã®æ§‹é€ </td><td>RP â†” Browser â†” Authenticatoré–“ã®ãƒ‡ãƒ¼ã‚¿äº¤æ›ã‚’çµ±ä¸€</td></tr><tr><td><strong>æ¤œè¨¼æ‰‹é †ï¼ˆâ‘¥ï¼‰</strong></td><td>RPãŒå®Ÿè¡Œã™ã¹ãæ¤œè¨¼ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆSection 7.1, 7.2ï¼‰</td><td>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ã®æ˜ç¢ºåŒ–</td></tr><tr><td><strong>å‹å®šç¾©</strong></td><td><code>PublicKeyCredentialCreationOptions</code> ç­‰ã® TypeScript/IDL å®šç¾©</td><td>APIä»•æ§˜ã®æ˜ç¢ºåŒ–</td></tr></tbody></table>
<p><strong>æ¨™æº–åŒ–ã®ç¯„å›²</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Browserï¼ˆUser Agentï¼‰ã®å®Ÿè£… = å®Œå…¨ã«æ¨™æº–åŒ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ãƒ»navigator.credentials.create() ã®å‹•ä½œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ãƒ»attestationObject ã®ç”Ÿæˆæ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ãƒ»clientDataJSON ã®æ§‹é€ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ãƒ»Authenticator ã¨ã®é€šä¿¡ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼ˆCTAPï¼‰</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-w3c-webauthnä»•æ§˜ãŒæ¨™æº–åŒ–ã—ã¦ã„ãªã„ã‚‚ã®">âŒ W3C WebAuthnä»•æ§˜ãŒæ¨™æº–åŒ–ã—ã¦ã„ãªã„ã‚‚ã®<a href="#-w3c-webauthnä»•æ§˜ãŒæ¨™æº–åŒ–ã—ã¦ã„ãªã„ã‚‚ã®" class="hash-link" aria-label="âŒ W3C WebAuthnä»•æ§˜ãŒæ¨™æº–åŒ–ã—ã¦ã„ãªã„ã‚‚ã® ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="âŒ W3C WebAuthnä»•æ§˜ãŒæ¨™æº–åŒ–ã—ã¦ã„ãªã„ã‚‚ã® ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>é …ç›®</th><th>èª¬æ˜</th><th>ç†ç”±</th></tr></thead><tbody><tr><td><strong>RP Server â†” RP JavaScripté–“ã®é€šä¿¡ï¼ˆâ‘ ã€â‘¤ï¼‰</strong></td><td>HTTPã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ </td><td>å„RPãŒç‹¬è‡ªã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIè¨­è¨ˆã‚’æ¡ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚</td></tr><tr><td><strong>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å</strong></td><td><code>username</code> / <code>user_name</code> / <code>email</code> ç­‰</td><td>RPå†…éƒ¨ã®è¨­è¨ˆè‡ªç”±åº¦ã‚’ä¿ã¤ãŸã‚</td></tr><tr><td><strong>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURL</strong></td><td><code>/fido2-registration-challenge</code> ç­‰</td><td>RESTfulè¨­è¨ˆã‚„URLè¨­è¨ˆã¯RPæ¬¡ç¬¬</td></tr><tr><td><strong>èªè¨¼ãƒ•ãƒ­ãƒ¼å…¨ä½“</strong></td><td>OAuth 2.0é€£æºã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ç­‰</td><td>RPã”ã¨ã«èªè¨¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒç•°ãªã‚‹ãŸã‚</td></tr></tbody></table>
<p><strong>éæ¨™æº–åŒ–ã®ç¯„å›²</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">RP Server â†” RP JavaScript ã®é€šä¿¡ = æ¨™æº–åŒ–ãªã—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ãƒ»HTTPã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ãƒ»ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®JSONæ§‹é€ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®JSONæ§‹é€ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ãƒ»ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-w3cä»•æ§˜ã®æ˜ç¢ºãªè¨˜è¿°">ğŸ“– W3Cä»•æ§˜ã®æ˜ç¢ºãªè¨˜è¿°<a href="#-w3cä»•æ§˜ã®æ˜ç¢ºãªè¨˜è¿°" class="hash-link" aria-label="ğŸ“– W3Cä»•æ§˜ã®æ˜ç¢ºãªè¨˜è¿° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ğŸ“– W3Cä»•æ§˜ã®æ˜ç¢ºãªè¨˜è¿° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<blockquote>
<p><strong>W3C WebAuthn Level 2 - Section 1.2 Conformance:</strong>
&quot;This specification does not define a server-side API; it only defines the client-side API.&quot;</p>
</blockquote>
<p><strong>æ—¥æœ¬èªè¨³</strong>: &quot;ã“ã®ä»•æ§˜ã¯ã‚µãƒ¼ãƒãƒ¼å´APIã‚’å®šç¾©ã—ã¦ã„ã¾ã›ã‚“ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´APIã®ã¿ã‚’å®šç¾©ã—ã¾ã™ã€‚&quot;</p>
<p><strong>ã“ã‚Œã®æ„å‘³</strong>:</p>
<ul>
<li>âœ… Browserã®å‹•ä½œï¼ˆJavaScript APIã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼‰ã¯å®Œå…¨ã«æ¨™æº–åŒ–</li>
<li>âŒ RPã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIï¼ˆâ‘ ã€â‘¤ï¼‰ã¯å„å®Ÿè£…ã®è‡ªç”±</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ãªãœã“ã®ã‚ˆã†ãªè¨­è¨ˆãªã®ã‹">ãªãœã“ã®ã‚ˆã†ãªè¨­è¨ˆãªã®ã‹ï¼Ÿ<a href="#ãªãœã“ã®ã‚ˆã†ãªè¨­è¨ˆãªã®ã‹" class="hash-link" aria-label="ãªãœã“ã®ã‚ˆã†ãªè¨­è¨ˆãªã®ã‹ï¼Ÿ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ãªãœã“ã®ã‚ˆã†ãªè¨­è¨ˆãªã®ã‹ï¼Ÿ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>è¦³ç‚¹</th><th>ç†ç”±</th></tr></thead><tbody><tr><td><strong>ç›¸äº’é‹ç”¨æ€§</strong></td><td>Browserã®å‹•ä½œã‚’çµ±ä¸€ã™ã‚Œã°ã€ã©ã®RPã§ã‚‚åŒã˜JavaScript APIã§å®Ÿè£…å¯èƒ½</td></tr><tr><td><strong>æŸ”è»Ÿæ€§</strong></td><td>RPã”ã¨ã«ç•°ãªã‚‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆNode.jsã€Javaã€Pythonç­‰ï¼‰ã«å¯¾å¿œ</td></tr><tr><td><strong>é€²åŒ–å¯èƒ½æ€§</strong></td><td>RPã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯è‡ªç”±ã«é€²åŒ–ã§ãã‚‹ï¼ˆæ–°æ©Ÿèƒ½è¿½åŠ ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ç­‰ï¼‰</td></tr><tr><td><strong>è²¬ä»»åˆ†é›¢</strong></td><td>W3Cã¯Browserå®Ÿè£…ã‚’æ¨™æº–åŒ–ã—ã€RPã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ï¼ˆæ¤œè¨¼æ‰‹é †ï¼‰ã®ã¿éµå®ˆ</td></tr></tbody></table>
<p><strong>å®Ÿä¾‹</strong>: idp-serverã€Googleã€GitHubã€Microsoftã¯å…¨ã¦ç•°ãªã‚‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIè¨­è¨ˆã§ã™ãŒã€å…¨ã¦åŒã˜WebAuthn APIã§å‹•ä½œã—ã¾ã™ã€‚</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-rp-server--rp-javascript-ãƒãƒ£ãƒ¬ãƒ³ã‚¸å–å¾—">â‘  RP Server â†’ RP JavaScript: ãƒãƒ£ãƒ¬ãƒ³ã‚¸å–å¾—<a href="#-rp-server--rp-javascript-ãƒãƒ£ãƒ¬ãƒ³ã‚¸å–å¾—" class="hash-link" aria-label="â‘  RP Server â†’ RP JavaScript: ãƒãƒ£ãƒ¬ãƒ³ã‚¸å–å¾— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="â‘  RP Server â†’ RP JavaScript: ãƒãƒ£ãƒ¬ãƒ³ã‚¸å–å¾— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p><strong>é€šä¿¡</strong>: HTTPï¼ˆå„å®Ÿè£…ãŒè‡ªç”±ã«è¨­è¨ˆï¼‰</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ">ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ<a href="#ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ" class="hash-link" aria-label="ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST /fido2-registration-challenge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;username&quot;: &quot;user@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸€èˆ¬çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹">ä¸€èˆ¬çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹<a href="#ä¸€èˆ¬çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹" class="hash-link" aria-label="ä¸€èˆ¬çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸€èˆ¬çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;challenge&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Y2hhbGxlbmdl...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;rp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Example Service&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;user&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dXNlcjEyMw&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user@example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;displayName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;User Name&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;pubKeyCredParams&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;public-key&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;alg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">-7</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;public-key&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;alg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">-257</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;timeout&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;authenticatorSelection&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;authenticatorAttachment&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;platform&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;residentKey&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;required&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;userVerification&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;required&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;attestation&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;none&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿">ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿<a href="#ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿" class="hash-link" aria-label="ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<table><thead><tr><th>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</th><th>å‹</th><th>èª¬æ˜</th><th>ä¾‹</th></tr></thead><tbody><tr><td><code>challenge</code></td><td>Base64URL</td><td>ãƒ©ãƒ³ãƒ€ãƒ ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼ˆ32ãƒã‚¤ãƒˆä»¥ä¸Šæ¨å¥¨ï¼‰</td><td><code>&quot;Y2hhbGxlbmdl...&quot;</code></td></tr><tr><td><code>rp.id</code></td><td>String</td><td>RPã®ãƒ‰ãƒ¡ã‚¤ãƒ³åï¼ˆãƒ•ã‚£ãƒƒã‚·ãƒ³ã‚°å¯¾ç­–ã®è¦ï¼‰</td><td><code>&quot;example.com&quot;</code></td></tr><tr><td><code>rp.name</code></td><td>String</td><td>RPã®è¡¨ç¤ºå</td><td><code>&quot;Example Service&quot;</code></td></tr><tr><td><code>user.id</code></td><td>Base64URL</td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆãƒã‚¤ãƒŠãƒªã€ãƒ¦ãƒ¼ã‚¶ãƒ¼è­˜åˆ¥ã®è¦ï¼‰</td><td><code>&quot;dXNlcjEyMw&quot;</code></td></tr><tr><td><code>user.name</code></td><td>String</td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼è­˜åˆ¥å­</td><td><code>&quot;user@example.com&quot;</code></td></tr><tr><td><code>user.displayName</code></td><td>String</td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡¨ç¤ºå</td><td><code>&quot;User Name&quot;</code></td></tr><tr><td><code>pubKeyCredParams</code></td><td>Array</td><td>è¨±å¯ã™ã‚‹ç½²åã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </td><td>ES256(-7), RS256(-257)</td></tr><tr><td><code>timeout</code></td><td>Number</td><td>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆãƒŸãƒªç§’ï¼‰</td><td><code>60000</code></td></tr><tr><td><code>authenticatorSelection.authenticatorAttachment</code></td><td>String</td><td>èªè¨¼å™¨ã‚¿ã‚¤ãƒ—åˆ¶ç´„</td><td><code>&quot;platform&quot;</code> / <code>&quot;cross-platform&quot;</code> / null</td></tr><tr><td><code>authenticatorSelection.residentKey</code></td><td>String</td><td>Resident Keyè¦ä»¶</td><td><code>&quot;required&quot;</code> / <code>&quot;preferred&quot;</code> / <code>&quot;discouraged&quot;</code></td></tr><tr><td><code>authenticatorSelection.userVerification</code></td><td>String</td><td>User Verificationè¦ä»¶</td><td><code>&quot;required&quot;</code> / <code>&quot;preferred&quot;</code> / <code>&quot;discouraged&quot;</code></td></tr><tr><td><code>attestation</code></td><td>String</td><td>Attestationè¦ä»¶</td><td><code>&quot;none&quot;</code> / <code>&quot;indirect&quot;</code> / <code>&quot;direct&quot;</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶<a href="#ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶" class="hash-link" aria-label="ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul>
<li>âœ… <code>challenge</code>ã¯æš—å·å­¦çš„ã«å®‰å…¨ãªãƒ©ãƒ³ãƒ€ãƒ å€¤ï¼ˆ32ãƒã‚¤ãƒˆä»¥ä¸Šæ¨å¥¨ï¼‰</li>
<li>âœ… ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’ä¸€æ™‚ä¿å­˜ï¼ˆæ¤œè¨¼æ™‚ã«ä½¿ç”¨ã€1å›ã®ã¿æœ‰åŠ¹ï¼‰</li>
<li>âœ… <code>user.id</code>ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ä¸€æ„ï¼ˆå€‹äººè­˜åˆ¥æƒ…å ±ã‚’å«ã¾ãªã„æ¨å¥¨ï¼‰</li>
<li>âœ… ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã®æœ‰åŠ¹æœŸé™ã‚’è¨­å®šï¼ˆä¾‹: 2åˆ†ï¼‰</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-browser--authenticator-webauthn-apiå‘¼ã³å‡ºã—">â‘¡ Browser â†’ Authenticator: WebAuthn APIå‘¼ã³å‡ºã—<a href="#-browser--authenticator-webauthn-apiå‘¼ã³å‡ºã—" class="hash-link" aria-label="â‘¡ Browser â†’ Authenticator: WebAuthn APIå‘¼ã³å‡ºã— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="â‘¡ Browser â†’ Authenticator: WebAuthn APIå‘¼ã³å‡ºã— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p><strong>é€šä¿¡</strong>: WebAuthn APIï¼ˆW3Cæ¨™æº–ï¼‰</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="javascriptã‚³ãƒ¼ãƒ‰">JavaScriptã‚³ãƒ¼ãƒ‰<a href="#javascriptã‚³ãƒ¼ãƒ‰" class="hash-link" aria-label="JavaScriptã‚³ãƒ¼ãƒ‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="JavaScriptã‚³ãƒ¼ãƒ‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// â‘  ã§å–å¾—ã—ãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¤‰æ›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> publicKeyOptions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">challenge</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">base64UrlToBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serverResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">challenge</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">rp</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> serverResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">rp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">user</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">base64UrlToBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serverResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> serverResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">displayName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> serverResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">displayName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">pubKeyCredParams</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> serverResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">pubKeyCredParams</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">timeout</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> serverResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">timeout</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">authenticatorSelection</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> serverResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">authenticatorSelection</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">attestation</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> serverResponse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">attestation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// WebAuthn APIå‘¼ã³å‡ºã—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> credential </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">navigator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">credentials</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">publicKey</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> publicKeyOptions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browserã‹ã‚‰èªè¨¼å™¨ã¸æ¸¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿">Browserã‹ã‚‰èªè¨¼å™¨ã¸æ¸¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿<a href="#browserã‹ã‚‰èªè¨¼å™¨ã¸æ¸¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿" class="hash-link" aria-label="Browserã‹ã‚‰èªè¨¼å™¨ã¸æ¸¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Browserã‹ã‚‰èªè¨¼å™¨ã¸æ¸¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<table><thead><tr><th>ãƒ‡ãƒ¼ã‚¿</th><th>èª¬æ˜</th><th>ç”±æ¥</th></tr></thead><tbody><tr><td><code>rp.id</code></td><td>RPã®ãƒ‰ãƒ¡ã‚¤ãƒ³å</td><td>ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å—é ˜</td></tr><tr><td><code>rp.name</code></td><td>RPã®è¡¨ç¤ºå</td><td>ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å—é ˜</td></tr><tr><td><code>user.id</code></td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆãƒã‚¤ãƒŠãƒªï¼‰</td><td>ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å—é ˜</td></tr><tr><td><code>user.name</code></td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼è­˜åˆ¥å­</td><td>ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å—é ˜</td></tr><tr><td><code>user.displayName</code></td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡¨ç¤ºå</td><td>ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å—é ˜</td></tr><tr><td><code>clientDataHash</code></td><td>clientDataJSONã®SHA-256ãƒãƒƒã‚·ãƒ¥</td><td>Browserå†…éƒ¨ã§ç”Ÿæˆ</td></tr><tr><td><code>authenticatorSelection</code></td><td>èªè¨¼å™¨é¸æŠåŸºæº–</td><td>ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å—é ˜</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clientdatajsonã®å†…å®¹">clientDataJSONã®å†…å®¹<a href="#clientdatajsonã®å†…å®¹" class="hash-link" aria-label="clientDataJSONã®å†…å®¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="clientDataJSONã®å†…å®¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;webauthn.create&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;challenge&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Y2hhbGxlbmdl...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;origin&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;crossOrigin&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>é‡è¦</strong>: Browserã¯<code>clientDataJSON</code>ã‚’è‡ªå‹•ç”Ÿæˆã—ã€ãã®SHA-256ãƒãƒƒã‚·ãƒ¥ã‚’èªè¨¼å™¨ã«æ¸¡ã—ã¾ã™ã€‚é–‹ç™ºè€…ã¯<code>clientDataJSON</code>ã‚’ç›´æ¥æ§‹ç¯‰ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-authenticatorå†…éƒ¨-éµãƒšã‚¢ç”Ÿæˆã¨attestationä½œæˆ">â‘¢ Authenticatorå†…éƒ¨: éµãƒšã‚¢ç”Ÿæˆã¨Attestationä½œæˆ<a href="#-authenticatorå†…éƒ¨-éµãƒšã‚¢ç”Ÿæˆã¨attestationä½œæˆ" class="hash-link" aria-label="â‘¢ Authenticatorå†…éƒ¨: éµãƒšã‚¢ç”Ÿæˆã¨Attestationä½œæˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="â‘¢ Authenticatorå†…éƒ¨: éµãƒšã‚¢ç”Ÿæˆã¨Attestationä½œæˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p><strong>èªè¨¼å™¨ã®å‡¦ç†</strong> (FIDO CTAPä»•æ§˜æº–æ‹ ):</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œè¨¼user-verification">1. ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œè¨¼ï¼ˆUser Verificationï¼‰<a href="#1-ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œè¨¼user-verification" class="hash-link" aria-label="1. ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œè¨¼ï¼ˆUser Verificationï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="1. ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œè¨¼ï¼ˆUser Verificationï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<table><thead><tr><th>è¨­å®šå€¤</th><th>å‹•ä½œ</th></tr></thead><tbody><tr><td><code>userVerification=&quot;required&quot;</code></td><td>ç”Ÿä½“èªè¨¼ã¾ãŸã¯PINå…¥åŠ›ã‚’<strong>å¿…é ˆ</strong>ã¨ã™ã‚‹</td></tr><tr><td><code>userVerification=&quot;preferred&quot;</code></td><td>å¯èƒ½ãªã‚‰æ¤œè¨¼ã€ä¸å¯èƒ½ãªã‚‰ã‚¹ã‚­ãƒƒãƒ—</td></tr><tr><td><code>userVerification=&quot;discouraged&quot;</code></td><td>æ¤œè¨¼ãªã—ï¼ˆã‚¿ãƒƒãƒ—ã®ã¿ï¼‰</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-éµãƒšã‚¢ç”Ÿæˆ">2. éµãƒšã‚¢ç”Ÿæˆ<a href="#2-éµãƒšã‚¢ç”Ÿæˆ" class="hash-link" aria-label="2. éµãƒšã‚¢ç”Ÿæˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="2. éµãƒšã‚¢ç”Ÿæˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul>
<li><code>pubKeyCredParams</code>ã§æŒ‡å®šã•ã‚ŒãŸã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§éµãƒšã‚¢ç”Ÿæˆï¼ˆä¾‹: ES256ï¼‰</li>
<li>ç§˜å¯†éµã¯èªè¨¼å™¨å†…éƒ¨ã®Secure Elementã«å®‰å…¨ã«ä¿ç®¡</li>
<li>å…¬é–‹éµã¯RP Serverã«é€ä¿¡</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-credential-idç”Ÿæˆ">3. Credential IDç”Ÿæˆ<a href="#3-credential-idç”Ÿæˆ" class="hash-link" aria-label="3. Credential IDç”Ÿæˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="3. Credential IDç”Ÿæˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul>
<li>ãƒ©ãƒ³ãƒ€ãƒ ãªä¸€æ„è­˜åˆ¥å­ã‚’ç”Ÿæˆ</li>
<li>èªè¨¼æ™‚ã«Credentialã‚’ç‰¹å®šã™ã‚‹ãŸã‚ã«ä½¿ç”¨</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-resident-keydiscoverable-credentialå‡¦ç†">4. Resident Keyï¼ˆDiscoverable Credentialï¼‰å‡¦ç†<a href="#4-resident-keydiscoverable-credentialå‡¦ç†" class="hash-link" aria-label="4. Resident Keyï¼ˆDiscoverable Credentialï¼‰å‡¦ç† ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="4. Resident Keyï¼ˆDiscoverable Credentialï¼‰å‡¦ç† ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<table><thead><tr><th>è¨­å®šå€¤</th><th>å‹•ä½œ</th></tr></thead><tbody><tr><td><code>residentKey=&quot;required&quot;</code></td><td><code>user.id</code>ã€<code>user.name</code>ã€<code>rpId</code>ã‚’èªè¨¼å™¨å†…éƒ¨ã«<strong>ä¿å­˜</strong></td></tr><tr><td><code>residentKey=&quot;preferred&quot;</code></td><td>å¯èƒ½ãªã‚‰ä¿å­˜ã€ä¸å¯èƒ½ãªã‚‰ã‚¹ã‚­ãƒƒãƒ—</td></tr><tr><td><code>residentKey=&quot;discouraged&quot;</code></td><td>ä¿å­˜ã—ãªã„</td></tr></tbody></table>
<p><strong>ç”¨é€”</strong>: <code>residentKey=&quot;required&quot;</code>ã®å ´åˆã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ¬ã‚¹ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼åå…¥åŠ›ä¸è¦ï¼‰ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-attestation-statementä½œæˆ">5. Attestation Statementä½œæˆ<a href="#5-attestation-statementä½œæˆ" class="hash-link" aria-label="5. Attestation Statementä½œæˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="5. Attestation Statementä½œæˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<table><thead><tr><th>è¨­å®šå€¤</th><th>å‹•ä½œ</th></tr></thead><tbody><tr><td><code>attestation=&quot;none&quot;</code></td><td>Attestation Statementã‚’çœç•¥ï¼ˆæœ€ã‚‚ä¸€èˆ¬çš„ï¼‰</td></tr><tr><td><code>attestation=&quot;indirect&quot;</code></td><td>åŒ¿ååŒ–ã•ã‚ŒãŸAttestation</td></tr><tr><td><code>attestation=&quot;direct&quot;</code></td><td>èªè¨¼å™¨ã®è¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³ä»˜ãAttestation</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-authenticator--browser-attestation-responseè¿”å´">â‘£ Authenticator â†’ Browser: Attestation Responseè¿”å´<a href="#-authenticator--browser-attestation-responseè¿”å´" class="hash-link" aria-label="â‘£ Authenticator â†’ Browser: Attestation Responseè¿”å´ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="â‘£ Authenticator â†’ Browser: Attestation Responseè¿”å´ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p><strong>èªè¨¼å™¨ãŒBrowserã«è¿”ã™ãƒ‡ãƒ¼ã‚¿</strong>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// credential.response ã®å†…å®¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">attestationObject</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">ArrayBuffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// CBORå½¢å¼ã®ãƒã‚¤ãƒŠãƒª</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">clientDataJSON</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">ArrayBuffer</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// JSONæ–‡å­—åˆ—ã®ãƒã‚¤ãƒŠãƒª</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="attestationobject-ã®å†…å®¹cborå½¢å¼">attestationObject ã®å†…å®¹ï¼ˆCBORå½¢å¼ï¼‰<a href="#attestationobject-ã®å†…å®¹cborå½¢å¼" class="hash-link" aria-label="attestationObject ã®å†…å®¹ï¼ˆCBORå½¢å¼ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="attestationObject ã®å†…å®¹ï¼ˆCBORå½¢å¼ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;fmt&quot;: &quot;none&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;authData&quot;: &lt;ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;attStmt&quot;: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="authdata-ã®æ§‹é€ 37ãƒã‚¤ãƒˆä»¥ä¸Š">authData ã®æ§‹é€ ï¼ˆ37ãƒã‚¤ãƒˆä»¥ä¸Šï¼‰<a href="#authdata-ã®æ§‹é€ 37ãƒã‚¤ãƒˆä»¥ä¸Š" class="hash-link" aria-label="authData ã®æ§‹é€ ï¼ˆ37ãƒã‚¤ãƒˆä»¥ä¸Šï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="authData ã®æ§‹é€ ï¼ˆ37ãƒã‚¤ãƒˆä»¥ä¸Šï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<table><thead><tr><th>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</th><th>ã‚µã‚¤ã‚º</th><th>èª¬æ˜</th></tr></thead><tbody><tr><td>rpIdHash</td><td>32ãƒã‚¤ãƒˆ</td><td>rpIdã®SHA-256ãƒãƒƒã‚·ãƒ¥ï¼ˆãƒ•ã‚£ãƒƒã‚·ãƒ³ã‚°æ¤œ å‡ºã«ä½¿ç”¨ï¼‰</td></tr><tr><td>flags</td><td>1ãƒã‚¤ãƒˆ</td><td>UP, UV, AT, BE, BSç­‰ã®ãƒ•ãƒ©ã‚°</td></tr><tr><td>signCount</td><td>4ãƒã‚¤ãƒˆ</td><td>ç½²åã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ï¼ˆã‚¯ãƒ­ãƒ¼ãƒ³æ¤œå‡ºã«ä½¿ç”¨ï¼‰</td></tr><tr><td>attestedCredentialData</td><td>å¯å¤‰é•·</td><td>aaguid + credentialIdLength + credentialId + credentialPublicKey</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flags1ãƒã‚¤ãƒˆã®å†…è¨³">flagsï¼ˆ1ãƒã‚¤ãƒˆï¼‰ã®å†…è¨³<a href="#flags1ãƒã‚¤ãƒˆã®å†…è¨³" class="hash-link" aria-label="flagsï¼ˆ1ãƒã‚¤ãƒˆï¼‰ã®å†…è¨³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="flagsï¼ˆ1ãƒã‚¤ãƒˆï¼‰ã®å†…è¨³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<table><thead><tr><th>ãƒ“ãƒƒãƒˆ</th><th>åç§°</th><th>èª¬æ˜</th></tr></thead><tbody><tr><td>bit 0</td><td>UP (User Present)</td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¿ãƒƒãƒ—ã—ãŸï¼ˆç‰©ç†çš„å­˜åœ¨ç¢ºèªï¼‰</td></tr><tr><td>bit 2</td><td>UV (User Verified)</td><td>ç”Ÿä½“èªè¨¼ã¾ãŸã¯PINå…¥åŠ›ãŒå®Œäº†</td></tr><tr><td>bit 6</td><td>AT (Attested Credential Data)</td><td>attestedCredentialDataãŒå«ã¾ã‚Œã‚‹ï¼ˆç™»éŒ²æ™‚ã¯å¸¸ã«1ï¼‰</td></tr><tr><td>bit 3</td><td>BE (Backup Eligibility)</td><td>ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å¯èƒ½ï¼ˆLevel 3ã§è¿½åŠ ï¼‰</td></tr><tr><td>bit 4</td><td>BS (Backup State)</td><td>ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¸ˆã¿ï¼ˆLevel 3ã§è¿½åŠ ï¼‰</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="attestedcredentialdata-ã®æ§‹é€ ">attestedCredentialData ã®æ§‹é€ <a href="#attestedcredentialdata-ã®æ§‹é€ " class="hash-link" aria-label="attestedCredentialData ã®æ§‹é€  ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="attestedCredentialData ã®æ§‹é€  ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aaguid (16 bytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ èªè¨¼å™¨ãƒ¢ãƒ‡ãƒ«è­˜åˆ¥å­</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">credentialIdLength (2 bytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">credentialId (credentialIdLength bytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ Credentialä¸€æ„è­˜åˆ¥å­</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">credentialPublicKey (COSEå½¢å¼ã€å¯å¤‰é•·)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ å…¬é–‹éµï¼ˆES256ã®å ´åˆã¯ç´„77ãƒã‚¤ãƒˆï¼‰</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿-1">ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿<a href="#ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿-1" class="hash-link" aria-label="ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<table><thead><tr><th>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</th><th>èª¬æ˜</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>credentialId</code></td><td>Credentialä¸€æ„è­˜åˆ¥å­</td><td>èªè¨¼æ™‚ã®æŒ‡å®šã«ä½¿ç”¨</td></tr><tr><td><code>credentialPublicKey</code></td><td>å…¬é–‹éµï¼ˆCOSEå½¢å¼ï¼‰</td><td>ç½²åæ¤œè¨¼ã«ä½¿ç”¨</td></tr><tr><td><code>flags.UP</code></td><td>User Presentï¼ˆã‚¿ãƒƒãƒ—ç¢ºèªï¼‰</td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç‰©ç†çš„å­˜åœ¨ç¢ºèª</td></tr><tr><td><code>flags.UV</code></td><td>User Verifiedï¼ˆç”Ÿä½“èªè¨¼/PINï¼‰</td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼æœ¬äººç¢ºèª</td></tr><tr><td><code>flags.AT</code></td><td>Attested Credential Dataå­˜åœ¨ãƒ•ãƒ©ã‚°</td><td>ç™»éŒ²æ™‚ã¯å¸¸ã«1</td></tr><tr><td><code>aaguid</code></td><td>èªè¨¼å™¨ãƒ¢ãƒ‡ãƒ«è­˜åˆ¥å­</td><td>èªè¨¼å™¨ã®ç¨®é¡è­˜åˆ¥</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-rp-javascript--rp-server-attestationé€ä¿¡">â‘¤ RP JavaScript â†’ RP Server: Attestationé€ä¿¡<a href="#-rp-javascript--rp-server-attestationé€ä¿¡" class="hash-link" aria-label="â‘¤ RP JavaScript â†’ RP Server: Attestationé€ä¿¡ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="â‘¤ RP JavaScript â†’ RP Server: Attestationé€ä¿¡ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p><strong>é€šä¿¡</strong>: HTTPï¼ˆå„å®Ÿè£…ãŒè‡ªç”±ã«è¨­è¨ˆï¼‰</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ-1">ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ<a href="#ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ-1" class="hash-link" aria-label="ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST /fido2-registration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: &quot;credential_id_base64url&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rawId&quot;: &quot;credential_id_base64url&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;type&quot;: &quot;public-key&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;response&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;clientDataJSON&quot;: &quot;eyJ0eXBlIjoid2ViYXV0aG4uY3JlYXRlIi...&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;attestationObject&quot;: &quot;o2NmbXRkbm9uZWdhdHRTdG10oGhhdXRoRGF0YVi...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="javascriptã‚³ãƒ¼ãƒ‰ä¾‹">JavaScriptã‚³ãƒ¼ãƒ‰ä¾‹<a href="#javascriptã‚³ãƒ¼ãƒ‰ä¾‹" class="hash-link" aria-label="JavaScriptã‚³ãƒ¼ãƒ‰ä¾‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="JavaScriptã‚³ãƒ¼ãƒ‰ä¾‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ArrayBufferã‚’Base64URLã«å¤‰æ›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bufferToBase64Url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bytes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Uint8Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> binary </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> bytes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    binary </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token known-class-name class-name">String</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">fromCharCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bytes</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">btoa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">binary</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex special-escape escape" style="color:#36acaa">\+</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-flags" style="color:#36acaa">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex escape" style="color:#36acaa">\/</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-flags" style="color:#36acaa">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;_&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">=</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-flags" style="color:#36acaa">g</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Credentialé€ä¿¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/fido2-registration&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;POST&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">headers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string-property property" style="color:#36acaa">&#x27;Content-Type&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;application/json&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">body</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> credential</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">rawId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bufferToBase64Url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">credential</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">rawId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> credential</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">response</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">clientDataJSON</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bufferToBase64Url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">credential</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">clientDataJSON</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">attestationObject</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bufferToBase64Url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">credential</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">attestationObject</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿-2">ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿<a href="#ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿-2" class="hash-link" aria-label="ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<table><thead><tr><th>ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</th><th>å‹</th><th>èª¬æ˜</th></tr></thead><tbody><tr><td><code>id</code></td><td>String</td><td>Credential IDï¼ˆBase64URLï¼‰</td></tr><tr><td><code>rawId</code></td><td>String</td><td>Credential IDï¼ˆBase64URLã€idã¨åŒã˜ï¼‰</td></tr><tr><td><code>type</code></td><td>String</td><td>å¸¸ã« <code>&quot;public-key&quot;</code></td></tr><tr><td><code>response.clientDataJSON</code></td><td>String</td><td>clientDataJSONã®Base64URL</td></tr><tr><td><code>response.attestationObject</code></td><td>String</td><td>attestationObjectã®Base64URL</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-rp-serverå†…éƒ¨-ã‚µãƒ¼ãƒãƒ¼å´æ¤œè¨¼">â‘¥ RP Serverå†…éƒ¨: ã‚µãƒ¼ãƒãƒ¼å´æ¤œè¨¼<a href="#-rp-serverå†…éƒ¨-ã‚µãƒ¼ãƒãƒ¼å´æ¤œè¨¼" class="hash-link" aria-label="â‘¥ RP Serverå†…éƒ¨: ã‚µãƒ¼ãƒãƒ¼å´æ¤œè¨¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="â‘¥ RP Serverå†…éƒ¨: ã‚µãƒ¼ãƒãƒ¼å´æ¤œè¨¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p><strong>æ¤œè¨¼é …ç›®</strong>ï¼ˆW3Cä»•æ§˜ Section 7.1æº–æ‹ ï¼‰:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-clientdatajsonæ¤œè¨¼">1. clientDataJSONæ¤œè¨¼<a href="#1-clientdatajsonæ¤œè¨¼" class="hash-link" aria-label="1. clientDataJSONæ¤œè¨¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="1. clientDataJSONæ¤œè¨¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">âœ… type ãŒ &quot;webauthn.create&quot; ã§ã‚ã‚‹ã“ã¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ… challenge ãŒä¿å­˜æ¸ˆã¿ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã¨ä¸€è‡´ã™ã‚‹ã“ã¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ… origin ãŒè¨±å¯ãƒªã‚¹ãƒˆã«å«ã¾ã‚Œã‚‹ã“ã¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ… crossOrigin ãŒ false ã§ã‚ã‚‹ã“ã¨ï¼ˆSame Originæ¤œè¨¼ï¼‰</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-attestationobjectæ¤œè¨¼">2. attestationObjectæ¤œè¨¼<a href="#2-attestationobjectæ¤œè¨¼" class="hash-link" aria-label="2. attestationObjectæ¤œè¨¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="2. attestationObjectæ¤œè¨¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">âœ… authData.rpIdHash ãŒ rpId ã®SHA-256ãƒãƒƒã‚·ãƒ¥ã¨ä¸€è‡´ã™ã‚‹ã“ã¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ… authData.flags.UP ãŒ 1ï¼ˆUser Presentï¼‰ã§ã‚ã‚‹ã“ã¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ… authData.flags.UV ãŒè¦æ±‚é€šã‚Šï¼ˆuserVerification=&quot;required&quot;ã®å ´åˆï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ… authData.flags.AT ãŒ 1ï¼ˆAttested Credential Dataå­˜åœ¨ï¼‰</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>rpIdHashæ¤œè¨¼ã®é‡è¦æ€§</strong>:</p>
<ul>
<li>ãƒ•ã‚£ãƒƒã‚·ãƒ³ã‚°æ”»æ’ƒé˜²æ­¢ã®è¦</li>
<li>æ”»æ’ƒè€…ãŒåˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ç™»éŒ²ã—ãŸéµã‚’RPã«é€ä¿¡ã—ã¦ã‚‚ã€rpIdHashãŒä¸€è‡´ã—ãªã„ãŸã‚æ¤œè¨¼å¤±æ•—</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-å…¬é–‹éµæŠ½å‡ºã¨ä¿å­˜">3. å…¬é–‹éµæŠ½å‡ºã¨ä¿å­˜<a href="#3-å…¬é–‹éµæŠ½å‡ºã¨ä¿å­˜" class="hash-link" aria-label="3. å…¬é–‹éµæŠ½å‡ºã¨ä¿å­˜ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="3. å…¬é–‹éµæŠ½å‡ºã¨ä¿å­˜ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">âœ… attestedCredentialData ã‹ã‚‰ credentialId ã¨ credentialPublicKey ã‚’æŠ½å‡º</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ï¼ˆuser_id, credential_id, public_key, sign_countç­‰ï¼‰</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-attestation-statementæ¤œè¨¼attestation--noneã®å ´åˆ">4. Attestation Statementæ¤œè¨¼ï¼ˆ<code>attestation != &quot;none&quot;</code>ã®å ´åˆï¼‰<a href="#4-attestation-statementæ¤œè¨¼attestation--noneã®å ´åˆ" class="hash-link" aria-label="4-attestation-statementæ¤œè¨¼attestation--noneã®å ´åˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="4-attestation-statementæ¤œè¨¼attestation--noneã®å ´åˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">âœ… èªè¨¼å™¨ã®è¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³æ¤œè¨¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ… FIDO Metadata Serviceã¨ã®ç…§åˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ… ä¿¡é ¼ã§ãã‚‹èªè¨¼å™¨ã‹ã©ã†ã‹ã®åˆ¤å®š</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æ³¨æ„</strong>: <code>attestation=&quot;none&quot;</code>ãŒæœ€ã‚‚ä¸€èˆ¬çš„ã§ã€å¤šãã®RPã¯Attestationæ¤œè¨¼ã‚’çœç•¥ã—ã¦ã„ã¾ã™ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹">ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹<a href="#ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹" class="hash-link" aria-label="ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;status&quot;: &quot;success&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;credential_id&quot;: &quot;credential_id_base64url&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ¨™æº–åŒ–çŠ¶æ³ã¾ã¨ã‚">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ¨™æº–åŒ–çŠ¶æ³ã¾ã¨ã‚<a href="#ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ¨™æº–åŒ–çŠ¶æ³ã¾ã¨ã‚" class="hash-link" aria-label="ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ¨™æº–åŒ–çŠ¶æ³ã¾ã¨ã‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ¨™æº–åŒ–çŠ¶æ³ã¾ã¨ã‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<table><thead><tr><th>IF</th><th>é€šä¿¡</th><th>æ¨™æº–åŒ–çŠ¶æ³</th><th>å‚™è€ƒ</th></tr></thead><tbody><tr><td><strong>â‘  RP Server â†’ RP JavaScript</strong></td><td>HTTP</td><td>âŒ æ¨™æº–åŒ–ãªã—</td><td>å„RPå®Ÿè£…ãŒè‡ªç”±ã«è¨­è¨ˆ</td></tr><tr><td><strong>â‘¡ Browser â†’ Authenticator</strong></td><td>WebAuthn API</td><td>âœ… W3Cæ¨™æº–</td><td><code>navigator.credentials.create()</code></td></tr><tr><td><strong>â‘¢ Authenticatorå†…éƒ¨å‡¦ç†</strong></td><td>-</td><td>âœ… FIDO CTAPä»•æ§˜</td><td>éµãƒšã‚¢ç”Ÿæˆã€User Verification</td></tr><tr><td><strong>â‘£ Authenticator â†’ Browser</strong></td><td>WebAuthn API</td><td>âœ… W3Cæ¨™æº–</td><td>AuthenticatorAttestationResponse</td></tr><tr><td><strong>â‘¤ RP JavaScript â†’ RP Server</strong></td><td>HTTP</td><td>âŒ æ¨™æº–åŒ–ãªã—</td><td>å„RPå®Ÿè£…ãŒè‡ªç”±ã«è¨­è¨ˆ</td></tr><tr><td><strong>â‘¥ RP Serverå†…éƒ¨æ¤œè¨¼</strong></td><td>-</td><td>âœ… W3Cæ¨™æº–ï¼ˆæ¤œè¨¼æ‰‹é †ï¼‰</td><td>Section 7.1ã§æ‰‹é †è¦å®š</td></tr></tbody></table>
<p><strong>é‡è¦ãªçµè«–</strong>:</p>
<ul>
<li>W3C WebAuthnä»•æ§˜ã¯ã€<strong>â‘¡ã€â‘£ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´APIã¨â‘¥ã®æ¤œè¨¼æ‰‹é †ã®ã¿æ¨™æº–åŒ–</strong></li>
<li><strong>â‘ ã€â‘¤ã®RP Serverã¨RP JavaScripté–“ã®é€šä¿¡ã¯æ¨™æº–åŒ–ã•ã‚Œã¦ã„ãªã„</strong></li>
<li>å„RPãŒç‹¬è‡ªã®APIè¨­è¨ˆï¼ˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼‰ã‚’æ¡ç”¨å¯èƒ½</li>
<li>idp-serverã€Googleã€GitHubç­‰ã€å„ã‚µãƒ¼ãƒ“ã‚¹ã§APIè¨­è¨ˆãŒç•°ãªã‚‹</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã¾ã¨ã‚">ã¾ã¨ã‚<a href="#ã¾ã¨ã‚" class="hash-link" aria-label="ã¾ã¨ã‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="  ã¾ã¨ã‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ">é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ<a href="#é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ" class="hash-link" aria-label="é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ol>
<li>
<p><strong>æ¨™æº–åŒ–ã®ç¯„å›²</strong></p>
<ul>
<li>âœ… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´APIï¼ˆâ‘¡ã€â‘£ï¼‰: W3C WebAuthnæ¨™æº–</li>
<li>âœ… èªè¨¼å™¨å‡¦ç†ï¼ˆâ‘¢ï¼‰: FIDO CTAPæ¨™æº–</li>
<li>âœ… æ¤œè¨¼æ‰‹é †ï¼ˆâ‘¥ï¼‰: W3C WebAuthnæ¨™æº–ï¼ˆSection 7.1ï¼‰</li>
<li>âŒ RP Serverã¨RP JavaScripté–“ã®é€šä¿¡ï¼ˆâ‘ ã€â‘¤ï¼‰: æ¨™æº–åŒ–ãªã—</li>
</ul>
</li>
<li>
<p><strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è¦</strong></p>
<ul>
<li><code>challenge</code>: æš—å·å­¦çš„ã«å®‰å…¨ãªãƒ©ãƒ³ãƒ€ãƒ å€¤ï¼ˆ32ãƒã‚¤ãƒˆä»¥ä¸Šï¼‰</li>
<li><code>rpIdHash</code>: ãƒ•ã‚£ãƒƒã‚·ãƒ³ã‚°æ”»æ’ƒé˜²æ­¢</li>
<li><code>origin</code>: Same Originæ¤œè¨¼</li>
<li><code>flags.UP</code>: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç‰©ç†çš„å­˜åœ¨ç¢ºèª</li>
</ul>
</li>
<li>
<p><strong>ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œ</strong></p>
<ul>
<li>ã‚µãƒ¼ãƒãƒ¼ â†’ ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼: challenge, rp, user, pubKeyCredParams</li>
<li>ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ â†’ èªè¨¼å™¨: rp, user, clientDataHash</li>
<li>èªè¨¼å™¨ â†’ ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼: attestationObject, clientDataJSON</li>
<li>ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ â†’ ã‚µãƒ¼ãƒãƒ¼: id, type, response</li>
</ul>
</li>
<li>
<p><strong>å®Ÿè£…ã®è‡ªç”±åº¦</strong></p>
<ul>
<li>â‘ ã€â‘¤ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯RPå®Ÿè£…ã”ã¨ã«ç•°ãªã‚‹</li>
<li>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆåã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åã€HTTPãƒ¡ã‚½ãƒƒãƒ‰ç­‰ã¯è‡ªç”±</li>
<li>WebAuthn4jç­‰ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§æ¤œè¨¼ã‚’ç°¡ç´ åŒ–å¯èƒ½</li>
</ul>
</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‚è€ƒãƒªã‚½ãƒ¼ã‚¹">å‚è€ƒãƒªã‚½ãƒ¼ã‚¹<a href="#å‚è€ƒãƒªã‚½ãƒ¼ã‚¹" class="hash-link" aria-label="å‚è€ƒãƒªã‚½ãƒ¼ã‚¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="å‚è€ƒãƒªã‚½ãƒ¼ã‚¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="w3c-webauthn-level-2ä»•æ§˜">W3C WebAuthn Level 2ä»•æ§˜<a href="#w3c-webauthn-level-2ä»•æ§˜" class="hash-link" aria-label="W3C WebAuthn Level 2ä»•æ§˜ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="W3C WebAuthn Level 2ä»•æ§˜ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul>
<li><strong><a href="https://www.w3.org/TR/webauthn-2/#sctn-api" target="_blank" rel="noopener noreferrer">Section 5. Web Authentication API</a></strong>: Figure 1 Registration Flow</li>
<li><strong><a href="https://www.w3.org/TR/webauthn-2/#sctn-registering-a-new-credential" target="_blank" rel="noopener noreferrer">Section 7.1 Registering a New Credential</a></strong>: æ¤œè¨¼æ‰‹é †è©³ç´°</li>
<li><strong><a href="https://www.w3.org/TR/webauthn-2/#sctn-authenticator-data" target="_blank" rel="noopener noreferrer">Section 6.5 Authenticator Data</a></strong>: authDataæ§‹é€ </li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fidoä»•æ§˜">FIDOä»•æ§˜<a href="#fidoä»•æ§˜" class="hash-link" aria-label="FIDOä»•æ§˜ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="FIDOä»•æ§˜ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul>
<li><strong><a href="https://fidoalliance.org/specs/fido-v2.1-ps-20210615/fido-client-to-authenticator-protocol-v2.1-ps-errata-20220621.html" target="_blank" rel="noopener noreferrer">FIDO CTAP2.1</a></strong>: èªè¨¼å™¨ãƒ—ãƒ­ãƒˆã‚³ãƒ«</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ">é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ<a href="#é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ" class="hash-link" aria-label="é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul>
<li><strong><a href="/idp-server/docs/content_11_learning/fido-webauthn/basic-16-fido2-webauthn-passwordless.md">basic-16: FIDO2ãƒ»WebAuthn ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ¬ã‚¹èªè¨¼</a></strong>: FIDO2/WebAuthnåŸºç¤æ¦‚å¿µ</li>
<li><strong><a href="/idp-server/docs/content_11_learning/fido-webauthn/basic-17-fido2-passkey-discoverable-credential.md">basic-17: FIDO2ãƒ»ãƒ‘ã‚¹ã‚­ãƒ¼ãƒ»Discoverable Credential</a></strong>: Discoverable Credentialã¨Conditional UI</li>
<li><strong><a href="/idp-server/docs/content_11_learning/fido-webauthn/basic-18-fido2-architecture-rp-browser-authenticator.md">basic-18: FIDO2ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ - RPãƒ»Webãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ãƒ»èªè¨¼å™¨ã®é–¢ä¿‚</a></strong>: 4ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¦‚è¦</li>
<li><strong><a href="/idp-server/docs/content_11_learning/fido-webauthn/basic-20-fido2-authentication-flow-interface.md">basic-20: FIDO2 èªè¨¼ãƒ•ãƒ­ãƒ¼ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è©³ç´°</a></strong>: èªè¨¼ãƒ•ãƒ­ãƒ¼è©³ç´°</li>
<li><strong><a href="/idp-server/docs/content_11_learning/fido-webauthn/basic-21-fido2-webauthn-level-specification-evolution.md">basic-21: FIDO2ãƒ»WebAuthnä»•æ§˜ã®å¤‰é·</a></strong>: Level 1 â†’ 2 â†’ 3ã®å¤‰é·</li>
</ul>
<hr>
<p><strong>ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€W3C WebAuthn Level 2ä»•æ§˜ã«åŸºã¥ã„ã¦ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚</strong></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/05-fido-webauthn/fido2-registration-flow-interface.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ã“ã®ãƒšãƒ¼ã‚¸ã‚’ç·¨é›†</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸"><a class="pagination-nav__link pagination-nav__link--prev" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-passkey-discoverable-credential"><div class="pagination-nav__sublabel">å‰ã¸</div><div class="pagination-nav__label">FIDO2ãƒ»ãƒ‘ã‚¹ã‚­ãƒ¼ãƒ»Discoverable Credentialã®åŸºæœ¬</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-webauthn-level-specification-evolution"><div class="pagination-nav__sublabel">æ¬¡ã¸</div><div class="pagination-nav__label">FIDO2ãƒ»WebAuthnä»•æ§˜ã®å¤‰é·ï¼ˆLevel 1 â†’ 2 â†’ 3ï¼‰</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#æ¦‚è¦" class="table-of-contents__link toc-highlight">æ¦‚è¦</a></li><li><a href="#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³" class="table-of-contents__link toc-highlight">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³</a><ul><li><a href="#w3c-webauthnä»•æ§˜ã®æ¨™æº–åŒ–ç¯„å›²" class="table-of-contents__link toc-highlight">W3C WebAuthnä»•æ§˜ã®æ¨™æº–åŒ–ç¯„å›²</a></li></ul></li><li><a href="#-rp-server--rp-javascript-ãƒãƒ£ãƒ¬ãƒ³ã‚¸å–å¾—" class="table-of-contents__link toc-highlight">â‘  RP Server â†’ RP JavaScript: ãƒãƒ£ãƒ¬ãƒ³ã‚¸å–å¾—</a><ul><li><a href="#ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ" class="table-of-contents__link toc-highlight">ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ</a></li><li><a href="#ä¸€èˆ¬çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹" class="table-of-contents__link toc-highlight">ä¸€èˆ¬çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹</a></li><li><a href="#ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿" class="table-of-contents__link toc-highlight">ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</a></li><li><a href="#ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶" class="table-of-contents__link toc-highlight">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶</a></li></ul></li><li><a href="#-browser--authenticator-webauthn-apiå‘¼ã³å‡ºã—" class="table-of-contents__link toc-highlight">â‘¡ Browser â†’ Authenticator: WebAuthn APIå‘¼ã³å‡ºã—</a><ul><li><a href="#javascriptã‚³ãƒ¼ãƒ‰" class="table-of-contents__link toc-highlight">JavaScriptã‚³ãƒ¼ãƒ‰</a></li><li><a href="#browserã‹ã‚‰èªè¨¼å™¨ã¸æ¸¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿" class="table-of-contents__link toc-highlight">Browserã‹ã‚‰èªè¨¼å™¨ã¸æ¸¡ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿</a></li><li><a href="#clientdatajsonã®å†…å®¹" class="table-of-contents__link toc-highlight">clientDataJSONã®å†…å®¹</a></li></ul></li><li><a href="#-authenticatorå†…éƒ¨-éµãƒšã‚¢ç”Ÿæˆã¨attestationä½œæˆ" class="table-of-contents__link toc-highlight">â‘¢ Authenticatorå†…éƒ¨: éµãƒšã‚¢ç”Ÿæˆã¨Attestationä½œæˆ</a><ul><li><a href="#1-ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œè¨¼user-verification" class="table-of-contents__link toc-highlight">1. ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œè¨¼ï¼ˆUser Verificationï¼‰</a></li><li><a href="#2-éµãƒšã‚¢ç”Ÿæˆ" class="table-of-contents__link toc-highlight">2. éµãƒšã‚¢ç”Ÿæˆ</a></li><li><a href="#3-credential-idç”Ÿæˆ" class="table-of-contents__link toc-highlight">3. Credential IDç”Ÿæˆ</a></li><li><a href="#4-resident-keydiscoverable-credentialå‡¦ç†" class="table-of-contents__link toc-highlight">4. Resident Keyï¼ˆDiscoverable Credentialï¼‰å‡¦ç†</a></li><li><a href="#5-attestation-statementä½œæˆ" class="table-of-contents__link toc-highlight">5. Attestation Statementä½œæˆ</a></li></ul></li><li><a href="#-authenticator--browser-attestation-responseè¿”å´" class="table-of-contents__link toc-highlight">â‘£ Authenticator â†’ Browser: Attestation Responseè¿”å´</a><ul><li><a href="#attestationobject-ã®å†…å®¹cborå½¢å¼" class="table-of-contents__link toc-highlight">attestationObject ã®å†…å®¹ï¼ˆCBORå½¢å¼ï¼‰</a></li><li><a href="#authdata-ã®æ§‹é€ 37ãƒã‚¤ãƒˆä»¥ä¸Š" class="table-of-contents__link toc-highlight">authData ã®æ§‹é€ ï¼ˆ37ãƒã‚¤ãƒˆä»¥ä¸Šï¼‰</a></li><li><a href="#flags1ãƒã‚¤ãƒˆã®å†…è¨³" class="table-of-contents__link toc-highlight">flagsï¼ˆ1ãƒã‚¤ãƒˆï¼‰ã®å†…è¨³</a></li><li><a href="#attestedcredentialdata-ã®æ§‹é€ " class="table-of-contents__link toc-highlight">attestedCredentialData ã®æ§‹é€ </a></li><li><a href="#ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿-1" class="table-of-contents__link toc-highlight">ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</a></li></ul></li><li><a href="#-rp-javascript--rp-server-attestationé€ä¿¡" class="table-of-contents__link toc-highlight">â‘¤ RP JavaScript â†’ RP Server: Attestationé€ä¿¡</a><ul><li><a href="#ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ-1" class="table-of-contents__link toc-highlight">ä¸€èˆ¬çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ</a></li><li><a href="#javascriptã‚³ãƒ¼ãƒ‰ä¾‹" class="table-of-contents__link toc-highlight">JavaScriptã‚³ãƒ¼ãƒ‰ä¾‹</a></li><li><a href="#ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿-2" class="table-of-contents__link toc-highlight">ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</a></li></ul></li><li><a href="#-rp-serverå†…éƒ¨-ã‚µãƒ¼ãƒãƒ¼å´æ¤œè¨¼" class="table-of-contents__link toc-highlight">â‘¥ RP Serverå†…éƒ¨: ã‚µãƒ¼ãƒãƒ¼å´æ¤œè¨¼</a><ul><li><a href="#1-clientdatajsonæ¤œè¨¼" class="table-of-contents__link toc-highlight">1. clientDataJSONæ¤œè¨¼</a></li><li><a href="#2-attestationobjectæ¤œè¨¼" class="table-of-contents__link toc-highlight">2. attestationObjectæ¤œè¨¼</a></li><li><a href="#3-å…¬é–‹éµæŠ½å‡ºã¨ä¿å­˜" class="table-of-contents__link toc-highlight">3. å…¬é–‹éµæŠ½å‡ºã¨ä¿å­˜</a></li><li><a href="#4-attestation-statementæ¤œè¨¼attestation--noneã®å ´åˆ" class="table-of-contents__link toc-highlight">4. Attestation Statementæ¤œè¨¼ï¼ˆ<code>attestation != &quot;none&quot;</code>ã®å ´åˆï¼‰</a></li><li><a href="#ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹" class="table-of-contents__link toc-highlight">ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹</a></li></ul></li><li><a href="#ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ¨™æº–åŒ–çŠ¶æ³ã¾ã¨ã‚" class="table-of-contents__link toc-highlight">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ¨™æº–åŒ–çŠ¶æ³ã¾ã¨ã‚</a></li><li><a href="#ã¾ã¨ã‚" class="table-of-contents__link toc-highlight">ã¾ã¨ã‚</a><ul><li><a href="#é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ" class="table-of-contents__link toc-highlight">é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ</a></li></ul></li><li><a href="#å‚è€ƒãƒªã‚½ãƒ¼ã‚¹" class="table-of-contents__link toc-highlight">å‚è€ƒãƒªã‚½ãƒ¼ã‚¹</a><ul><li><a href="#w3c-webauthn-level-2ä»•æ§˜" class="table-of-contents__link toc-highlight">W3C WebAuthn Level 2ä»•æ§˜</a></li><li><a href="#fidoä»•æ§˜" class="table-of-contents__link toc-highlight">FIDOä»•æ§˜</a></li><li><a href="#é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ" class="table-of-contents__link toc-highlight">é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/docs/introduction">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>