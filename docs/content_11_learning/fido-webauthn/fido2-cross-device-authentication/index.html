<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-content_11_learning/fido-webauthn/fido2-cross-device-authentication" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">クロスデバイス認証 | IdP-Server Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/fido-webauthn/fido2-cross-device-authentication"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="クロスデバイス認証 | IdP-Server Documentation"><meta data-rh="true" name="description" content="---"><meta data-rh="true" property="og:description" content="---"><link data-rh="true" rel="icon" href="/idp-server/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/fido-webauthn/fido2-cross-device-authentication"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/fido-webauthn/fido2-cross-device-authentication" hreflang="ja"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_11_learning/fido-webauthn/fido2-cross-device-authentication" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/idp-server/blog/rss.xml" title="IdP-Server Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/idp-server/blog/atom.xml" title="IdP-Server Documentation Atom Feed"><link rel="stylesheet" href="/idp-server/assets/css/styles.f434a3d5.css">
<script src="/idp-server/assets/js/runtime~main.ce89163c.js" defer="defer"></script>
<script src="/idp-server/assets/js/main.f95f19e9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="ナビゲーション" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ナビゲーションバーを開く" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/idp-server/"><div class="navbar__logo"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IdP-Server</b></a><a class="navbar__item navbar__link" href="/idp-server/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/idp-server/docs/content_07_reference/api-reference">Api Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hirokazu-kobayashi-koba-hiro/idp-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ドキュメントのサイドバー" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/introduction">はじめに</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/document-index">ドキュメントガイド</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">製品紹介</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">クイックスタート</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_03_concepts/foundation/concept-01-multi-tenant">コア概念</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">認証・認可プロトコル</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_05_how-to/">How-to（設定・運用レシピ）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_06_developer-guide/">開発者ガイド</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_07_reference/api-reference">リファレンス</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/idp-server/docs/content_11_learning/identity-basics/identity-management-basics">学習（Learning）</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/identity-basics/identity-management-basics">アイデンティティ管理の基礎</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/oauth-fundamentals/modern-web-authz-authn">OAuth 2.0の基礎</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/oauth-tokens/id-token-jwt">OAuth 2.0トークン</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/openid-connect/oauth-oidc-basics">OpenID Connect</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-webauthn-passwordless">FIDO2/WebAuthn</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-webauthn-passwordless">FIDO2・WebAuthn パスワードレス認証</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-architecture-rp-browser-authenticator">FIDO2アーキテクチャ - RP・Webブラウザー・認証器の関係</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-passkey-discoverable-credential">FIDO2・パスキー・Discoverable Credentialの基本</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-registration-flow-interface">FIDO2 登録フローとインターフェース詳細</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-authentication-flow-interface">FIDO2 認証フローとインターフェース詳細</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-webauthn-level-specification-evolution">FIDO2・WebAuthn仕様の変遷（Level 1 → 2 → 3）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-identifiers-idp-integration">FIDO2 識別子とIdP統合 - userId, username, credentialId の関係</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-aaguid-authenticator-identification">AAGUID - 認証器のモデル識別子</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-attestation-types-and-verification">Attestation - 認証器の信頼性証明</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-attestation-production-considerations">商用環境でのアテステーション検証</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-metadata-service">FIDO Metadata Service (MDS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-cross-device-authentication">クロスデバイス認証</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-security-considerations">FIDO2 セキュリティ考慮事項</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-key-management-security">パスキーの鍵管理と安全性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-performance-analysis">FIDO2/WebAuthn パフォーマンス分析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-faq-troubleshooting">FIDO2/WebAuthn FAQ・トラブルシューティング</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/security/glossary">セキュリティ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/multi-tenancy/multi-tenancy-basics">マルチテナント</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/advanced-protocols/ciba-basics">高度なプロトコル</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/http-rest/http-basics">HTTP/REST</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/jwt-jose/jwt-introduction">JWT/JOSE</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/oauth-oidc-rfc/">OAuth/OIDC RFC学習</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/verifiable-credentials/">Verifiable Credentials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/data-formats/">データフォーマット</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/session-management/web-session-basics">セッション管理</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/postgresql/">PostgreSQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/crypto/">暗号化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/kubernetes/">コンテナ/Kubernetes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/linux/">Linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/networking/">ネットワーク</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/jvm/">JVM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/java/">Java</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/os-fundamentals/">OS基礎</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/frameworks/">フレームワーク</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/sdk/">SDK</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/clean-architecture/">クリーンアーキテクチャ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_11_learning/performance-tuning/">パフォーマンス・チューニング</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_08_ops/ops-01-test-strategy">運用（Ops）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_09_project/project-01-faq">プロジェクト</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_10_ai_developer/ai-01-index">AI</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/idp-server/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">学習（Learning）</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">FIDO2/WebAuthn</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">クロスデバイス認証</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><header><h1>クロスデバイス認証</h1></header>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="概要">概要<a href="#概要" class="hash-link" aria-label="概要 への直接リンク" title="概要 への直接リンク">​</a></h2>
<p><strong>クロスデバイス認証</strong>は、あるデバイス（例: PC）で認証を行う際に、別のデバイス（例: スマートフォン）の認証器を使用する仕組みです。</p>
<p><strong>このドキュメントで学べること</strong>:</p>
<ul>
<li>クロスデバイス認証の必要性とユースケース</li>
<li>Hybrid Transport (caBLE) の仕組み</li>
<li>Passkey の同期機構</li>
<li>RP 側の実装考慮事項</li>
<li>トラブルシューティング</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="クロスデバイス認証とは">クロスデバイス認証とは<a href="#クロスデバイス認証とは" class="hash-link" aria-label="クロスデバイス認証とは への直接リンク" title="クロスデバイス認証とは への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="なぜクロスデバイス認証が必要か">なぜクロスデバイス認証が必要か<a href="#なぜクロスデバイス認証が必要か" class="hash-link" aria-label="なぜクロスデバイス認証が必要か への直接リンク" title="なぜクロスデバイス認証が必要か への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    クロスデバイス認証の必要性                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【課題】                                                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  FIDO2 クレデンシャルは通常、登録したデバイスでのみ使用可能                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  例: スマートフォンで登録した Passkey は、そのスマートフォンでしか使えない    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ ユーザーの困りごと                                                    │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │                                                                       │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 「スマホで Passkey を登録したけど、PC からログインしたい」            │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 「会社の PC には認証器がないけど、スマホならある」                    │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 「友人の PC を借りて一時的にログインしたい」                          │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【解決策】                                                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  1. Hybrid Transport (caBLE): 別デバイスの認証器をリモートで使用            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  2. Passkey 同期: クラウド経由で複数デバイスにクレデンシャルを同期           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ユースケース">ユースケース<a href="#ユースケース" class="hash-link" aria-label="ユースケース への直接リンク" title="ユースケース への直接リンク">​</a></h3>
<table><thead><tr><th>シナリオ</th><th>解決方法</th><th>例</th></tr></thead><tbody><tr><td>PC でログイン、認証器はスマホ</td><td>Hybrid Transport</td><td>PC に QR コード表示、スマホでスキャン</td></tr><tr><td>複数デバイスで同じ Passkey を使用</td><td>Passkey 同期</td><td>iCloud Keychain で Mac/iPhone 間で同期</td></tr><tr><td>共有 PC からの一時的なログイン</td><td>Hybrid Transport</td><td>公共 PC からスマホで認証</td></tr><tr><td>新しいデバイスへの移行</td><td>Passkey 同期</td><td>新しい iPhone に Passkey を復元</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hybrid-transport-cable">Hybrid Transport (caBLE)<a href="#hybrid-transport-cable" class="hash-link" aria-label="Hybrid Transport (caBLE) への直接リンク" title="Hybrid Transport (caBLE) への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="概要-1">概要<a href="#概要-1" class="hash-link" aria-label="概要 への直接リンク" title="概要 への直接リンク">​</a></h3>
<p>Hybrid Transport は、WebAuthn Level 2 で追加された transport タイプで、<strong>caBLE (cloud-assisted BLE)</strong> とも呼ばれます。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    Hybrid Transport の仕組み                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【構成要素】                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - クライアントデバイス: 認証を行いたいデバイス（例: PC）                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 認証器デバイス: Passkey を持つデバイス（例: スマートフォン）              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - クラウドリレー: 2つのデバイスを接続するサーバー（Google/Apple 提供）      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【通信経路】                                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌──────────────┐          ┌──────────────┐          ┌──────────────┐      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │    PC        │◄────────►│ クラウド     │◄────────►│ スマートフォン│      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ (ブラウザ)   │  HTTPS    │ リレー      │   HTTPS   │ (認証器)     │      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └──────────────┘          └──────────────┘          └──────────────┘      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         │                                                    ▲              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         │                    BLE (近接確認)                  │              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         └────────────────────────────────────────────────────┘              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【特徴】                                                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - BLE で近接性を確認（フィッシング対策）                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 実際のデータはインターネット経由（BLE の帯域制限を回避）                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - E2E 暗号化（クラウドリレーは中身を見れない）                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="qr-コード認証のフロー">QR コード認証のフロー<a href="#qr-コード認証のフロー" class="hash-link" aria-label="QR コード認証のフロー への直接リンク" title="QR コード認証のフロー への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    QR コード認証フロー                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     PC (クライアント)              スマートフォン (認証器)                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  1. RP が認証を開始          │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │     navigator.credentials.get()                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  2. ブラウザが QR コードを表示                                   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  ┌─────────────────────┐     │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  │ ▄▄▄▄▄▄▄ ▄▄▄▄▄▄▄   │     │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  │ █     █ █     █   │     │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  │ ▀▀▀▀▀▀▀ ▀▀▀▀▀▀▀   │     │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  │   FIDO://...      │     │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  └─────────────────────┘     │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                                │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  3. スマホでスキャン ◄───────┤                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  4. BLE でペアリング情報交換  │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │◄─────────────────────────────►│                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  5. クラウドリレー経由で接続  │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │◄═══════════════════════════════►│                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │         (E2E 暗号化)          │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  6. スマホで生体認証          │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │  ┌─────────────────┐             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │  │ Touch ID で     │             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │  │ 認証しますか？  │             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │  └─────────────────┘             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  7. 署名を返送               │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │◄═════════════════════════════│                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │  8. RP に署名を送信          │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           │                              │                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           ▼                              ▼                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="qr-コードに含まれる情報">QR コードに含まれる情報<a href="#qr-コードに含まれる情報" class="hash-link" aria-label="QR コードに含まれる情報 への直接リンク" title="QR コードに含まれる情報 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FIDO://{base64url encoded data}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">デコード後:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;pk&quot;: &lt;公開鍵&gt;,           // ECDH 用の一時的な公開鍵</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;t&quot;: &lt;tunnel server&gt;,     // クラウドリレーのアドレス</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;r&quot;: &lt;request id&gt;,        // リクエスト識別子</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ble-の役割">BLE の役割<a href="#ble-の役割" class="hash-link" aria-label="BLE の役割 への直接リンク" title="BLE の役割 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    BLE による近接性確認                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【なぜ BLE が必要か】                                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  QR コードだけでは、リモートの攻撃者がスクリーンショットを取得して           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  悪用する可能性がある（フィッシング攻撃）                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  BLE を使うことで「2つのデバイスが物理的に近くにある」ことを確認             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【BLE で交換する情報】                                                       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - ペアリング情報                                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - ノンス（リプレイ攻撃防止）                                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 接続確認                                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【BLE の範囲】                                                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 通常 10m 程度                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 攻撃者が物理的に近くにいない限り、リモート攻撃は困難                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="passkey-の同期">Passkey の同期<a href="#passkey-の同期" class="hash-link" aria-label="Passkey の同期 への直接リンク" title="Passkey の同期 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="プラットフォーム別の同期機構">プラットフォーム別の同期機構<a href="#プラットフォーム別の同期機構" class="hash-link" aria-label="プラットフォーム別の同期機構 への直接リンク" title="プラットフォーム別の同期機構 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    Passkey 同期プラットフォーム                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【Apple - iCloud Keychain】                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 同期範囲: 同じ Apple ID でサインインした Apple デバイス間            │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 対象: iPhone, iPad, Mac                                              │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 暗号化: E2E 暗号化（Apple もアクセス不可）                           │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 要件: 2ファクタ認証が有効な Apple ID                                │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 注意: Windows/Android には同期されない                               │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【Google - Google Password Manager】                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 同期範囲: 同じ Google アカウントでサインインしたデバイス間           │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 対象: Android, Chrome (Windows/Mac/Linux)                           │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 暗号化: E2E 暗号化                                                   │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 要件: 画面ロック設定済みの Android、または Chrome プロファイル       │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 注意: iOS の Chrome では同期されない（Apple の制限）                 │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【Microsoft - Windows Hello】                                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 同期範囲: 限定的（Windows デバイス間）                               │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 対象: Windows 10/11                                                  │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 状況: Passkey 同期は段階的に導入中                                  │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 注意: 現時点では他プラットフォームとの同期なし                       │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └──────────────────────────── ─────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【サードパーティ - パスワードマネージャー】                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 1Password, Dashlane, Bitwarden 等                                   │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 同期範囲: 全プラットフォーム（クロスプラットフォーム）               │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ メリット: プラットフォームに縛られない                               │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ デメリット: 追加のソフトウェアが必要                                 │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="同期の仕組み">同期の仕組み<a href="#同期の仕組み" class="hash-link" aria-label="同期の仕組み への直接リンク" title="同期の仕組み への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    Passkey 同期の仕組み（iCloud Keychain の例）              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────┐                                    ┌─────────────┐        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   iPhone    │                                    │    Mac      │        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │             │                                    │             │        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ ┌─────────┐ │      ┌────────────────────┐       │ ┌─────────┐ │        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ │ Passkey │ │      │   iCloud Keychain  │       │ │ Passkey │ │        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ │ (秘密鍵)│ │◄────►│                    │◄─────►│ │ (秘密鍵)│ │        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ └─────────┘ │      │  E2E 暗号化で保存  │       │ └─────────┘ │        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │             │      │  (Apple も復号不可) │       │             │        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────┘      └────────────────────┘       └─────────────┘        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【同期プロセス】                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  1. iPhone で Passkey を登録                                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  2. 秘密鍵がデバイスの Secure Enclave で生成                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  3. デバイス固有の鍵で暗号化                                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  4. 暗号化されたデータを iCloud にアップロード                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  5. Mac が暗号化データをダウンロード                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  6. Mac のデバイス鍵で復号、Secure Enclave に格納                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【セキュリティ特性】                                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 秘密鍵は常に暗号化された状態でクラウドに保存                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - Apple を含む第三者は秘密鍵にアクセス不可                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - デバイスの生体認証/パスコードで保護                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="同期-vs-非同期-passkey">同期 vs 非同期 Passkey<a href="#同期-vs-非同期-passkey" class="hash-link" aria-label="同期 vs 非同期 Passkey への直接リンク" title="同期 vs 非同期 Passkey への直接リンク">​</a></h3>
<table><thead><tr><th>項目</th><th>同期 Passkey</th><th>非同期 Passkey (Device-bound)</th></tr></thead><tbody><tr><td><strong>保存場所</strong></td><td>クラウド + 複数デバイス</td><td>単一デバイスのみ</td></tr><tr><td><strong>利便性</strong></td><td>高い（複数デバイスで使用可）</td><td>低い（登録デバイスのみ）</td></tr><tr><td><strong>セキュリティ</strong></td><td>クラウドに依存</td><td>デバイスのハードウェアに依存</td></tr><tr><td><strong>リカバリー</strong></td><td>クラウドから復元可能</td><td>復元不可（紛失時は再登録）</td></tr><tr><td><strong>用途</strong></td><td>一般消費者向け</td><td>高セキュリティ環境</td></tr><tr><td><strong>例</strong></td><td>iCloud Keychain, Google</td><td>YubiKey, Windows Hello (TPM)</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rp-側の実装考慮事項">RP 側の実装考慮事項<a href="#rp-側の実装考慮事項" class="hash-link" aria-label="RP 側の実装考慮事項 への直接リンク" title="RP 側の実装考慮事項 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transports-の指定">transports の指定<a href="#transports-の指定" class="hash-link" aria-label="transports の指定 への直接リンク" title="transports の指定 への直接リンク">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 認証リクエスト時の allowCredentials</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">publicKey</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">challenge</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> challenge</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">allowCredentials</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> credentialId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;public-key&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">transports</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;internal&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hybrid&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ← hybrid を含める</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transport-の種類">transport の種類<a href="#transport-の種類" class="hash-link" aria-label="transport の種類 への直接リンク" title="transport の種類 への直接リンク">​</a></h3>
<table><thead><tr><th>transport</th><th>説明</th><th>用途</th></tr></thead><tbody><tr><td><code>internal</code></td><td>プラットフォーム認証器</td><td>Touch ID, Face ID, Windows Hello</td></tr><tr><td><code>usb</code></td><td>USB 接続</td><td>YubiKey (USB)</td></tr><tr><td><code>nfc</code></td><td>NFC 接続</td><td>YubiKey (NFC), スマホ</td></tr><tr><td><code>ble</code></td><td>Bluetooth 接続</td><td>旧式の Bluetooth 認証器</td></tr><tr><td><code>hybrid</code></td><td>クロスデバイス認証</td><td>QR コード + caBLE</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="allowcredentials-の  設計">allowCredentials の設計<a href="#allowcredentials-の設計" class="hash-link" aria-label="allowCredentials の設計 への直接リンク" title="allowCredentials の設計 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    allowCredentials の設計パターン                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【パターン 1: transports を保存・指定】                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 登録時に認証器が返した transports を DB に保存                        │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ 認証時に保存した transports を指定                                    │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │                                                                       │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ メリット: 正確な transport を指定できる                               │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ デメリット: 古いクレデンシャルは transports がない可能性              │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【パターン 2: transports を省略】                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ allowCredentials で transports を指定しない                          │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │                                                                       │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ メリット: ブラウザが自動的に適切な transport を選択                   │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ デメリット: 不要な選択肢が表示される可能性                            │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【パターン 3: 全 transport を指定】                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌─────────────────────────────────────────────────────────────────────┐   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ transports: [&quot;internal&quot;, &quot;usb&quot;, &quot;nfc&quot;, &quot;ble&quot;, &quot;hybrid&quot;]             │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │                                                                       │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ メリット: 全ての認証方法を許可                                        │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ デメリット: パターン 2 と同等                                         │   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └─────────────────────────────────────────────────────────────────────┘   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【推奨】                                                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 登録時に transports を保存                                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 認証時に保存した transports + &quot;hybrid&quot; を指定                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - hybrid を追加することで、クロスデバイス認証を常に許可                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ユーザー体験の最適化">ユーザー体験の最適化<a href="#ユーザー体験の最適化" class="hash-link" aria-label="ユーザー体験の最適化 への直接リンク" title="ユーザー体験の最適化 への直接リンク">​</a></h3>
<table><thead><tr><th>シナリオ</th><th>推奨 UX</th></tr></thead><tbody><tr><td>同じデバイスに Passkey がある</td><td>即座に生体認証を表示</td></tr><tr><td>別デバイスの Passkey のみ</td><td>QR コードを表示、スキャン方法を案内</td></tr><tr><td>複数の認証オプション</td><td>ユーザーに選択させる（Passkey / QR / セキュリティキー）</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="セキュリティ考慮事項">セキュリティ考慮事項<a href="#セキュリティ考慮事項" class="hash-link" aria-label="セキュリティ考慮事項 への直接リンク" title="セキュリティ考慮事項 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="フィッシング耐性">フィッシング耐性<a href="#フィッシング耐性" class="hash-link" aria-label="フィッシング耐性 への直接リンク" title="フィッシ ング耐性 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    Hybrid Transport のフィッシング耐性                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【保護メカニズム】                                                           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  1. BLE による近接性確認                                                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 攻撃者が物理的に近くにい  ない限り、認証は成功しない                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - リモートからの QR コード窃取攻撃を防止                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  2. Origin バインディング                                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 署名対象に RP の origin が含まれる                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - フィッシングサイトの origin では署名が無効                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  3. E2E 暗号化                                                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - クラウドリレーは通信内容を見れない                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     - 中間者攻撃を防止                                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【残存リスク】                                                               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 攻撃者が物理的に近くにいる場合（ソーシャルエンジニアリング）              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - ユーザーが不正なサイトで認証を承認してしまう場合                          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="同期-passkey-のリスク">同期 Passkey のリスク<a href="#同期-passkey-のリスク" class="hash-link" aria-label="同期 Passkey のリスク への直接リンク" title="同期 Passkey のリスク への直接リンク">​</a></h3>
<table><thead><tr><th>リスク</th><th>説明</th><th>緩和策</th></tr></thead><tbody><tr><td><strong>クラウドアカウント侵害</strong></td><td>Apple ID/Google アカウントが侵害されると Passkey も危険</td><td>2FA 必須、セキュリティキーでの保護</td></tr><tr><td><strong>デバイス紛失</strong></td><td>ロック解除されたデバイスからアクセス可能</td><td>強力なパスコード、リモートワイプ</td></tr><tr><td><strong>同期範囲の広がり</strong></td><td>意図しないデバイスに同期される可能性</td><td>同期設定の定期的な確認</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="高セキュリティ環境での考慮">高セキュリティ環境での考慮<a href="#高セキュリティ環境での考慮" class="hash-link" aria-label="高セキュリティ環境での考慮 への直接リンク" title="高セキュリティ環境での考慮 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                    高セキュリティ環境での推奨事項                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────────────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【同期 Passkey を許可しない場合】                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - Attestation で authenticatorAttachment: &quot;cross-platform&quot; を要求         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - ハードウェアセキュリティキー（YubiKey 等）のみを許可                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - AAGUID で許可する認証器を限定                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  【同期 Passkey を許可する場合】                                              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 追加の認証要素を要求（SMS, メール等）                                    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 重要な操作時に再認証を要求                                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  - 登録済みデバイス一覧をユーザーに表示                                      │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="トラブルシューティング">トラブルシューティング<a href="#トラブルシューティング" class="hash-link" aria-label="トラブルシューティング への直接リンク" title="トラブルシューティング への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="qr-コードが表示されない">QR コードが表示されない<a href="#qr-コードが表示されない" class="hash-link" aria-label="QR コードが表示されない への直接リンク" title="QR コードが表示されない への直接リンク">​</a></h3>
<table><thead><tr><th>原因</th><th>対処法</th></tr></thead><tbody><tr><td>ブラウザが Hybrid 非対応</td><td>Chrome, Safari, Edge の最新版を使用</td></tr><tr><td>OS が古い</td><td>macOS 13+, Windows 11+ を使用</td></tr><tr><td>Bluetooth が無効</td><td>Bluetooth を有効化</td></tr><tr><td>セキュリティソフトがブロック</td><td>例外設定を追加</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="接続がタイムアウトする">接続がタイムアウトする<a href="#接続がタイムアウトする" class="hash-link" aria-label="接続がタイムアウトする への直接リンク" title="接続がタイムアウトする への直接リンク">​</a></h3>
<table><thead><tr><th>原因</th><th>対処法</th></tr></thead><tbody><tr><td>Bluetooth が不安定</td><td>デバイスを近づける、他の BLE 機器を離す</td></tr><tr><td>ネットワークの問題</td><td>両デバイスがインターネットに接続されているか確認</td></tr><tr><td>クラウドリレーの障害</td><td>時間をおいて再試行</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="passkey-が同期されない">Passkey が同期されない<a href="#passkey-が同期されない" class="hash-link" aria-label="Passkey が同期されない への直接リンク" title="Passkey が同期されない への直接リンク">​</a></h3>
<table><thead><tr><th>プラットフォーム</th><th>確認事項</th></tr></thead><tbody><tr><td><strong>Apple</strong></td><td>iCloud Keychain が有効か、2FA が有効か、同じ Apple ID か</td></tr><tr><td><strong>Google</strong></td><td>Google Password Manager が有効か、Chrome にサインインしているか</td></tr><tr><td><strong>Windows</strong></td><td>最新の Windows Update が適用されているか</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考リンク">参考リンク<a href="#参考リンク" class="hash-link" aria-label="参考リンク への直接リンク" title="参考リンク への直接リンク">​</a></h2>
<ul>
<li><a href="https://www.w3.org/TR/webauthn-2/#sctn-hybrid-transport" target="_blank" rel="noopener noreferrer">W3C WebAuthn - Client to Authenticator Protocol</a></li>
<li><a href="https://fidoalliance.org/specs/fido-v2.2-rd-20230321/fido-client-to-authenticator-protocol-v2.2-rd-20230321.html" target="_blank" rel="noopener noreferrer">FIDO CTAP 2.2 - Hybrid Transport</a></li>
<li><a href="https://support.apple.com/en-us/HT213305" target="_blank" rel="noopener noreferrer">Apple - About passkeys</a></li>
<li><a href="https://developers.google.com/identity/passkeys" target="_blank" rel="noopener noreferrer">Google - Sign in with passkeys</a></li>
<li><a href="https://learn.microsoft.com/en-us/windows/security/identity-protection/passkeys/" target="_blank" rel="noopener noreferrer">Microsoft - Windows Hello and passkeys</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_11_learning/05-fido-webauthn/fido2-cross-device-authentication.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-metadata-service"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">FIDO Metadata Service (MDS)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/idp-server/docs/content_11_learning/fido-webauthn/fido2-security-considerations"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">FIDO2 セキュリティ考慮事項</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#概要" class="table-of-contents__link toc-highlight">概要</a></li><li><a href="#クロスデバイス認証とは" class="table-of-contents__link toc-highlight">クロスデバイス認証とは</a><ul><li><a href="#なぜクロスデバイス認証が必要か" class="table-of-contents__link toc-highlight">なぜクロスデバイス認証が必要か</a></li><li><a href="#ユースケース" class="table-of-contents__link toc-highlight">ユースケース</a></li></ul></li><li><a href="#hybrid-transport-cable" class="table-of-contents__link toc-highlight">Hybrid Transport (caBLE)</a><ul><li><a href="#概要-1" class="table-of-contents__link toc-highlight">概要</a></li><li><a href="#qr-コード認証のフロー" class="table-of-contents__link toc-highlight">QR コード認証のフロー</a></li><li><a href="#qr-コードに含まれる情報" class="table-of-contents__link toc-highlight">QR コードに含まれる情報</a></li><li><a href="#ble-の役割" class="table-of-contents__link toc-highlight">BLE の役割</a></li></ul></li><li><a href="#passkey-の同期" class="table-of-contents__link toc-highlight">Passkey の同期</a><ul><li><a href="#プラットフォーム別の同期機構" class="table-of-contents__link toc-highlight">プラットフォーム別の同期機構</a></li><li><a href="#同期の仕組み" class="table-of-contents__link toc-highlight">同期の仕組み</a></li><li><a href="#同期-vs-非同期-passkey" class="table-of-contents__link toc-highlight">同期 vs 非同期 Passkey</a></li></ul></li><li><a href="#rp-側の実装考慮事項" class="table-of-contents__link toc-highlight">RP 側の実装考慮事項</a><ul><li><a href="#transports-の指定" class="table-of-contents__link toc-highlight">transports の指定</a></li><li><a href="#transport-の種類" class="table-of-contents__link toc-highlight">transport の種類</a></li><li><a href="#allowcredentials-の設計" class="table-of-contents__link toc-highlight">allowCredentials の設計</a></li><li><a href="#ユーザー体験の最適化" class="table-of-contents__link toc-highlight">ユーザー体験の最適化</a></li></ul></li><li><a href="#セキュリティ考慮事項" class="table-of-contents__link toc-highlight">セキュリティ考慮事項</a><ul><li><a href="#フィッシング耐性" class="table-of-contents__link toc-highlight">フィッシング耐性</a></li><li><a href="#同期-passkey-のリスク" class="table-of-contents__link toc-highlight">同期 Passkey のリスク</a></li><li><a href="#高セキュリティ環境での考慮" class="table-of-contents__link toc-highlight">高セキュリティ環境での考慮</a></li></ul></li><li><a href="#トラブルシューティング" class="table-of-contents__link toc-highlight">トラブルシューティング</a><ul><li><a href="#qr-コードが表示されない" class="table-of-contents__link toc-highlight">QR コードが表示されない</a></li><li><a href="#接続がタイムアウトする" class="table-of-contents__link toc-highlight">接続がタイムアウトする</a></li><li><a href="#passkey-が同期されない" class="table-of-contents__link toc-highlight">Passkey が同期されない</a></li></ul></li><li><a href="#参考リンク" class="table-of-contents__link toc-highlight">参考リンク</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/docs/introduction">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>