<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-content_10_ai_developer/ai-13-control-plane" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">idp-server-control-plane - 管理API契約定義 | IdP-Server Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_10_ai_developer/ai-13-control-plane"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="idp-server-control-plane - 管理API契約定義 | IdP-Server Documentation"><meta data-rh="true" name="description" content="モジュール概要"><meta data-rh="true" property="og:description" content="モジュール概要"><link data-rh="true" rel="icon" href="/idp-server/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_10_ai_developer/ai-13-control-plane"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_10_ai_developer/ai-13-control-plane" hreflang="ja"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_10_ai_developer/ai-13-control-plane" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/idp-server/blog/rss.xml" title="IdP-Server Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/idp-server/blog/atom.xml" title="IdP-Server Documentation Atom Feed"><link rel="stylesheet" href="/idp-server/assets/css/styles.f434a3d5.css">
<script src="/idp-server/assets/js/runtime~main.d90f1070.js" defer="defer"></script>
<script src="/idp-server/assets/js/main.e38f4277.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="ナビゲーション" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ナビゲーションバーを開く" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/idp-server/"><div class="navbar__logo"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IdP-Server</b></a><a class="navbar__item navbar__link" href="/idp-server/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/idp-server/docs/content_07_reference/api-reference">Api Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hirokazu-kobayashi-koba-hiro/idp-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ドキュメントのサイドバー" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/introduction">はじめに</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/document-index">📚 ドキュメント索引</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">製品紹介</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">技術概要</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_01_intro/intro-02-features">機能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_01_intro/intro-03-use-cases">ユースケース一覧</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">クイックスタート</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">Getting-Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_02_quickstart/quickstart-02-setting-templates">初期設定テンプレート（予定）</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_03_concepts/concept-01-multi-tenant">コア概念</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-01-multi-tenant">マ  ルチテナント</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-02-id-management">ID（ユーザー）管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-03-id-verified">身元確認済みID</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-04-enterprise-id">エンタープライズID</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-05-authentication-policy">認証ポリシー</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-06-token-management">トークン管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-07-session-management">セッション管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-08-mfa">多要素認証（MFA）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-09-custom-claims">カスタムクレーム・スコープ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-10-control-plane">コントロールプレーン</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-11-security-events">セキュリティイベント・フック</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-12-authorization">認可</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-13-audit-compliance">監査ログ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-14-grant-management">認可許諾管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-15-operations">運用・保守</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-16-external-service-integration">外部サービス連携</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-17-application-logging">アプリケーションログ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-18-id-token">IDトークン（ID Token）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-19-client">クライアント（Client）</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_03_concepts/basic/basic-01-identity-management-basics">基礎（読み物）</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">認可プロトコル</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">認可コードフロー</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_04_protocols/protocol-02-ciba-flow">CIBA フロー</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_04_protocols/protocol-03-introspection">イントロスペクション</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_05_how-to/index">How-to（設定・運用レシピ）</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/index">How-to ガイド - 学習ロードマップ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-01-server-setup">サーバー初期設定ガイド</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-02-organization-initialization">組織初期化ガイド</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-03-tenant-setup">OIDCの最小設定ガイド</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-04-client-registration">クライアント登録ガイド</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-05-user-registration">ユーザー登録と初回認証</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-07-authentication-policy-basic">認証ポリシー設定ガイド（基礎編）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-08-mfa-setup">MFA（多要素認証）の設定</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-09-token-strategy">トークン有効期限パターン</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-10-authentication-policy-advanced">認証ポリシー設定ガイド（詳細編）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-11-federation-setup">外部IdP連携（Federation）の設定</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-12-ciba-flow-fido-uaf">CIBA + FIDO-UAF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-13-fido-uaf-registration">FIDO-UAF 登録フロー</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-14-fido-uaf-deregistration">FIDO-UAF 解除フロー</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-15-identity-verification-guide">身元確認申込み 導入ガイド</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-16-identity-verification-application">身元確認申込み</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-17-identity-verification-registration">身元確認データ登録</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-18-security-event-hooks">セキュリティイベントフック設定ガイド</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_06_developer-guide/getting-started/service-overview">Developer Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/getting-started/service-overview">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/control-plane/resource-overview">Control Plane（管理API）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/application-plane/overview">Application Plane（認証・認可API）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/overview">Implementation Guides（実装ガイド）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/configuration/CONFIGURATION_COVERAGE">Configuration（設定）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/patterns/common-patterns">Patterns（実装パターン）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/troubleshooting/common-errors">Troubleshooting（トラブルシューティング）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/reference/code-review-checklist">Reference（リファレンス）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/learning-paths/beginner">Learning Paths（学習パス）</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_07_reference/api-reference">リファレンス</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_07_reference/api-reference">API ドキュメント</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_08_ops/ops-01-test-strategy">運用（Ops）</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_08_ops/ops-01-test-strategy">テスト戦略</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_08_ops/ops-02-performance-test">ストレステスト結果</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_08_ops/commercial-deployment/overview">商用デプロイ</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_09_project/project-01-faq">プロジェクト</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_09_project/project-01-faq">project-01-faq</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_09_project/project-02-roadmap">🗺️ ロードマップ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_09_project/project-03-contributing">コントリビュートガイド</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_09_project/project-04-license">License</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/idp-server/docs/content_10_ai_developer/ai-01-index">AI</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-01-index">AI開発者向けモジュールガイド</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-02-lessons-learned">AI開発者向けドキュメント作成ガイド</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-10-use-cases">idp-server-use-cases - ユースケース層（EntryService実装）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-11-core">idp-server-core - OAuth 2.0/OIDC準拠コアエンジン</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-12-platform">idp-server-platform - プラットフォーム基盤</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-13-control-plane">idp-server-control-plane - 管理API契約定義</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-20-adapters">Adapter層 - Repository実装とインフラ統合</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-21-core-adapter">idp-server-core-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-22-database">idp-server-database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-23-springboot-adapter">idp-server-springboot-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-30-extensions">拡張機能層 - OAuth/OIDC拡張仕様</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-31-extension-ciba">idp-server-core-extension-ciba - CIBA拡張</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-32-extension-fapi">idp-server-core-extension-fapi - FAPI拡張</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-33-extension-ida">idp-server-core-extension-ida - IDA拡張</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-34-extension-pkce">idp-server-core-extension-pkce - PKCE拡張</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-35-extension-vc">idp-server-core-extension-verifiable-credentials - VC拡張</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-40-authentication-federation">認証・連携層 - ユーザー認証とフェデレーション</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-41-authentication">idp-server-authentication-interactors - 認証インタラクター</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-42-webauthn">idp-server-webauthn4j-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-43-federation-oidc">idp-server-federation-oidc</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-50-notification-security-event">通知・イベント層 - 通知配信とセキュリティイベント</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-51-notification-fcm">idp-server-notification-fcm-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-52-notification-apns">idp-server-notification-apns-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-53-email-aws">idp-server-email-aws-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-54-security-event-framework">idp-server-security-event-framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-55-security-event-hooks">idp-server-security-event-hooks</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/idp-server/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">AI</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">idp-server-control-plane - 管理API契約定義</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><header><h1>idp-server-control-plane - 管理API契約定義</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="モジュール概要">モジュール概要<a href="#モジュール概要" class="hash-link" aria-label="モジュール概要 への直接リンク" title="モジュール概要 への直接リンク">​</a></h2>
<p><strong>情報源</strong>: <code>libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/</code>
<strong>確認日</strong>: 2025-10-12</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="責務">責務<a href="#責務" class="hash-link" aria-label="責務 への直接リンク" title="責務 への直接リンク">​</a></h3>
<p>Control Plane（管理API）の契約定義層。実装は含まず、インターフェース定義のみ。</p>
<ul>
<li><strong>API契約</strong>: <code>{&#x27;{Domain}ManagementApi&#x27;}</code> インターフェース定義</li>
<li><strong>システムレベル</strong>: テナント単位の管理API</li>
<li><strong>組織レベル</strong>: 組織単位の管理API（<code>{&#x27;Org{Domain}ManagementApi&#x27;}</code>）</li>
<li><strong>権限定義</strong>: <code>default</code>メソッドによる権限自動計算</li>
<li><strong>I/O定義</strong>: Request/Responseデータ構造</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="依存関係">依存関係<a href="#依存関係" class="hash-link" aria-label="依存関係 への直接リンク" title="依存関係 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">idp-server-use-cases → idp-server-control-plane (API契約)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  idp-server-core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  idp-server-platform</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>原則</strong>: Control Planeは契約定義のみ。実装は<code>idp-server-use-cases</code>に配置。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="パッケージ構成">パッケージ構成<a href="#パッケージ構成" class="hash-link" aria-label="パッケージ構成 への直接リンク" title="パッケージ構成 への直接リンク">​</a></h2>
<p><strong>情報源</strong>: <code>find libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane -type d -maxdepth 2</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-management-api-management">🎛️ Management API (<code>management/</code>)<a href="#️-management-api-management" class="hash-link" aria-label="️-management-api-management への直接リンク" title="️-management-api-management への直接リンク">​</a></h3>
<p>テナント管理API群。</p>
<table><thead><tr><th>サブパッケージ</th><th>責務</th></tr></thead><tbody><tr><td><code>oidc/</code></td><td>OAuth/OIDC設定管理</td></tr><tr><td><code>identity/</code></td><td>ユーザー・身元確認管理</td></tr><tr><td><code>authentication/</code></td><td>認証設定管理</td></tr><tr><td><code>security/</code></td><td>セキュリティイベント管理</td></tr><tr><td><code>federation/</code></td><td>フェデレーション設定管理</td></tr><tr><td><code>tenant/</code></td><td>テナント管理</td></tr><tr><td><code>role/</code></td><td>ロール管理</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-admin-api-admin">👤 Admin API (<code>admin/</code>)<a href="#-admin-api-admin" class="hash-link" aria-label="-admin-api-admin への直接リンク" title="-admin-api-admin への直接リンク">​</a></h3>
<p>システム管理者向けAPI。</p>
<table><thead><tr><th>サブパッケージ</th><th>責務</th></tr></thead><tbody><tr><td><code>starter/</code></td><td>初期セットアップAPI</td></tr><tr><td><code>operation/</code></td><td>運用管理API</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-organization-api-organization">🏢 Organization API (<code>organization/</code>)<a href="#-organization-api-organization" class="hash-link" aria-label="-organization-api-organization への直接リンク" title="-organization-api-organization への直接リンク">​</a></h3>
<p>組織管理API。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-base-base">🔧 Base (<code>base/</code>)<a href="#-base-base" class="hash-link" aria-label="-base-base への直接リンク" title="-base-base への直接リンク">​</a></h3>
<p>共通定義・ユーティリティ。</p>
<table><thead><tr><th>内容</th><th>責務</th></tr></thead><tbody><tr><td><code>definition/</code></td><td>権限定義（<code>AdminPermissions</code>等）</td></tr><tr><td><code>AuditLogCreator</code></td><td>監査ログ生成</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api命名パターン">API命名パターン<a href="#api命名パターン" class="hash-link" aria-label="API命名パターン への直接リンク" title="API命名パターン への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="システムレベルapi">システムレベルAPI<a href="#システムレベルapi" class="hash-link" aria-label="システムレベルAPI への直接リンク" title="システムレベルAPI への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{Domain}ManagementApi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>例</strong>:</p>
<ul>
<li><code>ClientManagementApi</code> - クライアント管理</li>
<li><code>UserManagementApi</code> - ユーザー管理</li>
<li><code>AuthorizationServerManagementApi</code> - 認可サーバー管理</li>
<li><code>TenantManagementApi</code> - テナント管理</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="組織レベルapi">組織レベルAPI<a href="#組織レベルapi" class="hash-link" aria-label="組織レベルAPI への直接リンク" title="組織レベルAPI への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Org{Domain}ManagementApi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label=" クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>例</strong>:</p>
<ul>
<li><code>OrgUserManagementApi</code> - 組織ユーザー管理</li>
<li><code>OrgTenantManagementApi</code> - 組織テナント管理</li>
<li><code>OrgRoleManagementApi</code> - 組織ロール管理</li>
<li><code>OrgIdentityVerificationConfigManagementApi</code> - 組織身元確認設定管理</li>
</ul>
<p><strong>重要</strong>: <code>Org</code>プレフィックスで組織レベルを明示。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-interface-パターン">API Interface パターン<a href="#api-interface-パターン" class="hash-link" aria-label="API Interface パターン への直接リンク" title="API Interface パターン への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="システムレベルapi-1">システムレベルAPI<a href="#システムレベルapi-1" class="hash-link" aria-label="システムレベルAPI への直接リンク" title="システムレベルAPI への直接リンク">​</a></h3>
<p><strong>情報源</strong>: <a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/management/oidc/client/ClientManagementApi.java#L34">ClientManagementApi.java:34</a></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * システムレベルAPI契約</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 確認方法: 実ファイルの34-88行目</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface ClientManagementApi {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ defaultメソッド: 権限自動計算（実装不要）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default AdminPermissions getRequiredPermissions(String method) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;String, AdminPermissions&gt; map = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;create&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.CLIENT_CREATE)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;findList&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.CLIENT_READ)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;get&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.CLIENT_READ)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;update&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.CLIENT_UPDATE)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;delete&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.CLIENT_DELETE)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AdminPermissions adminPermissions = map.get(method);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (adminPermissions == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      throw new UnSupportedException(&quot;Method &quot; + method + &quot; not supported&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return adminPermissions;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Create操作: Tenant第一引数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientManagementResponse create(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ClientRegistrationRequest request,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      boolean dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Read操作: findList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientManagementResponse findList(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ClientQueries queries,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      RequestAttributes requestAttributes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Read操作: get（単一取得）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientManagementResponse get(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ClientIdentifier clientIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      RequestAttributes requestAttributes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Update操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientManagementResponse update(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ClientIdentifier clientIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ClientRegistrationRequest request,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      boolean dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Delete操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientManagementResponse delete(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ClientIdentifier clientIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      boolean dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="組織レベルapi-1">組織レベルAPI<a href="#組織レベルapi-1" class="hash-link" aria-label="組織レベルAPI への直接リンク" title="組織レベルAPI への直接リンク">​</a></h3>
<p><strong>情報源</strong>: <a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/management/identity/user/OrgUserManagementApi.java#L75">OrgUserManagementApi.java:75</a></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Organization-level user management API.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;This API provides organization-scoped user management operations that allow organization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * administrators to manage users within their organization boundaries.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;Organization-level operations follow the same access control pattern:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;ol&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *   &lt;li&gt;&lt;strong&gt;Tenant access verification&lt;/strong&gt; - Ensures the user has access to the target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *       tenant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *   &lt;li&gt;&lt;strong&gt;Permission verification&lt;/strong&gt; - Validates the user has necessary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *       DefaultAdminPermission</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;/ol&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;All operations support dry-run functionality for safe preview of changes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;Usage example:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;pre&gt;{@code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * OrgUserManagementApi api = new OrgUserManagementEntryService(...);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * UserManagementResponse response = api.create(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     organizationId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     userRequest,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * if (response.isSuccess()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     // User created successfully</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * }&lt;/pre&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @see UserManagementApi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @see org.idp.server.usecases.control_plane.organization_manager.OrgUserManagementEntryService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 確認方法: 実ファイルの35-80行目</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface OrgUserManagementApi {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ defaultメソッド: 権限自動計算</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default AdminPermissions getRequiredPermissions(String method) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;String, AdminPermissions&gt; map = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;create&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.USER_CREATE)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;findList&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.USER_READ)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;get&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.USER_READ)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;update&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.USER_UPDATE)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;delete&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.USER_DELETE)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return map.getOrDefault(method, AdminPermissions.empty());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Create操作: OrganizationIdentifier → TenantIdentifier の順</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UserManagementResponse create(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UserRegistrationRequest request,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      boolean dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Read操作: findList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UserManagementResponse findList(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UserQueries queries,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      RequestAttributes requestAttributes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Read操作: get</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UserManagementResponse get(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UserIdentifier userIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      RequestAttributes requestAttributes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Update操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UserManagementResponse update(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UserIdentifier userIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UserRegistrationRequest request,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      boolean dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Delete操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UserManagementResponse delete(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UserIdentifier userIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      boolean dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="メソッドシグネチャパターン">メソッドシグネチャパターン<a href="#メソッドシグネチャパターン" class="hash-link" aria-label="メソッドシグネチャパターン への直接リンク" title="メソッドシグネチャパターン への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="crud操作の標準シグネチャ">CRUD操作の標準シグネチャ<a href="#crud操作の標準シグネチャ" class="hash-link" aria-label="CRUD操作の標準シグネチャ への直接リンク" title="CRUD操作の標準シグネチャ への直接リンク">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="create操作">Create操作<a href="#create操作" class="hash-link" aria-label="Create操作 への直接リンク" title="Create操作 への直接リンク">​</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// システムレベル</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response create(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}RegistrationRequest request,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 組織レベル</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response create(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}RegistrationRequest request,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean dryRun);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="read操作リスト取得">Read操作（リスト取得）<a href="#read操作リスト取得" class="hash-link" aria-label="Read操作（リスト取得） への直接リンク" title="Read操作（リスト取得） への直接リンク">​</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// システムレベル</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response findList(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}Queries queries,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestAttributes requestAttributes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 組織レベル</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response findList(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}Queries queries,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestAttributes requestAttributes);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="read操作単一取得">Read操作（単一取得）<a href="#read操作単一取得" class="hash-link" aria-label="Read操作（単一取得） への直接リンク" title="Read操作（単一取得） への直接リンク">​</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// システムレベル</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response get(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}Identifier identifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestAttributes requestAttributes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 組織  レベル</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response get(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}Identifier identifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestAttributes requestAttributes);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="update操作">Update操作<a href="#update操作" class="hash-link" aria-label="Update操作 への直接リンク" title="Update操作 への直接リンク">​</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// システムレベル</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response update(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}Identifier identifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}RegistrationRequest request,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 組織レベル</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response update(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}Identifier identifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}RegistrationRequest request,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean dryRun);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="delete操作">Delete操作<a href="#delete操作" class="hash-link" aria-label="Delete操作 への直接リンク" title="Delete操作 への直接リンク">​</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// システムレベル</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response delete(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}Identifier identifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 組織レベル</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response delete(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthToken oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {Entity}Identifier identifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestAttributes requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean dryRun);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="権限定義パターン">権限定義パターン<a href="#権限定義パターン" class="hash-link" aria-label="権限定義パターン への直接リンク" title="権限定義パターン への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="defaultメソッドによる権限自動計算">defaultメソッドによる権限自動計算<a href="#defaultメソッドによる権限自動計算" class="hash-link" aria-label="defaultメソッドによる権限自動計算 への直接リンク" title="defaultメソッドによる権限自動計算 への直接リンク">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">default AdminPermissions getRequiredPermissions(String method) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Map&lt;String, AdminPermissions&gt; map = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  map.put(&quot;create&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.{ENTITY}_CREATE)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  map.put(&quot;findList&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.{ENTITY}_READ)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  map.put(&quot;get&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.{ENTITY}_READ)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  map.put(&quot;update&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.{ENTITY}_UPDATE)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  map.put(&quot;delete&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.{ENTITY}_DELETE)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return map.getOrDefault(method, AdminPermissions.empty());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>重要</strong>:</p>
<ul>
<li>✅ <code>default</code>メソッドがあるため、<strong>EntryServiceで実装不要</strong></li>
<li>✅ メソッド名（&quot;create&quot;, &quot;update&quot;等）をキーに権限を自動判定</li>
<li>✅ カスタマイズ必要な場合のみオーバーライド</li>
</ul>
<p><strong>情報源</strong>: CLAUDE.md「🚨 Java defaultメソッド実装の重要教訓」</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="defaultadminpermission---標準管理権限">DefaultAdminPermission - 標準管理権限<a href="#defaultadminpermission---標準管理権限" class="hash-link" aria-label="DefaultAdminPermission - 標準管理権限 への直接リンク" title="DefaultAdminPermission - 標準管理権限 への直接リンク">​</a></h3>
<p><strong>情報源</strong>: <a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/base/definition/DefaultAdminPermission.java#L24">DefaultAdminPermission.java:24</a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="権限一覧全37権限">権限一覧（全37権限）<a href="#権限一覧全37権限" class="hash-link" aria-label="権限一覧（全37権限） への直接リンク" title="権限一覧（全37権限） への直接リンク">​</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 標準管理権限列挙型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 確認方法: 実ファイルの24-119行目</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public enum DefaultAdminPermission {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 組織権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ORGANIZATION_CREATE(&quot;organization:create&quot;, &quot;Admin Create a organization&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ORGANIZATION_READ(&quot;organization:read&quot;, &quot;Admin Read organization information&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ORGANIZATION_UPDATE(&quot;organization:update&quot;, &quot;Admin Update organization&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ORGANIZATION_DELETE(&quot;organization:delete&quot;, &quot;Admin Delete organization&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // テナント招待権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TENANT_INVITATION_CREATE(&quot;tenant-invitation:create&quot;, &quot;Admin Create a tenant-invitation&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TENANT_INVITATION_READ(&quot;tenant-invitation:read&quot;, &quot;Admin Read tenant-invitation information&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TENANT_INVITATION_UPDATE(&quot;tenant-invitation:update&quot;, &quot;Admin Update tenant-invitation&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TENANT_INVITATION_DELETE(&quot;tenant-invitation:delete&quot;, &quot;Admin Delete tenant-invitation&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // テナント権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TENANT_CREATE(&quot;tenant:create&quot;, &quot;Admin Create a tenant&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TENANT_READ(&quot;tenant:read&quot;, &quot;Admin Read tenant information&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TENANT_UPDATE(&quot;tenant:update&quot;, &quot;Admin Update tenant&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TENANT_DELETE(&quot;tenant:delete&quot;, &quot;Admin Delete tenant&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 認可サーバー権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHORIZATION_SERVER_CREATE(&quot;authorization-server:create&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHORIZATION_SERVER_READ(&quot;authorization-server:read&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHORIZATION_SERVER_UPDATE(&quot;authorization-server:update&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHORIZATION_SERVER_DELETE(&quot;authorization-server:delete&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // クライアント権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CLIENT_CREATE(&quot;client:create&quot;, &quot;Admin Create a client&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CLIENT_READ(&quot;client:read&quot;, &quot;Admin Read client information&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CLIENT_UPDATE(&quot;client:update&quot;, &quot;Admin Update client&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CLIENT_DELETE(&quot;client:delete&quot;, &quot;Admin Delete client&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ユーザー権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  USER_CREATE(&quot;user:create&quot;, &quot;Admin Create a user&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  USER_READ(&quot;user:read&quot;, &quot;Admin Read user information&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  USER_UPDATE(&quot;user:update&quot;, &quot;Admin Update user&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  USER_DELETE(&quot;user:delete&quot;, &quot;Admin Delete user&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  USER_INVITE(&quot;user:invite&quot;, &quot;Admin Invite a user&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  USER_SUSPEND(&quot;user:suspend&quot;, &quot;Admin Suspend user account&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 権限・ロール管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PERMISSION_CREATE(&quot;permission:create&quot;, &quot;Admin Create a permission&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PERMISSION_READ(&quot;permission:read&quot;, &quot;Admin Read permission information&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PERMISSION_UPDATE(&quot;permission:update&quot;, &quot;Admin Update permission&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PERMISSION_DELETE(&quot;permission:delete&quot;, &quot;Admin Delete permission&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ROLE_CREATE(&quot;role:create&quot;, &quot;Admin Create a role&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ROLE_READ(&quot;role:read&quot;, &quot;Admin Read role information&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ROLE_UPDATE(&quot;role:update&quot;, &quot;Admin Update role&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ROLE_DELETE(&quot;role:delete&quot;, &quot;Admin Delete role&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 認証設定権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHENTICATION_CONFIG_CREATE(&quot;authentication-config:create&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHENTICATION_CONFIG_READ(&quot;authentication-config:read&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHENTICATION_CONFIG_UPDATE(&quot;authentication-config:update&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHENTICATION_CONFIG_DELETE(&quot;authentication-config:delete&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHENTICATION_POLICY_CONFIG_CREATE(&quot;authentication-policy-config:create&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHENTICATION_POLICY_CONFIG_READ(&quot;authentication-policy-config:read&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHENTICATION_POLICY_CONFIG_UPDATE(&quot;authentication-policy-config:update&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHENTICATION_POLICY_CONFIG_DELETE(&quot;authentication-policy-config:delete&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 身元確認設定権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IDENTITY_VERIFICATION_CONFIG_CREATE(&quot;identity-verification-config:create&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IDENTITY_VERIFICATION_CONFIG_READ(&quot;identity-verification-config:read&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IDENTITY_VERIFICATION_CONFIG_UPDATE(&quot;identity-verification-config:update&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IDENTITY_VERIFICATION_CONFIG_DELETE(&quot;identity-verification-config:delete&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // フェデレーション設定権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  FEDERATION_CONFIG_CREATE(&quot;federation-config:create&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  FEDERATION_CONFIG_READ(&quot;federation-config:read&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  FEDERATION_CONFIG_UPDATE(&quot;federation-config:update&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  FEDERATION_CONFIG_DELETE(&quot;federation-config:delete&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // セキュリティイベント権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SECURITY_EVENT_HOOK_CONFIG_CREATE(&quot;security-event-hook-config:create&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SECURITY_EVENT_HOOK_CONFIG_READ(&quot;security-event-hook-config:read&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SECURITY_EVENT_HOOK_CONFIG_UPDATE(&quot;security-event-hook-config:update&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SECURITY_EVENT_HOOK_CONFIG_DELETE(&quot;security-event-hook-config:delete&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SECURITY_EVENT_HOOK_READ(&quot;security-event-hook:read&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SECURITY_EVENT_HOOK_RETRY(&quot;security-event-hook:retry&quot;, &quot;Admin Retry failed execution&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 監査・ログ権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SECURITY_EVENT_READ(&quot;security-event:read&quot;, &quot;Admin Read security-event information&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUDIT_LOG_READ(&quot;audit-log:read&quot;, &quot;Admin Read audit-log information&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHENTICATION_TRANSACTION_READ(&quot;authentication-transaction:read&quot;, &quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AUTHENTICATION_INTERACTION_READ(&quot;authentication-interaction:read&quot;, &quot;...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private final String value;         // &quot;client:create&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private final String description;   // &quot;Admin Create a client&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>命名規則</strong>: <code>{RESOURCE}_{ACTION}</code> → 値: <code>&quot;{resource}:{action}&quot;</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adminpermissions---権限コンテナ">AdminPermissions - 権限コンテナ<a href="#adminpermissions---権限コンテナ" class="hash-link" aria-label="AdminPermissions - 権限コンテナ への直接リンク" title="AdminPermissions - 権限コンテナ への直接リンク">​</a></h4>
<p><strong>情報源</strong>: <a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/base/definition/AdminPermissions.java#L22">AdminPermissions.java:22</a></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 権限コンテナ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 確認方法: 実ファイルの22-40行目</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AdminPermissions {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Set&lt;DefaultAdminPermission&gt; values;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public AdminPermissions(Set&lt;DefaultAdminPermission&gt; values) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.values = values;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ 文字列Setに変換</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public Set&lt;String&gt; valuesAsSetString() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return values.stream()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .map(DefaultAdminPermission::value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .collect(Collectors.toSet());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ カンマ区切り文字列に変換</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public String valuesAsString() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return values.stream()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .map(DefaultAdminPermission::value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .collect(Collectors.joining(&quot;,&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ 権限チェック</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean includesAll(Set&lt;String&gt; userPermissions) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return userPermissions.containsAll(valuesAsSetString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ 空権限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public static AdminPermissions empty() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new AdminPermissions(Set.of());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defaultadminpermission---ユーティリティメソッド">DefaultAdminPermission - ユーティリティメソッド<a href="#defaultadminpermission---ユーティリティメソッド" class="hash-link" aria-label="DefaultAdminPermission - ユーティリティメソッド への直接リンク" title="DefaultAdminPermission - ユーティリティメソッド への直接リンク">​</a></h4>
<p><strong>情報源</strong>: <a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/base/definition/DefaultAdminPermission.java#L145-L173">DefaultAdminPermission.java:145-173</a></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ 全権限取得</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set&lt;DefaultAdminPermission&gt; allPermissions = DefaultAdminPermission.getAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ Create権限のみ抽出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set&lt;DefaultAdminPermission&gt; createPermissions = DefaultAdminPermission.findCreatePermissions();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// → {CLIENT_CREATE, USER_CREATE, TENANT_CREATE, ...}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ Read権限のみ抽出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set&lt;DefaultAdminPermission&gt; readPermissions = DefaultAdminPermission.findReadPermissions();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// → {CLIENT_READ, USER_READ, TENANT_READ, ...}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ Update権限のみ抽出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set&lt;DefaultAdminPermission&gt; updatePermissions = DefaultAdminPermission.findUpdatePermissions();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ Delete権限のみ抽出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set&lt;DefaultAdminPermission&gt; deletePermissions = DefaultAdminPermission.findDeletePermissions();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ リソース別権限抽出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set&lt;DefaultAdminPermission&gt; clientPermissions =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DefaultAdminPermission.findByResource(&quot;client&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// → {CLIENT_CREATE, CLIENT_READ, CLIENT_UPDATE, CLIENT_DELETE}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set&lt;DefaultAdminPermission&gt; userPermissions =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DefaultAdminPermission.findByResource(&quot;user&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// → {USER_CREATE, USER_READ, USER_UPDATE, USER_DELETE, USER_INVITE, USER_SUSPEND}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>用途</strong>:</p>
<ul>
<li>ロール定義時の権限一括設定</li>
<li>権限フィルタリング</li>
<li>権限一覧表示</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="io定義パターン">I/O定義パターン<a href="#io定義パターン" class="hash-link" aria-label="I/O定義パターン への直接リンク" title="I/O定義パターン への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="request---リクエストデータ構造">Request - リクエストデータ構造<a href="#request---リクエストデータ構造" class="hash-link" aria-label="Request - リクエストデータ構造 への直接リンク" title="Request - リクエストデータ構造 への直接リンク">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientRegistrationRequest {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String clientId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String clientName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;String&gt; redirectUris;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;String&gt; grantTypes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Getters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public String clientId() { return clientId; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public String clientName() { return clientName; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public List&lt;String&gt; redirectUris() { return redirectUris; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public List&lt;String&gt; grantTypes() { return grantTypes; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコード をコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>命名規則</strong>: <code>{&#x27;{Entity}RegistrationRequest&#x27;}</code>（Create/Update共通）</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="response---レスポンスデータ構造">Response - レスポンスデータ構造<a href="#response---レスポンスデータ構造" class="hash-link" aria-label="Response - レスポンスデータ構造 への直接リンク" title="Response - レスポンスデータ構造 への直接リンク">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientManagementResponse {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientManagementStatus status;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Map&lt;String, Object&gt; body;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public ClientManagementResponse(ClientManagementStatus status, Map&lt;String, Object&gt; body) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.status = status;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.body = body;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ ステータス判定</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean isSuccess() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return status == ClientManagementStatus.OK ||</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           status == ClientManagementStatus.CREATED;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Getters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public ClientManagementStatus status() { return status; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public Map&lt;String, Object&gt; body() { return body; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>命名規則</strong>: <code>{&#x27;{Entity}ManagementResponse&#x27;}</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="status---ステータス列挙型">Status - ステータス列挙型<a href="#status---ステータス列挙型" class="hash-link" aria-label="Status - ステータス列挙型 への直接リンク" title="Status - ステータス列挙型 への直接リンク">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public enum ClientManagementStatus {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  OK(200),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CREATED(201),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  BAD_REQUEST(400),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  FORBIDDEN(403),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NOT_FOUND(404),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CONFLICT(409),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  INTERNAL_SERVER_ERROR(500);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private final int code;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientManagementStatus(int code) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.code = code;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public int code() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return code;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>命名規則</strong>: <code>{&#x27;{Entity}ManagementStatus&#x27;}</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dry-run対応">Dry Run対応<a href="#dry-run対応" class="hash-link" aria-label="Dry Run対応 への直接リンク" title="Dry Run対応 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="全操作でdry-run対応">全操作でDry Run対応<a href="#全操作でdry-run対応" class="hash-link" aria-label="全操作でDry Run対応 への直接リンク" title="全操作でDry Run対応 への直接リンク">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Response create(..., boolean dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response update(..., boolean dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response delete(..., boolean dryRun);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>目的</strong>:</p>
<ul>
<li>検証のみ実行（永続化しない）</li>
<li>レスポンス形式の確認</li>
<li>テスト・開発時の安全な確認</li>
</ul>
<p><strong>レスポンス形式</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;dry_run&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;result&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;generated-uuid&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title=" コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="queries---検索条件パターン">Queries - 検索条件パターン<a href="#queries---検索条件パターン" class="hash-link" aria-label="Queries - 検索条件パターン への直接リンク" title="Queries - 検索条件パターン への直接リンク">​</a></h2>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientQueries {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int limit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int offset;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String clientName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;String&gt; grantTypes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Getters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public int limit() { return limit; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public int offset() { return offset; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public String clientName() { return clientName; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public List&lt;String&gt; grantTypes() { return grantTypes; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ 存在チェック</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean hasClientName() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return clientName != null &amp;&amp; !clientName.isEmpty();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean hasGrantTypes() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return grantTypes != null &amp;&amp; !grantTypes.isEmpty();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>命名規則</strong>: <code>{&#x27;{Entity}Queries&#x27;}</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="context-creator-パターン">Context Creator パターン<a href="#context-creator-パターン" class="hash-link" aria-label="Context Creator パターン への直接リンク" title="Context Creator パターン への直接リンク">​</a></h2>
<p><strong>情報源</strong>: <code>libs/idp-server-control-plane/src/main/java/</code>配下の<code>*ContextCreator.java</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="責務-1">責務<a href="#責務-1" class="hash-link" aria-label="責務 への直接リンク" title="責務 への直接リンク">​</a></h3>
<p>リクエストDTOをドメインモデルに変換し、Use Cases層で使用可能なContextを構築。</p>
<p><strong>重要</strong>: Control Planeモジュールで定義、Use Casesモジュールで使用。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="命名規則">命名規則<a href="#命名規則" class="hash-link" aria-label="命名規則 への直接リンク" title="命名規則 への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{Entity}{Operation}ContextCreator → {Entity}{Operation}Context</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>例</strong>:</p>
<ul>
<li><code>ClientRegistrationContextCreator</code> → <code>ClientRegistrationContext</code></li>
<li><code>UserRegistrationContextCreator</code> → <code>UserRegistrationContext</code></li>
<li><code>TenantManagementRegistrationContextCreator</code> → <code>TenantManagementRegistrationContext</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="実装パターン">実装パターン<a href="#実装パターン" class="hash-link" aria-label="実装パターン への直接リンク" title="実装パターン への直接リンク">​</a></h3>
<p><strong>情報源</strong>: <a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/management/oidc/client/ClientRegistrationContextCreator.java#L27">ClientRegistrationContextCreator.java:27</a></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Context Creator実装例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 確認方法: 実ファイルの27-51行目</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientRegistrationContextCreator {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Tenant tenant;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientRegistrationRequest request;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  boolean dryRun;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  JsonConverter jsonConverter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public ClientRegistrationContextCreator(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Tenant tenant,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ClientRegistrationRequest request,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      boolean dryRun) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.tenant = tenant;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.request = request;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.dryRun = dryRun;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.jsonConverter = JsonConverter.snakeCaseInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public ClientRegistrationContext create() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 1. リクエストをMapに変換</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(request.toMap());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 2. 自動生成フィールドの追加</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!request.hasClientId()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      map.put(&quot;client_id&quot;, UUID.randomUUID().toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 3. ドメインモデルに変換</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ClientConfiguration clientConfiguration =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        jsonConverter.read(map, ClientConfiguration.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 4. Contextを返却</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new ClientRegistrationContext(tenant, clientConfiguration, dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="context---コンテキストクラス">Context - コンテキストクラス<a href="#context---コンテキストクラス" class="hash-link" aria-label="Context - コンテキストクラス への直接リンク" title="Context - コンテキストクラス への直接リンク">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientRegistrationContext {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Tenant tenant;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientConfiguration configuration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  boolean dryRun;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public ClientRegistrationContext(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Tenant tenant,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ClientConfiguration configuration,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      boolean dryRun) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.tenant = tenant;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.configuration = configuration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.dryRun = dryRun;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ レスポンス生成</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public ClientManagementResponse toResponse() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    body.put(&quot;dry_run&quot;, dryRun);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    body.put(&quot;result&quot;, configuration.toMap());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new ClientManagementResponse(ClientManagementStatus.CREATED, body);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ✅ Getters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public Tenant tenant() { return tenant; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public ClientConfiguration configuration() { return configuration; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean isDryRun() { return dryRun; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>重要ポイント</strong>:</p>
<ul>
<li>✅ <strong>DTO → ドメインモデル変換</strong>: リクエストを値オブジェクトに変換</li>
<li>✅ <strong>自動生成</strong>: ID等の自動生成フィールドを補完</li>
<li>✅ <strong>JsonConverter使用</strong>: スネークケース→キャメルケース変換</li>
<li>✅ <strong>toResponse()</strong>: レスポンス生成ロジックをカプセル化</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-vs-update-の-context-creator">Create vs Update の Context Creator<a href="#create-vs-update-の-context-creator" class="hash-link" aria-label="Create vs Update の Context Creator への直接リンク" title="Create vs Update の Context Creator への直接リンク">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Create用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientRegistrationContextCreator {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public ClientRegistrationContext create() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 新規ID生成</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;client_id&quot;, UUID.randomUUID().toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Update用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientUpdateContextCreator {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientIdentifier clientIdentifier;  // 既存IDを受け取る</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public ClientUpdateContext create() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 既存IDを使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;client_id&quot;, clientIdentifier.value());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>パターン</strong>:</p>
<ul>
<li><strong>Registration</strong>: 新規作成用（ID自動生成）</li>
<li><strong>Update</strong>: 更新用（既存ID使用）</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="javadoc品質基準">Javadoc品質基準<a href="#javadoc品質基準" class="hash-link" aria-label="Javadoc品質基準 への直接リンク" title="Javadoc品質基準 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="組織レベルapiの例">組織レベルAPIの例<a href="#組織レベルapiの例" class="hash-link" aria-label="組織レベルAPIの例 への直接リンク" title="組織レベルAPIの例 への直接リンク">​</a></h3>
<p><strong>情報源</strong>: <a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/management/identity/user/OrgUserManagementApi.java#L35-L74">OrgUserManagementApi.java:35-74</a></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Organization-level user management API.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;This API provides organization-scoped user management operations that allow organization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * administrators to manage users within their organization boundaries.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;Organization-level operations follow the same access control pattern:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;ol&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *   &lt;li&gt;&lt;strong&gt;Tenant access verification&lt;/strong&gt; - Ensures the user has access to the target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *       tenant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *   &lt;li&gt;&lt;strong&gt;Permission verification&lt;/strong&gt; - Validates the user has necessary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *       DefaultAdminPermission</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;/ol&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;All operations support dry-run functionality for safe preview of changes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;Usage example:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;pre&gt;{@code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * OrgUserManagementApi api = new OrgUserManagementEntryService(...);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * UserManagementResponse response = api.create(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     organizationId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     operator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     oAuthToken,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     userRequest,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     requestAttributes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * if (response.isSuccess()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     // User created successfully</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * }&lt;/pre&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @see UserManagementApi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @see org.idp.server.usecases.control_plane.organization_manager.OrgUserManagementEntryService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>品質基準</strong>:</p>
<ul>
<li>✅ <strong>目的明確化</strong>: APIの責務を明記</li>
<li>✅ <strong>アクセス制御フロー</strong>: 検証ステップを列挙</li>
<li>✅ <strong>使用例提供</strong>: <code>&lt;pre&gt;{@code}</code> でコード例</li>
<li>✅ <strong>相互参照</strong>: <code>@see</code> で関連クラスリンク</li>
</ul>
<p><strong>情報源</strong>: CLAUDE.md「Javadoc要件」</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="アンチパターン">アンチパターン<a href="#アンチパターン" class="hash-link" aria-label="アンチパターン への直接リンク" title="アンチパターン への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-1-defaultメソッドの不要なオーバーライド">❌ 1. defaultメソッドの不要なオーバーライド<a href="#-1-defaultメソッドの不要なオーバーライド" class="hash-link" aria-label="❌ 1. defaultメソッドの不要なオーバーライド への直接リンク" title="❌ 1. defaultメソッドの不要なオーバーライド への直接リンク">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ 悪い例: defaultメソッドがあるのに実装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientManagementEntryService implements ClientManagementApi {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public AdminPermissions getRequiredPermissions(String method) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ❌ 不要！インターフェースのdefaultメソッドで十分</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;String, AdminPermissions&gt; map = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(&quot;create&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.CLIENT_CREATE)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return map.get(method);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ 良い例: defaultメソッドをそのまま使用（実装不要）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientManagementEntryService implements ClientManagementApi {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // getRequiredPermissionsは実装不要！</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>原則</strong>: <code>default</code>メソッドがある = 標準実装で十分。カスタマイズ必要な場合のみオーバーライド。</p>
<p><strong>情報源</strong>: CLAUDE.md「🚨 Java defaultメソッド実装の重要教訓」</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-2-命名規則違反">❌ 2. 命名規則違反<a href="#-2-命名規則違反" class="hash-link" aria-label="❌ 2. 命名規則違反 への直接リンク" title="❌ 2. 命名規則違反 への直接リンク">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ 悪い例: 組織レベルAPIで`Org`プレフィックス忘れ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface UserManagementApi {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Response create(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ 良い例: Orgプレフィックスで明示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface OrgUserManagementApi {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Response create(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OrganizationIdentifier organizationIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TenantIdentifier tenantIdentifier,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>原則</strong>: 組織レベルAPIは必ず<code>Org</code>プレフィックス。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-3-引数順序違反">❌ 3. 引数順序違反<a href="#-3-引数順序違反" class="hash-link" aria-label=" ❌ 3. 引数順序違反 への直接リンク" title="❌ 3. 引数順序違反 への直接リンク">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ 悪い例: 組織レベルAPIで引数順序が間違い</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response create(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier,  // ❌ 先にTenant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OrganizationIdentifier organizationIdentifier, // ❌ 後にOrganization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ 良い例: OrganizationIdentifier → TenantIdentifier の順</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Response create(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OrganizationIdentifier organizationIdentifier, // ✅ 先にOrganization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantIdentifier tenantIdentifier, // ✅ 後にTenant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>原則</strong>: 組織レベルAPIは<code>OrganizationIdentifier</code> → <code>TenantIdentifier</code>の順。</p>
<p><strong>情報源</strong>: CLAUDE.md「🏷️ 組織レベルAPI命名」</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="まとめ">まとめ<a href="#まとめ" class="hash-link" aria-label="まとめ への直接リンク" title="まとめ への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="idp-server-control-plane-を理解するための5つのポイント">idp-server-control-plane を理解するための5つのポイント<a href="#idp-server-control-plane-を理解するための5つのポイント" class="hash-link" aria-label="idp-server-control-plane を理解するための5つのポイント への直接リンク" title="idp-server-control-plane を理解するための5つのポイント への直接リンク">​</a></h3>
<ol>
<li><strong>契約定義のみ</strong>: 実装は含まず、インターフェース定義に特化</li>
<li><strong>System vs Organization</strong>: システムレベルと組織レベルでインターフェース分離</li>
<li><strong>defaultメソッド活用</strong>: 権限自動計算で実装不要</li>
<li><strong>CRUD標準シグネチャ</strong>: create/findList/get/update/deleteで統一</li>
<li><strong>Dry Run対応</strong>: 全操作で検証のみ実行モード提供</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="次のステップ">次のステップ<a href="#次のステップ" class="hash-link" aria-label="次のステップ への直接リンク" title="次のステップ への直接リンク">​</a></h3>
<ul>
<li><a href="/idp-server/docs/content_10_ai_developer/ai-21-core-adapter">idp-server-core-adapter（アダプター層）</a> - Repository実装</li>
<li><a href="/idp-server/docs/content_10_ai_developer/ai-22-database">idp-server-database（データベース層）</a> - スキーマ・マイグレーション</li>
<li><a href="/idp-server/docs/content_10_ai_developer/ai-23-springboot-adapter">idp-server-springboot-adapter（Spring Boot統合）</a> - HTTP/REST API実装</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ドキュメント検証結果">📋 ドキュメント検証結果<a href="#-ドキュメント検証結果" class="hash-link" aria-label="📋 ドキュメント検証結果 への直接リンク" title="📋 ドキュメント検証結果 への直接リンク">​</a></h2>
<p><strong>検証日</strong>: 2025-10-12
<strong>検証方法</strong>: <code>find libs/idp-server-control-plane -type d -maxdepth 2</code>, <code>grep -r &quot;interface.*ManagementApi&quot;</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-検証済み項目">✅ 検証済み項目<a href="#-検証済み項目" class="hash-link" aria-label="✅ 検証済み項目 への直接リンク" title="✅ 検証済み項目 への直接リンク">​</a></h3>
<table><thead><tr><th>項目</th><th>記載内容</th><th>実装確認</th><th>状態</th></tr></thead><tbody><tr><td><strong>パッケージ構成</strong></td><td>4層構成</td><td>✅ 一致</td><td>✅ 正確</td></tr><tr><td><strong>Management API</strong></td><td>10サブパッケージ</td><td>✅ 一致</td><td>✅ 正確</td></tr><tr><td><strong>Admin API</strong></td><td>2サブパッ  ケージ</td><td>✅ 一致</td><td>✅ 正確</td></tr><tr><td><strong>Organization API</strong></td><td>1パッケージ</td><td>✅ 一致</td><td>✅ 正確</td></tr><tr><td><strong>Base共通</strong></td><td>4サブパッケージ</td><td>✅ 一致</td><td>✅ 正確</td></tr><tr><td><strong>API総数</strong></td><td>33個</td><td>33個</td><td>✅ 完全一致</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-パッケージ構成実装確認済み">🎯 パッケージ構成（実装確認済み）<a href="#-パッケージ構成実装確認済み" class="hash-link" aria-label="🎯 パッケージ構成（実装確認済み） への直接リンク" title="🎯 パッケージ構成（実装確認済み） への直接リンク">​</a></h3>
<p><strong>検証コマンド</strong>: <code>find libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane -type d -maxdepth 2</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ control_plane/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ control_plane/admin/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   admin/operation/             # 運用管理API</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   admin/starter/               # 初期セットアップAPI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ control_plane/base/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   base/authorizer/             # 認可処理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   base/definition/             # 権限定義</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   base/schema/                 # スキーマ定義</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   base/verifier/               # 検証処理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ control_plane/management/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   management/audit/            # 監査ログ管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   management/authentication/   # 認証設定管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   management/federation/       # フェデレーション設定</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   management/identity/         # ユーザー・身元確認</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   management/oidc/             # OAuth/OIDC設定</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   management/onboarding/       # オンボーディング</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   management/permission/       # 権限管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   management/role/             # ロール管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   management/security/         # セキュリティイベント</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   management/tenant/           # テナント管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ control_plane/organization/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅   organization/access/         # 組織アクセス制御</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-management-api一覧33個確認済み">📊 Management API一覧（33個確認済み）<a href="#-management-api一覧33個確認済み" class="hash-link" aria-label="📊 Management API一覧（33個確認済み） への直接リンク" title="📊 Management API一覧（33個確認済み） への直接リンク">​</a></h3>
<p><strong>検証コマンド</strong>: <code>grep -r &quot;interface.*ManagementApi&quot; libs/idp-server-control-plane | wc -l</code>
<strong>結果</strong>: 33個</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="システムレベルapi15個">システムレベルAPI（15個）<a href="#システムレベルapi15個" class="hash-link" aria-label="システムレベルAPI（15個） への直接リンク" title="システムレベルAPI（15個） への直接リンク">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ ClientManagementApi                          # クライアント管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ UserManagementApi                            # ユーザー管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ AuthorizationServerManagementApi             # 認可サーバー管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ TenantManagementApi                          # テナント管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ RoleManagementApi                            # ロール管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ PermissionManagementApi                      # 権限管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ SecurityEventManagementApi                   # セキュリティイベント管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ SecurityEventHookManagementApi               # イベントフック結果管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ SecurityEventHookConfigurationManagementApi  # イベントフック設定管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ AuthenticationConfigurationManagementApi     # 認証設定管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ AuthenticationPolicyConfigurationManagementApi # 認証ポリシー管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ AuthenticationTransactionManagementApi       # 認証トランザクション管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ AuthenticationInteractionManagementApi       # 認証インタラクション管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ FederationConfigurationManagementApi         # フェデレーション設定管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ IdentityVerificationConfigManagementApi      # 身元確認設定管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ TenantInvitationManagementApi                # テナント招待管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ AuditLogManagementApi                        # 監査ログ管理</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="組織レベルapi17個">組織レベルAPI（17個）<a href="#組織レベルapi17個" class="hash-link" aria-label="組織レベルAPI（17個） への直接リンク" title="組織レベルAPI（17個） への直接リンク">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgUserManagementApi                         # 組織ユーザー管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgClientManagementApi                       # 組織クライアント管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgTenantManagementApi                       # 組織テナント管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgRoleManagementApi                         # 組織ロール管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgPermissionManagementApi                   # 組織権限管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgSecurityEventManagementApi                # 組織セキュリティイベント管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgSecurityEventHookManagementApi            # 組織イベントフック結果管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgSecurityEventHookConfigManagementApi      # 組織イベントフック設定管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgAuthorizationServerManagementApi          # 組織認可サーバー管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgAuthenticationConfigManagementApi         # 組織認証設定管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgAuthenticationPolicyConfigManagementApi   # 組織認証ポリシー管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgAuthenticationTransactionManagementApi    # 組織認証トランザクション管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgAuthenticationInteractionManagementApi    # 組織認証インタラクション管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgFederationConfigManagementApi             # 組織フェデレーション設定管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgIdentityVerificationConfigManagementApi   # 組織身元確認設定管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ OrgAuditLogManagementApi                     # 組織監査ログ管理</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="admin-api1個">Admin API（1個）<a href="#admin-api1個" class="hash-link" aria-label="Admin API（1個） への直接リンク" title="Admin API（1個） への直接リンク">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">✅ IdpServerStarterApi                          # システム初期セットアップ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-詳細検証-api-interface-パターン">🔍 詳細検証: API Interface パターン<a href="#-詳細検証-api-interface-パターン" class="hash-link" aria-label="🔍 詳細検証: API Interface パターン への直接リンク" title="🔍 詳細検証: API Interface パターン への直接リンク">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-defaultメソッドによる権限定義">1. defaultメソッドによる権限定義<a href="#1-defaultメソッドによる権限定義" class="hash-link" aria-label="1. defaultメソッドによる権限定義 への直接リンク" title="1. defaultメソッドによる権限定義 への直接リンク">​</a></h4>
<p><strong>記載</strong>: lines 110-123
<strong>検証</strong>: <a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/management/oidc/client/ClientManagementApi.java#L36-L48">ClientManagementApi.java:36-48</a>
<strong>結果</strong>: ✅ 完全一致</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">default AdminPermissions getRequiredPermissions(String method) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Map&lt;String, AdminPermissions&gt; map = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  map.put(&quot;create&quot;, new AdminPermissions(Set.of(DefaultAdminPermission.CLIENT_CREATE)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ... 実装と完全一致</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-システムレベルapiシグネチャ">2. システムレベルAPIシグネチャ<a href="#2-システムレベルapiシグネチャ" class="hash-link" aria-label="2. システムレベルAPIシグネチャ への直接リンク" title="2. システムレベルAPIシグネチャ への直接リンク">​</a></h4>
<p><strong>記載</strong>: lines 126-168
<strong>検証</strong>: <a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/management/oidc/client/ClientManagementApi.java#L50-L88">ClientManagementApi.java:50-88</a>
<strong>結 果</strong>: ✅ 完全一致</p>
<p><strong>引数順序確認</strong>:</p>
<ol>
<li>✅ <code>TenantIdentifier tenantIdentifier</code> - 第一引数</li>
<li>✅ <code>User operator</code> - 第二引数</li>
<li>✅ <code>OAuthToken oAuthToken</code> - 第三引数</li>
<li>✅ Request/Query - 第四引数</li>
<li>✅ <code>RequestAttributes requestAttributes</code> - 第五引数</li>
<li>✅ <code>boolean dryRun</code> - 最終引数（該当メソッドのみ）</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-組織レベルapiシグネチャ">3. 組織レベルAPIシグネチャ<a href="#3-組織レベルapiシグネチャ" class="hash-link" aria-label="3. 組織レベルAPIシグネチャ への直接リンク" title="3. 組織レベルAPIシグネチャ への直接リンク">​</a></h4>
<p><strong>記載</strong>: lines 175-220
<strong>検証</strong>: <a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/management/identity/user/OrgUserManagementApi.java#L95-L105">OrgUserManagementApi.java:95-105</a>
<strong>結果</strong>: ✅ 完全一致</p>
<p><strong>引数順序確認</strong>:</p>
<ol>
<li>✅ <code>OrganizationIdentifier organizationIdentifier</code> - 第一引数</li>
<li>✅ <code>TenantIdentifier tenantIdentifier</code> - 第二引数</li>
<li>✅ <code>User operator</code> - 第三引数</li>
<li>✅ 以降はシステムレベルと同じ</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-総合評価">📊 総合評価<a href="#-総合評価" class="hash-link" aria-label="📊 総合評価 への直接リンク" title="📊 総合評価 への直接リンク">​</a></h3>
<table><thead><tr><th>カテゴリ</th><th>精度</th><th>評価</th></tr></thead><tbody><tr><td><strong>パッケージ構成</strong></td><td>100%</td><td>✅ 完璧</td></tr><tr><td><strong>API数・命名</strong></td><td>100%</td><td>✅ 完璧</td></tr><tr><td><strong>defaultメソッド</strong></td><td>100%</td><td>✅ 完璧</td></tr><tr><td><strong>シグネチャ</strong></td><td>100%</td><td>✅ 完璧</td></tr><tr><td><strong>組織アクセス制御</strong></td><td>100%</td><td>✅ 完璧</td></tr><tr><td><strong>全体精度</strong></td><td><strong>100%</strong></td><td>✅ 完璧</td></tr></tbody></table>
<p><strong>結論</strong>: control-plane.mdは実装と完全に一致しており、API契約定義の正確な知識ベースとして機能します。</p>
<hr>
<p><strong>情報源</strong>:</p>
<ul>
<li><code>libs/idp-server-control-plane/src/main/java/</code>配下のインターフェース定義</li>
<li>CLAUDE.md「組織レベルAPI設計」「🚨 Java defaultメソッド実装の重要教訓」</li>
<li><a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/management/oidc/client/ClientManagementApi.java">ClientManagementApi.java</a></li>
<li><a href="/idp-server/libs/idp-server-control-plane/src/main/java/org/idp/server/control_plane/management/identity/user/OrgUserManagementApi.java">OrgUserManagementApi.java</a></li>
</ul>
<p><strong>最終更新</strong>: 2025-10-12
<strong>検証者</strong>: Claude Code（AI開発支援）</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_10_ai_developer/ai-13-control-plane.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/idp-server/docs/content_10_ai_developer/ai-12-platform"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">idp-server-platform - プラットフォーム基盤</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/idp-server/docs/content_10_ai_developer/ai-20-adapters"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">Adapter層 - Repository実装とインフラ統合</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#モジュール概要" class="table-of-contents__link toc-highlight">モジュール概要</a><ul><li><a href="#責務" class="table-of-contents__link toc-highlight">責務</a></li><li><a href="#依存関係" class="table-of-contents__link toc-highlight">依存関係</a></li></ul></li><li><a href="#パッケージ構成" class="table-of-contents__link toc-highlight">パッケージ構成</a><ul><li><a href="#️-management-api-management" class="table-of-contents__link toc-highlight">🎛️ Management API (<code>management/</code>)</a></li><li><a href="#-admin-api-admin" class="table-of-contents__link toc-highlight">👤 Admin API (<code>admin/</code>)</a></li><li><a href="#-organization-api-organization" class="table-of-contents__link toc-highlight">🏢 Organization API (<code>organization/</code>)</a></li><li><a href="#-base-base" class="table-of-contents__link toc-highlight">🔧 Base (<code>base/</code>)</a></li></ul></li><li><a href="#api命名パターン" class="table-of-contents__link toc-highlight">API命名パターン</a><ul><li><a href="#システムレベルapi" class="table-of-contents__link toc-highlight">システムレベルAPI</a></li><li><a href="#組織レベルapi" class="table-of-contents__link toc-highlight">組織レベルAPI</a></li></ul></li><li><a href="#api-interface-パターン" class="table-of-contents__link toc-highlight">API Interface パターン</a><ul><li><a href="#システムレベルapi-1" class="table-of-contents__link toc-highlight">システムレベルAPI</a></li><li><a href="#組織レベルapi-1" class="table-of-contents__link toc-highlight">組織レベルAPI</a></li></ul></li><li><a href="#メソッドシグネチャパターン" class="table-of-contents__link toc-highlight">メソッドシグネチャパターン</a><ul><li><a href="#crud操作の標準シグネチャ" class="table-of-contents__link toc-highlight">CRUD操作の標準シグネチャ</a></li></ul></li><li><a href="#権限定義パターン" class="table-of-contents__link toc-highlight">権限定義パターン</a><ul><li><a href="#defaultメソッドによる権限自動計算" class="table-of-contents__link toc-highlight">defaultメソッドによる権限自動計算</a></li><li><a href="#defaultadminpermission---標準管理権限" class="table-of-contents__link toc-highlight">DefaultAdminPermission - 標準管理権限</a></li></ul></li><li><a href="#io定義パターン" class="table-of-contents__link toc-highlight">I/O定義パターン</a><ul><li><a href="#request---リクエストデータ構造" class="table-of-contents__link toc-highlight">Request - リクエストデータ構造</a></li><li><a href="#response---レスポンスデータ構造" class="table-of-contents__link toc-highlight">Response - レスポンスデータ構造</a></li><li><a href="#status---ステータス列挙型" class="table-of-contents__link toc-highlight">Status - ステータス列挙型</a></li></ul></li><li><a href="#dry-run対応" class="table-of-contents__link toc-highlight">Dry Run対応</a><ul><li><a href="#全操作でdry-run対応" class="table-of-contents__link toc-highlight">全操作でDry Run対応</a></li></ul></li><li><a href="#queries---検索条件パターン" class="table-of-contents__link toc-highlight">Queries - 検索条件パターン</a></li><li><a href="#context-creator-パターン" class="table-of-contents__link toc-highlight">Context Creator パターン</a><ul><li><a href="#責務-1" class="table-of-contents__link toc-highlight">責務</a></li><li><a href="#命名規則" class="table-of-contents__link toc-highlight">命名規則</a></li><li><a href="#実装パターン" class="table-of-contents__link toc-highlight">実装パターン</a></li><li><a href="#context---コンテキストクラス" class="table-of-contents__link toc-highlight">Context - コンテキストクラス</a></li><li><a href="#create-vs-update-の-context-creator" class="table-of-contents__link toc-highlight">Create vs Update の Context Creator</a></li></ul></li><li><a href="#javadoc品質基準" class="table-of-contents__link toc-highlight">Javadoc品質基準</a><ul><li><a href="#組織レベルapiの例" class="table-of-contents__link toc-highlight">組織レベルAPIの例</a></li></ul></li><li><a href="#アンチパターン" class="table-of-contents__link toc-highlight">アンチパターン</a><ul><li><a href="#-1-defaultメソッドの不要なオーバーライド" class="table-of-contents__link toc-highlight">❌ 1. defaultメソッドの不要なオーバーライド</a></li><li><a href="#-2-命名規則違反" class="table-of-contents__link toc-highlight">❌ 2. 命名規則違反</a></li><li><a href="#-3-引数順序違反" class="table-of-contents__link toc-highlight">❌ 3. 引数順序違反</a></li></ul></li><li><a href="#まとめ" class="table-of-contents__link toc-highlight">まとめ</a><ul><li><a href="#idp-server-control-plane-を理解するための5つのポイント" class="table-of-contents__link toc-highlight">idp-server-control-plane を理解するための5つのポイント</a></li><li><a href="#次のステップ" class="table-of-contents__link toc-highlight">次のステップ</a></li></ul></li><li><a href="#-ドキュメント検証結果" class="table-of-contents__link toc-highlight">📋 ドキュメント検証結果</a><ul><li><a href="#-検証済み項目" class="table-of-contents__link toc-highlight">✅ 検証済み項目</a></li><li><a href="#-パッケージ構成実装確認済み" class="table-of-contents__link toc-highlight">🎯 パッケージ構成（実装確認済み）</a></li><li><a href="#-management-api一覧33個確認済み" class="table-of-contents__link toc-highlight">📊 Management API一覧（33個確認済み）</a></li><li><a href="#-詳細検証-api-interface-パターン" class="table-of-contents__link toc-highlight">🔍 詳細検証: API Interface パターン</a></li><li><a href="#-総合評価" class="table-of-contents__link toc-highlight">📊 総合評価</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/docs/introduction">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>