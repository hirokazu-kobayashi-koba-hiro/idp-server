<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-content_10_ai_developer/ai-11-core" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">idp-server-core - OAuth 2.0/OIDCæº–æ‹ ã‚³ã‚¢ã‚¨ãƒ³ã‚¸ãƒ³ | IdP-Server Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_10_ai_developer/ai-11-core"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="idp-server-core - OAuth 2.0/OIDCæº–æ‹ ã‚³ã‚¢ã‚¨ãƒ³ã‚¸ãƒ³ | IdP-Server Documentation"><meta data-rh="true" name="description" content="ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦"><meta data-rh="true" property="og:description" content="ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦"><link data-rh="true" rel="icon" href="/idp-server/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_10_ai_developer/ai-11-core"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_10_ai_developer/ai-11-core" hreflang="ja"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_10_ai_developer/ai-11-core" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/idp-server/blog/rss.xml" title="IdP-Server Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/idp-server/blog/atom.xml" title="IdP-Server Documentation Atom Feed"><link rel="stylesheet" href="/idp-server/assets/css/styles.f434a3d5.css">
<script src="/idp-server/assets/js/runtime~main.d90f1070.js" defer="defer"></script>
<script src="/idp-server/assets/js/main.e38f4277.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¾ã§ã‚¹ã‚­ãƒƒãƒ—"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¾ã§ã‚¹ã‚­ãƒƒãƒ—</a></div><nav aria-label="ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ã‚’é–‹ã" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/idp-server/"><div class="navbar__logo"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IdP-Server</b></a><a class="navbar__item navbar__link" href="/idp-server/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/idp-server/docs/content_07_reference/api-reference">Api Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hirokazu-kobayashi-koba-hiro/idp-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹(ç¾åœ¨ã¯ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰)" aria-label="ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹(ç¾åœ¨ã¯ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="å…ˆé ­ã¸æˆ»ã‚‹" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚µã‚¤ãƒ‰ãƒãƒ¼" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/introduction">ã¯ã˜ã‚ã«</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/document-index">ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç´¢å¼•</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">è£½å“ç´¹ä»‹</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">æŠ€è¡“æ¦‚è¦</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_01_intro/intro-02-features">æ©Ÿèƒ½</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_01_intro/intro-03-use-cases">ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä¸€è¦§</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">Getting-Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_02_quickstart/quickstart-02-setting-templates">åˆæœŸè¨­å®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆäºˆå®šï¼‰</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_03_concepts/concept-01-multi-tenant">ã‚³ã‚¢æ¦‚å¿µ</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-01-multi-tenant">ãƒ  ãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-02-id-management">IDï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰ç®¡ç†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-03-id-verified">èº«å…ƒç¢ºèªæ¸ˆã¿ID</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-04-enterprise-id">ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºID</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-05-authentication-policy">èªè¨¼ãƒãƒªã‚·ãƒ¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-06-token-management">ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-07-session-management">ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-08-mfa">å¤šè¦ç´ èªè¨¼ï¼ˆMFAï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-09-custom-claims">ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ¬ãƒ¼ãƒ ãƒ»ã‚¹ã‚³ãƒ¼ãƒ—</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-10-control-plane">ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-11-security-events">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ãƒ•ãƒƒã‚¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-12-authorization">èªå¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-13-audit-compliance">ç›£æŸ»ãƒ­ã‚°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-14-grant-management">èªå¯è¨±è«¾ç®¡ç†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-15-operations">é‹ç”¨ãƒ»ä¿å®ˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-16-external-service-integration">å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-17-application-logging">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-18-id-token">IDãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆID Tokenï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_03_concepts/concept-19-client">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆClientï¼‰</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_03_concepts/basic/basic-01-identity-management-basics">åŸºç¤ï¼ˆèª­ã¿ç‰©ï¼‰</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">èªå¯ãƒ—ãƒ­ãƒˆã‚³ãƒ«</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">èªå¯ã‚³ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_04_protocols/protocol-02-ciba-flow">CIBA ãƒ•ãƒ­ãƒ¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_04_protocols/protocol-03-introspection">ã‚¤ãƒ³ãƒˆãƒ­ã‚¹ãƒšã‚¯ã‚·ãƒ§ãƒ³</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_05_how-to/index">How-toï¼ˆè¨­å®šãƒ»é‹ç”¨ãƒ¬ã‚·ãƒ”ï¼‰</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/index">How-to ã‚¬ã‚¤ãƒ‰ - å­¦ç¿’ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-01-server-setup">ã‚µãƒ¼ãƒãƒ¼åˆæœŸè¨­å®šã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-02-organization-initialization">çµ„ç¹”åˆæœŸåŒ–ã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-03-tenant-setup">OIDCã®æœ€å°è¨­å®šã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-04-client-registration">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ²ã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-05-user-registration">ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã¨åˆå›èªè¨¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-07-authentication-policy-basic">èªè¨¼ãƒãƒªã‚·ãƒ¼è¨­å®šã‚¬ã‚¤ãƒ‰ï¼ˆåŸºç¤ç·¨ï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-08-mfa-setup">MFAï¼ˆå¤šè¦ç´ èªè¨¼ï¼‰ã®è¨­å®š</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-09-token-strategy">ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™ãƒ‘ã‚¿ãƒ¼ãƒ³</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-10-authentication-policy-advanced">èªè¨¼ãƒãƒªã‚·ãƒ¼è¨­å®šã‚¬ã‚¤ãƒ‰ï¼ˆè©³ç´°ç·¨ï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-11-federation-setup">å¤–éƒ¨IdPé€£æºï¼ˆFederationï¼‰ã®è¨­å®š</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-12-ciba-flow-fido-uaf">CIBA + FIDO-UAF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-13-fido-uaf-registration">FIDO-UAF ç™»éŒ²ãƒ•ãƒ­ãƒ¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-14-fido-uaf-deregistration">FIDO-UAF è§£é™¤ãƒ•ãƒ­ãƒ¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-15-identity-verification-guide">èº«å…ƒç¢ºèªç”³è¾¼ã¿ å°å…¥ã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-16-identity-verification-application">èº«å…ƒç¢ºèªç”³è¾¼ã¿</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-17-identity-verification-registration">èº«å…ƒç¢ºèªãƒ‡ãƒ¼ã‚¿ç™»éŒ²</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_05_how-to/how-to-18-security-event-hooks">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆãƒ•ãƒƒã‚¯è¨­å®šã‚¬ã‚¤ãƒ‰</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_06_developer-guide/getting-started/service-overview">Developer Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/getting-started/service-overview">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/control-plane/resource-overview">Control Planeï¼ˆç®¡ç†APIï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/application-plane/overview">Application Planeï¼ˆèªè¨¼ãƒ»èªå¯APIï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/implementation-guides/overview">Implementation Guidesï¼ˆå®Ÿè£…ã‚¬ã‚¤ãƒ‰ï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/configuration/CONFIGURATION_COVERAGE">Configurationï¼ˆè¨­å®šï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/patterns/common-patterns">Patternsï¼ˆå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/troubleshooting/common-errors">Troubleshootingï¼ˆãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/reference/code-review-checklist">Referenceï¼ˆãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ï¼‰</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_06_developer-guide/learning-paths/beginner">Learning Pathsï¼ˆå­¦ç¿’ãƒ‘ã‚¹ï¼‰</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_07_reference/api-reference">ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_07_reference/api-reference">API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_08_ops/ops-01-test-strategy">é‹ç”¨ï¼ˆOpsï¼‰</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_08_ops/ops-01-test-strategy">ãƒ†ã‚¹ãƒˆæˆ¦ç•¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_08_ops/ops-02-performance-test">ã‚¹ãƒˆãƒ¬ã‚¹ãƒ†ã‚¹ãƒˆçµæœ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/idp-server/docs/content_08_ops/commercial-deployment/overview">å•†ç”¨ãƒ‡ãƒ—ãƒ­ã‚¤</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/idp-server/docs/content_09_project/project-01-faq">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_09_project/project-01-faq">project-01-faq</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_09_project/project-02-roadmap">ğŸ—ºï¸ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_09_project/project-03-contributing">ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_09_project/project-04-license">License</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/idp-server/docs/content_10_ai_developer/ai-01-index">AI</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-01-index">AIé–‹ç™ºè€…å‘ã‘ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-02-lessons-learned">AIé–‹ç™ºè€…å‘ã‘ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã‚¬ã‚¤ãƒ‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-10-use-cases">idp-server-use-cases - ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤ï¼ˆEntryServiceå®Ÿè£…ï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-11-core">idp-server-core - OAuth 2.0/OIDCæº–æ‹ ã‚³ã‚¢ã‚¨ãƒ³ã‚¸ãƒ³</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-12-platform">idp-server-platform - ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åŸºç›¤</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-13-control-plane">idp-server-control-plane - ç®¡ç†APIå¥‘ç´„å®šç¾©</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-20-adapters">Adapterå±¤ - Repositoryå®Ÿè£…ã¨ã‚¤ãƒ³ãƒ•ãƒ©çµ±åˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-21-core-adapter">idp-server-core-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-22-database">idp-server-database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-23-springboot-adapter">idp-server-springboot-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-30-extensions">æ‹¡å¼µæ©Ÿèƒ½å±¤ - OAuth/OIDCæ‹¡å¼µä»•æ§˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-31-extension-ciba">idp-server-core-extension-ciba - CIBAæ‹¡å¼µ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-32-extension-fapi">idp-server-core-extension-fapi - FAPIæ‹¡å¼µ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-33-extension-ida">idp-server-core-extension-ida - IDAæ‹¡å¼µ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-34-extension-pkce">idp-server-core-extension-pkce - PKCEæ‹¡å¼µ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-35-extension-vc">idp-server-core-extension-verifiable-credentials - VCæ‹¡å¼µ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-40-authentication-federation">èªè¨¼ãƒ»é€£æºå±¤ - ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã¨ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-41-authentication">idp-server-authentication-interactors - èªè¨¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚¿ãƒ¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-42-webauthn">idp-server-webauthn4j-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-43-federation-oidc">idp-server-federation-oidc</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-50-notification-security-event">é€šçŸ¥ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆå±¤ - é€šçŸ¥é…ä¿¡ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-51-notification-fcm">idp-server-notification-fcm-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-52-notification-apns">idp-server-notification-apns-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-53-email-aws">idp-server-email-aws-adapter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-54-security-event-framework">idp-server-security-event-framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_10_ai_developer/ai-55-security-event-hooks">idp-server-security-event-hooks</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸" class="breadcrumbs__link" href="/idp-server/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">AI</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">idp-server-core - OAuth 2.0/OIDCæº–æ‹ ã‚³ã‚¢ã‚¨ãƒ³ã‚¸ãƒ³</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">ã“ã®ãƒšãƒ¼ã‚¸ã®è¦‹å‡ºã—</button></div><div class="theme-doc-markdown markdown"><header><h1>idp-server-core - OAuth 2.0/OIDCæº–æ‹ ã‚³ã‚¢ã‚¨ãƒ³ã‚¸ãƒ³</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦">ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦<a href="#ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦" class="hash-link" aria-label="ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p><strong>æƒ…å ±æº</strong>: <code>libs/idp-server-core/src/main/java/org/idp/server/core/</code>
<strong>ç¢ºèªæ—¥</strong>: 2025-10-12</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è²¬å‹™">è²¬å‹™<a href="#è²¬å‹™" class="hash-link" aria-label="è²¬å‹™ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="è²¬å‹™ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>OAuth 2.0ã€OpenID Connect (OIDC)ã€ãŠã‚ˆã³ãã®æ‹¡å¼µä»•æ§˜ã«æº–æ‹ ã—ãŸèªè¨¼ãƒ»èªå¯ãƒ»ãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã‚’æä¾›ã€‚</p>
<ul>
<li><strong>ãƒ—ãƒ­ãƒˆã‚³ãƒ«æº–æ‹ </strong>: RFC 6749 (OAuth 2.0), RFC 6750 (Bearer Token), OpenID Connect Core 1.0ç­‰</li>
<li><strong>ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯</strong>: Handler-Service-Repositoryãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹å±¤è²¬ä»»åˆ†é›¢</li>
<li><strong>æ‹¡å¼µå¯èƒ½æ€§</strong>: Pluginã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ã‚ˆã‚‹æ©Ÿèƒ½æ‹¡å¼µ</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¾å­˜é–¢ä¿‚">ä¾å­˜é–¢ä¿‚<a href="#ä¾å­˜é–¢ä¿‚" class="hash-link" aria-label="ä¾å­˜é–¢ä¿‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¾å­˜é–¢ä¿‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">idp-server-core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†“ (ä¾å­˜)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">idp-server-platform (ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ãƒ­ã‚°ç­‰)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ">ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ <a href="#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ " class="hash-link" aria-label="ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€  ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€  ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">libs/idp-server-core/src/main/java/org/idp/server/core/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ openid/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ authentication/       # èªè¨¼ãƒ‰ãƒ¡ã‚¤ãƒ³</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ discovery/           # OIDC Discovery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ federation/          # ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ grant_management/    # ã‚°ãƒ©ãƒ³ãƒˆç®¡ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ identity/            # Identityãƒ»èº«å…ƒç¢ºèª</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ oauth/               # OAuth 2.0ã‚³ã‚¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ plugin/              # ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ token/               # ãƒˆãƒ¼ã‚¯ãƒ³å‡¦ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ userinfo/            # UserInfo ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æƒ…å ±æº</strong>: <code>find libs/idp-server-core/src/main/java/org/idp/server/core -type d -maxdepth 2</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³<a href="#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³" class="hash-link" aria-label="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="handler-service-repository-ãƒ‘ã‚¿ãƒ¼ãƒ³">Handler-Service-Repository ãƒ‘ã‚¿ãƒ¼ãƒ³<a href="#handler-service-repository-ãƒ‘ã‚¿ãƒ¼ãƒ³" class="hash-link" aria-label="Handler-Service-Repository ãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Handler-Service-Repository ãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>idp-server-coreã§ã¯ã€ä»¥ä¸‹ã®3å±¤ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ï¼š</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-handler---ãƒ—ãƒ­ãƒˆã‚³ãƒ«å‡¦ç†ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³">1. Handler - ãƒ—ãƒ­ãƒˆã‚³ãƒ«å‡¦ç†ãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³<a href="#1-handler---ãƒ—ãƒ­ãƒˆã‚³ãƒ«å‡¦ç†ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³" class="hash-link" aria-label="1. Handler - ãƒ—ãƒ­ãƒˆã‚³ãƒ«å‡¦ç†ãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="1. Handler - ãƒ—ãƒ­ãƒˆã‚³ãƒ«å‡¦ç†ãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>å‘½åè¦å‰‡</strong>: <code>{&#x27;{Domain}{Action}Handler&#x27;}</code></p>
<p><strong>è²¬å‹™</strong>:</p>
<ul>
<li>ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å—ã‘å–ã‚Š</li>
<li>Validator/Verifierã«ã‚ˆã‚‹æ¤œè¨¼</li>
<li>Repositoryã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿å–å¾—</li>
<li>Service/Creatorã¸ã®å‡¦ç†å§”è­²</li>
<li>ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ç”Ÿæˆ</li>
</ul>
<p><strong>å®Ÿè£…ä¾‹</strong>: <a href="/idp-server/libs/idp-server-core/src/main/java/org/idp/server/core/openid/oauth/handler/OAuthAuthorizeHandler.java#L51">OAuthAuthorizeHandler.java:51</a></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * æƒ…å ±æº: libs/idp-server-core/src/main/java/org/idp/server/core/openid/oauth/handler/OAuthAuthorizeHandler.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¢ºèªæ–¹æ³•: å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã®77-133è¡Œç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class OAuthAuthorizeHandler {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LoggerWrapper log = LoggerWrapper.getLogger(OAuthAuthorizeHandler.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthorizationResponseCreators creators;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthorizationRequestRepository authorizationRequestRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthorizationCodeGrantRepository authorizationCodeGrantRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  OAuthTokenCommandRepository oAuthTokenCommandRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthorizationServerConfigurationQueryRepository authorizationServerConfigurationQueryRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientConfigurationQueryRepository clientConfigurationQueryRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public AuthorizationResponse handle(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthAuthorizeRequest request, OAuthSessionDelegate delegate) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 1. ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‹ã‚‰å¿…è¦æƒ…å ±ã‚’æŠ½å‡º</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Tenant tenant = request.tenant();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AuthorizationRequestIdentifier authorizationRequestIdentifier = request.toIdentifier();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User user = request.user();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Authentication authentication = request.authentication();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CustomProperties customProperties = request.toCustomProperties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DeniedScopes deniedScopes = request.toDeniedScopes();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 2. Validatorã§å…¥åŠ›æ¤œè¨¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthAuthorizeRequestValidator validator =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new OAuthAuthorizeRequestValidator(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            authorizationRequestIdentifier, user, authentication, customProperties);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    validator.validate();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 3. Repositoryã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆæ³¨æ„: Tenantç¬¬ä¸€å¼•æ•°ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AuthorizationRequest authorizationRequest =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        authorizationRequestRepository.get(tenant, authorizationRequestIdentifier);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RequestedClientId requestedClientId = authorizationRequest.requestedClientId();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AuthorizationServerConfiguration authorizationServerConfiguration =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        authorizationServerConfigurationQueryRepository.get(tenant);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ClientConfiguration clientConfiguration =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        clientConfigurationQueryRepository.get(tenant, requestedClientId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 4. Contextã‚’æ§‹ç¯‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthAuthorizeContext context =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new OAuthAuthorizeContext(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            authorizationRequest,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            user,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            authentication,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            customProperties,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            deniedScopes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            authorizationServerConfiguration,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            clientConfiguration);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 5. Creatorã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AuthorizationResponseCreator authorizationResponseCreator =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        creators.get(context.responseType());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AuthorizationResponse authorizationResponse = authorizationResponseCreator.create(context);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 6. èªå¯ã‚³ãƒ¼ãƒ‰/ãƒˆãƒ¼ã‚¯ãƒ³ã®æ°¸ç¶šåŒ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AuthorizationGrant authorizationGrant = context.authorize();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (authorizationResponse.hasAuthorizationCode()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      AuthorizationCodeGrant authorizationCodeGrant =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          AuthorizationCodeGrantCreator.create(context, authorizationResponse);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      authorizationCodeGrantRepository.register(tenant, authorizationCodeGrant);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (authorizationResponse.hasAccessToken()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthToken oAuthToken = OAuthTokenFactory.create(authorizationResponse, authorizationGrant);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      oAuthTokenCommandRepository.register(tenant, oAuthToken);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 7. ã‚»ãƒƒã‚·ãƒ§ãƒ³ç™»éŒ²</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthSessionKey oAuthSessionKey =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new OAuthSessionKey(tenant.identifierValue(), requestedClientId.value());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OAuthSession session =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        OAuthSession.create(oAuthSessionKey, user, authentication, authorizationRequest.maxAge());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delegate.registerSession(session);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return authorizationResponse;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>é‡è¦ãƒã‚¤ãƒ³ãƒˆ</strong>:</p>
<ul>
<li>âœ… <strong>Tenantç¬¬ä¸€å¼•æ•°</strong>: å…¨Repositoryæ“ä½œã§<code>Tenant</code>ã‚’æœ€åˆã«æ¸¡ã™ï¼ˆãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆåˆ†é›¢ï¼‰</li>
<li>âœ… <strong>Validator/Verifieråˆ†é›¢</strong>: å…¥åŠ›æ¤œè¨¼ã¨ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«æ¤œè¨¼ã‚’æ˜ç¢ºã«åˆ†é›¢</li>
<li>âœ… <strong>Context Pattern</strong>: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã‚’Contextã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚«ãƒ—ã‚»ãƒ«åŒ–</li>
<li>âœ… <strong>Factory/Creator</strong>: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã‚’å°‚ç”¨ã‚¯ãƒ©ã‚¹ã«åˆ†é›¢</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-service---ç´”ç²‹ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯">2. Service - ç´”ç²‹ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯<a href="#2-service---ç´”ç²‹ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯" class="hash-link" aria-label="2. Service - ç´”ç²‹ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="2. Service - ç´”ç²‹ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>å‘½åè¦å‰‡</strong>: <code>{&#x27;{Domain}{Action}Service&#x27;}</code></p>
<p><strong>è²¬å‹™</strong>:</p>
<ul>
<li>RFCæº–æ‹ ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…</li>
<li>å‰¯ä½œç”¨ã®ãªã„ç´”ç²‹ãªå‡¦ç†ï¼ˆå¯èƒ½ãªé™ã‚Šï¼‰</li>
<li>è¤‡æ•°ã®Repositoryã‚’çµ„ã¿åˆã‚ã›ãŸãƒ­ã‚¸ãƒƒã‚¯</li>
</ul>
<p><strong>å®Ÿè£…ä¾‹</strong>: <a href="/idp-server/libs/idp-server-core/src/main/java/org/idp/server/core/openid/token/service/AuthorizationCodeGrantService.java#L96">AuthorizationCodeGrantService.java:96</a></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 4.1.3. Access Token Request authorization code handling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;The client makes a request to the token endpoint by sending the following parameters using the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &quot;application/x-www-form-urlencoded&quot; format per Appendix B with a character encoding of UTF-8 in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * the HTTP request entity-body:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;grant_type REQUIRED. Value MUST be set to &quot;authorization_code&quot;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;code REQUIRED. The authorization code received from the authorization server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;redirect_uri REQUIRED, if the &quot;redirect_uri&quot; parameter was included in the authorization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     request as described in Section 4.1.1, and their values MUST be identical.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;client_id REQUIRED, if the client is not authenticating with the authorization server as</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     described in Section 3.2.1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;For example, the client makes the following HTTP request using TLS (with extra line breaks for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * display purposes only):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;POST /token HTTP/1.1 Host: server.example.com Authorization: Basic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * czZCaGRSa3F0MzpnWDFmQmF0M2JW Content-Type: application/x-www-form-urlencoded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &lt;p&gt;grant_type=authorization_code&amp;code=SplxlOBeZQQYbYS6WxSbIA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * &amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @see &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3&quot;&gt;4.1.3. Access Token Request&lt;/a&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * æƒ…å ±æº: libs/idp-server-core/src/main/java/org/idp/server/core/openid/token/service/AuthorizationCodeGrantService.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¢ºèªæ–¹æ³•: å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã®1-95è¡Œç›®ï¼ˆJavadocã‚³ãƒ¡ãƒ³ãƒˆï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AuthorizationCodeGrantService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    implements OAuthTokenCreationService, RefreshTokenCreatable, CNonceCreatable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthorizationRequestRepository authorizationRequestRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  OAuthTokenCommandRepository oAuthTokenCommandRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>é‡è¦ãƒã‚¤ãƒ³ãƒˆ</strong>:</p>
<ul>
<li>âœ… <strong>RFCå¼•ç”¨Javadoc</strong>: ä»•æ§˜æ›¸ã®ç« ç•ªå·ãƒ»å¼•ç”¨ã‚’å¿…ãšè¨˜è¼‰</li>
<li>âœ… <strong>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…</strong>: æ©Ÿèƒ½ç‰¹æ€§ã‚’ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§è¡¨ç¾ï¼ˆ<code>RefreshTokenCreatable</code>ç­‰ï¼‰</li>
<li>âœ… <strong>ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯é›†ä¸­</strong>: ãƒ—ãƒ­ãƒˆã‚³ãƒ«è©³ç´°ã¯Serviceã«é›†ç´„</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-repository---ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹æŠ½è±¡åŒ–">3. Repository - ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹æŠ½è±¡åŒ–<a href="#3-repository---ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹æŠ½è±¡åŒ–" class="hash-link" aria-label="3. Repository - ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹æŠ½è±¡åŒ– ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="3. Repository - ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹æŠ½è±¡åŒ– ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>å‘½åè¦å‰‡</strong>: <code>{&#x27;{Entity}QueryRepository&#x27;}</code> / <code>{&#x27;{Entity}CommandRepository&#x27;}</code></p>
<p><strong>è²¬å‹™</strong>:</p>
<ul>
<li>CQRS (Command Query Responsibility Segregation) ãƒ‘ã‚¿ãƒ¼ãƒ³</li>
<li>ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æŠ½è±¡åŒ–</li>
<li><strong>ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ç¦æ­¢</strong> - ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿</li>
</ul>
<p><strong>å®Ÿè£…ä¾‹</strong>: <a href="/idp-server/libs/idp-server-core/src/main/java/org/idp/server/core/openid/oauth/configuration/client/ClientConfigurationQueryRepository.java#L23">ClientConfigurationQueryRepository.java:23</a></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * æƒ…å ±æº: libs/idp-server-core/src/main/java/org/idp/server/core/openid/oauth/configuration/client/ClientConfigurationQueryRepository.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¢ºèªæ–¹æ³•: å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã®23-39è¡Œç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface ClientConfigurationQueryRepository {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… å¿…é ˆå­˜åœ¨: get() - ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ä¾‹å¤–ã‚¹ãƒ­ãƒ¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientConfiguration get(Tenant tenant, RequestedClientId requestedClientId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientConfiguration get(Tenant tenant, ClientIdentifier clientIdentifier);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ä»»æ„å­˜åœ¨: find() - ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯null/ç©ºã‚’è¿”å´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientConfiguration find(Tenant tenant, ClientIdentifier clientIdentifier);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientConfiguration findWithDisabled(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Tenant tenant, ClientIdentifier clientIdentifier, boolean includeDisabled);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ãƒªã‚¹ãƒˆå–å¾—: findList()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;ClientConfiguration&gt; findList(Tenant tenant, int limit, int offset);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;ClientConfiguration&gt; findList(Tenant tenant, ClientQueries queries);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ã‚«ã‚¦ãƒ³ãƒˆ: findTotalCount()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  long findTotalCount(Tenant tenant, ClientQueries queries);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>é‡è¦ãƒã‚¤ãƒ³ãƒˆ</strong>:</p>
<ul>
<li>ğŸš¨ <strong>Tenantç¬¬ä¸€å¼•æ•°å¿…é ˆ</strong>: å…¨ãƒ¡ã‚½ãƒƒãƒ‰ã§<code>Tenant</code>ãŒç¬¬ä¸€å¼•æ•°ï¼ˆãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆåˆ†é›¢ã®åŸºæœ¬åŸå‰‡ï¼‰<!-- -->
<ul>
<li><strong>ä¾‹å¤–</strong>: <code>OrganizationRepository</code>ã®ã¿ï¼ˆçµ„ç¹”ã¯ãƒ†ãƒŠãƒ³ãƒˆã‚ˆã‚Šä¸Šä½æ¦‚å¿µï¼‰</li>
</ul>
</li>
<li>âœ… <strong>get() vs find()</strong>: <code>get()</code>ã¯å¿…é ˆå­˜åœ¨ã€<code>find()</code>ã¯ä»»æ„å­˜åœ¨</li>
<li>âœ… <strong>Query/Commandåˆ†é›¢</strong>: èª­ã¿å–ã‚Šï¼ˆQueryï¼‰ã¨æ›¸ãè¾¼ã¿ï¼ˆCommandï¼‰ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹åˆ†é›¢</li>
<li>âœ… <strong>å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå¼•æ•°</strong>: <code>String</code>ã§ã¯ãªã<code>RequestedClientId</code>ç­‰ã®å‹å®‰å…¨ãªå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validator-vs-verifier">Validator vs Verifier<a href="#validator-vs-verifier" class="hash-link" aria-label="Validator vs Verifier ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Validator vs Verifier ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>Validator</strong>: å…¥åŠ›å½¢å¼ãƒã‚§ãƒƒã‚¯ â†’ <code>{&#x27;{Operation}BadRequestException&#x27;}</code></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// å½¢å¼ãƒã‚§ãƒƒã‚¯: nullãƒã‚§ãƒƒã‚¯ã€å½¢å¼å¦¥å½“æ€§</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class OAuthAuthorizeRequestValidator {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void validate() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throwExceptionIfIdentifierIsInvalid();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throwExceptionIfUserIsInvalid();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throwExceptionIfAuthenticationIsInvalid();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Verifier</strong>: ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«æ¤œè¨¼ â†’ <code>OAuthRedirectableBadRequestException</code></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«: ãƒ—ãƒ­ãƒˆã‚³ãƒ«ä»•æ§˜æº–æ‹ ãƒã‚§ãƒƒã‚¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AuthorizationCodeGrantVerifier {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void verify() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    verifyAuthorizationCode();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    verifyClientAuthentication();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    verifyRedirectUri();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifierã®éšå±¤ãƒ‘ã‚¿ãƒ¼ãƒ³base--extension">Verifierã®éšå±¤ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆBase + Extensionï¼‰<a href="#verifierã®éšå±¤ãƒ‘ã‚¿ãƒ¼ãƒ³base--extension" class="hash-link" aria-label="Verifierã®éšå±¤ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆBase + Extensionï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Verifierã®éšå±¤ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆBase + Extensionï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p><strong>æƒ…å ±æº</strong>: <a href="/idp-server/libs/idp-server-core/src/main/java/org/idp/server/core/openid/token/verifier/AuthorizationCodeGrantVerifier.java#L29">AuthorizationCodeGrantVerifier.java:29</a></p>
<p>idp-serverã®Verifierã¯ã€**Base Verifierï¼ˆOAuth2/OIDCï¼‰+ Extension Verifierï¼ˆPKCE/FAPIç­‰ï¼‰**ã®2å±¤æ§‹é€ ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authorizationcodegrantverifier---çµ±åˆverifier">AuthorizationCodeGrantVerifier - çµ±åˆVerifier<a href="#authorizationcodegrantverifier---çµ±åˆverifier" class="hash-link" aria-label="AuthorizationCodeGrantVerifier - çµ±åˆVerifier ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="AuthorizationCodeGrantVerifier - çµ±åˆVerifier ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Authorization Code Grantçµ±åˆVerifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Base + Extensionã®ä¸¡æ–¹ã‚’å®Ÿè¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¢ºèªæ–¹æ³•: å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã®29-77è¡Œç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AuthorizationCodeGrantVerifier {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Map&lt;AuthorizationProfile, AuthorizationCodeGrantVerifierInterface&gt; baseVerifiers;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;AuthorizationCodeGrantExtensionVerifierInterface&gt; extensionVerifiers;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public AuthorizationCodeGrantVerifier() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // âœ… Base Verifierç™»éŒ²ï¼ˆOAuth2/OIDCï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.baseVerifiers = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseVerifiers.put(AuthorizationProfile.OAUTH2, new AuthorizationCodeGrantOAuth2Verifier());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseVerifiers.put(AuthorizationProfile.OIDC, new AuthorizationCodeGrantOidcVerifier());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // âœ… Pluginã‹ã‚‰Base Verifierãƒ­ãƒ¼ãƒ‰ï¼ˆFAPI_BASELINE, FAPI_ADVANCEç­‰ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;AuthorizationProfile, AuthorizationCodeGrantVerifierInterface&gt; loadedBaseVerifiers =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AuthorizationCodeGrantVerifierPluginLoader.load();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseVerifiers.putAll(loadedBaseVerifiers);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // âœ… Extension Verifierãƒ­ãƒ¼ãƒ‰ï¼ˆPKCEç­‰ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.extensionVerifiers = AuthorizationCodeGrantExtensionVerifierPluginLoader.load();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public void verify(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      TokenRequestContext tokenRequestContext,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      AuthorizationRequest authorizationRequest,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      AuthorizationCodeGrant authorizationCodeGrant,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ClientCredentials clientCredentials) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 1. Base Verifierå®Ÿè¡Œï¼ˆãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AuthorizationCodeGrantVerifierInterface baseVerifier =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        baseVerifiers.get(authorizationRequest.profile());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (baseVerifier == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      throw new UnSupportedException(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;Unsupported profile: &quot; + authorizationRequest.profile().name());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseVerifier.verify(tokenRequestContext, authorizationRequest, authorizationCodeGrant, clientCredentials);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 2. Extension Verifierå®Ÿè¡Œï¼ˆshouldVerify() ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    extensionVerifiers.forEach(extensionVerifier -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (extensionVerifier.shouldVerify(...)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        extensionVerifier.verify(...);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="base-verifier---ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥æ¤œè¨¼">Base Verifier - ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥æ¤œè¨¼<a href="#base-verifier---ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥æ¤œè¨¼" class="hash-link" aria-label="Base Verifier - ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥æ¤œè¨¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Base Verifier - ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥æ¤œè¨¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>AuthorizationProfile</th><th>Base Verifier</th><th>æ¤œè¨¼å†…å®¹</th></tr></thead><tbody><tr><td><code>OAUTH2</code></td><td><code>AuthorizationCodeGrantOAuth2Verifier</code></td><td>OAuth 2.0åŸºæœ¬æ¤œè¨¼</td></tr><tr><td><code>OIDC</code></td><td><code>AuthorizationCodeGrantOidcVerifier</code></td><td>OIDCè¿½åŠ æ¤œè¨¼ï¼ˆnonceç­‰ï¼‰</td></tr><tr><td><code>FAPI_BASELINE</code></td><td><code>AuthorizationCodeGrantFapiBaselineVerifier</code></td><td>FAPI Baselineè¦ä»¶</td></tr><tr><td><code>FAPI_ADVANCE</code></td><td><code>AuthorizationCodeGrantFapiAdvanceVerifier</code></td><td>FAPI Advancedè¦ä»¶</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="extension-verifier---æ‹¡å¼µä»•æ§˜æ¤œè¨¼">Extension Verifier - æ‹¡å¼µä»•æ§˜æ¤œè¨¼<a href="#extension-verifier---æ‹¡å¼µä»•æ§˜æ¤œè¨¼" class="hash-link" aria-label="Extension Verifier - æ‹¡å¼µä»•æ§˜æ¤œè¨¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Extension Verifier - æ‹¡å¼µä»•æ§˜æ¤œè¨¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>Extension Verifier</th><th>æ¤œè¨¼å†…å®¹</th><th>shouldVerifyæ¡ä»¶</th><th>å®Ÿè£…ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</th></tr></thead><tbody><tr><td><code>PkceVerifier</code></td><td>code_verifieræ¤œè¨¼</td><td>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«code_challengeãŒå«ã¾ã‚Œã‚‹</td><td><a href="/idp-server/docs/content_10_ai_developer/ai-34-extension-pkce">idp-server-core-extension-pkce</a></td></tr><tr><td>FAPI Base/Advance</td><td>JAR/JARM/MTLSè¦ä»¶</td><td>ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãŒFAPI</td><td><a href="/idp-server/docs/content_10_ai_developer/ai-32-extension-fapi">idp-server-core-extension-fapi</a></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verifierãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹">Verifierãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹<a href="#verifierãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹" class="hash-link" aria-label="Verifierãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Verifierãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ol>
<li>âœ… <strong>ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥æ¤œè¨¼</strong>: OAuth2/OIDC/FAPIç­‰ã‚’è‡ªå‹•é¸æŠ</li>
<li>âœ… <strong>æ‹¡å¼µå¯èƒ½æ€§</strong>: Extension Verifierã‚’Pluginã§è¿½åŠ å¯èƒ½</li>
<li>âœ… <strong>æ¡ä»¶ä»˜ãå®Ÿè¡Œ</strong>: shouldVerify()ã§ä¸è¦ãªæ¤œè¨¼ã‚’ã‚¹ã‚­ãƒƒãƒ—</li>
<li>âœ… <strong>è²¬å‹™åˆ†é›¢</strong>: Baseï¼ˆä»•æ§˜æº–æ‹ ï¼‰ã¨Extensionï¼ˆè¿½åŠ è¦ä»¶ï¼‰ã‚’åˆ†é›¢</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã®çµ±åˆ">æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã®çµ±åˆ<a href="#æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã®çµ±åˆ" class="hash-link" aria-label="æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã®çµ±åˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã®çµ±åˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>**Coreå±¤ï¼ˆæœ¬ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰**ãŒæä¾›:</p>
<ul>
<li><code>AuthorizationCodeGrantVerifier</code> - çµ±åˆVerifier</li>
<li><code>AuthorizationCodeGrantVerifierInterface</code> - Base Verifierã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</li>
<li><code>AuthorizationCodeGrantExtensionVerifierInterface</code> - Extension Verifierã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</li>
<li>Pluginèª­ã¿è¾¼ã¿æ©Ÿæ§‹</li>
</ul>
<p><strong>æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</strong>ãŒå®Ÿè£…:</p>
<ul>
<li><a href="/idp-server/docs/content_10_ai_developer/ai-34-extension-pkce">PKCE</a>: <code>PkceVerifier</code> (Extension Verifier)</li>
<li><a href="/idp-server/docs/content_10_ai_developer/ai-32-extension-fapi">FAPI</a>: <code>FapiBaselineVerifier</code>, <code>FapiAdvanceVerifier</code> (Base Verifier)</li>
<li><a href="/idp-server/docs/content_10_ai_developer/ai-31-extension-ciba">CIBA</a>: CIBAå°‚ç”¨Verifier</li>
</ul>
<p><strong>çµ±åˆãƒ•ãƒ­ãƒ¼</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. Coreå±¤ãŒPlugin Loaderã§æ‹¡å¼µVerifierã‚’ãƒ­ãƒ¼ãƒ‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. AuthorizationProfileã«åŸºã¥ã„ã¦Base Verifieré¸æŠ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Extension Verifierã‚’æ¡ä»¶ä»˜ãã§å…¨å®Ÿè¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. å…¨æ¤œè¨¼ãŒæˆåŠŸã—ãŸå ´åˆã®ã¿å‡¦ç†ç¶™ç¶š</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã« ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>è©³ç´°</strong>: <a href="/idp-server/docs/content_10_ai_developer/ai-30-extensions">æ‹¡å¼µæ©Ÿèƒ½å±¤çµ±åˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></p>
<p><strong>æƒ…å ±æº</strong>: CLAUDE.mdã€Œæ¤œè¨¼ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸»è¦ãƒ‰ãƒ¡ã‚¤ãƒ³">ä¸»è¦ãƒ‰ãƒ¡ã‚¤ãƒ³<a href="#ä¸»è¦ãƒ‰ãƒ¡ã‚¤ãƒ³" class="hash-link" aria-label="ä¸»è¦ãƒ‰ãƒ¡ã‚¤ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸»è¦ãƒ‰ãƒ¡ã‚¤ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-oauth-openidoauth">1. OAuth (<code>openid/oauth/</code>)<a href="#1-oauth-openidoauth" class="hash-link" aria-label="1-oauth-openidoauth ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="1-oauth-openidoauth ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>OAuth 2.0æº–æ‹ ã®èªå¯ãƒ•ãƒ­ãƒ¼å®Ÿè£…ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§">ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§<a href="#ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§" class="hash-link" aria-label="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>ã‚¯ãƒ©ã‚¹</th><th>è²¬å‹™</th></tr></thead><tbody><tr><td><code>OAuthAuthorizeHandler</code></td><td>èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†</td></tr><tr><td><code>OAuthHandler</code></td><td>ãƒˆãƒ¼ã‚¯ãƒ³ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‡¦ç†</td></tr><tr><td><code>AuthorizationRequest</code></td><td>èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«</td></tr><tr><td><code>AuthorizationResponse</code></td><td>èªå¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‰  ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«</td></tr><tr><td><code>OAuthSession</code></td><td>OAuthã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†</td></tr><tr><td><code>OAuthAuthorizeContext</code></td><td>èªå¯ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ</td></tr><tr><td><code>AuthorizationServerConfiguration</code></td><td>èªå¯ã‚µãƒ¼ãƒãƒ¼è¨­å®š</td></tr><tr><td><code>ClientConfiguration</code></td><td>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š</td></tr></tbody></table>
<p><strong>æƒ…å ±æº</strong>: <code>libs/idp-server-core/src/main/java/org/idp/server/core/openid/oauth/</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authorizationrequest---èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«">AuthorizationRequest - èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«<a href="#authorizationrequest---èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«" class="hash-link" aria-label="AuthorizationRequest - èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="AuthorizationRequest - èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>æƒ…å ±æº</strong>: <a href="/idp-server/libs/idp-server-core/src/main/java/org/idp/server/core/openid/oauth/request/AuthorizationRequest.java#L34">AuthorizationRequest.java:34</a></p>
<p>OAuth 2.0/OIDCèªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å…¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å‹å®‰å…¨ã«ä¿æŒã€‚</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¢ºèªæ–¹æ³•: å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã®34-150è¡Œç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AuthorizationRequest {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… è­˜åˆ¥å­ãƒ»ãƒ†ãƒŠãƒ³ãƒˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthorizationRequestIdentifier identifier;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TenantIdentifier tenantIdentifier;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthorizationProfile profile;  // OIDC/OAuth2/FAPIç­‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… OAuth 2.0å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ResponseType responseType;          // code, token, id_tokenç­‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  RequestedClientId requestedClientId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  RedirectUri redirectUri;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scopes scopes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State state;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… OAuth 2.0ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ResponseMode responseMode;          // query, fragment, form_post</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… OIDCæ‹¡å¼µãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Nonce nonce;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Display display;                    // page, popup, touch, wap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Prompts prompts;                    // none, login, consent, select_account</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MaxAge maxAge;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UiLocales uiLocales;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IdTokenHint idTokenHint;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LoginHint loginHint;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AcrValues acrValues;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClaimsValue claimsValue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… JAR (JWT Authorization Request)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  RequestObject requestObject;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  RequestUri requestUri;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  RequestedClaimsPayload requestedClaimsPayload;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… PKCE (Proof Key for Code Exchange)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CodeChallenge codeChallenge;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CodeChallengeMethod codeChallengeMethod;  // S256, plain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… RAR (Rich Authorization Requests)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthorizationDetails authorizationDetails;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CustomParams customParams;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientAttributes clientAttributes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… æœ‰åŠ¹æœŸé™</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ExpiresIn expiresIn;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ExpiresAt expiresAt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… åˆ¤å®šãƒ¡ã‚½ãƒƒãƒ‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean hasScope() { return scopes.exists(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean hasNonce() { return nonce.exists(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean hasCodeChallenge() { return codeChallenge.exists(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean hasAuthorizationDetails() { return authorizationDetails.exists(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>é‡è¦ãƒã‚¤ãƒ³ãƒˆ</strong>:</p>
<ul>
<li>âœ… <strong>å…¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å‹å®‰å…¨</strong>: <code>String</code>ã§ã¯ãªãå€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ<code>Scopes</code>, <code>ResponseType</code>ç­‰ï¼‰</li>
<li>âœ… <strong>åˆ¤å®šãƒ¡ã‚½ãƒƒãƒ‰</strong>: <code>has*()</code>ã§å­˜åœ¨ãƒã‚§ãƒƒã‚¯</li>
<li>âœ… <strong>ä¸å¤‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</strong>: Immutableè¨­è¨ˆ</li>
<li>âœ… <strong>æ‹¡å¼µå¯¾å¿œ</strong>: PKCE/JAR/RARç­‰ã®æ‹¡å¼µä»•æ§˜ã‚’ã‚µãƒãƒ¼ãƒˆ</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authorizationresponse---èªå¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«">AuthorizationResponse - èªå¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‰ãƒ¡ã‚¤ãƒ³ ãƒ¢ãƒ‡ãƒ«<a href="#authorizationresponse---èªå¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«" class="hash-link" aria-label="AuthorizationResponse - èªå¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="AuthorizationResponse - èªå¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>ResponseTypeåˆ¥ã®Creatorãƒ‘ã‚¿ãƒ¼ãƒ³</strong>:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ResponseType: code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AuthorizationResponseCodeCreator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†’ AuthorizationResponse.with(code, state)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ResponseType: token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AuthorizationResponseTokenCreator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†’ AuthorizationResponse.with(accessToken, tokenType, expiresIn, state)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ResponseType: id_token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AuthorizationResponseIdTokenCreator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†’ AuthorizationResponse.with(idToken, state)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ResponseType: code token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AuthorizationResponseCodeTokenCreator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†’ AuthorizationResponse.with(code, accessToken, tokenType, expiresIn, state)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ResponseType: code id_token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AuthorizationResponseCodeIdTokenCreator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†’ AuthorizationResponse.with(code, idToken, state)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ResponseType: code id_token token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AuthorizationResponseCodeIdTokenTokenCreator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†’ AuthorizationResponse.with(code, idToken, accessToken, tokenType, expiresIn, state)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æƒ…å ±æº</strong>: <code>libs/idp-server-core/src/main/java/org/idp/server/core/openid/oauth/response/</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="oauthsession---ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†">OAuthSession - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†<a href="#oauthsession---ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†" class="hash-link" aria-label="OAuthSession - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="OAuthSession - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class OAuthSession {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  OAuthSessionKey key;              // (tenantId, clientId)ã®ãƒšã‚¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  User user;                        // èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Authentication authentication;    // èªè¨¼æƒ…å ±</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MaxAge maxAge;                    // ã‚»ãƒƒã‚·ãƒ§ãƒ³æœ‰åŠ¹æœŸé™</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Instant authenticatedAt;          // èªè¨¼æ™‚åˆ»</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public static OAuthSession create(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OAuthSessionKey key,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      User user,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Authentication authentication,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MaxAge maxAge) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new OAuthSession(key, user, authentication, maxAge, Instant.now());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³æœ‰åŠ¹æ€§ãƒã‚§ãƒƒã‚¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean isExpired() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!maxAge.exists()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Instant expiresAt = authenticatedAt.plusSeconds(maxAge.value());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return Instant.now().isAfter(expiresAt);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ç”¨é€”</strong>: SSOï¼ˆSingle Sign-Onï¼‰å®Ÿç¾ã®ãŸã‚ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration---è¨­å®šãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«">Configuration - è¨­å®šãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«<a href="#configuration---è¨­å®šãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«" class="hash-link" aria-label="Configuration - è¨­å®šãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Configuration - è¨­å®šãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>AuthorizationServerConfiguration</strong> - èªå¯ã‚µãƒ¼ãƒãƒ¼è¨­å®š:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class AuthorizationServerConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String issuer;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String authorizationEndpoint;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String tokenEndpoint;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String userinfoEndpoint;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String jwksUri;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;String&gt; responseTypesSupported;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;String&gt; grantTypesSupported;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;String&gt; scopesSupported;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;String&gt; tokenEndpointAuthMethodsSupported;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… åˆ¤å®šãƒ¡ã‚½ãƒƒãƒ‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean supportsResponseType(ResponseType responseType) { ... }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean supportsGrantType(GrantType grantType) { ... }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean supportsScope(Scope scope) { ... }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ClientConfiguration</strong> - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientIdentifier identifier;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientName name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientType clientType;              // public, confidential</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  RedirectUris redirectUris;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  GrantTypes grantTypes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ResponseTypes responseTypes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scopes scopes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ClientSecret clientSecret;          // confidentialã®ã¿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TokenEndpointAuthMethod tokenEndpointAuthMethod;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… åˆ¤å®šãƒ¡ã‚½ãƒƒãƒ‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean isConfidential() { return clientType.isConfidential(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean allowsGrantType(GrantType grantType) { ... }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean allowsRedirectUri(RedirectUri redirectUri) { ... }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-token-openidtoken">2. Token (<code>openid/token/</code>)<a href="#2-token-openidtoken" class="hash-link" aria-label="2-token-openidtoken ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="2-token-openidtoken ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>ãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œãƒ»æ¤œè¨¼ãƒ»ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥å‡¦ç†ã€‚</p>
<p><strong>ä¸»è¦ã‚¯ãƒ©ã‚¹</strong>:</p>
<ul>
<li><code>AuthorizationCodeGrantService</code> - èªå¯ã‚³ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼</li>
<li><code>ClientCredentialsGrantService</code> - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ãƒ•ãƒ­ãƒ¼</li>
<li><code>RefreshTokenGrantService</code> - ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ãƒ•ãƒ­ãƒ¼</li>
<li><code>OAuthTokenCreationService</code> - ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</li>
</ul>
<p><strong>Grant Typeæ‹¡å¼µãƒ‘ã‚¿ãƒ¼ãƒ³</strong>:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Map&lt;GrantType, Service&gt; ãƒ‘ã‚¿ãƒ¼ãƒ³</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Map&lt;GrantType, OAuthTokenCreationService&gt; services = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services.put(GrantType.AUTHORIZATION_CODE, new AuthorizationCodeGrantService(...));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services.put(GrantType.CLIENT_CREDENTIALS, new ClientCredentialsGrantService(...));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services.put(GrantType.REFRESH_TOKEN, new RefreshTokenGrantService(...));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å®Ÿè¡Œæ™‚ã«å‹•çš„é¸æŠ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OAuthTokenCreationService service = services.get(tokenRequest.grantType());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æƒ…å ±æº</strong>: CLAUDE.mdã€ŒExtension: <code>Map&lt;GrantType, Service&gt;</code> + Plugin ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-identity-openididentity">3. Identity (<code>openid/identity/</code>)<a href="#3-identity-openididentity" class="hash-link" aria-label="3-identity-openididentity ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="3-identity-openididentity ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãƒ»ID Tokenãƒ»Verified Claimså‡¦ç†ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-1">ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§<a href="#ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-1" class="hash-link" aria-label="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>ã‚¯ãƒ©ã‚¹</th><th>è²¬å‹™</th></tr></thead><tbody><tr><td><code>User</code></td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«</td></tr><tr><td><code>UserIdentifier</code></td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼è­˜åˆ¥å­ï¼ˆsubï¼‰</td></tr><tr><td><code>IdTokenCreator</code></td><td>ID Tokenç”Ÿæˆ</td></tr><tr><td><code>IdTokenCustomClaimsBuilder</code></td><td>ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ¬ãƒ¼ãƒ è¿½åŠ </td></tr><tr><td><code>UserAuthenticationApi</code></td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼API</td></tr><tr><td><code>UserOperationApi</code></td><td>ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œAPI</td></tr><tr><td><code>AuthenticationDevices</code></td><td>èªè¨¼ãƒ‡ãƒã‚¤ã‚¹ç®¡ç†</td></tr></tbody></table>
<p><strong>æƒ…å ±æº</strong>: <code>libs/idp-server-core/src/main/java/org/idp/server/core/openid/identity/</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="user---ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ ãƒ‡ãƒ«">User - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«<a href="#user---ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«" class="hash-link" aria-label="User - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="User - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>æƒ…å ±æº</strong>: <a href="/idp-server/libs/idp-server-core/src/main/java/org/idp/server/core/openid/identity/User.java#L36">User.java:36</a></p>
<p>OpenID Connectæ¨™æº–ã‚¯ãƒ¬ãƒ¼ãƒ  + æ‹¡å¼µæ©Ÿèƒ½ã‚’å«ã‚€åŒ…æ‹¬çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¢ãƒ‡ãƒ«ã€‚</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¢ºèªæ–¹æ³•: å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã®36-100è¡Œç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class User implements JsonReadable, Serializable, UuidConvertable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… OpenID Connect æ¨™æº–ã‚¯ãƒ¬ãƒ¼ãƒ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String sub;                     // Subject Identifierï¼ˆå¿…é ˆãƒ»ä¸€æ„ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String name;                    // Full name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String givenName;               // Given name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String familyName;              // Family name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String middleName;              // Middle name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String nickname;                // Casual name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String preferredUsername;       // Preferred username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String profile;                 // Profile page URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String picture;                 // Profile picture URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String website;                 // Website URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String email;                   // Email address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Boolean emailVerified;          // Email verified flag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String gender;                  // Gender</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String birthdate;               // Birthdate (YYYY-MM-DD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String zoneinfo;                // Time zone</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String locale;                  // Locale</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String phoneNumber;             // Phone number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Boolean phoneNumberVerified;    // Phone number verified flag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Address address;                // Address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… æ‹¡å¼µæ©Ÿèƒ½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String providerId;              // Identity Provider ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String externalUserId;          // å¤–éƒ¨ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HashMap&lt;String, Object&gt; externalProviderOriginalPayload; // å¤–éƒ¨IdPã®å…ƒãƒ‡ãƒ¼ã‚¿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… èªè¨¼é–¢é€£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String hashedPassword;          // ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚ŒãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String rawPassword;             // ä¸€æ™‚çš„ãªå¹³æ–‡ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆæ°¸ç¶šåŒ–ã—ãªã„ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;AuthenticationDevice&gt; authenticationDevices; // FIDO2/Passkeyç­‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… æ¨©é™ãƒ»ãƒ­ãƒ¼ãƒ«</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;UserRole&gt; roles;           // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;String&gt; permissions;       // æ¨©é™ãƒªã‚¹ãƒˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆãƒ»çµ„ç¹”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String currentTenant;           // ç¾åœ¨ã®ãƒ†ãƒŠãƒ³ãƒˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;String&gt; assignedTenants;   // å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸãƒ†ãƒŠãƒ³ãƒˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String currentOrganizationId;   // ç¾åœ¨ã®çµ„ç¹”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;String&gt; assignedOrganizations; // å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸçµ„ç¹”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… Verified Claims (IDA)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HashMap&lt;String, Object&gt; verifiedClaims; // æ¤œè¨¼æ¸ˆã¿èº«å…ƒæƒ…å ±</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… Verifiable Credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;HashMap&lt;String, Object&gt;&gt; credentials; // VCãƒªã‚¹ãƒˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HashMap&lt;String, Object&gt; customProperties; // ãƒ†ãƒŠãƒ³ãƒˆå›ºæœ‰ã®è¿½åŠ æƒ…å ±</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalDateTime createdAt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalDateTime updatedAt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UserStatus status;              // INITIALIZED, ACTIVE, SUSPENDED, DELETED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean canTransit(UserStatus from, UserStatus to) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return UserLifecycleManager.canTransit(from, to);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public User transitStatus(UserStatus newStatus) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.status = UserLifecycleManager.transit(this.status, newStatus);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… æ¨©é™åˆ¤å®š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public Set&lt;String&gt; permissionsAsSet() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new HashSet&lt;&gt;(permissions);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public String permissionsAsString() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return String.join(&quot;,&quot;, permissions);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>é‡è¦ãƒã‚¤ãƒ³ãƒˆ</strong>:</p>
<ul>
<li>âœ… <strong>OIDCæ¨™æº–æº–æ‹ </strong>: RFCæº–æ‹ ã®æ¨™æº–ã‚¯ãƒ¬ãƒ¼ãƒ </li>
<li>âœ… <strong>æ‹¡å¼µæ©Ÿèƒ½</strong>: FIDO2, IDA, VCå¯¾å¿œ</li>
<li>âœ… <strong>ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ</strong>: è¤‡æ•°ãƒ†ãƒŠãƒ³ãƒˆãƒ»çµ„ç¹”ã¸ã®æ‰€å±</li>
<li>âœ… <strong>ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†</strong>: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é·ç§»åˆ¶å¾¡</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="userstatus---ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹">UserStatus - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹<a href="#userstatus---ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹" class="hash-link" aria-label="UserStatus - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="UserStatus - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public enum UserStatus {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  INITIALIZED,  // åˆæœŸåŒ–æ¸ˆã¿ï¼ˆç™»éŒ²ç›´å¾Œï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ACTIVE,       // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ï¼ˆé€šå¸¸åˆ©ç”¨å¯èƒ½ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SUSPENDED,    // ä¸€æ™‚åœæ­¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  DELETED       // å‰Šé™¤æ¸ˆã¿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«é·ç§»ãƒ«ãƒ¼ãƒ«</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// INITIALIZED â†’ ACTIVE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ACTIVE â†” SUSPENDED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ACTIVE/SUSPENDED â†’ DELETED</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="address---ä½æ‰€ã‚¯ãƒ¬ãƒ¼ãƒ ">Address - ä½æ‰€ã‚¯ãƒ¬ãƒ¼ãƒ <a href="#address---ä½æ‰€ã‚¯ãƒ¬ãƒ¼ãƒ " class="hash-link" aria-label="Address - ä½æ‰€ã‚¯ãƒ¬ãƒ¼ãƒ  ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Address - ä½æ‰€ã‚¯ãƒ¬ãƒ¼ãƒ  ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Address {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String formatted;       // å®Œå…¨ãªä½æ‰€æ–‡å­—åˆ—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String streetAddress;   // ç•ªåœ°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String locality;        // å¸‚åŒºç”ºæ‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String region;          // éƒ½é“åºœçœŒ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String postalCode;      // éƒµä¾¿ç•ªå·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String country;         // å›½ã‚³ãƒ¼ãƒ‰ï¼ˆISO 3166-1ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-authentication-openidauthentication">4. Authentication (<code>openid/authentication/</code>)<a href="#4-authentication-openidauthentication" class="hash-link" aria-label="4-authentication-openidauthentication ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="4-authentication-openidauthentication ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>èªè¨¼å‡¦ç†ãƒ»èªè¨¼ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-2">ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§<a href="#ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-2" class="hash-link" aria-label="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>ã‚¯ãƒ©ã‚¹</th><th>è²¬å‹™</th></tr></thead><tbody><tr><td><code>Authentication</code></td><td>èªè¨¼çµæœãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«</td></tr><tr><td><code>AuthenticationTransaction</code></td><td>èªè¨¼ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†</td></tr><tr><td><code>AuthenticationContext</code></td><td>èªè¨¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ</td></tr><tr><td><code>AuthenticationInteractor</code></td><td>èªè¨¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚¿ãƒ¼ï¼ˆFIDO2/Passwordç­‰ï¼‰</td></tr><tr><td><code>AuthenticationMethod</code></td><td>èªè¨¼æ–¹å¼</td></tr><tr><td><code>AuthenticationPolicy</code></td><td>èªè¨¼ãƒãƒªã‚·ãƒ¼</td></tr><tr><td><code>AuthenticationInteractionResult</code></td><td>èªè¨¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³çµæœ</td></tr></tbody></table>
<p><strong>æƒ…å ±æº</strong>: <code>libs/idp-server-core/src/main/java/org/idp/server/core/openid/authentication/</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authentication---èªè¨¼çµæœãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«">Authentication - èªè¨¼çµæœãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«<a href="#authentication---èªè¨¼çµæœãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«" class="hash-link" aria-label="Authentication - èªè¨¼çµæœãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Authentication - èªè¨¼çµæœãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>æƒ…å ±æº</strong>: <a href="/idp-server/libs/idp-server-core/src/main/java/org/idp/server/core/openid/authentication/Authentication.java#L24">Authentication.java:24</a></p>
<p>èªè¨¼å®Œäº†å¾Œã®æƒ…å ±ã‚’ä¿æŒã€‚ID Tokenã®<code>auth_time</code>, <code>amr</code>, <code>acr</code>ã‚¯ãƒ¬ãƒ¼ãƒ ã«ä½¿ç”¨ã€‚</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * èªè¨¼çµæœãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¢ºèªæ–¹æ³•: å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã®24-84è¡Œç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Authentication implements Serializable, JsonReadable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LocalDateTime time;          // èªè¨¼æ™‚åˆ»ï¼ˆauth_timeï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List&lt;String&gt; methods;        // èªè¨¼æ–¹å¼ãƒªã‚¹ãƒˆï¼ˆamr: Authentication Methods Referencesï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  String acr;                  // èªè¨¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¯ãƒ©ã‚¹å‚ç…§ï¼ˆacr: Authentication Context Class Referenceï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… èªè¨¼æ™‚åˆ»</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public LocalDateTime time() { return time; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean hasAuthenticationTime() { return Objects.nonNull(time); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… èªè¨¼æ–¹å¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public List&lt;String&gt; methods() { return methods; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean hasMethod() { return !methods.isEmpty(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ACR (Authentication Context Class Reference)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public String acr() { return acr; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean hasAcrValues() { return acr != null &amp;&amp; !acr.isEmpty(); }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>AMRï¼ˆAuthentication Methods Referencesï¼‰ä¾‹</strong>:</p>
<ul>
<li><code>[&quot;pwd&quot;]</code> - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼</li>
<li><code>[&quot;fido&quot;, &quot;pwd&quot;]</code> - FIDO2 + ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆMFAï¼‰</li>
<li><code>[&quot;otp&quot;, &quot;sms&quot;]</code> - SMS OTP</li>
<li><code>[&quot;fed&quot;]</code> - ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</li>
</ul>
<p><strong>æƒ…å ±æº</strong>: <a href="https://www.rfc-editor.org/rfc/rfc8176.html" target="_blank" rel="noopener noreferrer">RFC 8176 - Authentication Method Reference Values</a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authenticationtransaction---èªè¨¼ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³">AuthenticationTransaction - èªè¨¼ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³<a href="#authenticationtransaction---èªè¨¼ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³" class="hash-link" aria-label="AuthenticationTransaction - èªè¨¼ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="AuthenticationTransaction - èªè¨¼ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>æƒ…å ±æº</strong>: <a href="/idp-server/libs/idp-server-core/src/main/java/org/idp/server/core/openid/authentication/AuthenticationTransaction.java#L35">AuthenticationTransaction.java:35</a></p>
<p>è¤‡æ•°ã‚¹ãƒ†ãƒƒãƒ—ã®èªè¨¼ãƒ•ãƒ­ãƒ¼ï¼ˆMFAç­‰ï¼‰ã‚’ç®¡ç†ã€‚</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * èªè¨¼ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¢ºèªæ–¹æ³•: å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã®35-120è¡Œç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AuthenticationTransaction {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthenticationTransactionIdentifier identifier;  // ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³è­˜åˆ¥å­</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthorizationIdentifier authorizationIdentifier; // èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆè­˜åˆ¥å­</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthenticationRequest request;                   // èªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthenticationPolicy authenticationPolicy;       // èªè¨¼ãƒãƒªã‚·ãƒ¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthenticationInteractionResults interactionResults; // èªè¨¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³çµæœé›†åˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthenticationTransactionAttributes attributes;   // ã‚«ã‚¹ã‚¿ãƒ å±æ€§</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³çµæœã®è¿½åŠ ãƒ»æ›´æ–°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public AuthenticationTransaction updateWith(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      AuthenticationInteractionRequestResult interactionRequestResult) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Immutableãƒ‘ã‚¿ãƒ¼ãƒ³: æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¿”å´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… èªè¨¼å®Œäº†åˆ¤å®š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean isCompleted() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return authenticationPolicy.isCompleted(interactionResults);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… MFAå¿…è¦åˆ¤å®š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean requiresMfa() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return authenticationPolicy.requiresMfa();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>èªè¨¼ãƒ•ãƒ­ãƒ¼ä¾‹ï¼ˆMFAï¼‰</strong>:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 1. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AuthenticationInteractionRequestResult passwordResult =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    new AuthenticationInteractionRequestResult(&quot;PASSWORD&quot;, &quot;pwd&quot;, true, user);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transaction = transaction.updateWith(passwordResult);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 2. MFAå¿…è¦åˆ¤å®š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (transaction.requiresMfa()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // FIDO2èªè¨¼ã‚’è¦æ±‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthenticationInteractionRequestResult fidoResult =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      new AuthenticationInteractionRequestResult(&quot;FIDO2&quot;, &quot;fido&quot;, true, user);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  transaction = transaction.updateWith(fidoResult);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 3. èªè¨¼å®Œäº†åˆ¤å®š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (transaction.isCompleted()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Authentication authentication = transaction.createAuthentication();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // authentication.methods() â†’ [&quot;pwd&quot;, &quot;fido&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authenticationmethod---æ¨™æº–èªè¨¼æ–¹å¼">AuthenticationMethod - æ¨™æº–èªè¨¼æ–¹å¼<a href="#authenticationmethod---æ¨™æº–èªè¨¼æ–¹å¼" class="hash-link" aria-label="AuthenticationMethod - æ¨™æº–èªè¨¼æ–¹å¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="AuthenticationMethod - æ¨™æº–èªè¨¼æ–¹å¼ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>AMRå€¤</th><th>èª¬æ˜</th></tr></thead><tbody><tr><td><code>pwd</code></td><td>Password</td></tr><tr><td><code>otp</code></td><td>One-Time Password</td></tr><tr><td><code>sms</code></td><td>SMS OTP</td></tr><tr><td><code>fido</code></td><td>FIDO2/WebAuthn</td></tr><tr><td><code>hwk</code></td><td>Hardware Key</td></tr><tr><td><code>swk</code></td><td>Software Key</td></tr><tr><td><code>pin</code></td><td>PIN</td></tr><tr><td><code>face</code></td><td>é¡”èªè¨¼</td></tr><tr><td><code>fpt</code></td><td>æŒ‡ç´‹èªè¨¼</td></tr><tr><td><code>mfa</code></td><td>Multiple-Factor Authentication</td></tr><tr><td><code>fed</code></td><td>Federation</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-grant-management-openidgrant_management">5. Grant Management (<code>openid/grant_management/</code>)<a href="#5-grant-management-openidgrant_management" class="hash-link" aria-label="5-grant-management-openidgrant_management ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="5-grant-management-openidgrant_management ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹èªå¯ï¼ˆã‚¹ã‚³ãƒ¼ãƒ—ãƒ»ã‚¯ãƒ¬ãƒ¼ãƒ åŒæ„ï¼‰ã®ç®¡ç†ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-3">ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§<a href="#ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-3" class="hash-link" aria-label="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>ã‚¯ãƒ©ã‚¹</th><th>è²¬å‹™</th></tr></thead><tbody><tr><td><code>AuthorizationGranted</code></td><td>èªå¯æ¸ˆã¿ã‚°ãƒ©ãƒ³ãƒˆï¼ˆæ°¸ç¶šåŒ–ï¼‰</td></tr><tr><td><code>AuthorizationGrant</code></td><td>èªå¯ã‚°ãƒ©ãƒ³ãƒˆï¼ˆä¸€æ™‚ï¼‰</td></tr><tr><td><code>AuthorizationCodeGrant</code></td><td>èªå¯ã‚³ãƒ¼ãƒ‰ã‚°ãƒ©ãƒ³ãƒˆ</td></tr><tr><td><code>ConsentClaims</code></td><td>åŒæ„ã•ã‚ŒãŸã‚¯ãƒ¬ãƒ¼ãƒ </td></tr><tr><td><code>GrantIdTokenClaims</code></td><td>ID Tokenç”¨ã‚¯ãƒ¬ãƒ¼ãƒ </td></tr><tr><td><code>GrantUserinfoClaims</code></td><td>UserInfoç”¨ã‚¯ãƒ¬ãƒ¼ãƒ </td></tr></tbody></table>
<p><strong>æƒ…å ±æº</strong>: <code>libs/idp-server-core/src/main/java/org/idp/server/core/openid/grant_management/</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authorizationgranted---èªå¯æ¸ˆã¿ã‚°ãƒ©ãƒ³ãƒˆ">AuthorizationGranted - èªå¯æ¸ˆã¿ã‚°ãƒ©ãƒ³ãƒˆ<a href="#authorizationgranted---èªå¯æ¸ˆã¿ã‚°ãƒ©ãƒ³ãƒˆ" class="hash-link" aria-label="AuthorizationGranted - èªå¯æ¸ˆã¿ã‚°ãƒ©ãƒ³ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="AuthorizationGranted - èªå¯æ¸ˆã¿ã‚°ãƒ©ãƒ³ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>æƒ…å ±æº</strong>: <a href="/idp-server/libs/idp-server-core/src/main/java/org/idp/server/core/openid/grant_management/AuthorizationGranted.java#L25">AuthorizationGranted.java:25</a></p>
<p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒéå»ã«åŒæ„ã—ãŸã‚¹ã‚³ãƒ¼ãƒ—ãƒ»ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’æ°¸ç¶šåŒ–ã€‚</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * èªå¯æ¸ˆã¿ã‚°ãƒ©ãƒ³ãƒˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç¢ºèªæ–¹æ³•: å®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã®25-80è¡Œç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AuthorizationGranted {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthorizationGrantedIdentifier identifier;  // (user, client)ã®ãƒšã‚¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AuthorizationGrant authorizationGrant;      // èªå¯å†…å®¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ã‚¹ã‚³ãƒ¼ãƒ—èªå¯ãƒã‚§ãƒƒã‚¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean isGrantedScopes(Scopes requestedScopes) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return authorizationGrant.isGrantedScopes(requestedScopes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… æœªèªå¯ã‚¹ã‚³ãƒ¼ãƒ—å–å¾—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public Scopes unauthorizedScopes(Scopes requestedScopes) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return authorizationGrant.unauthorizedScopes(requestedScopes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ã‚¯ãƒ¬ãƒ¼ãƒ èªå¯ãƒã‚§ãƒƒã‚¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean isGrantedClaims(GrantIdTokenClaims requestedIdTokenClaims) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return authorizationGrant.isGrantedIdTokenClaims(requestedIdTokenClaims);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ã‚°ãƒ©ãƒ³ãƒˆãƒãƒ¼ã‚¸ï¼ˆè¿½åŠ åŒæ„ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public AuthorizationGranted merge(AuthorizationGrant newAuthorizationGrant) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AuthorizationGrant merged = authorizationGrant.merge(newAuthorizationGrant);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new AuthorizationGranted(identifier, merged);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ç”¨é€”</strong>:</p>
<ol>
<li><strong>åˆå›èªå¯</strong>: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŒæ„ç”»é¢ã§æ‰¿èª â†’ <code>AuthorizationGranted</code>ã‚’ä¿å­˜</li>
<li><strong>2å›ç›®ä»¥é™</strong>: <code>AuthorizationGranted</code>ã‚’ç¢ºèª â†’ åŒæ„æ¸ˆã¿ãªã‚‰åŒæ„ç”»é¢ã‚¹ã‚­ãƒƒãƒ—</li>
<li><strong>è¿½åŠ ã‚¹ã‚³ãƒ¼ãƒ—</strong>: æœªèªå¯ã‚¹ã‚³ãƒ¼ãƒ—ã®ã¿åŒæ„ç”»é¢è¡¨ç¤º</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authorizationgrant---èªå¯ã‚°ãƒ©ãƒ³ãƒˆä¸€æ™‚">AuthorizationGrant - èªå¯ã‚°ãƒ©ãƒ³ãƒˆï¼ˆä¸€æ™‚ï¼‰<a href="#authorizationgrant---èªå¯ã‚°ãƒ©ãƒ³ãƒˆä¸€æ™‚" class="hash-link" aria-label="AuthorizationGrant - èªå¯ã‚°ãƒ©ãƒ³ãƒˆï¼ˆä¸€æ™‚ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="AuthorizationGrant - èªå¯ã‚°ãƒ©ãƒ³ãƒˆï¼ˆä¸€æ™‚ï¼‰ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class AuthorizationGrant {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scopes scopes;                    // èªå¯ã•ã‚ŒãŸã‚¹ã‚³ãƒ¼ãƒ—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ConsentClaims consentClaims;      // åŒæ„ã•ã‚ŒãŸã‚¯ãƒ¬ãƒ¼ãƒ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  GrantIdTokenClaims idTokenClaims; // ID Tokenç”¨ã‚¯ãƒ¬ãƒ¼ãƒ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  GrantUserinfoClaims userinfoClaims; // UserInfoç”¨ã‚¯ãƒ¬ãƒ¼ãƒ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ã‚¹ã‚³ãƒ¼ãƒ—åˆ¤å®š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean isGrantedScopes(Scopes requestedScopes) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return scopes.containsAll(requestedScopes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // âœ… ãƒãƒ¼ã‚¸ï¼ˆè¿½åŠ èªå¯ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public AuthorizationGrant merge(AuthorizationGrant other) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Scopes mergedScopes = scopes.merge(other.scopes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ConsentClaims mergedClaims = consentClaims.merge(other.consentClaims);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new AuthorizationGrant(mergedScopes, mergedClaims, ...);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-discovery-openiddiscovery">6. Discovery (<code>openid/discovery/</code>)<a href="#6-discovery-openiddiscovery" class="hash-link" aria-label="6-discovery-openiddiscovery ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="6-discovery-openiddiscovery ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>OpenID Connect Discoveryï¼ˆ<code>.well-known/openid-configuration</code>ï¼‰ã¨JWKSæä¾›ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-4">ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§<a href="#ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-4" class="hash-link" aria-label="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>ã‚¯ãƒ©ã‚¹</th><th>è²¬å‹™</th></tr></thead><tbody><tr><td><code>DiscoveryHandler</code></td><td>Discoveryã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‡¦ç†</td></tr><tr><td><code>ServerConfigurationResponseCreator</code></td><td>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ</td></tr><tr><td><code>OidcMetaDataApi</code></td><td>Discovery API</td></tr></tbody></table>
<p><strong>æƒ…å ±æº</strong>: <code>libs/idp-server-core/src/main/java/org/idp/server/core/openid/discovery/</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="discovery-metadata---openid-provider-metadata">Discovery Metadata - OpenID Provider Metadata<a href="#discovery-metadata---openid-provider-metadata" class="hash-link" aria-label="Discovery Metadata - OpenID Provider Metadata ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Discovery Metadata - OpenID Provider Metadata ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</strong>: <code>GET /.well-known/openid-configuration</code></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;issuer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://idp.example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;authorization_endpoint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://idp.example.com/authorize&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;token_endpoint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://idp.example.com/token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;userinfo_endpoint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://idp.example.com/userinfo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;jwks_uri&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://idp.example.com/.well-known/jwks.json&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;registration_endpoint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://idp.example.com/register&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;scopes_supported&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;openid&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;profile&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;address&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;phone&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;response_types_supported&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;code&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;id_token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;code token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;code id_token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;id_token token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;code id_token token&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;response_modes_supported&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;fragment&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;form_post&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;grant_types_supported&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;authorization_code&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;implicit&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;refresh_token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;client_credentials&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;subject_types_supported&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;public&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pairwise&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;id_token_signing_alg_values_supported&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;RS256&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;RS384&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;RS512&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ES256&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ES384&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ES512&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;token_endpoint_auth_methods_supported&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;client_secret_basic&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;client_secret_post&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;client_secret_jwt&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;private_key_jwt&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;claims_supported&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;sub&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;given_name&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;family_name&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;email&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;email_verified&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;...&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;code_challenge_methods_supported&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;S256&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;plain&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="jwks-endpoint---json-web-key-set">JWKS Endpoint - JSON Web Key Set<a href="#jwks-endpoint---json-web-key-set" class="hash-link" aria-label="JWKS Endpoint - JSON Web Key Set ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="JWKS Endpoint - JSON Web Key Set ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</strong>: <code>GET /.well-known/jwks.json</code></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;keys&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;kty&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;RSA&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;use&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sig&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;kid&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2024-key-1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;alg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;RS256&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;n&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;xGOr...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;e&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;AQAB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="7-userinfo-openiduserinfo">7. UserInfo (<code>openid/userinfo/</code>)<a href="#7-userinfo-openiduserinfo" class="hash-link" aria-label="7-userinfo-openiduserinfo ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="7-userinfo-openiduserinfo ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>OpenID Connect UserInfoã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-5">ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§<a href="#ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-5" class="hash-link" aria-label="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>ã‚¯ãƒ©ã‚¹</th><th>è²¬å‹™</th></tr></thead><tbody><tr><td><code>UserinfoHandler</code></td><td>UserInfoã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‡¦ç†</td></tr><tr><td><code>UserinfoResponse</code></td><td>UserInfo ãƒ¬ã‚¹ãƒãƒ³ã‚¹</td></tr><tr><td><code>UserinfoCustomIndividualClaimsCreator</code></td><td>ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ¬ãƒ¼ãƒ è¿½åŠ ï¼ˆPluginï¼‰</td></tr></tbody></table>
<p><strong>æƒ…å ±æº</strong>: <code>libs/idp-server-core/src/main/java/org/idp/server/core/openid/userinfo/</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="userinfo-endpoint">UserInfo Endpoint<a href="#userinfo-endpoint" class="hash-link" aria-label="UserInfo Endpoint ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="UserInfo Endpoint ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<p><strong>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</strong>: <code>GET /userinfo</code>
<strong>èªè¨¼</strong>: <code>Authorization: Bearer &lt;access_token&gt;</code></p>
<p><strong>ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹</strong>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;sub&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;248289761001&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Jane Doe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;given_name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Jane&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;family_name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Doe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;janedoe@example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;email_verified&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;picture&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://example.com/janedoe.jpg&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ã‚¹ã‚³ãƒ¼ãƒ—ã¨ã‚¯ãƒ¬ãƒ¼ãƒ ã®ãƒãƒƒãƒ”ãƒ³ã‚°</strong>:</p>
<table><thead><tr><th>ã‚¹ã‚³ãƒ¼ãƒ—</th><th>è¿”å´ã•ã‚Œã‚‹ã‚¯ãƒ¬ãƒ¼ãƒ </th></tr></thead><tbody><tr><td><code>openid</code></td><td><code>sub</code></td></tr><tr><td><code>profile</code></td><td><code>name</code>, <code>given_name</code>, <code>family_name</code>, <code>middle_name</code>, <code>nickname</code>, <code>preferred_username</code>, <code>profile</code>, <code>picture</code>, <code>website</code>, <code>gender</code>, <code>birthdate</code>, <code>zoneinfo</code>, <code>locale</code>, <code>updated_at</code></td></tr><tr><td><code>email</code></td><td><code>email</code>, <code>email_verified</code></td></tr><tr><td><code>address</code></td><td><code>address</code></td></tr><tr><td><code>phone</code></td><td><code>phone_number</code>, <code>phone_number_verified</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-federation-openidfederation">8. Federation (<code>openid/federation/</code>)<a href="#8-federation-openidfederation" class="hash-link" aria-label="8-federation-openidfederation ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="8-federation-openidfederation ã¸ã® ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>å¤–éƒ¨IdPã¨ã®ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆSSOé€£æºï¼‰ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-6">ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§<a href="#ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§-6" class="hash-link" aria-label="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¸»è¦ã‚¯ãƒ©ã‚¹ä¸€è¦§ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<table><thead><tr><th>ã‚¯ãƒ©ã‚¹</th><th>è²¬å‹™</th></tr></thead><tbody><tr><td><code>FederationInteractor</code></td><td>ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œï¼ˆPluginï¼‰</td></tr><tr><td><code>FederationInteractionResult</code></td><td>ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœ</td></tr><tr><td><code>FederationConfigurationQueryRepository</code></td><td>ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šå–å¾—</td></tr></tbody></table>
<p><strong>æƒ…å ±æº</strong>: <code>libs/idp-server-core/src/main/java/org/idp/server/core/openid/federation/</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="federation-flow">Federation Flow<a href="#federation-flow" class="hash-link" aria-label="Federation Flow ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="Federation Flow ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 1. ãƒ•ã‚§ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šå–å¾—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FederationConfiguration config =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    federationConfigurationQueryRepository.get(tenant, providerId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 2. å¤–éƒ¨IdPã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FederationInteractor interactor = federationInteractorFactory.create(config);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String authorizationUrl = interactor.createAuthorizationUrl(authorizationRequest);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// â†’ https://external-idp.com/authorize?client_id=...&amp;redirect_uri=...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 3. ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FederationInteractionResult result = interactor.handleCallback(callbackRequest);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 4. ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User externalUser = result.user();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 5. ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒªãƒ³ã‚­ãƒ³ã‚°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User localUser = userRepository.findByEmail(tenant, externalUser.email());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (localUser == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  localUser = createNewUser(externalUser);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  localUser = linkFederatedIdentity(localUser, externalUser, providerId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>å¯¾å¿œãƒ—ãƒ­ãƒˆã‚³ãƒ«</strong>:</p>
<ul>
<li>âœ… OIDC Federationï¼ˆ<code>idp-server-federation-oidc</code>ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰</li>
<li>ğŸ”œ SAML 2.0ï¼ˆå°†æ¥å¯¾å¿œäºˆå®šï¼‰</li>
<li>ğŸ”œ LDAPï¼ˆå°†æ¥å¯¾å¿œäºˆå®šï¼‰</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="9-plugin-openidplugin">9. Plugin (<code>openid/plugin/</code>)<a href="#9-plugin-openidplugin" class="hash-link" aria-label="9-plugin-openidplugin ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="9-plugin-openidplugin ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<p>æ©Ÿèƒ½æ‹¡å¼µç”¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©ã€‚</p>
<p><strong>ä¸»è¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</strong>:</p>
<ul>
<li><code>AuthorizationRequestExtensionVerifier</code> - èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ‹¡å¼µæ¤œè¨¼</li>
<li><code>OAuthTokenCreationServiceFactory</code> - ãƒˆãƒ¼ã‚¯ãƒ³ç”ŸæˆServiceæ‹¡å¼µ</li>
<li><code>AccessTokenCustomClaimsCreator</code> - ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚¯ãƒ¬ãƒ¼ãƒ æ‹¡å¼µ</li>
<li><code>ClientAuthenticator</code> - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèªè¨¼æ‹¡å¼µ</li>
</ul>
<p><strong>æƒ…å ±æº</strong>: <a href="/idp-server/documentation/docs/content_01_intro/intro-01-tech-overview.md#L93-L170">intro-01-tech-overview.md:93-170</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³">å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³<a href="#å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³" class="hash-link" aria-label="å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<p>idp-server-coreã§ã¯ã€<code>String</code>/<code>Map</code>ã®æ¿«ç”¨ã‚’é¿ã‘ã€æ„å‘³ã®ã‚ã‚‹å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ç”¨ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ‚ªã„ä¾‹-">æ‚ªã„ä¾‹ âŒ<a href="#æ‚ªã„ä¾‹-" class="hash-link" aria-label="æ‚ªã„ä¾‹ âŒ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="æ‚ªã„ä¾‹ âŒ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// âŒ Stringæ¿«ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void register(Tenant tenant, String clientId, String clientSecret) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // clientIdã¨clientSecretã‚’é–“é•ãˆã¦æ¸¡ã—ã¦ã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// âŒ Mapæ¿«ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public Map&lt;String, Object&gt; getTokenResponse(Map&lt;String, String&gt; request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // å‹å®‰å…¨æ€§ãŒãªã„ã€IDEè£œå®ŒãŒåŠ¹ã‹ãªã„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è‰¯ã„ä¾‹-">è‰¯ã„ä¾‹ âœ…<a href="#è‰¯ã„ä¾‹-" class="hash-link" aria-label="è‰¯ã„ä¾‹ âœ… ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="è‰¯ã„ä¾‹ âœ… ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// âœ… å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½¿ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void register(Tenant tenant, RequestedClientId clientId, ClientSecret clientSecret) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // å‹ãŒé•ã†ãŸã‚ã€é–“é•ãˆã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// âœ… ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ä½¿ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public TokenResponse createToken(TokenRequest request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // å‹å®‰å…¨ã€IDEè£œå®ŒãŒåŠ¹ãã€ä»•æ§˜ãŒæ˜ç¢º</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¾‹</strong>:</p>
<ul>
<li><code>RequestedClientId</code> - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆID</li>
<li><code>AuthorizationCode</code> - èªå¯ã‚³ãƒ¼ãƒ‰</li>
<li><code>AccessToken</code> - ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³</li>
<li><code>RefreshToken</code> - ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³</li>
<li><code>Scope</code> / <code>Scopes</code> - ã‚¹ã‚³ãƒ¼ãƒ—</li>
<li><code>RedirectUri</code> - ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURI</li>
<li><code>GrantType</code> - ã‚°ãƒ©ãƒ³ãƒˆã‚¿ã‚¤ãƒ—</li>
</ul>
<p><strong>æƒ…å ±æº</strong>: CLAUDE.mdã€Œå‹å®‰å…¨æ€§: String/Mapæ¿«ç”¨ç¦æ­¢ã€æ„å‘³ã®ã‚ã‚‹å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå„ªå…ˆã€</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°">ä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°<a href="#ä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°" class="hash-link" aria-label="ä¾‹ å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¾‹å¤–å‘½åãƒ‘ã‚¿ãƒ¼ãƒ³">ä¾‹å¤–å‘½åãƒ‘ã‚¿ãƒ¼ãƒ³<a href="#ä¾‹å¤–å‘½åãƒ‘ã‚¿ãƒ¼ãƒ³" class="hash-link" aria-label="ä¾‹å¤–å‘½åãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ä¾‹å¤–å‘½åãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// OAuthæ¨™æº–ã‚¨ãƒ©ãƒ¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">throw new OAuthBadRequestException(&quot;invalid_request&quot;, &quot;Missing required parameter: code&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">throw new OAuthUnauthorizedException(&quot;invalid_client&quot;, &quot;Client authentication failed&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// OAuth Redirectableã‚¨ãƒ©ãƒ¼ï¼ˆèªå¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">throw new OAuthRedirectableBadRequestException(&quot;invalid_scope&quot;, &quot;Requested scope is invalid&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å†…éƒ¨ã‚¨ãƒ©ãƒ¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">throw new ServerConfigurationNotFoundException(&quot;Authorization server configuration not found&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="throwexceptionifcondition-ãƒ‘ã‚¿ãƒ¼ãƒ³"><code>throwExceptionIf{Condition}() ãƒ‘ã‚¿ãƒ¼ãƒ³</code><a href="#throwexceptionifcondition-ãƒ‘ã‚¿ãƒ¼ãƒ³" class="hash-link" aria-label="throwexceptionifcondition-ãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="throwexceptionifcondition-ãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// âœ… è‰¯ã„ä¾‹: æ¡ä»¶ã‚’æ˜ç¤ºçš„ã«è¡¨ç¾</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private void throwExceptionIfCodeIsInvalid(AuthorizationCode code) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (code == null || code.isEmpty()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throw new TokenBadRequestException(&quot;invalid_grant&quot;, &quot;Authorization code is invalid&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// âœ… è‰¯ã„ä¾‹: æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³ã§å¯èª­æ€§å‘ä¸Š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void verify() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  throwExceptionIfCodeIsInvalid(authorizationCode);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  throwExceptionIfClientIdMismatch(clientId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  throwExceptionIfRedirectUriMismatch(redirectUri);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æƒ…å ±æº</strong>: CLAUDE.mdã€Œä¾‹å¤–: <code>throwExceptionIf{Condition}()</code> ãƒ‘ã‚¿ãƒ¼ãƒ³ã€OAuthæ¨™æº–ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã€</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã‚¢ãƒ³ãƒãƒ‘ ã‚¿ãƒ¼ãƒ³">ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³<a href="#ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³" class="hash-link" aria-label="ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-1-utilæ¿«ç”¨">âŒ 1. Utilæ¿«ç”¨<a href="#-1-utilæ¿«ç”¨" class="hash-link" aria-label="âŒ 1. Utilæ¿«ç”¨ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="âŒ 1. Utilæ¿«ç”¨ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// âŒ æ‚ªã„ä¾‹: å…±é€šãƒ­ã‚¸ãƒƒã‚¯ã‚’Utilã«é€ƒãŒã™</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class OAuthUtils {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public static boolean isValidAuthorizationCode(String code) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ãŒUtilã«æ¼ã‚Œã¦ã„ã‚‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// âœ… è‰¯ã„ä¾‹: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«é…ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AuthorizationCode {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean isValid() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-2-mapæ¿«ç”¨">âŒ 2. Mapæ¿«ç”¨<a href="#-2-mapæ¿«ç”¨" class="hash-link" aria-label="âŒ 2. Mapæ¿«ç”¨ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="âŒ 2. Mapæ¿«ç”¨ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// âŒ æ‚ªã„ä¾‹: Map&lt;String, Object&gt;ã§æƒ…å ±ã‚’æŒã¡å›ã‚‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public Map&lt;String, Object&gt; authorize(Map&lt;String, String&gt; request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  response.put(&quot;access_token&quot;, &quot;...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  response.put(&quot;expires_in&quot;, 3600);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return response;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// âœ… è‰¯ã„ä¾‹: å°‚ç”¨ã‚¯ãƒ©ã‚¹ä½¿ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public AuthorizationResponse authorize(AuthorizationRequest request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return AuthorizationResponse.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .accessToken(new AccessToken(&quot;...&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .expiresIn(3600)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-3-æ°¸ç¶šåŒ–å±¤ã§ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯">âŒ 3. æ°¸ç¶šåŒ–å±¤ã§ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯<a href="#-3-æ°¸ç¶šåŒ–å±¤ã§ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯" class="hash-link" aria-label="âŒ 3. æ°¸ç¶šåŒ–å±¤ã§ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="âŒ 3. æ°¸ç¶šåŒ–å±¤ã§ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// âŒ æ‚ªã„ä¾‹: Repositoryå®Ÿè£…ã§ãƒ“ã‚¸ãƒã‚¹åˆ¤å®š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientConfigurationRepositoryImpl implements ClientConfigurationQueryRepository {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public ClientConfiguration get(Tenant tenant, RequestedClientId clientId) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ClientConfiguration config = dao.findById(clientId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // âŒ ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å±¤ã«æ¼ã‚Œã¦ã„ã‚‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (&quot;ORGANIZER&quot;.equals(tenant.type())) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      config.setSpecialPermissions(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return config;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// âœ… è‰¯ã„ä¾‹: ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã§åˆ¤å®š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ClientConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  public boolean hasSpecialPermissions(Tenant tenant) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // âœ… ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return tenant.isOrganizer() &amp;&amp; this.permissionLevel.isSpecial();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>é‡è¦æ•™è¨“</strong>: ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å±¤ = SELECT/INSERT/UPDATE/DELETEã€ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ = æ¥­å‹™ãƒ«ãƒ¼ãƒ«</p>
<p><strong>æƒ…å ±æº</strong>: CLAUDE.mdã€Œâš ï¸ ãƒ¬ã‚¤ãƒ¤ãƒ¼è²¬ä»»é•åã®é‡è¦æ•™è¨“ã€</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¨­å®šãƒ‘ã‚¿ãƒ¼ãƒ³">è¨­å®šãƒ‘ã‚¿ãƒ¼ãƒ³<a href="#è¨­å®šãƒ‘ã‚¿ãƒ¼ãƒ³" class="hash-link" aria-label="è¨­å®šãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="è¨­å®šãƒ‘ã‚¿ãƒ¼ãƒ³ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tenantattributesæ´»ç”¨">TenantAttributesæ´»ç”¨<a href="#tenantattributesæ´»ç”¨" class="hash-link" aria-label="TenantAttributesæ´»ç”¨ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="TenantAttributesæ´»ç”¨ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ãƒ†ãƒŠãƒ³ãƒˆå›ºæœ‰è¨­å®šã®å–å¾—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean enablePKCE = tenantAttributes.optValueAsBoolean(&quot;oauth.pkce.enabled&quot;, false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int tokenLifetime = tenantAttributes.optValueAsInt(&quot;token.access_token.lifetime_seconds&quot;, 3600);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String customClaim = tenantAttributes.optValueAsString(&quot;token.custom_claim_key&quot;, &quot;&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label=" ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼" title="ã‚³ãƒ”ãƒ¼" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>æƒ…å ±æº</strong>: CLAUDE.mdã€Œè¨­å®š: TenantAttributes.optValueAsBoolean(key, default) ãƒ‘ã‚¿ãƒ¼ãƒ³ã€</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ã¾ã¨ã‚">ã¾ã¨ã‚<a href="#ã¾ã¨ã‚" class="hash-link" aria-label="ã¾ã¨ã‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="ã¾ã¨ã‚ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="idp-server-core-ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®5ã¤ã®ãƒã‚¤ãƒ³ãƒˆ">idp-server-core ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®5ã¤ã®ãƒã‚¤ãƒ³ãƒˆ<a href="#idp-server-core-ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®5ã¤ã®ãƒã‚¤ãƒ³ãƒˆ" class="hash-link" aria-label="idp-server-core ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®5ã¤ã®ãƒã‚¤ãƒ³ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="idp-server-core ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®5ã¤ã®ãƒã‚¤ãƒ³ãƒˆ ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ol>
<li><strong>Handler-Service-Repository ãƒ‘ã‚¿ãƒ¼ãƒ³</strong>: å±¤è²¬ä»»ã‚’æ˜ç¢ºã«åˆ†é›¢</li>
<li><strong>Tenantç¬¬ä¸€å¼•æ•°ã®åŸå‰‡</strong>: å…¨Repositoryæ“ä½œã§ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆåˆ†é›¢</li>
<li><strong>å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå„ªå…ˆ</strong>: String/Mapæ¿«ç”¨ã‚’é¿ã‘ã€å‹å®‰å…¨ãªè¨­è¨ˆ</li>
<li><strong>RFCæº–æ‹ Javadoc</strong>: ä»•æ§˜æ›¸å¼•ç”¨ã§å®Ÿè£…æ„å›³ã‚’æ˜ç¢ºåŒ–</li>
<li><strong>Pluginæ‹¡å¼µ</strong>: <code>Map&lt;GrantType, Service&gt;</code>ãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ©Ÿèƒ½æ‹¡å¼µ</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—<a href="#æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—" class="hash-link" aria-label="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯" title="æ¬¡ ã®ã‚¹ãƒ†ãƒƒãƒ— ã¸ã®ç›´æ¥ãƒªãƒ³ã‚¯">â€‹</a></h3>
<ul>
<li><a href="/idp-server/docs/content_10_ai_developer/ai-12-platform">idp-server-platformï¼ˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åŸºç›¤ï¼‰</a> - ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå®Ÿè£…è©³ç´°</li>
<li><a href="/idp-server/docs/content_10_ai_developer/ai-10-use-cases">idp-server-use-casesï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤ï¼‰</a> - EntryServiceãƒ‘ã‚¿ãƒ¼ãƒ³</li>
<li><a href="/idp-server/docs/content_10_ai_developer/ai-21-core-adapter">idp-server-core-adapterï¼ˆã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼å±¤ï¼‰</a> - Repositoryå®Ÿè£…</li>
</ul>
<hr>
<p><strong>æƒ…å ±æº</strong>:</p>
<ul>
<li><code>libs/idp-server-core/src/main/java/</code>é…ä¸‹ã®å®Ÿè£…ã‚³ãƒ¼ãƒ‰</li>
<li>CLAUDE.mdã€Œ4å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°ã€ã€ŒHandler-Service-Repository ãƒ‘ã‚¿ãƒ¼ãƒ³ã€</li>
<li><a href="/idp-server/documentation/docs/content_01_intro/intro-01-tech-overview.md">intro-01-tech-overview.md</a></li>
</ul>
<p><strong>æœ€çµ‚æ›´æ–°</strong>: 2025-10-12
<strong>ç¢ºèªæ–¹æ³•</strong>: <code>find libs/idp-server-core -type f -name &quot;*.java&quot; | head -20</code></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_10_ai_developer/ai-11-core.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ã“ã®ãƒšãƒ¼ã‚¸ã‚’ç·¨é›†</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸"><a class="pagination-nav__link pagination-nav__link--prev" href="/idp-server/docs/content_10_ai_developer/ai-10-use-cases"><div class="pagination-nav__sublabel">å‰ã¸</div><div class="pagination-nav__label">idp-server-use-cases - ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤ï¼ˆEntryServiceå®Ÿè£…ï¼‰</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/idp-server/docs/content_10_ai_developer/ai-12-platform"><div class="pagination-nav__sublabel">æ¬¡ã¸</div><div class="pagination-nav__label">idp-server-platform - ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åŸºç›¤</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦" class="table-of-contents__link toc-highlight">ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦</a><ul><li><a href="#è²¬å‹™" class="table-of-contents__link toc-highlight">è²¬å‹™</a></li><li><a href="#ä¾å­˜é–¢ä¿‚" class="table-of-contents__link toc-highlight">ä¾å­˜é–¢ä¿‚</a></li></ul></li><li><a href="#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ " class="table-of-contents__link toc-highlight">ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ </a></li><li><a href="#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³" class="table-of-contents__link toc-highlight">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³</a><ul><li><a href="#handler-service-repository-ãƒ‘ã‚¿ãƒ¼ãƒ³" class="table-of-contents__link toc-highlight">Handler-Service-Repository ãƒ‘ã‚¿ãƒ¼ãƒ³</a></li><li><a href="#validator-vs-verifier" class="table-of-contents__link toc-highlight">Validator vs Verifier</a></li><li><a href="#verifierã®éšå±¤ãƒ‘ã‚¿ãƒ¼ãƒ³base--extension" class="table-of-contents__link toc-highlight">Verifierã®éšå±¤ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆBase + Extensionï¼‰</a></li><li><a href="#verifierãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹" class="table-of-contents__link toc-highlight">Verifierãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ©ç‚¹</a></li><li><a href="#æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã®çµ±åˆ" class="table-of-contents__link toc-highlight">æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã®çµ±åˆ</a></li></ul></li><li><a href="#ä¸»è¦ãƒ‰ãƒ¡ã‚¤ãƒ³" class="table-of-contents__link toc-highlight">ä¸»è¦ãƒ‰ãƒ¡ã‚¤ãƒ³</a><ul><li><a href="#1-oauth-openidoauth" class="table-of-contents__link toc-highlight">1. OAuth (<code>openid/oauth/</code>)</a></li><li><a href="#2-token-openidtoken" class="table-of-contents__link toc-highlight">2. Token (<code>openid/token/</code>)</a></li><li><a href="#3-identity-openididentity" class="table-of-contents__link toc-highlight">3. Identity (<code>openid/identity/</code>)</a></li><li><a href="#4-authentication-openidauthentication" class="table-of-contents__link toc-highlight">4. Authentication (<code>openid/authentication/</code>)</a></li><li><a href="#5-grant-management-openidgrant_management" class="table-of-contents__link toc-highlight">5. Grant Management (<code>openid/grant_management/</code>)</a></li><li><a href="#6-discovery-openiddiscovery" class="table-of-contents__link toc-highlight">6. Discovery (<code>openid/discovery/</code>)</a></li><li><a href="#7-userinfo-openiduserinfo" class="table-of-contents__link toc-highlight">7. UserInfo (<code>openid/userinfo/</code>)</a></li><li><a href="#8-federation-openidfederation" class="table-of-contents__link toc-highlight">8. Federation (<code>openid/federation/</code>)</a></li><li><a href="#9-plugin-openidplugin" class="table-of-contents__link toc-highlight">9. Plugin (<code>openid/plugin/</code>)</a></li></ul></li><li><a href="#å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³" class="table-of-contents__link toc-highlight">å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³</a><ul><li><a href="#æ‚ªã„ä¾‹-" class="table-of-contents__link toc-highlight">æ‚ªã„ä¾‹ âŒ</a></li><li><a href="#è‰¯ã„ä¾‹-" class="table-of-contents__link toc-highlight">è‰¯ã„ä¾‹ âœ…</a></li></ul></li><li><a href="#ä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°" class="table-of-contents__link toc-highlight">ä¾‹å¤–ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</a><ul><li><a href="#ä¾‹å¤–å‘½åãƒ‘ã‚¿ãƒ¼ãƒ³" class="table-of-contents__link toc-highlight">ä¾‹å¤–å‘½åãƒ‘ã‚¿ãƒ¼ãƒ³</a></li><li><a href="#throwexceptionifcondition-ãƒ‘ã‚¿ãƒ¼ãƒ³" class="table-of-contents__link toc-highlight"><code>throwExceptionIf{Condition}() ãƒ‘ã‚¿ãƒ¼ãƒ³</code></a></li></ul></li><li><a href="#ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³" class="table-of-contents__link toc-highlight">ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³</a><ul><li><a href="#-1-utilæ¿«ç”¨" class="table-of-contents__link toc-highlight">âŒ 1. Utilæ¿«ç”¨</a></li><li><a href="#-2-mapæ¿«ç”¨" class="table-of-contents__link toc-highlight">âŒ 2. Mapæ¿«ç”¨</a></li><li><a href="#-3-æ°¸ç¶šåŒ–å±¤ã§ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯" class="table-of-contents__link toc-highlight">âŒ 3. æ°¸ç¶šåŒ–å±¤ã§ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯</a></li></ul></li><li><a href="#è¨­å®šãƒ‘ã‚¿ãƒ¼ãƒ³" class="table-of-contents__link toc-highlight">è¨­å®šãƒ‘ã‚¿ãƒ¼ãƒ³</a><ul><li><a href="#tenantattributesæ´»ç”¨" class="table-of-contents__link toc-highlight">TenantAttributesæ´»ç”¨</a></li></ul></li><li><a href="#ã¾ã¨ã‚" class="table-of-contents__link toc-highlight">ã¾ã¨ã‚</a><ul><li><a href="#idp-server-core-ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®5ã¤ã®ãƒã‚¤ãƒ³ãƒˆ" class="table-of-contents__link toc-highlight">idp-server-core ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®5ã¤ã®ãƒã‚¤ãƒ³ãƒˆ</a></li><li><a href="#æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—" class="table-of-contents__link toc-highlight">æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/docs/introduction">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>