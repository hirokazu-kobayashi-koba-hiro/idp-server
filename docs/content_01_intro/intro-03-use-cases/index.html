<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-content_01_intro/intro-03-use-cases" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">ユースケース一覧 | IdP-Server Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_01_intro/intro-03-use-cases"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ユースケース一覧 | IdP-Server Documentation"><meta data-rh="true" name="description" content="idp-server における主要なユースケースを網羅的に整理したものです。"><meta data-rh="true" property="og:description" content="idp-server における主要なユースケースを網羅的に整理したものです。"><link data-rh="true" rel="icon" href="/idp-server/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_01_intro/intro-03-use-cases"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_01_intro/intro-03-use-cases" hreflang="ja"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_01_intro/intro-03-use-cases" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/idp-server/blog/rss.xml" title="IdP-Server Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/idp-server/blog/atom.xml" title="IdP-Server Documentation Atom Feed"><link rel="stylesheet" href="/idp-server/assets/css/styles.f434a3d5.css">
<script src="/idp-server/assets/js/runtime~main.16e6c3eb.js" defer="defer"></script>
<script src="/idp-server/assets/js/main.1ecbe18d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="ナビゲーション" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ナビゲーションバーを開く" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/idp-server/"><div class="navbar__logo"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IdP-Server</b></a><a class="navbar__item navbar__link" href="/idp-server/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/idp-server/docs/content_07_reference/api-reference">Api Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hirokazu-kobayashi-koba-hiro/idp-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ドキュメントのサイドバー" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/introduction">はじめに</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/document-index">📚 ドキュメント索引</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">製品紹介</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">技術概要</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/idp-server/docs/content_01_intro/intro-02-features">機能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/idp-server/docs/content_01_intro/intro-03-use-cases">ユースケース一覧</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">クイックスタート</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_03_concepts/concept-01-multi-tenant">コア概念</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">認証・認可プロトコル</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_05_how-to/index">How-to（設定・運用レシピ）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_06_developer-guide/getting-started/service-overview">Developer Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_07_reference/api-reference">リファレンス</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_08_ops/ops-01-test-strategy">運用（Ops）</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_09_project/project-01-faq">プロジェクト</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_10_ai_developer/ai-01-index">AI</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/idp-server/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">製品紹介</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ユースケース一覧</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><header><h1>ユースケース一覧</h1></header>
<p><code>idp-server</code> における主要なユースケースを網羅的に整理したものです。</p>
<p>アクター・機能分類ごとにユースケースを分けることで、機能全体の把握、仕様設計、テスト設計、および外部連携設計のベースとして活用できます。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="アクター定義">アクター定義<a href="#アクター定義" class="hash-link" aria-label="アクター定義 への直接リンク" title="アクター定義 への直接リンク">​</a></h2>
<p>各ユースケースに登場するアクターの役割と責務を定義します。</p>
<table><thead><tr><th>アクター</th><th>役割</th><th>シス テム境界</th><th>説明</th></tr></thead><tbody><tr><td><strong>ユーザー</strong></td><td>エンドユーザー</td><td>外部</td><td>サービスを利用する人（ブラウザ/モバイルアプリ経由でアクセス）</td></tr><tr><td><strong>RP (Relying Party)</strong></td><td>クライアントアプリケーション</td><td>外部</td><td>IdP を信頼してユーザー認証を委任するアプリケーション（OAuth 2.0 Client）</td></tr><tr><td><strong>リソースサーバー</strong></td><td>API サーバー</td><td>外部</td><td>アクセストークンで保護されたリソース（API）を提供するサーバー</td></tr><tr><td><strong>システム</strong></td><td>外部サービス</td><td>外部</td><td>身元確認サービス等の外部連携システム（コールバック経由で連携）</td></tr><tr><td><strong>非同期ワーカー</strong></td><td>バックグラウンド処理</td><td>内部</td><td>イベント駆動で非同期処理を実行（通知送信・監査ログ記録等）</td></tr><tr><td><strong>サーバー管理者</strong></td><td>運用者</td><td>内部</td><td>IdP サーバー全体の初期設定・メンテナンスを実施</td></tr><tr><td><strong>テナントオーナー</strong></td><td>テナント所有者</td><td>外部</td><td>テナント作成者（初期オンボーディングを実施）</td></tr><tr><td><strong>テナント管理者</strong></td><td>テナント運用者</td><td>外部</td><td>テナント内の設定・ユーザー・クライアントを管理</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="用語集">用語集<a href="#用語集" class="hash-link" aria-label="用語集 への直接リンク" title="用語集 への直接リンク">​</a></h2>
<p>主要な専門用語の説明です。</p>
<table><thead><tr><th>用語</th><th>正式名称</th><th>説明</th><th>関連仕様</th></tr></thead><tbody><tr><td><strong>OIDC</strong></td><td>OpenID Connect</td><td>OAuth 2.0 ベー スの認証プロトコル。ID トークンによるユーザー認証を提供</td><td><a href="https://openid.net/specs/openid-connect-core-1_0.html" target="_blank" rel="noopener noreferrer">OpenID Connect Core 1.0</a></td></tr><tr><td><strong>CIBA</strong></td><td>Client Initiated Backchannel Authentication</td><td>デバイス外（バックチャンネル）で認証を完了するフロー。IoT・ATM 等で利用</td><td><a href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html" target="_blank" rel="noopener noreferrer">OpenID Connect CIBA</a></td></tr><tr><td><strong>FIDO UAF</strong></td><td>Fast Identity Online - Universal Authentication Framework</td><td>パスワードレス認証の標準規格。生体認証等を使用</td><td><a href="https://fidoalliance.org/specs/fido-uaf-v1.2-ps-20201020/" target="_blank" rel="noopener noreferrer">FIDO UAF Spec</a></td></tr><tr><td><strong>RP</strong></td><td>Relying Party</td><td>OpenID Provider を信頼するクライアントアプリケーション（OAuth 2.0 Client と同義）</td><td><a href="https://openid.net/specs/openid-connect-core-1_0.html#Terminology" target="_blank" rel="noopener noreferrer">OIDC Terminology</a></td></tr><tr><td><strong>認可コード</strong></td><td>Authorization Code</td><td>トークンと交換するための一時的なコード（OAuth 2.0 Authorization Code Flow）</td><td><a href="https://www.rfc-editor.org/rfc/rfc6749#section-1.3.1" target="_blank" rel="noopener noreferrer">RFC 6749 Section 1.3.1</a></td></tr><tr><td><strong>アクセストークン</strong></td><td>Access Token</td><td>リソースサーバーへのアクセス権限を表すトークン</td><td><a href="https://www.rfc-editor.org/rfc/rfc6749#section-1.4" target="_blank" rel="noopener noreferrer">RFC 6749 Section 1.4</a></td></tr><tr><td><strong>リフレッシュトークン</strong></td><td>Refresh Token</td><td>新しいアクセストークンを取得するためのトークン</td><td><a href="https://www.rfc-editor.org/rfc/rfc6749#section-1.5" target="_blank" rel="noopener noreferrer">RFC 6749 Section 1.5</a></td></tr><tr><td><strong>ID トークン</strong></td><td>ID Token</td><td>ユーザー認証情報を含む JWT（OIDC）</td><td><a href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken" target="_blank" rel="noopener noreferrer">OIDC Core Section 2</a></td></tr><tr><td><strong>eKYC</strong></td><td>electronic Know Your Customer</td><td>オンラインでの本人確認プロセス</td><td>-</td></tr><tr><td><strong>MFA</strong></td><td>Multi-Factor Authentication</td><td>多要素認証（パスワード + 生体認証等）</td><td>-</td></tr><tr><td><strong>SSF</strong></td><td>Shared Signals Framework</td><td>セキュリティイベントを共有するためのフレームワーク</td><td><a href="https://openid.net/specs/openid-sse-framework-1_0.html" target="_blank" rel="noopener noreferrer">OpenID SSF</a></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="アプリケーション">アプリケーション<a href="#アプリケーション" class="hash-link" aria-label="アプリケーション への直接リンク" title="アプリケーション への直接リンク">​</a></h2>
<p>エンドユーザーやクライアントアプリケーションが利用する機能です。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="認証認可ユーザー">認証・認可（ユーザー）<a href="#認証認可ユーザー" class="hash-link" aria-label="認証・認可（ユーザー） への直接リンク" title="認証・認可（ユーザー） への直接リンク">​</a></h3>
<table><thead><tr><th>#</th><th>ユーザーストーリー</th><th>システム機能</th><th>実装詳細</th></tr></thead><tbody><tr><td>1</td><td><strong>アプリケーションにログインしたい</strong></td><td>OAuth 2.0 認可コードフローによる認証・認可</td><td><details><summary>フロー概要</summary>認可リクエスト → 認証画 面（ログイン） → 同意画面 → 認可コード発行 → RP へリダイレクト<br><br><strong>関連仕様</strong>: <a href="https://www.rfc-editor.org/rfc/rfc6749#section-4.1" target="_blank" rel="noopener noreferrer">RFC 6749 Section 4.1</a></details></td></tr><tr><td>2</td><td><strong>Google/GitHub アカウントでログインしたい</strong></td><td>フェデレーション認証（外部 IdP 連携）</td><td><details><summary>フロー概要</summary>外部 IdP へリダイレクト → 外部 IdP で認証 → コールバック処理 → IdP セッション確立</details></td></tr><tr><td>3</td><td><strong>ATM・IoT デバイスで認証したい</strong></td><td>CIBA（バックチャンネル認証）</td><td><details><summary>フロー概要</summary>デバイスが認証リクエスト送信 → ユーザーがモバイルアプリで承認/拒否 → デバイスがトークン取得<br><br><strong>関連仕様</strong>: <a href="https://openid.net/specs/openid-client-initiated-backchannel-authentication-core-1_0.html" target="_blank" rel="noopener noreferrer">OpenID Connect CIBA</a></details></td></tr><tr><td>4</td><td><strong>一度ログインしたら他のアプリでも自動ログインしたい</strong></td><td>SSO（シングルサインオン）セッション管理</td><td><details><summary>フロー概要</summary>既存セッション確認 → 自動認可（同意画面スキップ） → 認可コード発行</details></td></tr><tr><td>5</td><td><strong>すべてのアプリからログアウトしたい</strong></td><td>RP-Initiated Logout（全セッション終了）</td><td><details><summary>フロー概要</summary>IdP セッション削除 → 全 RP へログアウト通知（Front-Channel/Back-Channel）</details></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="トークンリソースアクセス">トークン・リソースアクセス<a href="#トークンリソースアクセス" class="hash-link" aria-label="トーク ン・リソースアクセス への直接リンク" title="トークン・リソースアクセス への直接リンク">​</a></h3>
<table><thead><tr><th>#</th><th>ユーザーストーリー</th><th>システム機能</th><th>実装詳細</th></tr></thead><tbody><tr><td>1</td><td><strong>API を呼び出したい</strong></td><td>アクセストークン発行・リフレッシュ</td><td><details><summary>フロー概要</summary>認可コードをトークンに交換（Token Exchange）<br>トークン期限切れ時はリフレッシュトークンで更新<br><br><strong>関連仕様</strong>: <a href="https://www.rfc-editor.org/rfc/rfc6749#section-6" target="_blank" rel="noopener noreferrer">RFC 6749 Section 6</a></details></td></tr><tr><td>2</td><td><strong>ログアウト時にトークンを無効化したい</strong></td><td>トークン失効（Revocation）</td><td><details><summary>概要</summary>アクセストークン・リフレッシュトークンを無効化し、以降の利用を防止<br><br><strong>関連仕様</strong>: <a href="https://www.rfc-editor.org/rfc/rfc7009" target="_blank" rel="noopener noreferrer">RFC 7009</a></details></td></tr><tr><td>3</td><td><strong>ユーザーのプロフィール情報を取得したい</strong></td><td>UserInfo エンドポイント</td><td><details><summary>概要</summary>アクセストークンを使って email・name・profile 等のユーザー属性を取得</details></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="本人確認ekyc">本人確認（eKYC）<a href="#本人確認ekyc" class="hash-link" aria-label="本人確認（eKYC） への直接リンク" title="本人確認（eKYC） への直接リンク">​</a></h3>
<table><thead><tr><th>#</th><th>ユーザーストーリー</th><th>システム機能</th><th>実装詳細</th></tr></thead><tbody><tr><td>1</td><td><strong>オンラインで本人確認を完了したい</strong></td><td>eKYC 申請・審査結果取得</td><td><details><summary>フ ロー概要</summary>身元確認申請送信 → 外部 eKYC サービスで審査 → 結果コールバック受信 → ユーザーが結果取得<br><br><strong>操作</strong>: 申請・履歴照会・結果取得・キャンセル<br><strong>外部連携</strong>: eKYC サービスとの HTTP 連携（動的テンプレート対応）</details></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="多要素認証デバイス管理">多要素認証・デバイス管理<a href="#多要素認証デバイス管理" class="hash-link" aria-label="多要素認証・デバイス管理 への直接リンク" title="多要素認証・デバイス管理 への直接リンク">​</a></h3>
<table><thead><tr><th>#</th><th>ユーザーストーリー</th><th>システム機能</th><th>実装詳細</th></tr></thead><tbody><tr><td>1</td><td><strong>SMS・Email で追加認証したい</strong></td><td>MFA（多要素認証）フロー</td><td><details><summary>フロー概要</summary>MFA トランザクション開始 → コード送信（SMS/Email） → ユーザーがコード入力 → 検証完了</details></td></tr><tr><td>2</td><td><strong>生体認証・FIDO で認証したい</strong></td><td>FIDO UAF 統合</td><td><details><summary>概要</summary>FIDO UAF プロトコルによる生体認証<br>デバイス登録履歴・最終利用日時の管理</details></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="システム統合rpリソースサーバー向け">システム統合（RP・リソースサーバー向け）<a href="#システム統合rpリソースサーバー向け" class="hash-link" aria-label="システム統合（RP・リソースサーバー向け） への直接リンク" title="システム統合（RP・リソースサーバー向け） への直接リンク">​</a></h3>
<table><thead><tr><th>#</th><th>利用者</th><th>ユーザーストーリー</th><th>システム機能</th><th>実装詳細</th></tr></thead><tbody><tr><td>1</td><td>RP</td><td><strong>IdP の設定を自動取得したい</strong></td><td>OIDC Discovery（メタデータ配信）</td><td><details><summary>概要</summary>IdP エンドポイント・サポート機能・公開鍵を JSON で配信<br>RP は動的に設定を取得可能</details></td></tr><tr><td>2</td><td>リソースサーバー</td><td><strong>アクセストークンの有効性を確認したい</strong></td><td>Token Introspection</td><td><details><summary>概要</summary>トークンの有効性・スコープ・有効期限を検証<br><br><strong>関連仕様</strong>: <a href="https://www.rfc-editor.org/rfc/rfc7662" target="_blank" rel="noopener noreferrer">RFC 7662</a></details></td></tr><tr><td>3</td><td>外部システム</td><td><strong>テナント設定を動的に取得したい</strong></td><td>テナントメタデータ配信</td><td><details><summary>概要</summary>テナント固有の設定（外部 API URL・カスタム属性等）を JSON で配信</details></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="バックグラウンド処理非同期ワーカー">バックグラウンド処理（非同期ワーカー）<a href="#バックグラウンド処理非同期ワーカー" class="hash-link" aria-label="バックグラウンド処理（非同期ワーカー） への直接リンク" title="バックグラウンド処理（非同期ワーカー） への直接リンク">​</a></h3>
<table><thead><tr><th>#</th><th>ユーザーストーリー</th><th>システム機能</th><th>実装詳細</th></tr></thead><tbody><tr><td>1</td><td><strong>ユーザー作成時に Welcome メールを送りたい</strong></td><td>ユーザーライフサイクルイベント処理</td><td><details><summary>トリガー</summary>イベント: ユーザー作成/更新/削除<br>処理: 通知送信・外部システム連携・監査ログ記録</details></td></tr><tr><td>2</td><td><strong>不正ログイン時にアカウントをロックしたい</strong></td><td>セキュリティイベント処理</td><td><details><summary>トリガー</summary>イベント: 連続ログイン失敗・異常アクセス検知<br>処理: アカウントロック・管理者通知・SSF イベント送信</details></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="コントロールプレーン">コントロールプレーン<a href="#コントロールプレーン" class="hash-link" aria-label="コントロールプレーン への直接リンク" title="コントロールプレーン への直接リンク">​</a></h2>
<p>テナント管理者が IdP の設定・リソースを管理するための機能です。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="初期セットアップ">初期セットアップ<a href="#初期セットアップ" class="hash-link" aria-label="初期セットアップ への直接リンク" title="初期セットアップ への直接リンク">​</a></h3>
<table><thead><tr><th>#</th><th>管理者</th><th>ユーザーストーリー</th><th>システム機能</th><th>実装詳細</th></tr></thead><tbody><tr><td>1</td><td>サーバー管理者</td><td><strong>IdP サーバーを起動したい</strong></td><td>サーバー初期設定</td><td><details><summary>概要</summary>初期管理者作成・システムテナント作成・基本設定の初期化</details></td></tr><tr><td>2</td><td>サーバー管理者</td><td><strong>最初のテナントを作成したい</strong></td><td>テナント初期登録</td><td><details><summary>概要</summary>初回のみ特別権限でテナント作成可能</details></td></tr><tr><td>3</td><td>テナントオーナー</td><td><strong>新規テナントを利用開始したい</strong></td><td>テナントオンボーディング</td><td><details><summary>概要</summary>テナント作成 + 初期管理者登録 + 基本設定を一括実行</details></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="テナントリソース管理">テナント・リソース管理<a href="#テナントリソース管理" class="hash-link" aria-label="テナント・リソース管理 への直接リンク" title="テナント・リソース管理 への直接リンク">​</a></h3>
<table><thead><tr><th>#</th><th>ユーザーストーリー</th><th>システム機能</th><th>実装詳細</th></tr></thead><tbody><tr><td>1</td><td><strong>複数のテナントを管理したい</strong></td><td>テナント CRUD</td><td><details><summary>操作</summary>テナント作成・一覧取得・詳細取得・設定更新・削除<br><br><strong>dry_run 対応</strong>: 変更前プレビュー可能</details></td></tr><tr><td>2</td><td><strong>OAuth クライアントを登録・管理したい</strong></td><td>Client CRUD</td><td><details><summary>操作</summary>クライアント登録・一覧取得・詳細取得・設定更新・削除<br><br><strong>設定項目</strong>: redirect_uri・grant_types・scopes・token 有効期限等</details></td></tr><tr><td>3</td><td><strong>ユーザーアカウントを管理したい</strong></td><td>User CRUD + 権限管理</td><td><details><summary>操作</summary>基本 CRUD + パスワード更新・ロール割当・テナント割当・組織割当<br><br><strong>マルチテナント対応</strong>: ユーザーは複数テナント・組織に所属可能</details></td></tr><tr><td>4</td><td><strong>IdP の動作設定を変更したい</strong></td><td>認可サーバー設定</td><td><details><summary>設定項目</summary>トークン有効期限・サポートする grant_type・PKCE 必須化・セッション設定等</details></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="認証認可設定">認証・認可設定<a href="#認証認可設定" class="hash-link" aria-label="認証・認可設定 への直接リンク" title="認証・認可設定 への直接リンク">​</a></h3>
<table><thead><tr><th>#</th><th>ユーザーストーリー</th><th>システム機能</th><th>実装詳細</th></tr></thead><tbody><tr><td>1</td><td><strong>認証フローをカスタマイズしたい</strong></td><td>認証設定管理</td><td><details><summary>設定例</summary>MFA 必須化・パスワードポリシー・セッションタイムアウト・認証手段の優先順位等<br><br><strong>動的テンプレート対応</strong>: JSON で柔軟に設定可能</details></td></tr><tr><td>2</td><td><strong>Google・GitHub ログインを有効化したい</strong></td><td>フェデレーション設定</td><td><details><summary>設定例</summary>外部 IdP 種別（Google・GitHub・SAML 等）・OAuth 2.0 Client ID/Secret・スコープ・属性マッピング</details></td></tr><tr><td>3</td><td><strong>本人確認プロバイダーを連携したい</strong></td><td>身元確認設定</td><td><details><summary>設定例</summary>eKYC サービス API 連携・審査フロー定義・コールバック URL・HTTP リクエストテンプレート</details></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="セキュリティ監査">セキュリティ・監査<a href="#セキュリティ監査" class="hash-link" aria-label="セキュリティ・監査 への直接リンク" title="セキュリティ・監査 への直接リンク">​</a></h3>
<table><thead><tr><th>#</th><th>ユーザーストーリー</th><th>システム機能</th><th>実装詳細</th></tr></thead><tbody><tr><td>1</td><td><strong>セキュリティイベントを外部に通知したい</strong></td><td>Security Event Hook 設定</td><td><details><summary>設定例</summary>Webhook URL・通知イベント種別（ログイン失敗・アカウントロック等）・認証方式（HMAC・OAuth 2.0）</details></td></tr><tr><td>2</td><td><strong>ユーザー操作履歴を監査したい</strong></td><td>監査ログ閲覧</td><td><details><summary>概要</summary>全ての管理操作（CRUD）の履歴を記録・照会可能<br>フィルタリング: 日時・操作種別・ユーザー・リソース  種別</details></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="チーム管理">チーム管理<a href="#チーム管理" class="hash-link" aria-label="チーム管理 への直接リンク" title="チーム管理 への直接リンク">​</a></h3>
<table><thead><tr><th>#</th><th>ユーザーストーリー</th><th>システム機能</th><th>実装詳細</th></tr></thead><tbody><tr><td>1</td><td><strong>他のメンバーをテナントに招待したい</strong></td><td>メンバー招待管理</td><td><details><summary>フロー概要</summary>招待メール送信 → 受信者が招待リンククリック → アカウント作成 → テナントメンバーとして登録<br><br><strong>期限管理</strong>: 招待の有効期限・使用済み招待の無効化</details></td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_01_intro/intro-03-use-cases.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/idp-server/docs/content_01_intro/intro-02-features"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">機能</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">Getting-Started</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#アクター定義" class="table-of-contents__link toc-highlight">アクター定義</a></li><li><a href="#用語集" class="table-of-contents__link toc-highlight">用語集</a></li><li><a href="#アプリケーション" class="table-of-contents__link toc-highlight">アプリケーション</a><ul><li><a href="#認証認可ユーザー" class="table-of-contents__link toc-highlight">認証・認可（ユーザー）</a></li><li><a href="#トークンリソースアクセス" class="table-of-contents__link toc-highlight">トークン・リソースアクセス</a></li><li><a href="#本人確認ekyc" class="table-of-contents__link toc-highlight">本人確認（eKYC）</a></li><li><a href="#多要素認証デバイス管理" class="table-of-contents__link toc-highlight">多要素認証・デバイス管理</a></li><li><a href="#システム統合rpリソースサーバー向け" class="table-of-contents__link toc-highlight">システム統合（RP・リソースサーバー向け）</a></li><li><a href="#バックグラウンド処理非同期ワーカー" class="table-of-contents__link toc-highlight">バックグラウンド処理（非同期ワーカー）</a></li></ul></li><li><a href="#コントロールプレーン" class="table-of-contents__link toc-highlight">コントロールプレーン</a><ul><li><a href="#初期セットアップ" class="table-of-contents__link toc-highlight">初期セットアップ</a></li><li><a href="#テナントリソース管理" class="table-of-contents__link toc-highlight">テナント・リソース管理</a></li><li><a href="#認証認可設定" class="table-of-contents__link toc-highlight">認証・認可設定</a></li><li><a href="#セキュリティ監査" class="table-of-contents__link toc-highlight">セ キュリティ・監査</a></li><li><a href="#チーム管理" class="table-of-contents__link toc-highlight">チーム管理</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/docs/introduction">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>