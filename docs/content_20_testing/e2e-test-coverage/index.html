<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-content_20_testing/e2e-test-coverage" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">E2Eテストカバレッジレポート | IdP-Server Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_20_testing/e2e-test-coverage"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="E2Eテストカバレッジレポート | IdP-Server Documentation"><meta data-rh="true" name="description" content="最終更新日: 2025-10-20"><meta data-rh="true" property="og:description" content="最終更新日: 2025-10-20"><link data-rh="true" rel="icon" href="/idp-server/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_20_testing/e2e-test-coverage"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_20_testing/e2e-test-coverage" hreflang="ja"><link data-rh="true" rel="alternate" href="https://hirokazu-kobayashi-koba-hiro.github.io/idp-server/docs/content_20_testing/e2e-test-coverage" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/idp-server/blog/rss.xml" title="IdP-Server Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/idp-server/blog/atom.xml" title="IdP-Server Documentation Atom Feed"><link rel="stylesheet" href="/idp-server/assets/css/styles.f434a3d5.css">
<script src="/idp-server/assets/js/runtime~main.fa0a3034.js" defer="defer"></script>
<script src="/idp-server/assets/js/main.f761bdab.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="ナビゲーション" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ナビゲーションバーを開く" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/idp-server/"><div class="navbar__logo"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/idp-server/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IdP-Server</b></a><a class="navbar__item navbar__link" href="/idp-server/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/idp-server/docs/content_07_reference/api-reference">Api Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hirokazu-kobayashi-koba-hiro/idp-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ドキュメントのサイドバー" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/document-index">📚 ドキュメント索引</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/HOW_TO_TEMPLATE">How-toドキュメント 標準構造テンプレート</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_01_intro/intro-01-tech-overview">content_01_intro</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_02_quickstart/quickstart-01-getting-started">content_02_quickstart</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_03_concepts/basic/basic-01-identity-management-basics">content_03_concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_04_protocols/protocol-01-authorization-code-flow">content_04_protocols</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_05_how-to/index">content_05_how-to</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/idp-server/docs/content_06_developer-guide/">開発者ガイド</a><button aria-label="&#x27;開発者ガイド&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_07_reference/api-reference/oidc">content_07_reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_08_ops/commercial-deployment/overview">content_08_ops</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_09_project/analytics-statistics-design">content_09_project</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/idp-server/docs/content_10_ai_developer/ai-01-index">content_10_ai_developer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/idp-server/docs/content_20_testing/e2e-test-coverage">content_20_testing</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/idp-server/docs/content_20_testing/e2e-test-coverage">E2Eテストカバレッジレポート</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/idp-server/docs/introduction">はじめに</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/idp-server/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">content_20_testing</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">E2Eテストカバレッジレポート</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><header><h1>E2Eテストカバレッジレポート</h1></header>
<p><strong>最終更新日</strong>: 2025-10-20
<strong>総テストファイル数</strong>: 87
<strong>テストフレームワーク</strong>: Jest</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="概要">概要<a href="#概要" class="hash-link" aria-label="概要 への直接リンク" title="概要 への直接リンク">​</a></h2>
<p>本ドキュメントは、idp-serverプロジェクトのEnd-to-End（E2E）テストカバレッジの包括的な概要を提供します。E2Eテストは3つの主要カテゴリに分類されています：</p>
<ul>
<li><strong>📘 spec/</strong> - 仕様準拠テスト（RFCおよび標準プロトコル検証）</li>
<li><strong>📕 scenario/</strong> - 実践的統合シナリオテスト</li>
<li><strong>🐒 monkey/</strong> - カオステストおよびエッジケース検証</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="テスト統計">テスト統計<a href="#テスト統計" class="hash-link" aria-label="テスト統計 への直接リンク" title="テスト統計 への直接リンク">​</a></h2>
<table><thead><tr><th>カテゴリ</th><th>テストファイル数</th><th>説明</th></tr></thead><tbody><tr><td><strong>RFC準拠テスト (spec)</strong></td><td>32</td><td>プロトコル仕様テスト</td></tr><tr><td><strong>アプリケーションシナリオ</strong></td><td>11</td><td>エンドユーザーアプリケーションフローテスト</td></tr><tr><td><strong>Control Plane - システムレベル</strong></td><td>14</td><td>システムレベル管理APIテスト</td></tr><tr><td><strong>Control Plane - 組織レベル</strong></td><td>28</td><td>組織レベル管理APIテスト</td></tr><tr><td><strong>Resource Server</strong></td><td>1</td><td>トークンイントロスペクション拡張テスト</td></tr><tr><td><strong>Monkeyテスト</strong></td><td>1</td><td>カオス・ストレステスト</td></tr><tr><td><strong>合計</strong></td><td><strong>87</strong></td><td></td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-rfc準拠テスト-spec">1. RFC準拠テスト (spec/)<a href="#1-rfc準拠テスト-spec" class="hash-link" aria-label="1. RFC準拠テスト (spec/) への直接リンク" title="1. RFC準拠テスト (spec/) への直接リンク">​</a></h2>
<p><strong>総ファイル数</strong>: 32</p>
<p>これらのテストは、OAuth 2.0、OIDC、および関連プ ロトコル仕様への準拠を検証します。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-oauth-20-core-rfc-6749">1.1 OAuth 2.0 Core (RFC 6749)<a href="#11-oauth-20-core-rfc-6749" class="hash-link" aria-label="1.1 OAuth 2.0 Core (RFC 6749) への直接リンク" title="1.1 OAuth 2.0 Core (RFC 6749) への直接リンク">​</a></h3>
<table><thead><tr><th>テストファイル</th><th>仕様</th><th>カバー範囲</th></tr></thead><tbody><tr><td><code>rfc6749_4_1_code.test.js</code></td><td>RFC 6749 Section 4.1</td><td>認可コードフロー</td></tr><tr><td><code>rfc6749_4_1_code_secret_basic.test.js</code></td><td>RFC 6749 Section 4.1</td><td>認可コード + client_secret_basic</td></tr><tr><td><code>rfc6749_4_2_implicit.test.js</code></td><td>RFC 6749 Section 4.2</td><td>インプリシットグラントフロー</td></tr><tr><td><code>rfc6749_4_3_resource_owner_password_credentials.test.js</code></td><td>RFC 6749 Section 4.3</td><td>リソースオーナーパスワードクレデンシャルグラント</td></tr><tr><td><code>rfc6749_4_4_client_credentials.test.js</code></td><td>RFC 6749 Section 4.4</td><td>クライアントクレデンシャルグラント</td></tr><tr><td><code>rfc6749_6_refresh_token.test.js</code></td><td>RFC 6749 Section 6</td><td>リフレッシュトークングラント</td></tr></tbody></table>
<p><strong>主要テストケース</strong>:</p>
<ul>
<li>認可エンドポイント HTTP GET/POST サポート</li>
<li>トークンエンドポイント検証</li>
<li>エラーレスポンスと不正リクエスト処理</li>
<li>state パラメータ検証</li>
<li>redirect_uri 検証</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-openid-connect-core-10">1.2 OpenID Connect Core 1.0<a href="#12-openid-connect-core-10" class="hash-link" aria-label="1.2 OpenID Connect Core 1.0 への直接リンク" title="1.2 OpenID Connect Core 1.0 への直接リンク">​</a></h3>
<table><thead><tr><th>テストファイル</th><th>仕様</th><th>カバー 範囲</th></tr></thead><tbody><tr><td><code>oidc_core_2_id_token.test.js</code></td><td>OIDC Core Section 2</td><td>IDトークン構造と検証</td></tr><tr><td><code>oidc_core_2_id_token_extension.test.js</code></td><td>OIDC Core Section 2</td><td>IDトークン拡張クレーム</td></tr><tr><td><code>oidc_core_3_1_code.test.js</code></td><td>OIDC Core Section 3.1</td><td>認可コードフロー（OIDC）</td></tr><tr><td><code>oidc_core_3_2_implicit.test.js</code></td><td>OIDC Core Section 3.2</td><td>インプリシットフロー（OIDC）</td></tr><tr><td><code>oidc_core_3_3_hybrid.test.js</code></td><td>OIDC Core Section 3.3</td><td>ハイブリッドフロー</td></tr><tr><td><code>oidc_core_5_userinfo.test.js</code></td><td>OIDC Core Section 5</td><td>UserInfoエンドポイント</td></tr><tr><td><code>oidc_core_6_request_object.test.js</code></td><td>OIDC Core Section 6</td><td>Request Object（JWT）</td></tr><tr><td><code>oidc_core_9_client_authenticartion.test.js</code></td><td>OIDC Core Section 9</td><td>クライアント認証方式</td></tr><tr><td><code>oidc_discovery.test.js</code></td><td>OIDC Discovery</td><td>Discoveryエンドポイント（.well-known）</td></tr></tbody></table>
<p><strong>主要テストケース</strong>:</p>
<ul>
<li>IDトークン署名検証（RS256、ES256）</li>
<li>IDトークンクレーム検証（iss、aud、exp、iat、nonce等）</li>
<li>UserInfoエンドポイントクレーム</li>
<li>Request Object JWT検証</li>
<li>クライアント認証：client_secret_basic、client_secret_post、private_key_jwt</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-拡張仕様">1.3 拡張仕様<a href="#13-拡張仕様" class="hash-link" aria-label="1.3 拡張仕様 への直接リンク" title="1.3 拡張仕様 への直接リンク">​</a></h3>
<table><thead><tr><th>テストファイル</th><th>仕様</th><th>カバー範囲</th></tr></thead><tbody><tr><td><code>rfc7009_token_revocation.test.js</code></td><td>RFC 7009</td><td>トークン失  効</td></tr><tr><td><code>rfc7636_pkce.test.js</code></td><td>RFC 7636</td><td>PKCE（Proof Key for Code Exchange）</td></tr><tr><td><code>rfc7662_token_introspection.test.js</code></td><td>RFC 7662</td><td>トークンイントロスペクション</td></tr><tr><td><code>rfc8705_mtls.test.js</code></td><td>RFC 8705</td><td>OAuth 2.0 Mutual-TLS</td></tr><tr><td><code>rfc9126_par.test.js</code></td><td>RFC 9126</td><td>PAR（Pushed Authorization Requests）</td></tr><tr><td><code>rfc9396_rar.test.js</code></td><td>RFC 9396</td><td>RAR（Rich Authorization Requests）</td></tr></tbody></table>
<p><strong>主要テストケース</strong>:</p>
<ul>
<li>access_tokenおよびrefresh_tokenの失効</li>
<li>PKCEのcode_challengeおよびcode_verifier検証（S256、plain）</li>
<li>トークンイントロスペクションレスポンス形式</li>
<li>mTLSクライアント証明書検証</li>
<li>PAR request_uri処理</li>
<li>RAR authorization_details構造</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="14-cibaclient-initiated-backchannel-authentication">1.4 CIBA（Client-Initiated Backchannel Authentication）<a href="#14-cibaclient-initiated-backchannel-authentication" class="hash-link" aria-label="1.4 CIBA（Client-Initiated Backchannel Authentication） への直接リンク" title="1.4 CIBA（Client-Initiated Backchannel Authentication） への直接リンク">​</a></h3>
<table><thead><tr><th>テストファイル</th><th>仕様</th><th>カバー範囲</th></tr></thead><tbody><tr><td><code>ciba_authentication_request.test.js</code></td><td>CIBA Core 1.0</td><td>認証リクエスト開始</td></tr><tr><td><code>ciba_token_request.test.js</code></td><td>CIBA Core 1.0</td><td>auth_req_idを使用したトークンリクエスト</td></tr><tr><td><code>ciba_ping.test.js</code></td><td>CIBA Core 1.0</td><td>Pingモードフロー</td></tr><tr><td><code>ciba_push.test.js</code></td><td>CIBA Core 1.0</td><td>Pushモードフロー</td></tr><tr><td><code>ciba_discovery.test.js</code></td><td>CIBA Discovery</td><td>CIBAディスカバリーメタデータ</td></tr></tbody></table>
<p><strong>主要テストケース</strong>:</p>
<ul>
<li>バックチャネル認証エンドポイント</li>
<li>auth_req_id生成と検証</li>
<li>Push通知配信</li>
<li>Pingポーリングメカニズム</li>
<li>ユーザー承認/拒否処理</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="15-fapifinancial-grade-api">1.5 FAPI（Financial-grade API）<a href="#15-fapifinancial-grade-api" class="hash-link" aria-label="1.5 FAPI（Financial-grade API） への直接リンク" title="1.5 FAPI（Financial-grade API） への直接リンク">​</a></h3>
<table><thead><tr><th>テストファイル</th><th>仕様</th><th>カバー範囲</th></tr></thead><tbody><tr><td><code>fapi_baseline.test.js</code></td><td>FAPI 1.0 Part 1</td><td>ベースラインセキュリティプロファイル</td></tr><tr><td><code>fapi_advance.test.js</code></td><td>FAPI 1.0 Part 2</td><td>アドバンスドセキュリティプロファイル</td></tr><tr><td><code>jarm.test.js</code></td><td>JARM</td><td>JWT Secured Authorization Response Mode</td></tr></tbody></table>
<p><strong>主要テストケース</strong>:</p>
<ul>
<li>FAPI Baseline: PKCE、stateパラメータ、scope検証</li>
<li>FAPI Advanced: PAR、request object、mTLS</li>
<li>JARM: JWT署名付き認可レスポンス</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="16-identity-assurance--verifiable-credentials">1.6 Identity Assurance &amp; Verifiable Credentials<a href="#16-identity-assurance--verifiable-credentials" class="hash-link" aria-label="1.6 Identity Assurance &amp; Verifiable Credentials への直接リンク" title="1.6 Identity Assurance &amp; Verifiable Credentials への直接リンク">​</a></h3>
<table><thead><tr><th>テストファイル</th><th>仕様</th><th>カバー範囲</th></tr></thead><tbody><tr><td><code>oidc_for_identity_assurance.test.js</code></td><td>OIDC4IDA 1.0</td><td>Identity Assuranceクレーム</td></tr><tr><td><code>openid_for_verifiable_credential_rar.test.js</code></td><td>OIDC4VC</td><td>RARを使用したVerifiable Credentials</td></tr></tbody></table>
<p><strong>主要テストケース</strong>:</p>
<ul>
<li>verified_claims構造</li>
<li>trust_framework検証</li>
<li>authorization_detailsを使用したVerifiable Credential発行</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="17-shared-signals-frameworkssf">1.7 Shared Signals Framework（SSF）<a href="#17-shared-signals-frameworkssf" class="hash-link" aria-label="1.7 Shared Signals Framework（SSF） への直接リンク" title="1.7 Shared Signals Framework（SSF） への直接リンク">​</a></h3>
<table><thead><tr><th>テストファイル</th><th>仕様</th><th>カバー範囲</th></tr></thead><tbody><tr><td><code>ssf_discovery.test.js</code></td><td>SSF 1.0 draft-04</td><td>SSF Discoveryエンドポイント</td></tr></tbody></table>
<p><strong>主要テストケース</strong>:</p>
<ul>
<li>SSFディスカバリーメタデータ</li>
<li>Security Event Token（SET）設定</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-シナリオテスト-scenario">2. シナリオテスト (scenario/)<a href="#2-シナリオテスト-scenario" class="hash-link" aria-label="2. シナリオテスト (scenario/) への直接リンク" title="2. シナリオテスト (scenario/) への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-アプリケーション層テスト-scenarioapplication">2.1 アプリケーション層テスト (scenario/application/)<a href="#21-アプリケーション層テスト-scenarioapplication" class="hash-link" aria-label="2.1 アプリケーション層テスト (scenario/application/) への直接リンク" title="2.1 アプリケーション層テスト (scenario/application/) への直接リンク">​</a></h3>
<p><strong>総ファイル数</strong>: 11</p>
<p>これらのテストは、実世界のエンドユーザーアプリケーションフローをシミュレートします。</p>
<table><thead><tr><th>テストファイル</th><th>シナリオ</th><th>説明</th></tr></thead><tbody><tr><td><code>scenario-01-user-registration.test.js</code></td><td>ユーザー登録</td><td>メールベースのユーザー登録フロー</td></tr><tr><td><code>scenario-02-sso-oidc.test.js</code></td><td>SSO</td><td>OpenID ConnectによるSingle Sign-On</td></tr><tr><td><code>scenario-03-mfa-registration.test.js</code></td><td>MFA</td><td>多要素認証登録（TOTP、WebAuthn）</td></tr><tr><td><code>scenario-04-ciba-mfa.test.js</code></td><td>CIBA + MFA</td><td>MFAチャレンジを伴うCIBAフロー</td></tr><tr><td><code>scenario-05-identity_verification-application.test.js</code></td><td>身元確認</td><td>身元確認申請送信</td></tr><tr><td><code>scenario-06-identity_verification-result.test.js</code></td><td>身元確認</td><td>身元確認結果取得</td></tr><tr><td><code>scenario-07-identity-verification-retry.test.js</code></td><td>身元確認</td><td>HttpRequestExecutorリトライ機能</td></tr><tr><td><code>scenario-07-user-deletion.test.js</code></td><td>ユーザーライフサイクル</td><td>ユーザー削除とクリーンアップ</td></tr><tr><td><code>scenario-08-identity-verification-token-validation.test.js</code></td><td>トークン検証</td><td>身元確認用トークン検証</td></tr><tr><td><code>scenario-08-multi-app_fido-authn.test.js</code></td><td>マルチアプリ</td><td>複数クライアント間のFIDO認証</td></tr><tr><td><code>scenario-09-token-refresh.test.js</code></td><td>トークンリフレッシュ</td><td>トークンリフレッシュ戦略</td></tr></tbody></table>
<p><strong>主要シナリオ</strong>:</p>
<ul>
<li><strong>ユーザーオンボーディング</strong>: メール認証チャレンジ → ユーザー登録 → プロファイル作成</li>
<li><strong>SSOフロー</strong>: 認可リクエスト → 認証 → トークン発行 → UserInfo取得</li>
<li><strong>MFAセットアップ</strong>: TOTPシークレット生成 → QRコード表示 → 検証コード検証</li>
<li><strong>身元確認</strong>: 外部サービス連携 → コールバック処理 → ステータス追跡</li>
<li><strong>FIDO/WebAuthn</strong>: クレデンシャル登録 → 認証セレモニー → クロスアプリ認証</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-control-plane---システムレベルテスト-scenariocontrol_planesystem">2.2 Control Plane - システムレベルテスト (scenario/control_plane/system/)<a href="#22-control-plane---システムレベルテスト-scenariocontrol_planesystem" class="hash-link" aria-label="2.2 Control Plane - システムレベルテスト (scenario/control_plane/system/) への直接リンク" title="2.2 Control Plane - システムレベルテスト (scenario/control_plane/system/) への直接リンク">​</a></h3>
<p><strong>総ファイル数</strong>: 14</p>
<p>これらのテストは、システムレベル管理APIを検証します。</p>
<table><thead><tr><th>テストファイル</th><th>管理API</th><th>テスト対象操作</th></tr></thead><tbody><tr><td><code>user-management.test.js</code></td><td>ユーザー管理</td><td>ユーザーのCRUD操作</td></tr><tr><td><code>client_management.test.js</code></td><td>クライアント管理</td><td>OAuthクライアントのCRUD操作</td></tr><tr><td><code>role-management.test.js</code></td><td>ロール管理</td><td>ロール作成、権限割り当て</td></tr><tr><td><code>permission-management.test.js</code></td><td>権限管理</td><td>権限のCRUD操作</td></tr><tr><td><code>authentication_management.test.js</code></td><td>認証設定</td><td>認証設定管理</td></tr><tr><td><code>authorization_server_management.test.js</code></td><td>認可サーバー</td><td>認可サーバー設定</td></tr><tr><td><code>federation_management.test.js</code></td><td>フェデレーション設定</td><td>フェデレーション設定管理</td></tr><tr><td><code>identity_verification_management.test.js</code></td><td>身元確認</td><td>身元確認設定</td></tr><tr><td><code>security-event-management.test.js</code></td><td>セキュリティイベント</td><td>セキュリティイベント管理</td></tr><tr><td><code>security-event-hook-management.test.js</code></td><td>セキュリティイベントフック</td><td>フック登録と実行</td></tr><tr><td><code>security-event-hook-management-retry.test.js</code></td><td>セキュリティイベントフック</td><td>フックリトライメカニズム</td></tr><tr><td><code>security_event_hook_config_management.test.js</code></td><td>セキュリティイベントフック設定</td><td>フック設定管理</td></tr><tr><td><code>audit-log-management.test.js</code></td><td>監査ログ</td><td>監査ログ取得とフィルタリング</td></tr><tr><td><code>tenant_invitation_management.test.js</code></td><td>テナント招待</td><td>テナント招待ワークフロー</td></tr></tbody></table>
<p><strong>主要管理操作</strong>:</p>
<ul>
<li><strong>ユーザー管理</strong>: provider_idを使用したユーザー作成、プロファイル更新、ユーザーアカウント削除</li>
<li><strong>クライアント管理</strong>: OAuthクライアント登録、クライアントメタデータ更新、クライアントシークレットローテーション</li>
<li><strong>RBAC</strong>: ロール作成、権限割り当て、ロール階層管理</li>
<li><strong>セキュリティイベントフック</strong>: Webhookエンドポイント登録、リトライポリシー設定、フック実行</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-control-plane---組織レベルテスト-scenariocontrol_planeorganization">2.3 Control Plane - 組織レベルテスト (scenario/control_plane/organization/)<a href="#23-control-plane---組織レベルテスト-scenariocontrol_planeorganization" class="hash-link" aria-label="2.3 Control Plane - 組織レベルテスト (scenario/control_plane/organization/) への直接リンク" title="2.3 Control Plane - 組織レベルテスト (scenario/control_plane/organization/) への直接リンク">​</a></h3>
<p><strong>総ファイル数</strong>: 28</p>
<p>これらのテストは、組織スコープの管理APIを検証します。</p>
<table><thead><tr><th>テストファイル</th><th>管理API</th><th>スコープ</th></tr></thead><tbody><tr><td><code>organization_user_management.test.js</code></td><td>ユーザー管理</td><td>組織スコープ</td></tr><tr><td><code>organization_client_management.test.js</code></td><td>クライアント管理</td><td>組織スコープ</td></tr><tr><td><code>organization_client_management_structured.test.js</code></td><td>クライアント管理</td><td>構造化テストスイート</td></tr><tr><td><code>organization_role_management.test.js</code></td><td>ロール管理</td><td>組織スコープ</td></tr><tr><td><code>organization_role_management_structured.test.js</code></td><td>ロール管理</td><td>構造化テストスイート</td></tr><tr><td><code>organization_permission_management.test.js</code></td><td>権限管理</td><td>組織スコープ</td></tr><tr><td><code>organization_permission_management_structured.test.js</code></td><td>権限管理</td><td>構造化テストスイート</td></tr><tr><td><code>organization_tenant_management.test.js</code></td><td>テナント管理</td><td>組織スコープ</td></tr><tr><td><code>organization_tenant_management_structured.test.js</code></td><td>テナント管理</td><td>構造化テストスイート</td></tr><tr><td><code>organization_authentication_config_management.test.js</code></td><td>認証設定</td><td>組織スコープ</td></tr><tr><td><code>organization_authentication_config_management_structured.test.js</code></td><td>認証設定</td><td>構造化テストスイート</td></tr><tr><td><code>organization_authentication_policy_config_management.test.js</code></td><td>認証ポリシー</td><td>組織スコープ</td></tr><tr><td><code>organization_authentication_policy_config_management_structured.test.js</code></td><td>認証ポリシー</td><td>構造化テストスイート</td></tr><tr><td><code>organization_authentication_interaction_management.test.js</code></td><td>認証インタラクション</td><td>組織スコープ</td></tr><tr><td><code>organization_authentication_transaction_management.test.js</code></td><td>認証トランザクション</td><td>組織スコープ</td></tr><tr><td><code>organization_authorization_server_management.test.js</code></td><td>認可サーバー</td><td>組織スコープ</td></tr><tr><td><code>organization_federation_config_management.test.js</code></td><td>フェデレーション設定</td><td>組織スコープ</td></tr><tr><td><code>organization_federation_config_management_structured.test.js</code></td><td>フェデレーション設定</td><td>構造化テストスイート</td></tr><tr><td><code>organization_identity_verification_config_management.test.js</code></td><td>身元確認設定</td><td>組織スコープ</td></tr><tr><td><code>organization_identity_verification_config_management_structured.test.js</code></td><td>身元確認設定</td><td>構造化テストスイート</td></tr><tr><td><code>organization_security_event_management.test.js</code></td><td>セキュリティイベント</td><td>組織スコープ</td></tr><tr><td><code>organization_security_event_management_structured.test.js</code></td><td>セキュリティイベント</td><td>構造化テストスイート</td></tr><tr><td><code>organization_security_event_hook_management.test.js</code></td><td>セキュリティイベントフック</td><td>組織スコープ</td></tr><tr><td><code>organization_security_event_hook_config_management.test.js</code></td><td>セキュリティイベントフック設定</td><td>組織スコープ</td></tr><tr><td><code>organization_security_event_hook_config_management_structured.test.js</code></td><td>セキュリティイベントフック設定</td><td>構造化テストスイート</td></tr><tr><td><code>organization_audit_log_management.test.js</code></td><td>監査ログ</td><td>組織スコープ</td></tr><tr><td><code>organization_audit_log_management_structured.test.js</code></td><td>監査ログ</td><td>構造化テストスイート</td></tr><tr><td><code>api_behavior_debug.test.js</code></td><td>デバッグ</td><td>API動作デバッグ</td></tr></tbody></table>
<p><strong>主要な組織レベル機能</strong>:</p>
<ul>
<li><strong>マルチテナンシー</strong>: 組織スコープのテナント管理</li>
<li><strong>委譲</strong>: 組織管理者権限</li>
<li><strong>分離</strong>: 組織レベルのデータ分離</li>
<li><strong>構造化テスト</strong>: 体系的なカバレッジを持つ包括的テストスイート</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-resource-serverテスト-scenarioresource_server">2.4 Resource Serverテスト (scenario/resource_server/)<a href="#24-resource-serverテスト-scenarioresource_server" class="hash-link" aria-label="2.4 Resource Serverテスト (scenario/resource_server/) への直接リンク" title="2.4 Resource Serverテスト (scenario/resource_server/) への直接リンク">​</a></h3>
<p><strong>総ファイル数</strong>: 1</p>
<table><thead><tr><th>テストファイル</th><th>カバー範囲</th></tr></thead><tbody><tr><td><code>token_introspection_extensions.test.js</code></td><td>トークンイントロスペクション拡張クレーム</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-monkeyテスト-monkey">3. Monkeyテスト (monkey/)<a href="#3-monkeyテスト-monkey" class="hash-link" aria-label="3. Monkeyテスト (monkey/) への直接リンク" title="3. Monkeyテスト (monkey/) への直接リンク">​</a></h2>
<p><strong>総ファイル数</strong>: 1</p>
<table><thead><tr><th>テストファイル</th><th>カバー範囲</th></tr></thead><tbody><tr><td><code>ciba-monkey.test.js</code></td><td>CIBAカオステストおよびエッジケース</td></tr></tbody></table>
<p><strong>主要シナリオ</strong>:</p>
<ul>
<li>並行CIBAリクエスト</li>
<li>タイムアウト処理</li>
<li>無効な状態遷移</li>
<li>リソース枯渇</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-テストインフラストラクチャ">4. テストインフラストラクチャ<a href="#4-テストインフラストラクチャ" class="hash-link" aria-label="4. テストインフラストラクチャ への直接リンク" title="4. テストインフラストラクチャ への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-設定管理">4.1 設定管理<a href="#41-設定管理" class="hash-link" aria-label="4.1 設定管理 への直接リンク" title="4.1 設定管理 への直接リンク">​</a></h3>
<p><strong>ファイル</strong>: <code>e2e/src/tests/testConfig.js</code></p>
<p><strong>機能</strong>:</p>
<ul>
<li>環境変数による動的テナント設定</li>
<li>マルチ環境サポート（ローカル、ステージング、CI）</li>
<li>クライアント設定管理</li>
<li>サーバーエンドポイント設定</li>
</ul>
<p><strong>環境変数</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">IDP_SERVER_URL=http://localhost:8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IDP_SERVER_TENANT_ID=&lt;tenant-id&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CIBA_USER_SUB=&lt;user-sub&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CIBA_USER_EMAIL=&lt;email&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CIBA_USERNAME=&lt;username&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CIBA_PASSWORD=&lt;password&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-テストユーティリティ">4.2 テストユーティリティ<a href="#42-テストユーティリティ" class="hash-link" aria-label="4.2 テストユーティリティ への直接リンク" title="4.2 テストユーティリティ への直接リンク">​</a></h3>
<p><strong>場所</strong>: <code>e2e/src/lib/</code></p>
<table><thead><tr><th>ユーティリティ</th><th>用途</th></tr></thead><tbody><tr><td><code>http.js</code></td><td>HTTPクライアント（GET、POST、PUT、PATCH、DELETE）</td></tr><tr><td><code>jose.js</code></td><td>JWT作成と検証</td></tr><tr><td><code>oauth.js</code></td><td>OAuthヘルパー関数（ハッシュ計算等）</td></tr><tr><td><code>util.js</code></td><td>ユーティリティ関数（ランダム生成、エンコーディング等）</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-apiクライアント">4.3 APIクライアント<a href="#43-apiクライアント" class="hash-link" aria-label="4.3 APIクライアント への直接リンク" title="4.3 APIクライアント への直接リンク">​</a></h3>
<p><strong>場所</strong>: <code>e2e/src/api/</code></p>
<table><thead><tr><th>クライアント</th><th>用途</th></tr></thead><tbody><tr><td><code>oauthClient.js</code></td><td>OAuth/OIDCエンドポイントクライアント</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="44-oauthフローヘルパー">4.4 OAuthフローヘルパー<a href="#44-oauthフローヘルパー" class="hash-link" aria-label="4.4 OAuthフローヘルパー への直接リンク" title="4.4 OAuthフローヘルパー への直接リンク">​</a></h3>
<p><strong>場所</strong>: <code>e2e/src/oauth/</code></p>
<table><thead><tr><th>ヘルパー</th><th>用途</th></tr></thead><tbody><tr><td><code>request.js</code></td><td>認可リクエスト、ログアウト等</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-詳細カバレッジ測定結果">5. 詳細カバレッジ測定結果<a href="#5-詳細カバレッジ測定結果" class="hash-link" aria-label="5. 詳細カバレッジ測定結果 への直接リンク" title="5. 詳細カバレッジ測定結果 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-実装api-vs-e2eテストカバレッジ">5.1 実装API vs E2Eテストカバレッジ<a href="#51-実装api-vs-e2eテストカバレッジ" class="hash-link" aria-label="5.1 実装API vs E2Eテストカバレッジ への直接リンク" title="5.1 実装API vs E2Eテストカバレッジ への直接リンク">​</a></h3>
<p><strong>測定日</strong>: 2025-10-20
<strong>測定方法</strong>: EntryService実装ファイル（55個）とE2Eテストファイル（87個）の突合</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="entryservice実装状況">EntryService実装状況<a href="#entryservice実装状況" class="hash-link" aria-label="EntryService実装状況 への直接リンク" title="EntryService実装状況 への直接リンク">​</a></h4>
<table><thead><tr><th>カテゴリ</th><th>実装EntryService数</th><th>説明</th></tr></thead><tbody><tr><td><strong>Control Plane - System Manager</strong></td><td>17</td><td>システムレベル管理API</td></tr><tr><td><strong>Control Plane - Organization Manager</strong></td><td>11</td><td>組織レベル管理API</td></tr><tr><td><strong>Application - End User</strong></td><td>9</td><td>エンドユーザー向けAPI</td></tr><tr><td><strong>Application - System</strong></td><td>6</td><td>システム内部API</td></tr><tr><td><strong>Application - Identity Verification</strong></td><td>2</td><td>身元確認サービスAPI</td></tr><tr><td><strong>Application - Relying Party</strong></td><td>1</td><td>RPメタデータAPI</td></tr><tr><td><strong>Application - Tenant Invitator</strong></td><td>1</td><td>テナント招待API</td></tr><tr><td><strong>Control Plane - System Administrator</strong></td><td>2</td><td>システム管理者API</td></tr><tr><td><strong>合計</strong></td><td><strong>55</strong></td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="management-api-e2eテストカバレッジ詳細">Management API E2Eテストカバレッジ詳細<a href="#management-api-e2eテストカバレッジ詳細" class="hash-link" aria-label="Management API E2Eテストカバレッジ詳細 への直接リンク" title="Management API E2Eテストカバレッジ詳細 への直接リンク">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="システムレベルmanagement-api">システムレベルManagement API<a href="#システムレベルmanagement-api" class="hash-link" aria-label="システムレベルManagement API への直接リンク" title="システムレベルManagement API への直接リンク">​</a></h5>
<table><thead><tr><th>EntryService</th><th>E2Eテスト</th><th>テストファイル</th><th>カバレッジ</th></tr></thead><tbody><tr><td><code>UserManagementEntryService</code></td><td>✅</td><td><code>user-management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>ClientManagementEntryService</code></td><td>✅</td><td><code>client_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>RoleManagementEntryService</code></td><td>✅</td><td><code>role-management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>PermissionManagementEntryService</code></td><td>✅</td><td><code>permission-management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>TenantManagementEntryService</code></td><td>❌</td><td>-</td><td><strong>0%</strong></td></tr><tr><td><code>TenantInvitationManagementEntryService</code></td><td>✅</td><td><code>tenant_invitation_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>AuthenticationConfigurationManagementEntryService</code></td><td>✅</td><td><code>authentication_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>AuthenticationPolicyConfigurationManagementEntryService</code></td><td>❌</td><td>-</td><td><strong>0%</strong></td></tr><tr><td><code>AuthenticationInteractionManagementEntryService</code></td><td>❌</td><td>-</td><td><strong>0%</strong></td></tr><tr><td><code>AuthenticationTransactionManagementEntryService</code></td><td>❌</td><td>-</td><td><strong>0%</strong></td></tr><tr><td><code>AuthorizationServerManagementEntryService</code></td><td>✅</td><td><code>authorization_server_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>FederationConfigurationManagementEntryService</code></td><td>✅</td><td><code>federation_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>IdentityVerificationConfigManagementEntryService</code></td><td>✅</td><td><code>identity_verification_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>SecurityEventManagementEntryService</code></td><td>✅</td><td><code>security-event-management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>SecurityEventHookManagementEntryService</code></td><td>✅</td><td><code>security-event-hook-management.test.js</code> + <code>*-retry.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>SecurityEventHookConfigManagementEntryService</code></td><td>✅</td><td><code>security_event_hook_config_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>AuditLogManagementEntryService</code></td><td>✅</td><td><code>audit-log-management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OnboardingEntryService</code></td><td>⚠️</td><td>scenario-01で間接的にテスト</td><td><strong>部分的</strong></td></tr></tbody></table>
<p><strong>システムレベルカバレッジ</strong>: <strong>13/17 = 76.5%</strong></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="組織レベルmanagement-api">組織レベルManagement API<a href="#組織レベルmanagement-api" class="hash-link" aria-label="組織レベルManagement API への直接リンク" title="組織レベルManagement API への直接リンク">​</a></h5>
<table><thead><tr><th>EntryService</th><th>E2Eテスト</th><th>テストファイル</th><th>カバレッジ</th></tr></thead><tbody><tr><td><code>OrgUserManagementEntryService</code></td><td>✅</td><td><code>organization_user_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgClientManagementEntryService</code></td><td>✅</td><td><code>organization_client_management.test.js</code> + <code>*_structured.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgRoleManagementEntryService</code></td><td>✅</td><td><code>organization_role_management.test.js</code> + <code>*_structured.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgPermissionManagementEntryService</code></td><td>✅</td><td><code>organization_permission_management.test.js</code> + <code>*_structured.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgTenantManagementEntryService</code></td><td>✅</td><td><code>organization_tenant_management.test.js</code> + <code>*_structured.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgAuthenticationConfigManagementEntryService</code></td><td>✅</td><td><code>organization_authentication_config_management.test.js</code> + <code>*_structured.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgAuthenticationPolicyConfigManagementEntryService</code></td><td>✅</td><td><code>organization_authentication_policy_config_management.test.js</code> + <code>*_structured.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgAuthenticationInteractionManagementEntryService</code></td><td>✅</td><td><code>organization_authentication_interaction_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgAuthenticationTransactionManagementEntryService</code></td><td>✅</td><td><code>organization_authentication_transaction_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgAuthorizationServerManagementEntryService</code></td><td>✅</td><td><code>organization_authorization_server_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgFederationConfigManagementEntryService</code></td><td>✅</td><td><code>organization_federation_config_management.test.js</code> + <code>*_structured.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgIdentityVerificationConfigManagementEntryService</code></td><td>✅</td><td><code>organization_identity_verification_config_management.test.js</code> + <code>*_structured.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgSecurityEventManagementEntryService</code></td><td>✅</td><td><code>organization_security_event_management.test.js</code> + <code>*_structured.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgSecurityEventHookManagementEntryService</code></td><td>✅</td><td><code>organization_security_event_hook_management.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgSecurityEventHookConfigManagementEntryService</code></td><td>✅</td><td><code>organization_security_event_hook_config_management.test.js</code> + <code>*_structured.test.js</code></td><td><strong>100%</strong></td></tr><tr><td><code>OrgAuditLogManagementEntryService</code></td><td>✅</td><td><code>organization_audit_log_management.test.js</code> + <code>*_structured.test.js</code></td><td><strong>100%</strong></td></tr></tbody></table>
<p><strong>組織レベルカバレッジ</strong>: <strong>16/16 = 100%</strong> 🎉</p>
<p><strong>注</strong>: 組織レベルAPIは <code>OrgTenantInvitationManagementEntryService</code> が実装されていないため、16個のEntryServiceのみ</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="application-api">Application API<a href="#application-api" class="hash-link" aria-label="Application API への直接リンク" title="Application API への直接リンク">​</a></h5>
<table><thead><tr><th>EntryService</th><th>E2Eテスト</th><th>テストファイル</th><th>カバレッジ</th></tr></thead><tbody><tr><td><code>OAuthFlowEntryService</code></td><td>✅</td><td>spec層32ファイル + scenario-02</td><td><strong>100%</strong></td></tr><tr><td><code>CibaFlowEntryService</code></td><td>✅</td><td>ciba_*.test.js (5ファイル) + scenario-04</td><td><strong>100%</strong></td></tr><tr><td><code>TokenEntryService</code></td><td>✅</td><td>rfc6749_6_refresh_token.test.js + scenario-09</td><td><strong>100%</strong></td></tr><tr><td><code>UserinfoEntryService</code></td><td>✅</td><td>oidc_core_5_userinfo.test.js</td><td><strong>100%</strong></td></tr><tr><td><code>AuthenticationTransactionEntryService</code></td><td>✅</td><td>scenario-01, 02, 03</td><td><strong>100%</strong></td></tr><tr><td><code>UserOperationEntryService</code></td><td>✅</td><td>scenario-03, 07</td><td><strong>100%</strong></td></tr><tr><td><code>IdentityVerificationEntryService</code></td><td>✅</td><td>scenario-05, 06</td><td><strong>100%</strong></td></tr><tr><td><code>IdentityVerificationCallbackEntryService</code></td><td>✅</td><td>scenario-05, 06</td><td><strong>100%</strong></td></tr><tr><td><code>AuthenticationMetaDataEntryService</code></td><td>✅</td><td>oidc_discovery.test.js</td><td><strong>100%</strong></td></tr><tr><td><code>OidcMetaDataEntryService</code></td><td>✅</td><td>oidc_discovery.test.js</td><td><strong>100%</strong></td></tr><tr><td><code>UserAuthenticationEntryService</code></td><td>⚠️</td><td>間接的にテスト</td><td><strong>部分的</strong></td></tr><tr><td><code>SecurityEventEntryService</code></td><td>⚠️</td><td>間接的にテスト</td><td><strong>部分的</strong></td></tr><tr><td><code>UserLifecycleEventEntryService</code></td><td>⚠️</td><td>scenario-07で間接的にテスト</td><td><strong>部分的</strong></td></tr><tr><td><code>AuditLogEntryService</code></td><td>⚠️</td><td>間接的にテスト</td><td><strong>部分的</strong></td></tr><tr><td><code>TenantMetaDataEntryService</code></td><td>❓</td><td>-</td><td><strong>不明</strong></td></tr><tr><td><code>TenantInvitationMetaDataEntryService</code></td><td>❓</td><td>-</td><td><strong>不明</strong></td></tr></tbody></table>
<p><strong>ApplicationAPIカバレッジ</strong>: <strong>10/16 = 62.5%</strong> （直接テストのみ）</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="総合カバレッジサマリー">総合カバレッジサマリー<a href="#総合カバレッジサマリー" class="hash-link" aria-label="総合カバレッジサマリー への直接リンク" title="総合カバレッジサマリー への直接リンク">​</a></h4>
<table><thead><tr><th>カテゴリ</th><th>実装数</th><th>テスト済み</th><th>部分的</th><th>未テスト</th><th>カバレッジ率</th></tr></thead><tbody><tr><td><strong>システムレベル管理API</strong></td><td>17</td><td>13</td><td>1</td><td>4</td><td><strong>76.5%</strong></td></tr><tr><td><strong>組織レベル管理API</strong></td><td>16</td><td>16</td><td>0</td><td>0</td><td><strong>100%</strong> 🎉</td></tr><tr><td><strong>アプリケーションAPI</strong></td><td>16</td><td>10</td><td>4</td><td>2</td><td><strong>62.5%</strong></td></tr><tr><td><strong>システム管理者API</strong></td><td>2</td><td>0</td><td>0</td><td>2</td><td><strong>0%</strong></td></tr><tr><td><strong>全体</strong></td><td><strong>51</strong></td><td><strong>39</strong></td><td><strong>5</strong></td><td><strong>8</strong></td><td><strong>76.5%</strong></td></tr></tbody></table>
<p><strong>注</strong>: システム管理者API（<code>IdpServerStarterEntryService</code>、<code>IdpServerOperationEntryService</code>）は運用系APIのためE2Eテスト対象外</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-テストされていない主要機能">5.2 テストされていない主要機能<a href="#52-テストされていない主要機能" class="hash-link" aria-label="5.2 テストされていない主要機能 への直接リンク" title="5.2 テストされていない主要機能 への直接リンク">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="優先度高早急な対応推奨">優先度：高（早急な対応推奨）<a href="#優先度高早急な対応推奨" class="hash-link" aria-label="優先度：高（早急な対応推奨） への直接リンク" title="優先度：高（早急な対応推奨） への直接リンク">​</a></h4>
<ol>
<li>
<p><strong>TenantManagementEntryService（システムレベル）</strong></p>
<ul>
<li><strong>影響範囲</strong>: マルチテナント基盤の根幹</li>
<li><strong>理由</strong>: 組織レベルではテスト済みだが、システムレベルが未テスト</li>
<li><strong>リスク</strong>: テナント作成・更新・削除の不具合が検出できない</li>
</ul>
</li>
<li>
<p><strong>AuthenticationPolicyConfigurationManagementEntryService（システムレベル）</strong></p>
<ul>
<li><strong>影響範囲</strong>: 認証ポリシー設定（パスワードポリシー、MFA設定等）</li>
<li><strong>理由</strong>: 組織 レベルではテスト済みだが、システムレベルが未テスト</li>
<li><strong>リスク</strong>: セキュリティポリシー設定の不具合</li>
</ul>
</li>
<li>
<p><strong>AuthenticationInteractionManagementEntryService（システムレベル）</strong></p>
<ul>
<li><strong>影響範囲</strong>: 認証インタラクション管理</li>
<li><strong>理由</strong>: 組織レベルではテスト済みだが、システムレベルが未テスト</li>
</ul>
</li>
<li>
<p><strong>AuthenticationTransactionManagementEntryService（システムレベル）</strong></p>
<ul>
<li><strong>影響範囲</strong>: 認証トランザクション管理</li>
<li><strong>理由</strong>: 組織レベルではテスト済みだが、システムレベルが未テスト</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="優先度中計画的な対応推奨">優先度：中（計画的な対応推奨）<a href="#優先度中計画的な対応推奨" class="hash-link" aria-label="優先度：中（計画的な対応推奨） への直接リンク" title="優先度：中（計画的な対応推奨） への直接リンク">​</a></h4>
<ol start="5">
<li>
<p><strong>TenantMetaDataEntryService</strong></p>
<ul>
<li><strong>影響範囲</strong>: テナントメタデータ公開API</li>
<li><strong>理由</strong>: 外部システム連携に影響</li>
</ul>
</li>
<li>
<p><strong>TenantInvitationMetaDataEntryService</strong></p>
<ul>
<li><strong>影響範囲</strong>: テナント招待メタデータ公開API</li>
<li><strong>理由</strong>: テナント招待フローの可視性</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="優先度低間接的にカバー済み">優先度：低（間接的にカバー済み）<a href="#優先度低間接的にカバー済み" class="hash-link" aria-label="優先度：低（間接的にカバー済み） への直接リンク" title="優先度：低（間接的にカバー済み） への直接リンク">​</a></h4>
<ol start="7">
<li><strong>UserAuthenticationEntryService</strong> - scenario層で間接的にテスト済み</li>
<li><strong>SecurityEventEntryService</strong> - Hook経由で間接的にテスト済み</li>
<li><strong>UserLifecycleEventEntryService</strong> - scenario-07で間接的にテスト済み</li>
<li><strong>AuditLogEntryService</strong> - 各操作で間接的にテスト済み</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-プロトコルカバレッジ">5.3 プロトコルカバレッジ<a href="#53-プロトコルカバレッジ" class="hash-link" aria-label="5.3 プロトコルカバレッジ への直接リンク" title="5.3 プロトコルカバレッジ への直接リンク">​</a></h3>
<table><thead><tr><th>プロトコル/仕様</th><th>カバレッジ状況</th><th>テストファイル数</th></tr></thead><tbody><tr><td><strong>OAuth 2.0 Core</strong></td><td>✅ 包括的</td><td>6ファイル</td></tr><tr><td><strong>OIDC Core</strong></td><td>✅ 包括的</td><td>9ファイル</td></tr><tr><td><strong>PKCE</strong></td><td>✅ 完全</td><td>1ファイル</td></tr><tr><td><strong>Token Revocation</strong></td><td>✅ 完全</td><td>1ファイル</td></tr><tr><td><strong>Token Introspection</strong></td><td>✅ 完全</td><td>2ファイル</td></tr><tr><td><strong>PAR</strong></td><td>✅ 完全</td><td>1ファイル</td></tr><tr><td><strong>RAR</strong></td><td>✅ 完全</td><td>1ファイル</td></tr><tr><td><strong>CIBA</strong></td><td>✅ 完全</td><td>5ファイル</td></tr><tr><td><strong>FAPI</strong></td><td>✅ 完全</td><td>3ファイル</td></tr><tr><td><strong>mTLS</strong></td><td>✅ 完全</td><td>1ファイル</td></tr><tr><td><strong>JARM</strong></td><td>✅ 完全</td><td>1ファイル</td></tr><tr><td><strong>OIDC4IDA</strong></td><td>✅ 完全</td><td>1ファイル</td></tr><tr><td><strong>OIDC4VC</strong></td><td>✅ 完全</td><td>1ファイル</td></tr><tr><td><strong>SSF Discovery</strong></td><td>✅ 完全</td><td>1ファイル</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="54-アプリケーションフローカバレッジ">5.4 アプリケーションフローカバレッジ<a href="#54-アプリケーションフローカバレッジ" class="hash-link" aria-label="5.4 アプリケーションフローカバレッジ への直接リンク" title="5.4 アプリケーションフローカバレッジ への直接リンク">​</a></h3>
<table><thead><tr><th>フロー</th><th>カバレッジ状況</th></tr></thead><tbody><tr><td><strong>ユーザー登録</strong></td><td>✅ 完全</td></tr><tr><td><strong>ユーザーログイン</strong></td><td>✅ 完全</td></tr><tr><td><strong>ユーザー削除</strong></td><td>✅ 完全</td></tr><tr><td><strong>SSO</strong></td><td>✅ 完全</td></tr><tr><td><strong>MFA登録</strong></td><td>✅ 完全</td></tr><tr><td><strong>MFA認証</strong></td><td>✅ 完全</td></tr><tr><td><strong>FIDO/WebAuthn</strong></td><td>✅ 完全</td></tr><tr><td><strong>CIBA + MFA</strong></td><td>✅ 完全</td></tr><tr><td><strong>身元確認</strong></td><td>✅ 完全</td></tr><tr><td><strong>トークンリフレッシュ</strong></td><td>✅ 完全</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-推奨事項">6. 推奨事項<a href="#6-推奨事項" class="hash-link" aria-label="6. 推奨事項 への直接リンク" title="6. 推奨事項 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-カバレッジギャップ">6.1 カバレッジギャップ<a href="#61-カバレッジギャップ" class="hash-link" aria-label="6.1 カバレッジギャップ への直接リンク" title="6.1 カバレッジギャップ への直接リンク">​</a></h3>
<p>以下の領域は追加のテストカバレッジが有益です：</p>
<ol>
<li>
<p><strong>システムレベル管理API</strong>:</p>
<ul>
<li>テナント管理API（システムレベル）</li>
<li>認証ポリシー設定管理（システムレ  ベル）</li>
<li>認証インタラクション管理（システムレベル）</li>
<li>認証トランザクション管理（システムレベル）</li>
</ul>
</li>
<li>
<p><strong>組織レベル管理API</strong>:</p>
<ul>
<li>テナント招待管理（組織レベル）</li>
</ul>
</li>
<li>
<p><strong>エラーシナリオ</strong>:</p>
<ul>
<li>ネットワーク障害シミュレーション</li>
<li>データベース接続障害</li>
<li>外部サービスタイムアウト</li>
</ul>
</li>
<li>
<p><strong>パフォーマンステスト</strong>:</p>
<ul>
<li>高並行シナリオの負荷テスト</li>
<li>負荷下でのトークンエンドポイントパフォーマンス</li>
<li>UserInfoエンドポイントキャッシング</li>
</ul>
</li>
<li>
<p><strong>セキュリティテスト</strong>:</p>
<ul>
<li>SQLインジェクション試行</li>
<li>XSS攻撃ベクトル</li>
<li>CSRFトークン検証</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-テスト組織化">6.2 テスト組織化<a href="#62-テスト組織化" class="hash-link" aria-label="6.2 テスト組織化 への直接リンク" title="6.2 テスト組織化 への直接リンク">​</a></h3>
<p><strong>強み</strong>:</p>
<ul>
<li>spec、scenario、monkeyテストの明確な分離</li>
<li>包括的なRFC準拠カバレッジ</li>
<li>組織レベルAPIの構造化テストスイート</li>
<li>マルチ環境テストのための動的設定</li>
</ul>
<p><strong>改善機会</strong>:</p>
<ul>
<li>システムレベルAPIの構造化テストスイート追加</li>
<li>一貫したテストセットアップのためのテストデータファクトリ実装</li>
<li>エッジ条件のネガティブテストケース追加</li>
<li>高速実行のためのテスト並列化実装</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="63-ドキュメント">6.3 ドキュメント<a href="#63-ドキュメント" class="hash-link" aria-label="6.3 ドキュメント への直接リ ンク" title="6.3 ドキュメント への直接リンク">​</a></h3>
<p><strong>現状</strong>:</p>
<ul>
<li><code>e2e/README.md</code>がセットアップと設定手順を提供</li>
<li>テストファイルに説明的なテスト名が含まれる</li>
<li>環境変数がドキュメント化されている</li>
</ul>
<p><strong>今後の改善</strong>:</p>
<ul>
<li>テスト実行レポート追加（HTML/JSON出力）</li>
<li>テストデータ要件のドキュメント化</li>
<li>一般的なテスト失敗のトラブルシューティングガイド作成</li>
<li>READMEへのテストカバレッジバッジ追加</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-テスト実行">7. テスト実行<a href="#7-テスト実行" class="hash-link" aria-label="7. テスト実行 への直接リンク" title="7. テスト実行 への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="71-全テスト実行">7.1 全テスト実行<a href="#71-全テスト実行" class="hash-link" aria-label="7.1 全テスト実行 への直接リンク" title="7.1 全テスト実行 への直接リンク">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd e2e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="72-カテゴリ別実行">7.2 カテゴリ別実行<a href="#72-カテゴリ別実行" class="hash-link" aria-label="7.2 カテゴリ別実行 への直接リンク" title="7.2 カテゴリ別実行 への直接リンク">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># RFC準拠テスト</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm test spec/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># アプリケーションシナリオテスト</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm test scenario/application/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># システムレベル管理APIテスト</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm test scenario/control_plane/system/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 組織レベル管理APIテスト</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm test scenario/control_plane/organization/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Resource Serverテスト</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm test scenario/resource_server/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Monkeyテスト</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm test monkey/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="73-特定テストファイル実行">7.3 特定テストファイル実行<a href="#73-特定テストファイル実行" class="hash-link" aria-label="7.3 特定テストファイル実行 への直接リンク" title="7.3 特定テストファイル実行 への直接リンク">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 特定のテスト実行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm test spec/oidc_core_3_1_code.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># カバレッジ付き実行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run test-coverage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="74-異なる環境での実行">7.4 異なる環境での実行<a href="#74-異なる環境での実行" class="hash-link" aria-label="7.4 異なる環境での実行 への直接リンク" title="7.4 異なる環境での実行 への直接リンク">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ローカル環境</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ステージング環境</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IDP_SERVER_URL=https://staging.example.com \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IDP_SERVER_TENANT_ID=staging-tenant \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># CI環境</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IDP_SERVER_URL=https://ci-idp.example.com \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IDP_SERVER_TENANT_ID=ci-tenant-123 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-メンテナンス">8. メンテナンス<a href="#8-メンテナンス" class="hash-link" aria-label="8. メンテナンス への直接リンク" title="8. メンテナンス への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="81-新規テスト追加">8.1 新規テスト追加<a href="#81-新規テスト追加" class="hash-link" aria-label="8.1 新規テスト追加 への直接リンク" title="8.1 新規テスト追加 への直接リンク">​</a></h3>
<ol>
<li>適切なカテゴリを選択（spec/scenario/monkey）</li>
<li>既存のテスト構造と命名規則に従う</li>
<li><code>testConfig.js</code>から共有設定を使用</li>
<li>必要に応じて<code>.env.example</code>に環境変数を追加</li>
<li>本カバレッジドキュメントを更新</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="82-テスト更新">8.2 テスト更新<a href="#82-テスト更新" class="hash-link" aria-label="8.2 テスト更新 への直接リンク" title="8.2 テスト更新 への直接リンク">​</a></h3>
<ol>
<li>動的テナント設定でテストが機能することを確認</li>
<li>既存のテストデータとの後方互換性を維持</li>
<li>API契約変更時にテスト期待値を更新</li>
<li>コミットメッセージに破壊的変更を記録</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="83-テストヘルス監視">8.3 テストヘルス監視<a href="#83-テストヘルス監視" class="hash-link" aria-label="8.3 テストヘルス監視 への直接リンク" title="8.3 テストヘルス監視 への直接リンク">​</a></h3>
<p><strong>現在のステータス</strong>: ✅ 全テスト合格（最終更新時点）</p>
<p><strong>監視戦略</strong>:</p>
<ul>
<li>CI/CDパイプラインで完全なテストスイートを実行</li>
<li>テスト実行時間のトレンド追跡</li>
<li>不安定なテストの発生を監視</li>
<li>テスト失敗を週次でレビュー</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="付録a-テストファイルインデックス">付録A: テストファイルインデックス<a href="#付録a-テストファイルインデックス" class="hash-link" aria-label="付録A: テストファイルインデックス への直接リンク" title="付録A: テストファイルインデックス への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rfc準拠テスト32ファイル">RFC準拠テスト（32ファイル）<a href="#rfc準拠テスト32ファイル" class="hash-link" aria-label="RFC準拠テスト（32ファイル） への直接リンク" title="RFC準拠テスト（32ファイル） への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">e2e/src/tests/spec/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── OAuth 2.0 Core (6ファイル)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── rfc6749_4_1_code.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── rfc6749_4_1_code_secret_basic.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── rfc6749_4_2_implicit.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── rfc6749_4_3_resource_owner_password_credentials.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── rfc6749_4_4_client_credentials.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── rfc6749_6_refresh_token.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── OIDC Core (9ファイル)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── oidc_core_2_id_token.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── oidc_core_2_id_token_extension.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── oidc_core_3_1_code.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── oidc_core_3_2_implicit.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── oidc_core_3_3_hybrid.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── oidc_core_5_userinfo.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── oidc_core_6_request_object.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── oidc_core_9_client_authenticartion.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── oidc_discovery.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── 拡張仕様 (6ファイル)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── rfc7009_token_revocation.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── rfc7636_pkce.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── rfc7662_token_introspection.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── rfc8705_mtls.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── rfc9126_par.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── rfc9396_rar.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── CIBA (5ファイル)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ciba_authentication_request.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ciba_discovery.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ciba_ping.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ciba_push.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── ciba_token_request.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── FAPI (3ファイル)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── fapi_advance.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── fapi_baseline.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── jarm.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Identity Assurance &amp; VC (2ファイル)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── oidc_for_identity_assurance.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     └── openid_for_verifiable_credential_rar.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── SSF (1ファイル)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── ssf_discovery.test.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="シナリオテスト54ファイル">シナリオテスト（54ファイル）<a href="#シナリオテスト54ファイル" class="hash-link" aria-label="シナリオテスト（54ファイル） への直接リンク" title="シナリオテスト（54ファイル） への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">e2e/src/tests/scenario/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── application/ (11ファイル)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── scenario-01-user-registration.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── scenario-02-sso-oidc.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── scenario-03-mfa-registration.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── scenario-04-ciba-mfa.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── scenario-05-identity_verification-application.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── scenario-06-identity_verification-result.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── scenario-07-identity-verification-retry.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── scenario-07-user-deletion.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── scenario-08-identity-verification-token-validation.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── scenario-08-multi-app_fido-authn.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── scenario-09-token-refresh.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── control_plane/system/ (14ファイル)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── audit-log-management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── authentication_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── authorization_server_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── client_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── federation_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── identity_verification_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── permission-management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── role-management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── security-event-hook-management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── security-event-hook-management-retry.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── security-event-management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── security_event_hook_config_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── tenant_invitation_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── user-management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── control_plane/organization/ (28ファイル)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_user_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_client_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_client_management_structured.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_role_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_role_management_structured.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_permission_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_permission_management_structured.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_tenant_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_tenant_management_structured.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_authentication_config_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_authentication_config_management_structured.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_authentication_policy_config_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_authentication_policy_config_management_structured.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_authentication_interaction_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_authentication_transaction_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_authorization_server_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_federation_config_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_federation_config_management_structured.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_identity_verification_config_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_identity_verification_config_management_structured.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_security_event_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_security_event_management_structured.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_security_event_hook_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_security_event_hook_config_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_security_event_hook_config_management_structured.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_audit_log_management.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── organization_audit_log_management_structured.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── api_behavior_debug.test.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── resource_server/ (1ファイル)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── token_introspection_extensions.test.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monkeyテスト1ファイル">Monkeyテスト（1ファイル）<a href="#monkeyテスト1ファイル" class="hash-link" aria-label="Monkeyテスト（1ファイル） への直接リンク" title="Monkeyテスト（1ファイル） への直接リンク">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">e2e/src/tests/monkey/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── ciba-monkey.test.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="付録b-関連ドキュメント">付録B: 関連ドキュメント<a href="#付録b-関連ドキュメント" class="hash-link" aria-label="付録B: 関連ドキュメント への直接リンク" title="付録B: 関連ドキュメント への直接リンク">​</a></h2>
<ul>
<li><a href="/idp-server/e2e/README.md">E2Eテストセットアップガイド</a></li>
<li><a href="/idp-server/docs/content_20_testing/api-documentation.md">APIドキュメント</a></li>
<li><a href="/idp-server/docs/content_20_testing/authentication-flows.md">認証フローガイド</a></li>
<li><a href="/idp-server/docs/content_20_testing/management-api-guide.md">管理APIガイド</a></li>
</ul>
<hr>
<p><strong>ドキュメントバージョン</strong>: 1.0.0
<strong>作成者</strong>: Claude Code
<strong>Issue</strong>: #738</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/content_20_testing/e2e-test-coverage.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/idp-server/docs/content_10_ai_developer/ai-55-security-event-hooks"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">idp-server-security-event-hooks</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/idp-server/docs/introduction"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">はじめに</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#概要" class="table-of-contents__link toc-highlight">概要</a></li><li><a href="#テスト統計" class="table-of-contents__link toc-highlight">テスト統計</a></li><li><a href="#1-rfc準拠テスト-spec" class="table-of-contents__link toc-highlight">1. RFC準拠テスト (spec/)</a><ul><li><a href="#11-oauth-20-core-rfc-6749" class="table-of-contents__link toc-highlight">1.1 OAuth 2.0 Core (RFC 6749)</a></li><li><a href="#12-openid-connect-core-10" class="table-of-contents__link toc-highlight">1.2 OpenID Connect Core 1.0</a></li><li><a href="#13-拡張仕様" class="table-of-contents__link toc-highlight">1.3 拡張仕様</a></li><li><a href="#14-cibaclient-initiated-backchannel-authentication" class="table-of-contents__link toc-highlight">1.4 CIBA（Client-Initiated Backchannel Authentication）</a></li><li><a href="#15-fapifinancial-grade-api" class="table-of-contents__link toc-highlight">1.5 FAPI（Financial-grade API）</a></li><li><a href="#16-identity-assurance--verifiable-credentials" class="table-of-contents__link toc-highlight">1.6 Identity Assurance &amp; Verifiable Credentials</a></li><li><a href="#17-shared-signals-frameworkssf" class="table-of-contents__link toc-highlight">1.7 Shared Signals Framework（SSF）</a></li></ul></li><li><a href="#2-シナリオテスト-scenario" class="table-of-contents__link toc-highlight">2. シナリオテスト (scenario/)</a><ul><li><a href="#21-アプリケーション層テスト-scenarioapplication" class="table-of-contents__link toc-highlight">2.1 アプリケーション層テスト (scenario/application/)</a></li><li><a href="#22-control-plane---システムレベルテスト-scenariocontrol_planesystem" class="table-of-contents__link toc-highlight">2.2 Control Plane - システムレベルテスト (scenario/control_plane/system/)</a></li><li><a href="#23-control-plane---組織レベルテスト-scenariocontrol_planeorganization" class="table-of-contents__link toc-highlight">2.3 Control Plane - 組織レベルテスト (scenario/control_plane/organization/)</a></li><li><a href="#24-resource-serverテスト-scenarioresource_server" class="table-of-contents__link toc-highlight">2.4 Resource Serverテスト (scenario/resource_server/)</a></li></ul></li><li><a href="#3-monkeyテスト-monkey" class="table-of-contents__link toc-highlight">3. Monkeyテスト (monkey/)</a></li><li><a href="#4-テストインフラストラクチャ" class="table-of-contents__link toc-highlight">4. テストインフラストラクチャ</a><ul><li><a href="#41-設定管理" class="table-of-contents__link toc-highlight">4.1 設定管理</a></li><li><a href="#42-テストユーティリティ" class="table-of-contents__link toc-highlight">4.2 テストユーティリティ</a></li><li><a href="#43-apiクライアント" class="table-of-contents__link toc-highlight">4.3 APIクライアント</a></li><li><a href="#44-oauthフローヘルパー" class="table-of-contents__link toc-highlight">4.4 OAuthフローヘルパー</a></li></ul></li><li><a href="#5-詳細カバレッジ測定結果" class="table-of-contents__link toc-highlight">5. 詳細カバレッジ測定結果</a><ul><li><a href="#51-実装api-vs-e2eテストカバレッジ" class="table-of-contents__link toc-highlight">5.1 実装API vs E2Eテストカバレッジ</a></li><li><a href="#52-テストされていない主要機能" class="table-of-contents__link toc-highlight">5.2 テストされていない主要機能</a></li><li><a href="#53-プロトコルカバレッジ" class="table-of-contents__link toc-highlight">5.3 プロトコルカバレッジ</a></li><li><a href="#54-アプリケーションフローカバレッジ" class="table-of-contents__link toc-highlight">5.4 アプリケーションフローカバレッジ</a></li></ul></li><li><a href="#6-推奨事項" class="table-of-contents__link toc-highlight">6. 推奨事項</a><ul><li><a href="#61-カバレッジギャップ" class="table-of-contents__link toc-highlight">6.1 カバレッジギャップ</a></li><li><a href="#62-テスト組織化" class="table-of-contents__link toc-highlight">6.2 テスト組織化</a></li><li><a href="#63-ドキュメント" class="table-of-contents__link toc-highlight">6.3 ドキュメント</a></li></ul></li><li><a href="#7-テスト実行" class="table-of-contents__link toc-highlight">7. テスト実行</a><ul><li><a href="#71-全テスト実行" class="table-of-contents__link toc-highlight">7.1 全テスト実行</a></li><li><a href="#72-カテゴリ別実行" class="table-of-contents__link toc-highlight">7.2 カテゴリ別実行</a></li><li><a href="#73-特定テストファイル実行" class="table-of-contents__link toc-highlight">7.3 特定テストファイル実行</a></li><li><a href="#74-異なる環境での実行" class="table-of-contents__link toc-highlight">7.4 異なる環境での実行</a></li></ul></li><li><a href="#8-メンテナンス" class="table-of-contents__link toc-highlight">8. メンテナンス</a><ul><li><a href="#81-新規テスト追加" class="table-of-contents__link toc-highlight">8.1 新規テスト追加</a></li><li><a href="#82-テスト更新" class="table-of-contents__link toc-highlight">8.2 テスト更新</a></li><li><a href="#83-テストヘルス監視" class="table-of-contents__link toc-highlight">8.3 テストヘルス監視</a></li></ul></li><li><a href="#付録a-テストファイルインデックス" class="table-of-contents__link toc-highlight">付録A: テストファイルインデックス</a><ul><li><a href="#rfc準拠テスト32ファイル" class="table-of-contents__link toc-highlight">RFC準拠テスト（32ファイル）</a></li><li><a href="#シナリオテスト54ファイル" class="table-of-contents__link toc-highlight">シナリオテスト（54ファイル）</a></li><li><a href="#monkeyテスト1ファイル" class="table-of-contents__link toc-highlight">Monkeyテスト（1ファイル）</a></li></ul></li><li><a href="#付録b-関連ドキュメント" class="table-of-contents__link toc-highlight">付録B: 関連ドキュメント</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/docs/introduction">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/idp-server/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>