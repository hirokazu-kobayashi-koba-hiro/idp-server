{
  "id": "f85f231d-3619-4a7c-a866-03fefab14272",
  "type": "email",
  "attributes": {},
  "metadata": {
    "type": "external",
    "description": "mocky",
    "transaction_id_param": "transaction_id",
    "verification_code_param": "verification_code"
  },
  "interactions": {
    "email-authentication-challenge": {
      "request": {
        "schema": {
          "type": "object",
          "properties": {
            "email": {
              "type": "string"
            },
            "template": {
              "type": "string"
            }
          }
        }
      },
      "pre_hook": {
      },
      "execution": {
        "function": "email_authentication_challenge",
        "details": {
          "function": "no_action",
          "sender": "test@gmail.com",
          "templates": {
            "registration": {
              "subject": "[ID Verification] Your signup email confirmation code",
              "body": "Hello,\n\nPlease enter the following verification code:\n\n【{VERIFICATION_CODE}】\n\nThis code will expire in {EXPIRE_SECONDS} seconds.\n\nIf you did not request this, please contact your administrator.\n\n– IDP Support"
            },
            "authentication": {
              "subject": "[ID Verification] Your login email confirmation code",
              "body": "Hello,\n\nPlease enter the following verification code:\n\n【{VERIFICATION_CODE}】\n\nThis code will expire in {EXPIRE_SECONDS} seconds.\n\nIf you did not request this, please contact your administrator.\n\n– IDP Support"
            }
          },
          "retry_count_limitation": 5,
          "expire_seconds": 300
        }
      },
      "post_hook": {},
      "response": {
        "body_mapping_rules": [
          {
            "from": "$.response_body",
            "to": "*"
          }
        ]
      }
    },
    "email-authentication": {
      "request": {
        "schema": {
          "type": "object",
          "properties": {
            "verification_code": {
              "type": "string"
            }
          }
        }
      },
      "pre_hook": {
      },
      "execution": {
        "function": "email_authentication"
      },
      "post_hook": {},
      "response": {
        "body_mapping_rules": [
          {
            "from": "$.response_body",
            "to": "*"
          }
        ]
      }
    }
  }
}